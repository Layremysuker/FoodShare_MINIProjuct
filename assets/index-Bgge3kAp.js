(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function u1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Lm={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function mx(){if(x0)return Qu;x0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(o,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:s,type:o,key:m,ref:l!==void 0?l:null,props:h}}return Qu.Fragment=t,Qu.jsx=n,Qu.jsxs=n,Qu}var E0;function px(){return E0||(E0=1,Lm.exports=mx()),Lm.exports}var T=px(),Om={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function gx(){if(S0)return Yt;S0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=S&&B[S]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,G={};function W(B,st,lt){this.props=B,this.context=st,this.refs=G,this.updater=lt||k}W.prototype.isReactComponent={},W.prototype.setState=function(B,st){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,st,"setState")},W.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function Z(){}Z.prototype=W.prototype;function ct(B,st,lt){this.props=B,this.context=st,this.refs=G,this.updater=lt||k}var et=ct.prototype=new Z;et.constructor=ct,O(et,W.prototype),et.isPureReactComponent=!0;var Q=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function q(B,st,lt,ft,mt,rt){return lt=rt.ref,{$$typeof:s,type:B,key:st,ref:lt!==void 0?lt:null,props:rt}}function C(B,st){return q(B.type,st,void 0,void 0,void 0,B.props)}function N(B){return typeof B=="object"&&B!==null&&B.$$typeof===s}function P(B){var st={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(lt){return st[lt]})}var j=/\/+/g;function H(B,st){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):st.toString(36)}function D(){}function J(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(D,D):(B.status="pending",B.then(function(st){B.status==="pending"&&(B.status="fulfilled",B.value=st)},function(st){B.status==="pending"&&(B.status="rejected",B.reason=st)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function it(B,st,lt,ft,mt){var rt=typeof B;(rt==="undefined"||rt==="boolean")&&(B=null);var wt=!1;if(B===null)wt=!0;else switch(rt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(B.$$typeof){case s:case t:wt=!0;break;case E:return wt=B._init,it(wt(B._payload),st,lt,ft,mt)}}if(wt)return mt=mt(B),wt=ft===""?"."+H(B,0):ft,Q(mt)?(lt="",wt!=null&&(lt=wt.replace(j,"$&/")+"/"),it(mt,st,lt,"",function(Gt){return Gt})):mt!=null&&(N(mt)&&(mt=C(mt,lt+(mt.key==null||B&&B.key===mt.key?"":(""+mt.key).replace(j,"$&/")+"/")+wt)),st.push(mt)),1;wt=0;var Dt=ft===""?".":ft+":";if(Q(B))for(var kt=0;kt<B.length;kt++)ft=B[kt],rt=Dt+H(ft,kt),wt+=it(ft,st,lt,rt,mt);else if(kt=x(B),typeof kt=="function")for(B=kt.call(B),kt=0;!(ft=B.next()).done;)ft=ft.value,rt=Dt+H(ft,kt++),wt+=it(ft,st,lt,rt,mt);else if(rt==="object"){if(typeof B.then=="function")return it(J(B),st,lt,ft,mt);throw st=String(B),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return wt}function M(B,st,lt){if(B==null)return B;var ft=[],mt=0;return it(B,ft,"","",function(rt){return st.call(lt,rt,mt++)}),ft}function z(B){if(B._status===-1){var st=B._result;st=st(),st.then(function(lt){(B._status===0||B._status===-1)&&(B._status=1,B._result=lt)},function(lt){(B._status===0||B._status===-1)&&(B._status=2,B._result=lt)}),B._status===-1&&(B._status=0,B._result=st)}if(B._status===1)return B._result.default;throw B._result}var $=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ot(){}return Yt.Children={map:M,forEach:function(B,st,lt){M(B,function(){st.apply(this,arguments)},lt)},count:function(B){var st=0;return M(B,function(){st++}),st},toArray:function(B){return M(B,function(st){return st})||[]},only:function(B){if(!N(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Yt.Component=W,Yt.Fragment=n,Yt.Profiler=l,Yt.PureComponent=ct,Yt.StrictMode=o,Yt.Suspense=y,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return nt.H.useMemoCache(B)}},Yt.cache=function(B){return function(){return B.apply(null,arguments)}},Yt.cloneElement=function(B,st,lt){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ft=O({},B.props),mt=B.key,rt=void 0;if(st!=null)for(wt in st.ref!==void 0&&(rt=void 0),st.key!==void 0&&(mt=""+st.key),st)!Y.call(st,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&st.ref===void 0||(ft[wt]=st[wt]);var wt=arguments.length-2;if(wt===1)ft.children=lt;else if(1<wt){for(var Dt=Array(wt),kt=0;kt<wt;kt++)Dt[kt]=arguments[kt+2];ft.children=Dt}return q(B.type,mt,void 0,void 0,rt,ft)},Yt.createContext=function(B){return B={$$typeof:m,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:h,_context:B},B},Yt.createElement=function(B,st,lt){var ft,mt={},rt=null;if(st!=null)for(ft in st.key!==void 0&&(rt=""+st.key),st)Y.call(st,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(mt[ft]=st[ft]);var wt=arguments.length-2;if(wt===1)mt.children=lt;else if(1<wt){for(var Dt=Array(wt),kt=0;kt<wt;kt++)Dt[kt]=arguments[kt+2];mt.children=Dt}if(B&&B.defaultProps)for(ft in wt=B.defaultProps,wt)mt[ft]===void 0&&(mt[ft]=wt[ft]);return q(B,rt,void 0,void 0,null,mt)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(B){return{$$typeof:g,render:B}},Yt.isValidElement=N,Yt.lazy=function(B){return{$$typeof:E,_payload:{_status:-1,_result:B},_init:z}},Yt.memo=function(B,st){return{$$typeof:b,type:B,compare:st===void 0?null:st}},Yt.startTransition=function(B){var st=nt.T,lt={};nt.T=lt;try{var ft=B(),mt=nt.S;mt!==null&&mt(lt,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ot,$)}catch(rt){$(rt)}finally{nt.T=st}},Yt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Yt.use=function(B){return nt.H.use(B)},Yt.useActionState=function(B,st,lt){return nt.H.useActionState(B,st,lt)},Yt.useCallback=function(B,st){return nt.H.useCallback(B,st)},Yt.useContext=function(B){return nt.H.useContext(B)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(B,st){return nt.H.useDeferredValue(B,st)},Yt.useEffect=function(B,st,lt){var ft=nt.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ft.useEffect(B,st)},Yt.useId=function(){return nt.H.useId()},Yt.useImperativeHandle=function(B,st,lt){return nt.H.useImperativeHandle(B,st,lt)},Yt.useInsertionEffect=function(B,st){return nt.H.useInsertionEffect(B,st)},Yt.useLayoutEffect=function(B,st){return nt.H.useLayoutEffect(B,st)},Yt.useMemo=function(B,st){return nt.H.useMemo(B,st)},Yt.useOptimistic=function(B,st){return nt.H.useOptimistic(B,st)},Yt.useReducer=function(B,st,lt){return nt.H.useReducer(B,st,lt)},Yt.useRef=function(B){return nt.H.useRef(B)},Yt.useState=function(B){return nt.H.useState(B)},Yt.useSyncExternalStore=function(B,st,lt){return nt.H.useSyncExternalStore(B,st,lt)},Yt.useTransition=function(){return nt.H.useTransition()},Yt.version="19.1.1",Yt}var T0;function Cp(){return T0||(T0=1,Om.exports=gx()),Om.exports}var Tt=Cp();const np=u1(Tt);var Dm={exports:{}},Ju={},Pm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function _x(){return A0||(A0=1,(function(s){function t(M,z){var $=M.length;M.push(z);t:for(;0<$;){var ot=$-1>>>1,B=M[ot];if(0<l(B,z))M[ot]=z,M[$]=B,$=ot;else break t}}function n(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var z=M[0],$=M.pop();if($!==z){M[0]=$;t:for(var ot=0,B=M.length,st=B>>>1;ot<st;){var lt=2*(ot+1)-1,ft=M[lt],mt=lt+1,rt=M[mt];if(0>l(ft,$))mt<B&&0>l(rt,ft)?(M[ot]=rt,M[mt]=$,ot=mt):(M[ot]=ft,M[lt]=$,ot=lt);else if(mt<B&&0>l(rt,$))M[ot]=rt,M[mt]=$,ot=mt;else break t}}return z}function l(M,z){var $=M.sortIndex-z.sortIndex;return $!==0?$:M.id-z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,g=m.now();s.unstable_now=function(){return m.now()-g}}var y=[],b=[],E=1,S=null,x=3,k=!1,O=!1,G=!1,W=!1,Z=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function Q(M){for(var z=n(b);z!==null;){if(z.callback===null)o(b);else if(z.startTime<=M)o(b),z.sortIndex=z.expirationTime,t(y,z);else break;z=n(b)}}function nt(M){if(G=!1,Q(M),!O)if(n(y)!==null)O=!0,Y||(Y=!0,H());else{var z=n(b);z!==null&&it(nt,z.startTime-M)}}var Y=!1,q=-1,C=5,N=-1;function P(){return W?!0:!(s.unstable_now()-N<C)}function j(){if(W=!1,Y){var M=s.unstable_now();N=M;var z=!0;try{t:{O=!1,G&&(G=!1,ct(q),q=-1),k=!0;var $=x;try{e:{for(Q(M),S=n(y);S!==null&&!(S.expirationTime>M&&P());){var ot=S.callback;if(typeof ot=="function"){S.callback=null,x=S.priorityLevel;var B=ot(S.expirationTime<=M);if(M=s.unstable_now(),typeof B=="function"){S.callback=B,Q(M),z=!0;break e}S===n(y)&&o(y),Q(M)}else o(y);S=n(y)}if(S!==null)z=!0;else{var st=n(b);st!==null&&it(nt,st.startTime-M),z=!1}}break t}finally{S=null,x=$,k=!1}z=void 0}}finally{z?H():Y=!1}}}var H;if(typeof et=="function")H=function(){et(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,J=D.port2;D.port1.onmessage=j,H=function(){J.postMessage(null)}}else H=function(){Z(j,0)};function it(M,z){q=Z(function(){M(s.unstable_now())},z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(M){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var $=x;x=z;try{return M()}finally{x=$}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=x;x=M;try{return z()}finally{x=$}},s.unstable_scheduleCallback=function(M,z,$){var ot=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ot+$:ot):$=ot,M){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=$+B,M={id:E++,callback:z,priorityLevel:M,startTime:$,expirationTime:B,sortIndex:-1},$>ot?(M.sortIndex=$,t(b,M),n(y)===null&&M===n(b)&&(G?(ct(q),q=-1):G=!0,it(nt,$-ot))):(M.sortIndex=B,t(y,M),O||k||(O=!0,Y||(Y=!0,H()))),M},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(M){var z=x;return function(){var $=x;x=z;try{return M.apply(this,arguments)}finally{x=$}}}})(jm)),jm}var C0;function vx(){return C0||(C0=1,Pm.exports=_x()),Pm.exports}var Um={exports:{}},li={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function yx(){if(N0)return li;N0=1;var s=Cp();function t(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)b+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,b,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:b,implementation:E}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,b){if(y==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,li.createPortal=function(y,b){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return h(y,b,null,E)},li.flushSync=function(y){var b=m.T,E=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=b,o.p=E,o.d.f()}},li.preconnect=function(y,b){typeof y=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,o.d.C(y,b))},li.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},li.preinit=function(y,b){if(typeof y=="string"&&b&&typeof b.as=="string"){var E=b.as,S=g(E,b.crossOrigin),x=typeof b.integrity=="string"?b.integrity:void 0,k=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;E==="style"?o.d.S(y,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:k}):E==="script"&&o.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:k,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},li.preinitModule=function(y,b){if(typeof y=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var E=g(b.as,b.crossOrigin);o.d.M(y,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&o.d.M(y)},li.preload=function(y,b){if(typeof y=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var E=b.as,S=g(E,b.crossOrigin);o.d.L(y,E,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},li.preloadModule=function(y,b){if(typeof y=="string")if(b){var E=g(b.as,b.crossOrigin);o.d.m(y,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else o.d.m(y)},li.requestFormReset=function(y){o.d.r(y)},li.unstable_batchedUpdates=function(y,b){return y(b)},li.useFormState=function(y,b,E){return m.H.useFormState(y,b,E)},li.useFormStatus=function(){return m.H.useHostTransitionStatus()},li.version="19.1.1",li}var R0;function c1(){if(R0)return Um.exports;R0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Um.exports=yx(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function wx(){if(I0)return Ju;I0=1;var s=vx(),t=Cp(),n=c1();function o(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(o(188))}function y(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(o(188));return i!==e?null:e}for(var a=e,c=i;;){var p=a.return;if(p===null)break;var _=p.alternate;if(_===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===a)return g(p),e;if(_===c)return g(p),i;_=_.sibling}throw Error(o(188))}if(a.return!==c.return)a=p,c=_;else{for(var I=!1,F=p.child;F;){if(F===a){I=!0,a=p,c=_;break}if(F===c){I=!0,c=p,a=_;break}F=F.sibling}if(!I){for(F=_.child;F;){if(F===a){I=!0,a=_,c=p;break}if(F===c){I=!0,c=_,a=p;break}F=F.sibling}if(!I)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:i}function b(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=b(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),et=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case W:return"Profiler";case G:return"StrictMode";case nt:return"Suspense";case Y:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case et:return(e.displayName||"Context")+".Provider";case ct:return(e._context.displayName||"Context")+".Consumer";case Q:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return i=e.displayName||null,i!==null?i:J(e.type)||"Memo";case C:i=e._payload,e=e._init;try{return J(e(i))}catch{}}return null}var it=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ot=[],B=-1;function st(e){return{current:e}}function lt(e){0>B||(e.current=ot[B],ot[B]=null,B--)}function ft(e,i){B++,ot[B]=e.current,e.current=i}var mt=st(null),rt=st(null),wt=st(null),Dt=st(null);function kt(e,i){switch(ft(wt,i),ft(rt,e),ft(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Xv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Xv(i),e=Qv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(mt),ft(mt,e)}function Gt(){lt(mt),lt(rt),lt(wt)}function Xt(e){e.memoizedState!==null&&ft(Dt,e);var i=mt.current,a=Qv(i,e.type);i!==a&&(ft(rt,e),ft(mt,a))}function oe(e){rt.current===e&&(lt(mt),lt(rt)),Dt.current===e&&(lt(Dt),Zu._currentValue=$)}var me=Object.prototype.hasOwnProperty,En=s.unstable_scheduleCallback,dn=s.unstable_cancelCallback,be=s.unstable_shouldYield,We=s.unstable_requestPaint,Zt=s.unstable_now,le=s.unstable_getCurrentPriorityLevel,qe=s.unstable_ImmediatePriority,Ge=s.unstable_UserBlockingPriority,_e=s.unstable_NormalPriority,mn=s.unstable_LowPriority,Se=s.unstable_IdlePriority,pe=s.log,pn=s.unstable_setDisableYieldValue,ae=null,ee=null;function ge(e){if(typeof pe=="function"&&pn(e),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(ae,e)}catch{}}var Pe=Math.clz32?Math.clz32:tn,Xe=Math.log,In=Math.LN2;function tn(e){return e>>>=0,e===0?32:31-(Xe(e)/In|0)|0}var gn=256,en=4194304;function nn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $i(e,i,a){var c=e.pendingLanes;if(c===0)return 0;var p=0,_=e.suspendedLanes,I=e.pingedLanes;e=e.warmLanes;var F=c&134217727;return F!==0?(c=F&~_,c!==0?p=nn(c):(I&=F,I!==0?p=nn(I):a||(a=F&~e,a!==0&&(p=nn(a))))):(F=c&~_,F!==0?p=nn(F):I!==0?p=nn(I):a||(a=c&~e,a!==0&&(p=nn(a)))),p===0?0:i!==0&&i!==p&&(i&_)===0&&(_=p&-p,a=i&-i,_>=a||_===32&&(a&4194048)!==0)?i:p}function hi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ys(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var e=gn;return gn<<=1,(gn&4194048)===0&&(gn=256),e}function Oi(){var e=en;return en<<=1,(en&62914560)===0&&(en=4194304),e}function Ei(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ln(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $n(e,i,a,c,p,_){var I=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var F=e.entanglements,X=e.expirationTimes,pt=e.hiddenUpdates;for(a=I&~a;0<a;){var bt=31-Pe(a),Et=1<<bt;F[bt]=0,X[bt]=-1;var gt=pt[bt];if(gt!==null)for(pt[bt]=null,bt=0;bt<gt.length;bt++){var _t=gt[bt];_t!==null&&(_t.lane&=-536870913)}a&=~Et}c!==0&&kn(e,c,0),_!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=_&~(I&~i))}function kn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Pe(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function Di(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var c=31-Pe(a),p=1<<c;p&i|e[c]&i&&(e[c]|=i),a&=~p}}function ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ti(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mn(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:g0(e.type))}function no(e,i){var a=z.p;try{return z.p=e,i()}finally{z.p=a}}var je=Math.random().toString(36).slice(2),un="__reactFiber$"+je,sn="__reactProps$"+je,Si="__reactContainer$"+je,ei="__reactEvents$"+je,Lt="__reactListeners$"+je,ws="__reactHandles$"+je,ua="__reactResources$"+je,qs="__reactMarker$"+je;function Gs(e){delete e[un],delete e[sn],delete e[ei],delete e[Lt],delete e[ws]}function es(e){var i=e[un];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Si]||a[un]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=e0(e);e!==null;){if(a=e[un])return a;e=e0(e)}return i}e=a,a=e.parentNode}return null}function Pi(e){if(e=e[un]||e[Si]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Vn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(o(33))}function Ln(e){var i=e[ua];return i||(i=e[ua]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qe(e){e[qs]=!0}var ca=new Set,io={};function ji(e,i){ns(e,i),ns(e+"Capture",i)}function ns(e,i){for(io[e]=i,e=0;e<i.length;e++)ca.add(i[e])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_r={},vr={};function rl(e){return me.call(vr,e)?!0:me.call(_r,e)?!1:sl.test(e)?vr[e]=!0:(_r[e]=!0,!1)}function Zs(e,i,a){if(rl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function is(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Sn(e,i,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+c)}}var bs,Ws;function ss(e){if(bs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);bs=i&&i[1]||"",Ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+e+Ws}var yr=!1;function rs(e,i){if(!e||yr)return"";yr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(_t){var gt=_t}Reflect.construct(e,[],Et)}else{try{Et.call()}catch(_t){gt=_t}e.call(Et.prototype)}}else{try{throw Error()}catch(_t){gt=_t}(Et=e())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(_t){if(_t&&gt&&typeof _t.stack=="string")return[_t.stack,gt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),I=_[0],F=_[1];if(I&&F){var X=I.split(`
`),pt=F.split(`
`);for(p=c=0;c<X.length&&!X[c].includes("DetermineComponentFrameRoot");)c++;for(;p<pt.length&&!pt[p].includes("DetermineComponentFrameRoot");)p++;if(c===X.length||p===pt.length)for(c=X.length-1,p=pt.length-1;1<=c&&0<=p&&X[c]!==pt[p];)p--;for(;1<=c&&0<=p;c--,p--)if(X[c]!==pt[p]){if(c!==1||p!==1)do if(c--,p--,0>p||X[c]!==pt[p]){var bt=`
`+X[c].replace(" at new "," at ");return e.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",e.displayName)),bt}while(1<=c&&0<=p);break}}}finally{yr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ss(a):""}function Qt(e){switch(e.tag){case 26:case 27:case 5:return ss(e.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 15:return rs(e.type,!1);case 11:return rs(e.type.render,!1);case 1:return rs(e.type,!0);case 31:return ss("Activity");default:return""}}function Te(e){try{var i="";do i+=Qt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function os(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ys(e){var i=os(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,_=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(I){c=""+I,_.call(this,I)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ks(e){e._valueTracker||(e._valueTracker=Ys(e))}function qt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return e&&(c=os(e)?e.checked?"true":"false":e.value),e=c,e!==a?(i.setValue(e),!0):!1}function Ce(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ha=/[\n"\\]/g;function Ze(e){return e.replace(ha,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ue(e,i,a,c,p,_,I,F){e.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.type=I:e.removeAttribute("type"),i!=null?I==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+_n(i)):e.value!==""+_n(i)&&(e.value=""+_n(i)):I!=="submit"&&I!=="reset"||e.removeAttribute("value"),i!=null?Ui(e,I,_n(i)):a!=null?Ui(e,I,_n(a)):c!=null&&e.removeAttribute("value"),p==null&&_!=null&&(e.defaultChecked=!!_),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?e.name=""+_n(F):e.removeAttribute("name")}function wr(e,i,a,c,p,_,I,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||i!=null))return;a=a!=null?""+_n(a):"",i=i!=null?""+_n(i):a,F||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=F?e.checked:!!c,e.defaultChecked=!!c,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(e.name=I)}function Ui(e,i,a){i==="number"&&Ce(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function qn(e,i,a,c){if(e=e.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=i.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&c&&(e[a].defaultSelected=!0)}else{for(a=""+_n(a),i=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function zt(e,i,a){if(i!=null&&(i=""+_n(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+_n(a):""}function fi(e,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(o(92));if(it(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=_n(i),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function On(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function so(e,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,a):typeof a!="number"||a===0||zi.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function xs(e,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&a[p]!==c&&so(e,p,c)}else for(var _ in i)i.hasOwnProperty(_)&&so(e,_,i[_])}function br(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return ro.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Bi=null;function Gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,Hi=null;function da(e){var i=Pi(e);if(i&&(e=i.stateNode)){var a=e[sn]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ue(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ze(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==e&&c.form===e.form){var p=c[sn]||null;if(!p)throw Error(o(90));Ue(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===e.form&&qt(c)}break t;case"textarea":zt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&qn(e,!!a.multiple,i,!1)}}}var Pt=!1;function di(e,i,a){if(Pt)return e(i,a);Pt=!0;try{var c=e(i);return c}finally{if(Pt=!1,(as!==null||Hi!==null)&&(Th(),as&&(i=as,e=Hi,Hi=as=null,da(i),e)))for(i=0;i<e.length;i++)da(e[i])}}function ue(e,i){var a=e.stateNode;if(a===null)return null;var c=a[sn]||null;if(c===null)return null;a=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ni=!1;if(Ti)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){ni=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{ni=!1}var Ai=null,ii=null,Fi=null;function Ss(){if(Fi)return Fi;var e,i=ii,a=i.length,c,p="value"in Ai?Ai.value:Ai.textContent,_=p.length;for(e=0;e<a&&i[e]===p[e];e++);var I=a-e;for(c=1;c<=I&&i[a-c]===p[_-c];c++);return Fi=p.slice(e,1<c?1-c:void 0)}function Ie(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Dn(){return!0}function oo(){return!1}function cn(e){function i(a,c,p,_,I){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var F in e)e.hasOwnProperty(F)&&(a=e[F],this[F]=a?a(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Dn:oo,this.isPropagationStopped=oo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),i}var xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=cn(xe),Ts=E({},xe,{view:0,detail:0}),ol=cn(Ts),Er,Wt,ls,Tn=E({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(Er=e.screenX-ls.screenX,Wt=e.screenY-ls.screenY):Wt=Er=0,ls=e),Er)},movementY:function(e){return"movementY"in e?e.movementY:Wt}}),Pn=cn(Tn),ma=E({},Tn,{dataTransfer:0}),uu=cn(ma),As=E({},Ts,{relatedTarget:0}),ao=cn(As),lo=E({},xe,{animationName:0,elapsedTime:0,pseudoElement:0}),uo=cn(lo),al=E({},xe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qs=cn(al),cu=E({},xe,{data:0}),si=cn(cu),Sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function co(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Vi[e])?!!i[e]:!1}function Js(){return co}var ho=E({},Ts,{key:function(e){if(e.key){var i=Sr[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ie(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pa[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(e){return e.type==="keypress"?Ie(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ie(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fo=cn(ho),ga=E({},Tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=cn(ga),Cs=E({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),ll=cn(Cs),po=E({},xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ul=cn(po),_a=E({},Tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zn=cn(_a),Tr=E({},xe,{newState:0,oldState:0}),us=cn(Tr),$s=[9,13,27,32],f=Ti&&"CompositionEvent"in window,w=null;Ti&&"documentMode"in document&&(w=document.documentMode);var R=Ti&&"TextEvent"in window&&!w,V=Ti&&(!f||w&&8<w&&11>=w),ht=" ",yt=!1;function At(e,i){switch(e){case"keyup":return $s.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ze=!1;function ne(e,i){switch(e){case"compositionend":return ve(i);case"keypress":return i.which!==32?null:(yt=!0,ht);case"textInput":return e=i.data,e===ht&&yt?null:e;default:return null}}function vn(e,i){if(ze)return e==="compositionend"||!f&&At(e,i)?(e=Ss(),Fi=ii=Ai=null,ze=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return V&&i.locale!=="ko"?null:i.data;default:return null}}var Ae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ri(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ae[e.type]:i==="textarea"}function oi(e,i,a,c){as?Hi?Hi.push(c):Hi=[c]:as=c,i=kh(i,"onChange"),0<i.length&&(a=new xr("onChange","change",null,a,c),e.push({event:a,listeners:i}))}var yn=null,Ns=null;function go(e){Gv(e,0)}function cl(e){var i=Vn(e);if(qt(i))return e}function _o(e,i){if(e==="change")return i}var hu=!1;if(Ti){var vo;if(Ti){var fu="oninput"in document;if(!fu){var Rs=document.createElement("div");Rs.setAttribute("oninput","return;"),fu=typeof Rs.oninput=="function"}vo=fu}else vo=!1;hu=vo&&(!document.documentMode||9<document.documentMode)}function va(){yn&&(yn.detachEvent("onpropertychange",qc),Ns=yn=null)}function qc(e){if(e.propertyName==="value"&&cl(Ns)){var i=[];oi(i,Ns,e,Gn(e)),di(go,i)}}function du(e,i,a){e==="focusin"?(va(),yn=i,Ns=a,yn.attachEvent("onpropertychange",qc)):e==="focusout"&&va()}function id(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Ns)}function Is(e,i){if(e==="click")return cl(i)}function sd(e,i){if(e==="input"||e==="change")return cl(i)}function yo(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var mi=typeof Object.is=="function"?Object.is:yo;function pi(e,i){if(mi(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!me.call(i,p)||!mi(e[p],i[p]))return!1}return!0}function ya(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mu(e,i){var a=ya(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=i&&c>=i)return{node:a,offset:i-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ya(a)}}function hl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?hl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function wa(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ce(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ce(e.document)}return i}function ba(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var fl=Ti&&"documentMode"in document&&11>=document.documentMode,qi=null,wo=null,Ar=null,dl=!1;function Gc(e,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dl||qi==null||qi!==Ce(c)||(c=qi,"selectionStart"in c&&ba(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ar&&pi(Ar,c)||(Ar=c,c=kh(wo,"onSelect"),0<c.length&&(i=new xr("onSelect","select",null,i,a),e.push({event:i,listeners:c}),i.target=qi)))}function cs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var bo={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},ml={},Zc={};Ti&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function tr(e){if(ml[e])return ml[e];if(!bo[e])return e;var i=bo[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zc)return ml[e]=i[a];return e}var Wc=tr("animationend"),Gi=tr("animationiteration"),xa=tr("animationstart"),rd=tr("transitionrun"),pl=tr("transitionstart"),od=tr("transitioncancel"),pu=tr("transitionend"),Yc=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cr.push("scrollEnd");function Zi(e,i){Yc.set(e,i),ji(i,[e])}var Nr=new WeakMap;function gi(e,i){if(typeof e=="object"&&e!==null){var a=Nr.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Te(i)},Nr.set(e,i),i)}return{value:e,source:i,stack:Te(i)}}var _i=[],xo=0,Wi=0;function Ea(){for(var e=xo,i=Wi=xo=0;i<e;){var a=_i[i];_i[i++]=null;var c=_i[i];_i[i++]=null;var p=_i[i];_i[i++]=null;var _=_i[i];if(_i[i++]=null,c!==null&&p!==null){var I=c.pending;I===null?p.next=p:(p.next=I.next,I.next=p),c.pending=p}_!==0&&Ta(a,p,_)}}function Sa(e,i,a,c){_i[xo++]=e,_i[xo++]=i,_i[xo++]=a,_i[xo++]=c,Wi|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Rr(e,i,a,c){return Sa(e,i,a,c),er(e)}function Eo(e,i){return Sa(e,null,null,i),er(e)}function Ta(e,i,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var p=!1,_=e.return;_!==null;)_.childLanes|=a,c=_.alternate,c!==null&&(c.childLanes|=a),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(p=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,p&&i!==null&&(p=31-Pe(a),e=_.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=a|536870912),_):null}function er(e){if(50<Uu)throw Uu=0,im=null,Error(o(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ir={};function Kc(e,i,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(e,i,a,c){return new Kc(e,i,a,c)}function gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hs(e,i){var a=e.alternate;return a===null?(a=vi(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gu(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Aa(e,i,a,c,p,_){var I=0;if(c=e,typeof e=="function")gl(e)&&(I=1);else if(typeof e=="string")I=ex(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=vi(31,a,i,p),e.elementType=N,e.lanes=_,e;case O:return nr(a.children,p,_,i);case G:I=8,p|=24;break;case W:return e=vi(12,a,i,p|2),e.elementType=W,e.lanes=_,e;case nt:return e=vi(13,a,i,p),e.elementType=nt,e.lanes=_,e;case Y:return e=vi(19,a,i,p),e.elementType=Y,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:case et:I=10;break t;case ct:I=9;break t;case Q:I=11;break t;case q:I=14;break t;case C:I=16,c=null;break t}I=29,a=Error(o(130,e===null?"null":typeof e,"")),c=null}return i=vi(I,a,i,p),i.elementType=e,i.type=c,i.lanes=_,i}function nr(e,i,a,c){return e=vi(7,e,c,i),e.lanes=a,e}function _u(e,i,a){return e=vi(6,e,null,i),e.lanes=a,e}function _l(e,i,a){return i=vi(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var kr=[],So=0,r=null,u=0,d=[],v=0,A=null,U=1,K="";function ut(e,i){kr[So++]=u,kr[So++]=r,r=e,u=i}function vt(e,i,a){d[v++]=U,d[v++]=K,d[v++]=A,A=e;var c=U;e=K;var p=32-Pe(c)-1;c&=~(1<<p),a+=1;var _=32-Pe(i)+p;if(30<_){var I=p-p%5;_=(c&(1<<I)-1).toString(32),c>>=I,p-=I,U=1<<32-Pe(i)+p|a<<p|c,K=_+e}else U=1<<_|a<<p|c,K=e}function St(e){e.return!==null&&(ut(e,1),vt(e,1,0))}function Nt(e){for(;e===r;)r=kr[--So],kr[So]=null,u=kr[--So],kr[So]=null;for(;e===A;)A=d[--v],d[v]=null,K=d[--v],d[v]=null,U=d[--v],d[v]=null}var Rt=null,Mt=null,Vt=!1,Be=null,Je=!1,jn=Error(o(519));function Ci(e){var i=Error(o(418,""));throw Ao(gi(i,e)),jn}function Xc(e){var i=e.stateNode,a=e.type,c=e.memoizedProps;switch(i[un]=e,i[sn]=c,a){case"dialog":se("cancel",i),se("close",i);break;case"iframe":case"object":case"embed":se("load",i);break;case"video":case"audio":for(a=0;a<Bu.length;a++)se(Bu[a],i);break;case"source":se("error",i);break;case"img":case"image":case"link":se("error",i),se("load",i);break;case"details":se("toggle",i);break;case"input":se("invalid",i),wr(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ks(i);break;case"select":se("invalid",i);break;case"textarea":se("invalid",i),fi(i,c.value,c.defaultValue,c.children),Ks(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||Kv(i.textContent,a)?(c.popover!=null&&(se("beforetoggle",i),se("toggle",i)),c.onScroll!=null&&se("scroll",i),c.onScrollEnd!=null&&se("scrollend",i),c.onClick!=null&&(i.onclick=Mh),i=!0):i=!1,i||Ci(e)}function Qc(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 13:Je=!1;return;case 27:case 3:Je=!0;return;default:Rt=Rt.return}}function Ca(e){if(e!==Rt)return!1;if(!Vt)return Qc(e),Vt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ym(e.type,e.memoizedProps)),a=!a),a&&Mt&&Ci(e),Qc(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Mt=Os(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Mt=null}}else i===27?(i=Mt,Ho(e.type)?(e=Em,Em=null,Mt=e):Mt=i):Mt=Rt?Os(e.stateNode.nextSibling):null;return!0}function To(){Mt=Rt=null,Vt=!1}function Jc(){var e=Be;return e!==null&&(Ii===null?Ii=e:Ii.push.apply(Ii,e),Be=null),e}function Ao(e){Be===null?Be=[e]:Be.push(e)}var Ye=st(null),fs=null,ks=null;function ir(e,i,a){ft(Ye,i._currentValue),i._currentValue=a}function Ms(e){e._currentValue=Ye.current,lt(Ye)}function Na(e,i,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===a)break;e=e.return}}function vl(e,i,a,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var _=p.dependencies;if(_!==null){var I=p.child;_=_.firstContext;t:for(;_!==null;){var F=_;_=p;for(var X=0;X<i.length;X++)if(F.context===i[X]){_.lanes|=a,F=_.alternate,F!==null&&(F.lanes|=a),Na(_.return,a,e),c||(I=null);break t}_=F.next}}else if(p.tag===18){if(I=p.return,I===null)throw Error(o(341));I.lanes|=a,_=I.alternate,_!==null&&(_.lanes|=a),Na(I,a,e),I=null}else I=p.child;if(I!==null)I.return=p;else for(I=p;I!==null;){if(I===e){I=null;break}if(p=I.sibling,p!==null){p.return=I.return,I=p;break}I=I.return}p=I}}function Ra(e,i,a,c){e=null;for(var p=i,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var I=p.alternate;if(I===null)throw Error(o(387));if(I=I.memoizedProps,I!==null){var F=p.type;mi(p.pendingProps.value,I.value)||(e!==null?e.push(F):e=[F])}}else if(p===Dt.current){if(I=p.alternate,I===null)throw Error(o(387));I.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Zu):e=[Zu])}p=p.return}e!==null&&vl(i,e,a,c),i.flags|=262144}function $c(e){for(e=e.firstContext;e!==null;){if(!mi(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){fs=e,ks=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ai(e){return Dg(fs,e)}function th(e,i){return fs===null&&Ia(e),Dg(e,i)}function Dg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ks===null){if(e===null)throw Error(o(308));ks=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ks=ks.next=i;return a}var tb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},eb=s.unstable_scheduleCallback,nb=s.unstable_NormalPriority,An={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new tb,data:new Map,refCount:0}}function vu(e){e.refCount--,e.refCount===0&&eb(nb,function(){e.controller.abort()})}var yu=null,ld=0,yl=0,wl=null;function ib(e,i){if(yu===null){var a=yu=[];ld=0,yl=cm(),wl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return ld++,i.then(Pg,Pg),i}function Pg(){if(--ld===0&&yu!==null){wl!==null&&(wl.status="fulfilled");var e=yu;yu=null,yl=0,wl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function sb(e,i){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<a.length;p++)(0,a[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var jg=M.S;M.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ib(e,i),jg!==null&&jg(e,i)};var ka=st(null);function ud(){var e=ka.current;return e!==null?e:He.pooledCache}function eh(e,i){i===null?ft(ka,ka.current):ft(ka,i.pool)}function Ug(){var e=ud();return e===null?null:{parent:An._currentValue,pool:e}}var wu=Error(o(460)),zg=Error(o(474)),nh=Error(o(542)),cd={then:function(){}};function Bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ih(){}function Hg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ih,ih),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Vg(e),e;default:if(typeof i.status=="string")i.then(ih,ih);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Vg(e),e}throw bu=i,wu}}var bu=null;function Fg(){if(bu===null)throw Error(o(459));var e=bu;return bu=null,e}function Vg(e){if(e===wu||e===nh)throw Error(o(483))}var Co=!1;function hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function No(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(e,i,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ne&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=er(e),Ta(e,null,a),i}return Sa(e,c,i,a),er(e)}function xu(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,Di(e,a)}}function dd(e,i){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var I={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?p=_=I:_=_.next=I,a=a.next}while(a!==null);_===null?p=_=i:_=_.next=i}else p=_=i;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var md=!1;function Eu(){if(md){var e=wl;if(e!==null)throw e}}function Su(e,i,a,c){md=!1;var p=e.updateQueue;Co=!1;var _=p.firstBaseUpdate,I=p.lastBaseUpdate,F=p.shared.pending;if(F!==null){p.shared.pending=null;var X=F,pt=X.next;X.next=null,I===null?_=pt:I.next=pt,I=X;var bt=e.alternate;bt!==null&&(bt=bt.updateQueue,F=bt.lastBaseUpdate,F!==I&&(F===null?bt.firstBaseUpdate=pt:F.next=pt,bt.lastBaseUpdate=X))}if(_!==null){var Et=p.baseState;I=0,bt=pt=X=null,F=_;do{var gt=F.lane&-536870913,_t=gt!==F.lane;if(_t?(ce&gt)===gt:(c&gt)===gt){gt!==0&&gt===yl&&(md=!0),bt!==null&&(bt=bt.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});t:{var Ft=e,jt=F;gt=i;var Le=a;switch(jt.tag){case 1:if(Ft=jt.payload,typeof Ft=="function"){Et=Ft.call(Le,Et,gt);break t}Et=Ft;break t;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=jt.payload,gt=typeof Ft=="function"?Ft.call(Le,Et,gt):Ft,gt==null)break t;Et=E({},Et,gt);break t;case 2:Co=!0}}gt=F.callback,gt!==null&&(e.flags|=64,_t&&(e.flags|=8192),_t=p.callbacks,_t===null?p.callbacks=[gt]:_t.push(gt))}else _t={lane:gt,tag:F.tag,payload:F.payload,callback:F.callback,next:null},bt===null?(pt=bt=_t,X=Et):bt=bt.next=_t,I|=gt;if(F=F.next,F===null){if(F=p.shared.pending,F===null)break;_t=F,F=_t.next,_t.next=null,p.lastBaseUpdate=_t,p.shared.pending=null}}while(!0);bt===null&&(X=Et),p.baseState=X,p.firstBaseUpdate=pt,p.lastBaseUpdate=bt,_===null&&(p.shared.lanes=0),jo|=I,e.lanes=I,e.memoizedState=Et}}function qg(e,i){if(typeof e!="function")throw Error(o(191,e));e.call(i)}function Gg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qg(a[e],i)}var bl=st(null),sh=st(0);function Zg(e,i){e=Ur,ft(sh,e),ft(bl,i),Ur=e|i.baseLanes}function pd(){ft(sh,Ur),ft(bl,bl.current)}function gd(){Ur=sh.current,lt(bl),lt(sh)}var Io=0,Kt=null,ke=null,wn=null,rh=!1,xl=!1,Ma=!1,oh=0,Tu=0,El=null,rb=0;function hn(){throw Error(o(321))}function _d(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!mi(e[a],i[a]))return!1;return!0}function vd(e,i,a,c,p,_){return Io=_,Kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,M.H=e===null||e.memoizedState===null?R_:I_,Ma=!1,_=a(c,p),Ma=!1,xl&&(_=Yg(i,a,c,p)),Wg(e),_}function Wg(e){M.H=fh;var i=ke!==null&&ke.next!==null;if(Io=0,wn=ke=Kt=null,rh=!1,Tu=0,El=null,i)throw Error(o(300));e===null||Un||(e=e.dependencies,e!==null&&$c(e)&&(Un=!0))}function Yg(e,i,a,c){Kt=e;var p=0;do{if(xl&&(El=null),Tu=0,xl=!1,25<=p)throw Error(o(301));if(p+=1,wn=ke=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}M.H=fb,_=i(a,c)}while(xl);return _}function ob(){var e=M.H,i=e.useState()[0];return i=typeof i.then=="function"?Au(i):i,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(Kt.flags|=1024),i}function yd(){var e=oh!==0;return oh=0,e}function wd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function bd(e){if(rh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}rh=!1}Io=0,wn=ke=Kt=null,xl=!1,Tu=oh=0,El=null}function Ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Kt.memoizedState=wn=e:wn=wn.next=e,wn}function bn(){if(ke===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var i=wn===null?Kt.memoizedState:wn.next;if(i!==null)wn=i,ke=e;else{if(e===null)throw Kt.alternate===null?Error(o(467)):Error(o(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},wn===null?Kt.memoizedState=wn=e:wn=wn.next=e}return wn}function xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(e){var i=Tu;return Tu+=1,El===null&&(El=[]),e=Hg(El,e,i),i=Kt,(wn===null?i.memoizedState:wn.next)===null&&(i=i.alternate,M.H=i===null||i.memoizedState===null?R_:I_),e}function ah(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Au(e);if(e.$$typeof===et)return ai(e)}throw Error(o(438,String(e)))}function Ed(e){var i=null,a=Kt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=xd(),Kt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),c=0;c<e;c++)a[c]=P;return i.index++,a}function Mr(e,i){return typeof i=="function"?i(e):i}function lh(e){var i=bn();return Sd(i,ke,e)}function Sd(e,i,a){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var p=e.baseQueue,_=c.pending;if(_!==null){if(p!==null){var I=p.next;p.next=_.next,_.next=I}i.baseQueue=p=_,c.pending=null}if(_=e.baseState,p===null)e.memoizedState=_;else{i=p.next;var F=I=null,X=null,pt=i,bt=!1;do{var Et=pt.lane&-536870913;if(Et!==pt.lane?(ce&Et)===Et:(Io&Et)===Et){var gt=pt.revertLane;if(gt===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),Et===yl&&(bt=!0);else if((Io&gt)===gt){pt=pt.next,gt===yl&&(bt=!0);continue}else Et={lane:0,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},X===null?(F=X=Et,I=_):X=X.next=Et,Kt.lanes|=gt,jo|=gt;Et=pt.action,Ma&&a(_,Et),_=pt.hasEagerState?pt.eagerState:a(_,Et)}else gt={lane:Et,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},X===null?(F=X=gt,I=_):X=X.next=gt,Kt.lanes|=Et,jo|=Et;pt=pt.next}while(pt!==null&&pt!==i);if(X===null?I=_:X.next=F,!mi(_,e.memoizedState)&&(Un=!0,bt&&(a=wl,a!==null)))throw a;e.memoizedState=_,e.baseState=I,e.baseQueue=X,c.lastRenderedState=_}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Td(e){var i=bn(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var c=a.dispatch,p=a.pending,_=i.memoizedState;if(p!==null){a.pending=null;var I=p=p.next;do _=e(_,I.action),I=I.next;while(I!==p);mi(_,i.memoizedState)||(Un=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),a.lastRenderedState=_}return[_,c]}function Kg(e,i,a){var c=Kt,p=bn(),_=Vt;if(_){if(a===void 0)throw Error(o(407));a=a()}else a=i();var I=!mi((ke||p).memoizedState,a);I&&(p.memoizedState=a,Un=!0),p=p.queue;var F=Jg.bind(null,c,p,e);if(Cu(2048,8,F,[e]),p.getSnapshot!==i||I||wn!==null&&wn.memoizedState.tag&1){if(c.flags|=2048,Sl(9,uh(),Qg.bind(null,c,p,a,i),null),He===null)throw Error(o(349));_||(Io&124)!==0||Xg(c,i,a)}return a}function Xg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Kt.updateQueue,i===null?(i=xd(),Kt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Qg(e,i,a,c){i.value=a,i.getSnapshot=c,$g(i)&&t_(e)}function Jg(e,i,a){return a(function(){$g(i)&&t_(e)})}function $g(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!mi(e,a)}catch{return!0}}function t_(e){var i=Eo(e,2);i!==null&&Ji(i,e,2)}function Ad(e){var i=Ni();if(typeof e=="function"){var a=e;if(e=a(),Ma){ge(!0);try{a()}finally{ge(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:e},i}function e_(e,i,a,c){return e.baseState=a,Sd(e,ke,typeof c=="function"?c:Mr)}function ab(e,i,a,c,p){if(hh(e))throw Error(o(485));if(e=i.action,e!==null){var _={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};M.T!==null?a(!0):_.isTransition=!1,c(_),a=i.pending,a===null?(_.next=i.pending=_,n_(i,_)):(_.next=a.next,i.pending=a.next=_)}}function n_(e,i){var a=i.action,c=i.payload,p=e.state;if(i.isTransition){var _=M.T,I={};M.T=I;try{var F=a(p,c),X=M.S;X!==null&&X(I,F),i_(e,i,F)}catch(pt){Cd(e,i,pt)}finally{M.T=_}}else try{_=a(p,c),i_(e,i,_)}catch(pt){Cd(e,i,pt)}}function i_(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){s_(e,i,c)},function(c){return Cd(e,i,c)}):s_(e,i,a)}function s_(e,i,a){i.status="fulfilled",i.value=a,r_(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,n_(e,a)))}function Cd(e,i,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,r_(i),i=i.next;while(i!==c)}e.action=null}function r_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function o_(e,i){return i}function a_(e,i){if(Vt){var a=He.formState;if(a!==null){t:{var c=Kt;if(Vt){if(Mt){e:{for(var p=Mt,_=Je;p.nodeType!==8;){if(!_){p=null;break e}if(p=Os(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){Mt=Os(p.nextSibling),c=p.data==="F!";break t}}Ci(c)}c=!1}c&&(i=a[0])}}return a=Ni(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:i},a.queue=c,a=A_.bind(null,Kt,c),c.dispatch=a,c=Ad(!1),_=Md.bind(null,Kt,!1,c.queue),c=Ni(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,a=ab.bind(null,Kt,p,_,a),p.dispatch=a,c.memoizedState=e,[i,a,!1]}function l_(e){var i=bn();return u_(i,ke,e)}function u_(e,i,a){if(i=Sd(e,i,o_)[0],e=lh(Mr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Au(i)}catch(I){throw I===wu?nh:I}else c=i;i=bn();var p=i.queue,_=p.dispatch;return a!==i.memoizedState&&(Kt.flags|=2048,Sl(9,uh(),lb.bind(null,p,a),null)),[c,_,e]}function lb(e,i){e.action=i}function c_(e){var i=bn(),a=ke;if(a!==null)return u_(i,a,e);bn(),i=i.memoizedState,a=bn();var c=a.queue.dispatch;return a.memoizedState=e,[i,c,!1]}function Sl(e,i,a,c){return e={tag:e,create:a,deps:c,inst:i,next:null},i=Kt.updateQueue,i===null&&(i=xd(),Kt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,i.lastEffect=e),e}function uh(){return{destroy:void 0,resource:void 0}}function h_(){return bn().memoizedState}function ch(e,i,a,c){var p=Ni();c=c===void 0?null:c,Kt.flags|=e,p.memoizedState=Sl(1|i,uh(),a,c)}function Cu(e,i,a,c){var p=bn();c=c===void 0?null:c;var _=p.memoizedState.inst;ke!==null&&c!==null&&_d(c,ke.memoizedState.deps)?p.memoizedState=Sl(i,_,a,c):(Kt.flags|=e,p.memoizedState=Sl(1|i,_,a,c))}function f_(e,i){ch(8390656,8,e,i)}function d_(e,i){Cu(2048,8,e,i)}function m_(e,i){return Cu(4,2,e,i)}function p_(e,i){return Cu(4,4,e,i)}function g_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function __(e,i,a){a=a!=null?a.concat([e]):null,Cu(4,4,g_.bind(null,i,e),a)}function Nd(){}function v_(e,i){var a=bn();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&_d(i,c[1])?c[0]:(a.memoizedState=[e,i],e)}function y_(e,i){var a=bn();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&_d(i,c[1]))return c[0];if(c=e(),Ma){ge(!0);try{e()}finally{ge(!1)}}return a.memoizedState=[c,i],c}function Rd(e,i,a){return a===void 0||(Io&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=xv(),Kt.lanes|=e,jo|=e,a)}function w_(e,i,a,c){return mi(a,i)?a:bl.current!==null?(e=Rd(e,a,c),mi(e,i)||(Un=!0),e):(Io&42)===0?(Un=!0,e.memoizedState=a):(e=xv(),Kt.lanes|=e,jo|=e,i)}function b_(e,i,a,c,p){var _=z.p;z.p=_!==0&&8>_?_:8;var I=M.T,F={};M.T=F,Md(e,!1,i,a);try{var X=p(),pt=M.S;if(pt!==null&&pt(F,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var bt=sb(X,c);Nu(e,i,bt,Qi(e))}else Nu(e,i,c,Qi(e))}catch(Et){Nu(e,i,{then:function(){},status:"rejected",reason:Et},Qi())}finally{z.p=_,M.T=I}}function ub(){}function Id(e,i,a,c){if(e.tag!==5)throw Error(o(476));var p=x_(e).queue;b_(e,p,i,$,a===null?ub:function(){return E_(e),a(c)})}function x_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:$},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function E_(e){var i=x_(e).next.queue;Nu(e,i,{},Qi())}function kd(){return ai(Zu)}function S_(){return bn().memoizedState}function T_(){return bn().memoizedState}function cb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Qi();e=No(a);var c=Ro(i,e,a);c!==null&&(Ji(c,i,a),xu(c,i,a)),i={cache:ad()},e.payload=i;return}i=i.return}}function hb(e,i,a){var c=Qi();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hh(e)?C_(i,a):(a=Rr(e,i,a,c),a!==null&&(Ji(a,e,c),N_(a,i,c)))}function A_(e,i,a){var c=Qi();Nu(e,i,a,c)}function Nu(e,i,a,c){var p={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hh(e))C_(i,p);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var I=i.lastRenderedState,F=_(I,a);if(p.hasEagerState=!0,p.eagerState=F,mi(F,I))return Sa(e,i,p,0),He===null&&Ea(),!1}catch{}finally{}if(a=Rr(e,i,p,c),a!==null)return Ji(a,e,c),N_(a,i,c),!0}return!1}function Md(e,i,a,c){if(c={lane:2,revertLane:cm(),action:c,hasEagerState:!1,eagerState:null,next:null},hh(e)){if(i)throw Error(o(479))}else i=Rr(e,a,c,2),i!==null&&Ji(i,e,2)}function hh(e){var i=e.alternate;return e===Kt||i!==null&&i===Kt}function C_(e,i){xl=rh=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function N_(e,i,a){if((a&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,Di(e,a)}}var fh={readContext:ai,use:ah,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},R_={readContext:ai,use:ah,useCallback:function(e,i){return Ni().memoizedState=[e,i===void 0?null:i],e},useContext:ai,useEffect:f_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ch(4194308,4,g_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ch(4194308,4,e,i)},useInsertionEffect:function(e,i){ch(4,2,e,i)},useMemo:function(e,i){var a=Ni();i=i===void 0?null:i;var c=e();if(Ma){ge(!0);try{e()}finally{ge(!1)}}return a.memoizedState=[c,i],c},useReducer:function(e,i,a){var c=Ni();if(a!==void 0){var p=a(i);if(Ma){ge(!0);try{a(i)}finally{ge(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=hb.bind(null,Kt,e),[c.memoizedState,e]},useRef:function(e){var i=Ni();return e={current:e},i.memoizedState=e},useState:function(e){e=Ad(e);var i=e.queue,a=A_.bind(null,Kt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Nd,useDeferredValue:function(e,i){var a=Ni();return Rd(a,e,i)},useTransition:function(){var e=Ad(!1);return e=b_.bind(null,Kt,e.queue,!0,!1),Ni().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var c=Kt,p=Ni();if(Vt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),He===null)throw Error(o(349));(ce&124)!==0||Xg(c,i,a)}p.memoizedState=a;var _={value:a,getSnapshot:i};return p.queue=_,f_(Jg.bind(null,c,_,e),[e]),c.flags|=2048,Sl(9,uh(),Qg.bind(null,c,_,a,i),null),a},useId:function(){var e=Ni(),i=He.identifierPrefix;if(Vt){var a=K,c=U;a=(c&~(1<<32-Pe(c)-1)).toString(32)+a,i="«"+i+"R"+a,a=oh++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=rb++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:kd,useFormState:a_,useActionState:a_,useOptimistic:function(e){var i=Ni();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Md.bind(null,Kt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Ed,useCacheRefresh:function(){return Ni().memoizedState=cb.bind(null,Kt)}},I_={readContext:ai,use:ah,useCallback:v_,useContext:ai,useEffect:d_,useImperativeHandle:__,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:y_,useReducer:lh,useRef:h_,useState:function(){return lh(Mr)},useDebugValue:Nd,useDeferredValue:function(e,i){var a=bn();return w_(a,ke.memoizedState,e,i)},useTransition:function(){var e=lh(Mr)[0],i=bn().memoizedState;return[typeof e=="boolean"?e:Au(e),i]},useSyncExternalStore:Kg,useId:S_,useHostTransitionStatus:kd,useFormState:l_,useActionState:l_,useOptimistic:function(e,i){var a=bn();return e_(a,ke,e,i)},useMemoCache:Ed,useCacheRefresh:T_},fb={readContext:ai,use:ah,useCallback:v_,useContext:ai,useEffect:d_,useImperativeHandle:__,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:y_,useReducer:Td,useRef:h_,useState:function(){return Td(Mr)},useDebugValue:Nd,useDeferredValue:function(e,i){var a=bn();return ke===null?Rd(a,e,i):w_(a,ke.memoizedState,e,i)},useTransition:function(){var e=Td(Mr)[0],i=bn().memoizedState;return[typeof e=="boolean"?e:Au(e),i]},useSyncExternalStore:Kg,useId:S_,useHostTransitionStatus:kd,useFormState:c_,useActionState:c_,useOptimistic:function(e,i){var a=bn();return ke!==null?e_(a,ke,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ed,useCacheRefresh:T_},Tl=null,Ru=0;function dh(e){var i=Ru;return Ru+=1,Tl===null&&(Tl=[]),Hg(Tl,e,i)}function Iu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function mh(e,i){throw i.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(i),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function k_(e){var i=e._init;return i(e._payload)}function M_(e){function i(at,tt){if(e){var dt=at.deletions;dt===null?(at.deletions=[tt],at.flags|=16):dt.push(tt)}}function a(at,tt){if(!e)return null;for(;tt!==null;)i(at,tt),tt=tt.sibling;return null}function c(at){for(var tt=new Map;at!==null;)at.key!==null?tt.set(at.key,at):tt.set(at.index,at),at=at.sibling;return tt}function p(at,tt){return at=hs(at,tt),at.index=0,at.sibling=null,at}function _(at,tt,dt){return at.index=dt,e?(dt=at.alternate,dt!==null?(dt=dt.index,dt<tt?(at.flags|=67108866,tt):dt):(at.flags|=67108866,tt)):(at.flags|=1048576,tt)}function I(at){return e&&at.alternate===null&&(at.flags|=67108866),at}function F(at,tt,dt,xt){return tt===null||tt.tag!==6?(tt=_u(dt,at.mode,xt),tt.return=at,tt):(tt=p(tt,dt),tt.return=at,tt)}function X(at,tt,dt,xt){var It=dt.type;return It===O?bt(at,tt,dt.props.children,xt,dt.key):tt!==null&&(tt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===C&&k_(It)===tt.type)?(tt=p(tt,dt.props),Iu(tt,dt),tt.return=at,tt):(tt=Aa(dt.type,dt.key,dt.props,null,at.mode,xt),Iu(tt,dt),tt.return=at,tt)}function pt(at,tt,dt,xt){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==dt.containerInfo||tt.stateNode.implementation!==dt.implementation?(tt=_l(dt,at.mode,xt),tt.return=at,tt):(tt=p(tt,dt.children||[]),tt.return=at,tt)}function bt(at,tt,dt,xt,It){return tt===null||tt.tag!==7?(tt=nr(dt,at.mode,xt,It),tt.return=at,tt):(tt=p(tt,dt),tt.return=at,tt)}function Et(at,tt,dt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=_u(""+tt,at.mode,dt),tt.return=at,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return dt=Aa(tt.type,tt.key,tt.props,null,at.mode,dt),Iu(dt,tt),dt.return=at,dt;case k:return tt=_l(tt,at.mode,dt),tt.return=at,tt;case C:var xt=tt._init;return tt=xt(tt._payload),Et(at,tt,dt)}if(it(tt)||H(tt))return tt=nr(tt,at.mode,dt,null),tt.return=at,tt;if(typeof tt.then=="function")return Et(at,dh(tt),dt);if(tt.$$typeof===et)return Et(at,th(at,tt),dt);mh(at,tt)}return null}function gt(at,tt,dt,xt){var It=tt!==null?tt.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return It!==null?null:F(at,tt,""+dt,xt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case x:return dt.key===It?X(at,tt,dt,xt):null;case k:return dt.key===It?pt(at,tt,dt,xt):null;case C:return It=dt._init,dt=It(dt._payload),gt(at,tt,dt,xt)}if(it(dt)||H(dt))return It!==null?null:bt(at,tt,dt,xt,null);if(typeof dt.then=="function")return gt(at,tt,dh(dt),xt);if(dt.$$typeof===et)return gt(at,tt,th(at,dt),xt);mh(at,dt)}return null}function _t(at,tt,dt,xt,It){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return at=at.get(dt)||null,F(tt,at,""+xt,It);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case x:return at=at.get(xt.key===null?dt:xt.key)||null,X(tt,at,xt,It);case k:return at=at.get(xt.key===null?dt:xt.key)||null,pt(tt,at,xt,It);case C:var Jt=xt._init;return xt=Jt(xt._payload),_t(at,tt,dt,xt,It)}if(it(xt)||H(xt))return at=at.get(dt)||null,bt(tt,at,xt,It,null);if(typeof xt.then=="function")return _t(at,tt,dt,dh(xt),It);if(xt.$$typeof===et)return _t(at,tt,dt,th(tt,xt),It);mh(tt,xt)}return null}function Ft(at,tt,dt,xt){for(var It=null,Jt=null,Ot=tt,Ut=tt=0,Bn=null;Ot!==null&&Ut<dt.length;Ut++){Ot.index>Ut?(Bn=Ot,Ot=null):Bn=Ot.sibling;var ye=gt(at,Ot,dt[Ut],xt);if(ye===null){Ot===null&&(Ot=Bn);break}e&&Ot&&ye.alternate===null&&i(at,Ot),tt=_(ye,tt,Ut),Jt===null?It=ye:Jt.sibling=ye,Jt=ye,Ot=Bn}if(Ut===dt.length)return a(at,Ot),Vt&&ut(at,Ut),It;if(Ot===null){for(;Ut<dt.length;Ut++)Ot=Et(at,dt[Ut],xt),Ot!==null&&(tt=_(Ot,tt,Ut),Jt===null?It=Ot:Jt.sibling=Ot,Jt=Ot);return Vt&&ut(at,Ut),It}for(Ot=c(Ot);Ut<dt.length;Ut++)Bn=_t(Ot,at,Ut,dt[Ut],xt),Bn!==null&&(e&&Bn.alternate!==null&&Ot.delete(Bn.key===null?Ut:Bn.key),tt=_(Bn,tt,Ut),Jt===null?It=Bn:Jt.sibling=Bn,Jt=Bn);return e&&Ot.forEach(function(Zo){return i(at,Zo)}),Vt&&ut(at,Ut),It}function jt(at,tt,dt,xt){if(dt==null)throw Error(o(151));for(var It=null,Jt=null,Ot=tt,Ut=tt=0,Bn=null,ye=dt.next();Ot!==null&&!ye.done;Ut++,ye=dt.next()){Ot.index>Ut?(Bn=Ot,Ot=null):Bn=Ot.sibling;var Zo=gt(at,Ot,ye.value,xt);if(Zo===null){Ot===null&&(Ot=Bn);break}e&&Ot&&Zo.alternate===null&&i(at,Ot),tt=_(Zo,tt,Ut),Jt===null?It=Zo:Jt.sibling=Zo,Jt=Zo,Ot=Bn}if(ye.done)return a(at,Ot),Vt&&ut(at,Ut),It;if(Ot===null){for(;!ye.done;Ut++,ye=dt.next())ye=Et(at,ye.value,xt),ye!==null&&(tt=_(ye,tt,Ut),Jt===null?It=ye:Jt.sibling=ye,Jt=ye);return Vt&&ut(at,Ut),It}for(Ot=c(Ot);!ye.done;Ut++,ye=dt.next())ye=_t(Ot,at,Ut,ye.value,xt),ye!==null&&(e&&ye.alternate!==null&&Ot.delete(ye.key===null?Ut:ye.key),tt=_(ye,tt,Ut),Jt===null?It=ye:Jt.sibling=ye,Jt=ye);return e&&Ot.forEach(function(dx){return i(at,dx)}),Vt&&ut(at,Ut),It}function Le(at,tt,dt,xt){if(typeof dt=="object"&&dt!==null&&dt.type===O&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case x:t:{for(var It=dt.key;tt!==null;){if(tt.key===It){if(It=dt.type,It===O){if(tt.tag===7){a(at,tt.sibling),xt=p(tt,dt.props.children),xt.return=at,at=xt;break t}}else if(tt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===C&&k_(It)===tt.type){a(at,tt.sibling),xt=p(tt,dt.props),Iu(xt,dt),xt.return=at,at=xt;break t}a(at,tt);break}else i(at,tt);tt=tt.sibling}dt.type===O?(xt=nr(dt.props.children,at.mode,xt,dt.key),xt.return=at,at=xt):(xt=Aa(dt.type,dt.key,dt.props,null,at.mode,xt),Iu(xt,dt),xt.return=at,at=xt)}return I(at);case k:t:{for(It=dt.key;tt!==null;){if(tt.key===It)if(tt.tag===4&&tt.stateNode.containerInfo===dt.containerInfo&&tt.stateNode.implementation===dt.implementation){a(at,tt.sibling),xt=p(tt,dt.children||[]),xt.return=at,at=xt;break t}else{a(at,tt);break}else i(at,tt);tt=tt.sibling}xt=_l(dt,at.mode,xt),xt.return=at,at=xt}return I(at);case C:return It=dt._init,dt=It(dt._payload),Le(at,tt,dt,xt)}if(it(dt))return Ft(at,tt,dt,xt);if(H(dt)){if(It=H(dt),typeof It!="function")throw Error(o(150));return dt=It.call(dt),jt(at,tt,dt,xt)}if(typeof dt.then=="function")return Le(at,tt,dh(dt),xt);if(dt.$$typeof===et)return Le(at,tt,th(at,dt),xt);mh(at,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint"?(dt=""+dt,tt!==null&&tt.tag===6?(a(at,tt.sibling),xt=p(tt,dt),xt.return=at,at=xt):(a(at,tt),xt=_u(dt,at.mode,xt),xt.return=at,at=xt),I(at)):a(at,tt)}return function(at,tt,dt,xt){try{Ru=0;var It=Le(at,tt,dt,xt);return Tl=null,It}catch(Ot){if(Ot===wu||Ot===nh)throw Ot;var Jt=vi(29,Ot,null,at.mode);return Jt.lanes=xt,Jt.return=at,Jt}finally{}}}var Al=M_(!0),L_=M_(!1),ds=st(null),sr=null;function ko(e){var i=e.alternate;ft(Cn,Cn.current&1),ft(ds,e),sr===null&&(i===null||bl.current!==null||i.memoizedState!==null)&&(sr=e)}function O_(e){if(e.tag===22){if(ft(Cn,Cn.current),ft(ds,e),sr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(sr=e)}}else Mo()}function Mo(){ft(Cn,Cn.current),ft(ds,ds.current)}function Lr(e){lt(ds),sr===e&&(sr=null),lt(Cn)}var Cn=st(0);function ph(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||xm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ld(e,i,a,c){i=e.memoizedState,a=a(c,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Od={enqueueSetState:function(e,i,a){e=e._reactInternals;var c=Qi(),p=No(c);p.payload=i,a!=null&&(p.callback=a),i=Ro(e,p,c),i!==null&&(Ji(i,e,c),xu(i,e,c))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var c=Qi(),p=No(c);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=Ro(e,p,c),i!==null&&(Ji(i,e,c),xu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Qi(),c=No(a);c.tag=2,i!=null&&(c.callback=i),i=Ro(e,c,a),i!==null&&(Ji(i,e,a),xu(i,e,a))}};function D_(e,i,a,c,p,_,I){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,_,I):i.prototype&&i.prototype.isPureReactComponent?!pi(a,c)||!pi(p,_):!0}function P_(e,i,a,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==e&&Od.enqueueReplaceState(i,i.state,null)}function La(e,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var gh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function j_(e){gh(e)}function U_(e){console.error(e)}function z_(e){gh(e)}function _h(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function B_(e,i,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Dd(e,i,a){return a=No(a),a.tag=3,a.payload={element:null},a.callback=function(){_h(e,i)},a}function H_(e){return e=No(e),e.tag=3,e}function F_(e,i,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var _=c.value;e.payload=function(){return p(_)},e.callback=function(){B_(i,a,c)}}var I=a.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(e.callback=function(){B_(i,a,c),typeof p!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var F=c.stack;this.componentDidCatch(c.value,{componentStack:F!==null?F:""})})}function db(e,i,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,p,!0),a=ds.current,a!==null){switch(a.tag){case 13:return sr===null?rm():a.alternate===null&&rn===0&&(rn=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===cd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),am(e,c,p)),!1;case 22:return a.flags|=65536,c===cd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),am(e,c,p)),!1}throw Error(o(435,a.tag))}return am(e,c,p),rm(),!1}if(Vt)return i=ds.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==jn&&(e=Error(o(422),{cause:c}),Ao(gi(e,a)))):(c!==jn&&(i=Error(o(423),{cause:c}),Ao(gi(i,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=gi(c,a),p=Dd(e.stateNode,c,p),dd(e,p),rn!==4&&(rn=2)),!1;var _=Error(o(520),{cause:c});if(_=gi(_,a),ju===null?ju=[_]:ju.push(_),rn!==4&&(rn=2),i===null)return!0;c=gi(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=Dd(a.stateNode,c,e),dd(a,e),!1;case 1:if(i=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Uo===null||!Uo.has(_))))return a.flags|=65536,p&=-p,a.lanes|=p,p=H_(p),F_(p,e,a,c),dd(a,p),!1}a=a.return}while(a!==null);return!1}var V_=Error(o(461)),Un=!1;function Wn(e,i,a,c){i.child=e===null?L_(i,null,a,c):Al(i,e.child,a,c)}function q_(e,i,a,c,p){a=a.render;var _=i.ref;if("ref"in c){var I={};for(var F in c)F!=="ref"&&(I[F]=c[F])}else I=c;return Ia(i),c=vd(e,i,a,I,_,p),F=yd(),e!==null&&!Un?(wd(e,i,p),Or(e,i,p)):(Vt&&F&&St(i),i.flags|=1,Wn(e,i,c,p),i.child)}function G_(e,i,a,c,p){if(e===null){var _=a.type;return typeof _=="function"&&!gl(_)&&_.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=_,Z_(e,i,_,c,p)):(e=Aa(a.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!Vd(e,p)){var I=_.memoizedProps;if(a=a.compare,a=a!==null?a:pi,a(I,c)&&e.ref===i.ref)return Or(e,i,p)}return i.flags|=1,e=hs(_,c),e.ref=i.ref,e.return=i,i.child=e}function Z_(e,i,a,c,p){if(e!==null){var _=e.memoizedProps;if(pi(_,c)&&e.ref===i.ref)if(Un=!1,i.pendingProps=c=_,Vd(e,p))(e.flags&131072)!==0&&(Un=!0);else return i.lanes=e.lanes,Or(e,i,p)}return Pd(e,i,a,c,p)}function W_(e,i,a){var c=i.pendingProps,p=c.children,_=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=_!==null?_.baseLanes|a:a,e!==null){for(p=i.child=e.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;i.childLanes=_&~c}else i.childLanes=0,i.child=null;return Y_(e,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&eh(i,_!==null?_.cachePool:null),_!==null?Zg(i,_):pd(),O_(i);else return i.lanes=i.childLanes=536870912,Y_(e,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(eh(i,_.cachePool),Zg(i,_),Mo(),i.memoizedState=null):(e!==null&&eh(i,null),pd(),Mo());return Wn(e,i,p,a),i.child}function Y_(e,i,a,c){var p=ud();return p=p===null?null:{parent:An._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},e!==null&&eh(i,null),pd(),O_(i),e!==null&&Ra(e,i,c,!0),null}function vh(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Pd(e,i,a,c,p){return Ia(i),a=vd(e,i,a,c,void 0,p),c=yd(),e!==null&&!Un?(wd(e,i,p),Or(e,i,p)):(Vt&&c&&St(i),i.flags|=1,Wn(e,i,a,p),i.child)}function K_(e,i,a,c,p,_){return Ia(i),i.updateQueue=null,a=Yg(i,c,a,p),Wg(e),c=yd(),e!==null&&!Un?(wd(e,i,_),Or(e,i,_)):(Vt&&c&&St(i),i.flags|=1,Wn(e,i,a,_),i.child)}function X_(e,i,a,c,p){if(Ia(i),i.stateNode===null){var _=Ir,I=a.contextType;typeof I=="object"&&I!==null&&(_=ai(I)),_=new a(c,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Od,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=c,_.state=i.memoizedState,_.refs={},hd(i),I=a.contextType,_.context=typeof I=="object"&&I!==null?ai(I):Ir,_.state=i.memoizedState,I=a.getDerivedStateFromProps,typeof I=="function"&&(Ld(i,a,I,c),_.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&Od.enqueueReplaceState(_,_.state,null),Su(i,c,_,p),Eu(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){_=i.stateNode;var F=i.memoizedProps,X=La(a,F);_.props=X;var pt=_.context,bt=a.contextType;I=Ir,typeof bt=="object"&&bt!==null&&(I=ai(bt));var Et=a.getDerivedStateFromProps;bt=typeof Et=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=i.pendingProps!==F,bt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||pt!==I)&&P_(i,_,c,I),Co=!1;var gt=i.memoizedState;_.state=gt,Su(i,c,_,p),Eu(),pt=i.memoizedState,F||gt!==pt||Co?(typeof Et=="function"&&(Ld(i,a,Et,c),pt=i.memoizedState),(X=Co||D_(i,a,X,c,gt,pt,I))?(bt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=pt),_.props=c,_.state=pt,_.context=I,c=X):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,fd(e,i),I=i.memoizedProps,bt=La(a,I),_.props=bt,Et=i.pendingProps,gt=_.context,pt=a.contextType,X=Ir,typeof pt=="object"&&pt!==null&&(X=ai(pt)),F=a.getDerivedStateFromProps,(pt=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Et||gt!==X)&&P_(i,_,c,X),Co=!1,gt=i.memoizedState,_.state=gt,Su(i,c,_,p),Eu();var _t=i.memoizedState;I!==Et||gt!==_t||Co||e!==null&&e.dependencies!==null&&$c(e.dependencies)?(typeof F=="function"&&(Ld(i,a,F,c),_t=i.memoizedState),(bt=Co||D_(i,a,bt,c,gt,_t,X)||e!==null&&e.dependencies!==null&&$c(e.dependencies))?(pt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,_t,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,_t,X)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===e.memoizedProps&&gt===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&gt===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=_t),_.props=c,_.state=_t,_.context=X,c=bt):(typeof _.componentDidUpdate!="function"||I===e.memoizedProps&&gt===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&gt===e.memoizedState||(i.flags|=1024),c=!1)}return _=c,vh(e,i),c=(i.flags&128)!==0,_||c?(_=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&c?(i.child=Al(i,e.child,null,p),i.child=Al(i,null,a,p)):Wn(e,i,a,p),i.memoizedState=_.state,e=i.child):e=Or(e,i,p),e}function Q_(e,i,a,c){return To(),i.flags|=256,Wn(e,i,a,c),i.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ud(e){return{baseLanes:e,cachePool:Ug()}}function zd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=ms),e}function J_(e,i,a){var c=i.pendingProps,p=!1,_=(i.flags&128)!==0,I;if((I=_)||(I=e!==null&&e.memoizedState===null?!1:(Cn.current&2)!==0),I&&(p=!0,i.flags&=-129),I=(i.flags&32)!==0,i.flags&=-33,e===null){if(Vt){if(p?ko(i):Mo(),Vt){var F=Mt,X;if(X=F){t:{for(X=F,F=Je;X.nodeType!==8;){if(!F){F=null;break t}if(X=Os(X.nextSibling),X===null){F=null;break t}}F=X}F!==null?(i.memoizedState={dehydrated:F,treeContext:A!==null?{id:U,overflow:K}:null,retryLane:536870912,hydrationErrors:null},X=vi(18,null,null,0),X.stateNode=F,X.return=i,i.child=X,Rt=i,Mt=null,X=!0):X=!1}X||Ci(i)}if(F=i.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return xm(F)?i.lanes=32:i.lanes=536870912,null;Lr(i)}return F=c.children,c=c.fallback,p?(Mo(),p=i.mode,F=yh({mode:"hidden",children:F},p),c=nr(c,p,a,null),F.return=i,c.return=i,F.sibling=c,i.child=F,p=i.child,p.memoizedState=Ud(a),p.childLanes=zd(e,I,a),i.memoizedState=jd,c):(ko(i),Bd(i,F))}if(X=e.memoizedState,X!==null&&(F=X.dehydrated,F!==null)){if(_)i.flags&256?(ko(i),i.flags&=-257,i=Hd(e,i,a)):i.memoizedState!==null?(Mo(),i.child=e.child,i.flags|=128,i=null):(Mo(),p=c.fallback,F=i.mode,c=yh({mode:"visible",children:c.children},F),p=nr(p,F,a,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,Al(i,e.child,null,a),c=i.child,c.memoizedState=Ud(a),c.childLanes=zd(e,I,a),i.memoizedState=jd,i=p);else if(ko(i),xm(F)){if(I=F.nextSibling&&F.nextSibling.dataset,I)var pt=I.dgst;I=pt,c=Error(o(419)),c.stack="",c.digest=I,Ao({value:c,source:null,stack:null}),i=Hd(e,i,a)}else if(Un||Ra(e,i,a,!1),I=(a&e.childLanes)!==0,Un||I){if(I=He,I!==null&&(c=a&-a,c=(c&42)!==0?1:ts(c),c=(c&(I.suspendedLanes|a))!==0?0:c,c!==0&&c!==X.retryLane))throw X.retryLane=c,Eo(e,c),Ji(I,e,c),V_;F.data==="$?"||rm(),i=Hd(e,i,a)}else F.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=X.treeContext,Mt=Os(F.nextSibling),Rt=i,Vt=!0,Be=null,Je=!1,e!==null&&(d[v++]=U,d[v++]=K,d[v++]=A,U=e.id,K=e.overflow,A=i),i=Bd(i,c.children),i.flags|=4096);return i}return p?(Mo(),p=c.fallback,F=i.mode,X=e.child,pt=X.sibling,c=hs(X,{mode:"hidden",children:c.children}),c.subtreeFlags=X.subtreeFlags&65011712,pt!==null?p=hs(pt,p):(p=nr(p,F,a,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,F=e.child.memoizedState,F===null?F=Ud(a):(X=F.cachePool,X!==null?(pt=An._currentValue,X=X.parent!==pt?{parent:pt,pool:pt}:X):X=Ug(),F={baseLanes:F.baseLanes|a,cachePool:X}),p.memoizedState=F,p.childLanes=zd(e,I,a),i.memoizedState=jd,c):(ko(i),a=e.child,e=a.sibling,a=hs(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,e!==null&&(I=i.deletions,I===null?(i.deletions=[e],i.flags|=16):I.push(e)),i.child=a,i.memoizedState=null,a)}function Bd(e,i){return i=yh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function yh(e,i){return e=vi(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hd(e,i,a){return Al(i,e.child,null,a),e=Bd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function $_(e,i,a){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Na(e.return,i,a)}function Fd(e,i,a,c,p){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=a,_.tailMode=p)}function tv(e,i,a){var c=i.pendingProps,p=c.revealOrder,_=c.tail;if(Wn(e,i,c.children,a),c=Cn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$_(e,a,i);else if(e.tag===19)$_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(ft(Cn,c),p){case"forwards":for(a=i.child,p=null;a!==null;)e=a.alternate,e!==null&&ph(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),Fd(i,!1,p,a,_);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&ph(e)===null){i.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}Fd(i,!0,a,null,_);break;case"together":Fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Or(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),jo|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ra(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(o(153));if(i.child!==null){for(e=i.child,a=hs(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=hs(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Vd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&$c(e)))}function mb(e,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),ir(i,An,e.memoizedState.cache),To();break;case 27:case 5:Xt(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:ir(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ko(i),i.flags|=128,null):(a&i.child.childLanes)!==0?J_(e,i,a):(ko(i),e=Or(e,i,a),e!==null?e.sibling:null);ko(i);break;case 19:var p=(e.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Ra(e,i,a,!1),c=(a&i.childLanes)!==0),p){if(c)return tv(e,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ft(Cn,Cn.current),c)break;return null;case 22:case 23:return i.lanes=0,W_(e,i,a);case 24:ir(i,An,e.memoizedState.cache)}return Or(e,i,a)}function ev(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Un=!0;else{if(!Vd(e,a)&&(i.flags&128)===0)return Un=!1,mb(e,i,a);Un=(e.flags&131072)!==0}else Un=!1,Vt&&(i.flags&1048576)!==0&&vt(i,u,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var c=i.elementType,p=c._init;if(c=p(c._payload),i.type=c,typeof c=="function")gl(c)?(e=La(c,e),i.tag=1,i=X_(null,i,c,e,a)):(i.tag=0,i=Pd(null,i,c,e,a));else{if(c!=null){if(p=c.$$typeof,p===Q){i.tag=11,i=q_(null,i,c,e,a);break t}else if(p===q){i.tag=14,i=G_(null,i,c,e,a);break t}}throw i=J(c)||c,Error(o(306,i,""))}}return i;case 0:return Pd(e,i,i.type,i.pendingProps,a);case 1:return c=i.type,p=La(c,i.pendingProps),X_(e,i,c,p,a);case 3:t:{if(kt(i,i.stateNode.containerInfo),e===null)throw Error(o(387));c=i.pendingProps;var _=i.memoizedState;p=_.element,fd(e,i),Su(i,c,null,a);var I=i.memoizedState;if(c=I.cache,ir(i,An,c),c!==_.cache&&vl(i,[An],a,!0),Eu(),c=I.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:I.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=Q_(e,i,c,a);break t}else if(c!==p){p=gi(Error(o(424)),i),Ao(p),i=Q_(e,i,c,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Mt=Os(e.firstChild),Rt=i,Vt=!0,Be=null,Je=!0,a=L_(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(To(),c===p){i=Or(e,i,a);break t}Wn(e,i,c,a)}i=i.child}return i;case 26:return vh(e,i),e===null?(a=r0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Vt||(a=i.type,e=i.pendingProps,c=Lh(wt.current).createElement(a),c[un]=i,c[sn]=e,Kn(c,a,e),Qe(c),i.stateNode=c):i.memoizedState=r0(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Xt(i),e===null&&Vt&&(c=i.stateNode=n0(i.type,i.pendingProps,wt.current),Rt=i,Je=!0,p=Mt,Ho(i.type)?(Em=p,Mt=Os(c.firstChild)):Mt=p),Wn(e,i,i.pendingProps.children,a),vh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Vt&&((p=c=Mt)&&(c=Fb(c,i.type,i.pendingProps,Je),c!==null?(i.stateNode=c,Rt=i,Mt=Os(c.firstChild),Je=!1,p=!0):p=!1),p||Ci(i)),Xt(i),p=i.type,_=i.pendingProps,I=e!==null?e.memoizedProps:null,c=_.children,ym(p,_)?c=null:I!==null&&ym(p,I)&&(i.flags|=32),i.memoizedState!==null&&(p=vd(e,i,ob,null,null,a),Zu._currentValue=p),vh(e,i),Wn(e,i,c,a),i.child;case 6:return e===null&&Vt&&((e=a=Mt)&&(a=Vb(a,i.pendingProps,Je),a!==null?(i.stateNode=a,Rt=i,Mt=null,e=!0):e=!1),e||Ci(i)),null;case 13:return J_(e,i,a);case 4:return kt(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Al(i,null,c,a):Wn(e,i,c,a),i.child;case 11:return q_(e,i,i.type,i.pendingProps,a);case 7:return Wn(e,i,i.pendingProps,a),i.child;case 8:return Wn(e,i,i.pendingProps.children,a),i.child;case 12:return Wn(e,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,ir(i,i.type,c.value),Wn(e,i,c.children,a),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Ia(i),p=ai(p),c=c(p),i.flags|=1,Wn(e,i,c,a),i.child;case 14:return G_(e,i,i.type,i.pendingProps,a);case 15:return Z_(e,i,i.type,i.pendingProps,a);case 19:return tv(e,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},e===null?(a=yh(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=hs(e.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return W_(e,i,a);case 24:return Ia(i),c=ai(An),e===null?(p=ud(),p===null&&(p=He,_=ad(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=a),p=_),i.memoizedState={parent:c,cache:p},hd(i),ir(i,An,p)):((e.lanes&a)!==0&&(fd(e,i),Su(i,null,null,a),Eu()),p=e.memoizedState,_=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),ir(i,An,c)):(c=_.cache,ir(i,An,c),c!==p.cache&&vl(i,[An],a,!0))),Wn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Dr(e){e.flags|=4}function nv(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c0(i)){if(i=ds.current,i!==null&&((ce&4194048)===ce?sr!==null:(ce&62914560)!==ce&&(ce&536870912)===0||i!==sr))throw bu=cd,zg;e.flags|=8192}}function wh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Oi():536870912,e.lanes|=i,Il|=i)}function ku(e,i){if(!Vt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function $e(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(i)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=a,i}function pb(e,i,a){var c=i.pendingProps;switch(Nt(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(i),null;case 1:return $e(i),null;case 3:return a=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ms(An),Gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ca(i)?Dr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jc())),$e(i),null;case 26:return a=i.memoizedState,e===null?(Dr(i),a!==null?($e(i),nv(i,a)):($e(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Dr(i),$e(i),nv(i,a)):($e(i),i.flags&=-16777217):(e.memoizedProps!==c&&Dr(i),$e(i),i.flags&=-16777217),null;case 27:oe(i),a=wt.current;var p=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Dr(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return $e(i),null}e=mt.current,Ca(i)?Xc(i):(e=n0(p,c,a),i.stateNode=e,Dr(i))}return $e(i),null;case 5:if(oe(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Dr(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return $e(i),null}if(e=mt.current,Ca(i))Xc(i);else{switch(p=Lh(wt.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?p.createElement(a,{is:c.is}):p.createElement(a)}}e[un]=i,e[sn]=c;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=e;t:switch(Kn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Dr(i)}}return $e(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Dr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(e=wt.current,Ca(i)){if(e=i.stateNode,a=i.memoizedProps,c=null,p=Rt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[un]=i,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Kv(e.nodeValue,a)),e||Ci(i)}else e=Lh(e).createTextNode(c),e[un]=i,i.stateNode=e}return $e(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Ca(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(o(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[un]=i}else To(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$e(i),p=!1}else p=Jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Lr(i),i):(Lr(i),null)}if(Lr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var _=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==p&&(c.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),wh(i,i.updateQueue),$e(i),null;case 4:return Gt(),e===null&&mm(i.stateNode.containerInfo),$e(i),null;case 10:return Ms(i.type),$e(i),null;case 19:if(lt(Cn),p=i.memoizedState,p===null)return $e(i),null;if(c=(i.flags&128)!==0,_=p.rendering,_===null)if(c)ku(p,!1);else{if(rn!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=ph(e),_!==null){for(i.flags|=128,ku(p,!1),e=_.updateQueue,i.updateQueue=e,wh(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)gu(a,e),a=a.sibling;return ft(Cn,Cn.current&1|2),i.child}e=e.sibling}p.tail!==null&&Zt()>Eh&&(i.flags|=128,c=!0,ku(p,!1),i.lanes=4194304)}else{if(!c)if(e=ph(_),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,wh(i,e),ku(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Vt)return $e(i),null}else 2*Zt()-p.renderingStartTime>Eh&&a!==536870912&&(i.flags|=128,c=!0,ku(p,!1),i.lanes=4194304);p.isBackwards?(_.sibling=i.child,i.child=_):(e=p.last,e!==null?e.sibling=_:i.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Zt(),i.sibling=null,e=Cn.current,ft(Cn,c?e&1|2:e&1),i):($e(i),null);case 22:case 23:return Lr(i),gd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&($e(i),i.subtreeFlags&6&&(i.flags|=8192)):$e(i),a=i.updateQueue,a!==null&&wh(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),e!==null&&lt(ka),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ms(An),$e(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function gb(e,i){switch(Nt(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ms(An),Gt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return oe(i),null;case 13:if(Lr(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(o(340));To()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return lt(Cn),null;case 4:return Gt(),null;case 10:return Ms(i.type),null;case 22:case 23:return Lr(i),gd(),e!==null&&lt(ka),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ms(An),null;case 25:return null;default:return null}}function iv(e,i){switch(Nt(i),i.tag){case 3:Ms(An),Gt();break;case 26:case 27:case 5:oe(i);break;case 4:Gt();break;case 13:Lr(i);break;case 19:lt(Cn);break;case 10:Ms(i.type);break;case 22:case 23:Lr(i),gd(),e!==null&&lt(ka);break;case 24:Ms(An)}}function Mu(e,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&e)===e){c=void 0;var _=a.create,I=a.inst;c=_(),I.destroy=c}a=a.next}while(a!==p)}}catch(F){De(i,i.return,F)}}function Lo(e,i,a){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&e)===e){var I=c.inst,F=I.destroy;if(F!==void 0){I.destroy=void 0,p=i;var X=a,pt=F;try{pt()}catch(bt){De(p,X,bt)}}}c=c.next}while(c!==_)}}catch(bt){De(i,i.return,bt)}}function sv(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Gg(i,a)}catch(c){De(e,e.return,c)}}}function rv(e,i,a){a.props=La(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){De(e,i,c)}}function Lu(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(p){De(e,i,p)}}function rr(e,i){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){De(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){De(e,i,p)}else a.current=null}function ov(e){var i=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){De(e,e.return,p)}}function qd(e,i,a){try{var c=e.stateNode;jb(c,e.type,a,i),c[sn]=i}catch(p){De(e,e.return,p)}}function av(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ho(e.type)||e.tag===4}function Gd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||av(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ho(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zd(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Mh));else if(c!==4&&(c===27&&Ho(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Zd(e,i,a),e=e.sibling;e!==null;)Zd(e,i,a),e=e.sibling}function bh(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(c!==4&&(c===27&&Ho(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bh(e,i,a),e=e.sibling;e!==null;)bh(e,i,a),e=e.sibling}function lv(e){var i=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Kn(i,c,a),i[un]=e,i[sn]=a}catch(_){De(e,e.return,_)}}var Pr=!1,fn=!1,Wd=!1,uv=typeof WeakSet=="function"?WeakSet:Set,zn=null;function _b(e,i){if(e=e.containerInfo,_m=zh,e=wa(e),ba(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break t}var I=0,F=-1,X=-1,pt=0,bt=0,Et=e,gt=null;e:for(;;){for(var _t;Et!==a||p!==0&&Et.nodeType!==3||(F=I+p),Et!==_||c!==0&&Et.nodeType!==3||(X=I+c),Et.nodeType===3&&(I+=Et.nodeValue.length),(_t=Et.firstChild)!==null;)gt=Et,Et=_t;for(;;){if(Et===e)break e;if(gt===a&&++pt===p&&(F=I),gt===_&&++bt===c&&(X=I),(_t=Et.nextSibling)!==null)break;Et=gt,gt=Et.parentNode}Et=_t}a=F===-1||X===-1?null:{start:F,end:X}}else a=null}a=a||{start:0,end:0}}else a=null;for(vm={focusedElem:e,selectionRange:a},zh=!1,zn=i;zn!==null;)if(i=zn,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,zn=e;else for(;zn!==null;){switch(i=zn,_=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,a=i,p=_.memoizedProps,_=_.memoizedState,c=a.stateNode;try{var Ft=La(a.type,p,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(Ft,_),c.__reactInternalSnapshotBeforeUpdate=e}catch(jt){De(a,a.return,jt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)bm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=i.sibling,e!==null){e.return=i.return,zn=e;break}zn=i.return}}function cv(e,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Oo(e,a),c&4&&Mu(5,a);break;case 1:if(Oo(e,a),c&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(I){De(a,a.return,I)}else{var p=La(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(I){De(a,a.return,I)}}c&64&&sv(a),c&512&&Lu(a,a.return);break;case 3:if(Oo(e,a),c&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Gg(e,i)}catch(I){De(a,a.return,I)}}break;case 27:i===null&&c&4&&lv(a);case 26:case 5:Oo(e,a),i===null&&c&4&&ov(a),c&512&&Lu(a,a.return);break;case 12:Oo(e,a);break;case 13:Oo(e,a),c&4&&dv(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ab.bind(null,a),qb(e,a))));break;case 22:if(c=a.memoizedState!==null||Pr,!c){i=i!==null&&i.memoizedState!==null||fn,p=Pr;var _=fn;Pr=c,(fn=i)&&!_?Do(e,a,(a.subtreeFlags&8772)!==0):Oo(e,a),Pr=p,fn=_}break;case 30:break;default:Oo(e,a)}}function hv(e){var i=e.alternate;i!==null&&(e.alternate=null,hv(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Gs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Ri=!1;function jr(e,i,a){for(a=a.child;a!==null;)fv(e,i,a),a=a.sibling}function fv(e,i,a){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:fn||rr(a,i),jr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fn||rr(a,i);var c=Ke,p=Ri;Ho(a.type)&&(Ke=a.stateNode,Ri=!1),jr(e,i,a),Fu(a.stateNode),Ke=c,Ri=p;break;case 5:fn||rr(a,i);case 6:if(c=Ke,p=Ri,Ke=null,jr(e,i,a),Ke=c,Ri=p,Ke!==null)if(Ri)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(_){De(a,i,_)}else try{Ke.removeChild(a.stateNode)}catch(_){De(a,i,_)}break;case 18:Ke!==null&&(Ri?(e=Ke,t0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xu(e)):t0(Ke,a.stateNode));break;case 4:c=Ke,p=Ri,Ke=a.stateNode.containerInfo,Ri=!0,jr(e,i,a),Ke=c,Ri=p;break;case 0:case 11:case 14:case 15:fn||Lo(2,a,i),fn||Lo(4,a,i),jr(e,i,a);break;case 1:fn||(rr(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&rv(a,i,c)),jr(e,i,a);break;case 21:jr(e,i,a);break;case 22:fn=(c=fn)||a.memoizedState!==null,jr(e,i,a),fn=c;break;default:jr(e,i,a)}}function dv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xu(e)}catch(a){De(i,i.return,a)}}function vb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new uv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new uv),i;default:throw Error(o(435,e.tag))}}function Yd(e,i){var a=vb(e);i.forEach(function(c){var p=Cb.bind(null,e,c);a.has(c)||(a.add(c),c.then(p,p))})}function Yi(e,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],_=e,I=i,F=I;t:for(;F!==null;){switch(F.tag){case 27:if(Ho(F.type)){Ke=F.stateNode,Ri=!1;break t}break;case 5:Ke=F.stateNode,Ri=!1;break t;case 3:case 4:Ke=F.stateNode.containerInfo,Ri=!0;break t}F=F.return}if(Ke===null)throw Error(o(160));fv(_,I,p),Ke=null,Ri=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)mv(i,e),i=i.sibling}var Ls=null;function mv(e,i){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yi(i,e),Ki(e),c&4&&(Lo(3,e,e.return),Mu(3,e),Lo(5,e,e.return));break;case 1:Yi(i,e),Ki(e),c&512&&(fn||a===null||rr(a,a.return)),c&64&&Pr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=Ls;if(Yi(i,e),Ki(e),c&512&&(fn||a===null||rr(a,a.return)),c&4){var _=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":_=p.getElementsByTagName("title")[0],(!_||_[qs]||_[un]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(c),p.head.insertBefore(_,p.querySelector("head > title"))),Kn(_,c,a),_[un]=e,Qe(_),c=_;break t;case"link":var I=l0("link","href",p).get(c+(a.href||""));if(I){for(var F=0;F<I.length;F++)if(_=I[F],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){I.splice(F,1);break e}}_=p.createElement(c),Kn(_,c,a),p.head.appendChild(_);break;case"meta":if(I=l0("meta","content",p).get(c+(a.content||""))){for(F=0;F<I.length;F++)if(_=I[F],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){I.splice(F,1);break e}}_=p.createElement(c),Kn(_,c,a),p.head.appendChild(_);break;default:throw Error(o(468,c))}_[un]=e,Qe(_),c=_}e.stateNode=c}else u0(p,e.type,e.stateNode);else e.stateNode=a0(p,c,e.memoizedProps);else _!==c?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,c===null?u0(p,e.type,e.stateNode):a0(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&qd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Yi(i,e),Ki(e),c&512&&(fn||a===null||rr(a,a.return)),a!==null&&c&4&&qd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Yi(i,e),Ki(e),c&512&&(fn||a===null||rr(a,a.return)),e.flags&32){p=e.stateNode;try{On(p,"")}catch(_t){De(e,e.return,_t)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,qd(e,p,a!==null?a.memoizedProps:p)),c&1024&&(Wd=!0);break;case 6:if(Yi(i,e),Ki(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(_t){De(e,e.return,_t)}}break;case 3:if(Ph=null,p=Ls,Ls=Oh(i.containerInfo),Yi(i,e),Ls=p,Ki(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Xu(i.containerInfo)}catch(_t){De(e,e.return,_t)}Wd&&(Wd=!1,pv(e));break;case 4:c=Ls,Ls=Oh(e.stateNode.containerInfo),Yi(i,e),Ki(e),Ls=c;break;case 12:Yi(i,e),Ki(e);break;case 13:Yi(i,e),Ki(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tm=Zt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Yd(e,c)));break;case 22:p=e.memoizedState!==null;var X=a!==null&&a.memoizedState!==null,pt=Pr,bt=fn;if(Pr=pt||p,fn=bt||X,Yi(i,e),fn=bt,Pr=pt,Ki(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(a===null||X||Pr||fn||Oa(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){X=a=i;try{if(_=X.stateNode,p)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{F=X.stateNode;var Et=X.memoizedProps.style,gt=Et!=null&&Et.hasOwnProperty("display")?Et.display:null;F.style.display=gt==null||typeof gt=="boolean"?"":(""+gt).trim()}}catch(_t){De(X,X.return,_t)}}}else if(i.tag===6){if(a===null){X=i;try{X.stateNode.nodeValue=p?"":X.memoizedProps}catch(_t){De(X,X.return,_t)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Yd(e,a))));break;case 19:Yi(i,e),Ki(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Yd(e,c)));break;case 30:break;case 21:break;default:Yi(i,e),Ki(e)}}function Ki(e){var i=e.flags;if(i&2){try{for(var a,c=e.return;c!==null;){if(av(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var p=a.stateNode,_=Gd(e);bh(e,_,p);break;case 5:var I=a.stateNode;a.flags&32&&(On(I,""),a.flags&=-33);var F=Gd(e);bh(e,F,I);break;case 3:case 4:var X=a.stateNode.containerInfo,pt=Gd(e);Zd(e,pt,X);break;default:throw Error(o(161))}}catch(bt){De(e,e.return,bt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function pv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;pv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Oo(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cv(e,i.alternate,i),i=i.sibling}function Oa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Lo(4,i,i.return),Oa(i);break;case 1:rr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&rv(i,i.return,a),Oa(i);break;case 27:Fu(i.stateNode);case 26:case 5:rr(i,i.return),Oa(i);break;case 22:i.memoizedState===null&&Oa(i);break;case 30:Oa(i);break;default:Oa(i)}e=e.sibling}}function Do(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,_=i,I=_.flags;switch(_.tag){case 0:case 11:case 15:Do(p,_,a),Mu(4,_);break;case 1:if(Do(p,_,a),c=_,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(pt){De(c,c.return,pt)}if(c=_,p=c.updateQueue,p!==null){var F=c.stateNode;try{var X=p.shared.hiddenCallbacks;if(X!==null)for(p.shared.hiddenCallbacks=null,p=0;p<X.length;p++)qg(X[p],F)}catch(pt){De(c,c.return,pt)}}a&&I&64&&sv(_),Lu(_,_.return);break;case 27:lv(_);case 26:case 5:Do(p,_,a),a&&c===null&&I&4&&ov(_),Lu(_,_.return);break;case 12:Do(p,_,a);break;case 13:Do(p,_,a),a&&I&4&&dv(p,_);break;case 22:_.memoizedState===null&&Do(p,_,a),Lu(_,_.return);break;case 30:break;default:Do(p,_,a)}i=i.sibling}}function Kd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&vu(a))}function Xd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&vu(e))}function or(e,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gv(e,i,a,c),i=i.sibling}function gv(e,i,a,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:or(e,i,a,c),p&2048&&Mu(9,i);break;case 1:or(e,i,a,c);break;case 3:or(e,i,a,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&vu(e)));break;case 12:if(p&2048){or(e,i,a,c),e=i.stateNode;try{var _=i.memoizedProps,I=_.id,F=_.onPostCommit;typeof F=="function"&&F(I,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(X){De(i,i.return,X)}}else or(e,i,a,c);break;case 13:or(e,i,a,c);break;case 23:break;case 22:_=i.stateNode,I=i.alternate,i.memoizedState!==null?_._visibility&2?or(e,i,a,c):Ou(e,i):_._visibility&2?or(e,i,a,c):(_._visibility|=2,Cl(e,i,a,c,(i.subtreeFlags&10256)!==0)),p&2048&&Kd(I,i);break;case 24:or(e,i,a,c),p&2048&&Xd(i.alternate,i);break;default:or(e,i,a,c)}}function Cl(e,i,a,c,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var _=e,I=i,F=a,X=c,pt=I.flags;switch(I.tag){case 0:case 11:case 15:Cl(_,I,F,X,p),Mu(8,I);break;case 23:break;case 22:var bt=I.stateNode;I.memoizedState!==null?bt._visibility&2?Cl(_,I,F,X,p):Ou(_,I):(bt._visibility|=2,Cl(_,I,F,X,p)),p&&pt&2048&&Kd(I.alternate,I);break;case 24:Cl(_,I,F,X,p),p&&pt&2048&&Xd(I.alternate,I);break;default:Cl(_,I,F,X,p)}i=i.sibling}}function Ou(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,c=i,p=c.flags;switch(c.tag){case 22:Ou(a,c),p&2048&&Kd(c.alternate,c);break;case 24:Ou(a,c),p&2048&&Xd(c.alternate,c);break;default:Ou(a,c)}i=i.sibling}}var Du=8192;function Nl(e){if(e.subtreeFlags&Du)for(e=e.child;e!==null;)_v(e),e=e.sibling}function _v(e){switch(e.tag){case 26:Nl(e),e.flags&Du&&e.memoizedState!==null&&ix(Ls,e.memoizedState,e.memoizedProps);break;case 5:Nl(e);break;case 3:case 4:var i=Ls;Ls=Oh(e.stateNode.containerInfo),Nl(e),Ls=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Du,Du=16777216,Nl(e),Du=i):Nl(e));break;default:Nl(e)}}function vv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Pu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];zn=c,wv(c,e)}vv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yv(e),e=e.sibling}function yv(e){switch(e.tag){case 0:case 11:case 15:Pu(e),e.flags&2048&&Lo(9,e,e.return);break;case 3:Pu(e);break;case 12:Pu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,xh(e)):Pu(e);break;default:Pu(e)}}function xh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];zn=c,wv(c,e)}vv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Lo(8,i,i.return),xh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xh(i));break;default:xh(i)}e=e.sibling}}function wv(e,i){for(;zn!==null;){var a=zn;switch(a.tag){case 0:case 11:case 15:Lo(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:vu(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,zn=c;else t:for(a=e;zn!==null;){c=zn;var p=c.sibling,_=c.return;if(hv(c),c===a){zn=null;break t}if(p!==null){p.return=_,zn=p;break t}zn=_}}}var yb={getCacheForType:function(e){var i=ai(An),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},wb=typeof WeakMap=="function"?WeakMap:Map,Ne=0,He=null,ie=null,ce=0,Re=0,Xi=null,Po=!1,Rl=!1,Qd=!1,Ur=0,rn=0,jo=0,Da=0,Jd=0,ms=0,Il=0,ju=null,Ii=null,$d=!1,tm=0,Eh=1/0,Sh=null,Uo=null,Yn=0,zo=null,kl=null,Ml=0,em=0,nm=null,bv=null,Uu=0,im=null;function Qi(){if((Ne&2)!==0&&ce!==0)return ce&-ce;if(M.T!==null){var e=yl;return e!==0?e:cm()}return Mn()}function xv(){ms===0&&(ms=(ce&536870912)===0||Vt?Vs():536870912);var e=ds.current;return e!==null&&(e.flags|=32),ms}function Ji(e,i,a){(e===He&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Ll(e,0),Bo(e,ce,ms,!1)),ln(e,a),((Ne&2)===0||e!==He)&&(e===He&&((Ne&2)===0&&(Da|=a),rn===4&&Bo(e,ce,ms,!1)),ar(e))}function Ev(e,i,a){if((Ne&6)!==0)throw Error(o(327));var c=!a&&(i&124)===0&&(i&e.expiredLanes)===0||hi(e,i),p=c?Eb(e,i):om(e,i,!0),_=c;do{if(p===0){Rl&&!c&&Bo(e,i,0,!1);break}else{if(a=e.current.alternate,_&&!bb(a)){p=om(e,i,!1),_=!1;continue}if(p===2){if(_=i,e.errorRecoveryDisabledLanes&_)var I=0;else I=e.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){i=I;t:{var F=e;p=ju;var X=F.current.memoizedState.isDehydrated;if(X&&(Ll(F,I).flags|=256),I=om(F,I,!1),I!==2){if(Qd&&!X){F.errorRecoveryDisabledLanes|=_,Da|=_,p=4;break t}_=Ii,Ii=p,_!==null&&(Ii===null?Ii=_:Ii.push.apply(Ii,_))}p=I}if(_=!1,p!==2)continue}}if(p===1){Ll(e,0),Bo(e,i,0,!0);break}t:{switch(c=e,_=p,_){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Bo(c,i,ms,!Po);break t;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(p=tm+300-Zt(),10<p)){if(Bo(c,i,ms,!Po),$i(c,0,!0)!==0)break t;c.timeoutHandle=Jv(Sv.bind(null,c,a,Ii,Sh,$d,i,ms,Da,Il,Po,_,2,-0,0),p);break t}Sv(c,a,Ii,Sh,$d,i,ms,Da,Il,Po,_,0,-0,0)}}break}while(!0);ar(e)}function Sv(e,i,a,c,p,_,I,F,X,pt,bt,Et,gt,_t){if(e.timeoutHandle=-1,Et=i.subtreeFlags,(Et&8192||(Et&16785408)===16785408)&&(Gu={stylesheets:null,count:0,unsuspend:nx},_v(i),Et=sx(),Et!==null)){e.cancelPendingCommit=Et(kv.bind(null,e,i,_,a,c,p,I,F,X,bt,1,gt,_t)),Bo(e,_,I,!pt);return}kv(e,i,_,a,c,p,I,F,X)}function bb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],_=p.getSnapshot;p=p.value;try{if(!mi(_(),p))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bo(e,i,a,c){i&=~Jd,i&=~Da,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var _=31-Pe(p),I=1<<_;c[_]=-1,p&=~I}a!==0&&kn(e,a,i)}function Th(){return(Ne&6)===0?(zu(0),!1):!0}function sm(){if(ie!==null){if(Re===0)var e=ie.return;else e=ie,ks=fs=null,bd(e),Tl=null,Ru=0,e=ie;for(;e!==null;)iv(e.alternate,e),e=e.return;ie=null}}function Ll(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sm(),He=e,ie=a=hs(e.current,null),ce=i,Re=0,Xi=null,Po=!1,Rl=hi(e,i),Qd=!1,Il=ms=Jd=Da=jo=rn=0,Ii=ju=null,$d=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-Pe(c),_=1<<p;i|=e[p],c&=~_}return Ur=i,Ea(),a}function Tv(e,i){Kt=null,M.H=fh,i===wu||i===nh?(i=Fg(),Re=3):i===zg?(i=Fg(),Re=4):Re=i===V_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xi=i,ie===null&&(rn=1,_h(e,gi(i,e.current)))}function Av(){var e=M.H;return M.H=fh,e===null?fh:e}function Cv(){var e=M.A;return M.A=yb,e}function rm(){rn=4,Po||(ce&4194048)!==ce&&ds.current!==null||(Rl=!0),(jo&134217727)===0&&(Da&134217727)===0||He===null||Bo(He,ce,ms,!1)}function om(e,i,a){var c=Ne;Ne|=2;var p=Av(),_=Cv();(He!==e||ce!==i)&&(Sh=null,Ll(e,i)),i=!1;var I=rn;t:do try{if(Re!==0&&ie!==null){var F=ie,X=Xi;switch(Re){case 8:sm(),I=6;break t;case 3:case 2:case 9:case 6:ds.current===null&&(i=!0);var pt=Re;if(Re=0,Xi=null,Ol(e,F,X,pt),a&&Rl){I=0;break t}break;default:pt=Re,Re=0,Xi=null,Ol(e,F,X,pt)}}xb(),I=rn;break}catch(bt){Tv(e,bt)}while(!0);return i&&e.shellSuspendCounter++,ks=fs=null,Ne=c,M.H=p,M.A=_,ie===null&&(He=null,ce=0,Ea()),I}function xb(){for(;ie!==null;)Nv(ie)}function Eb(e,i){var a=Ne;Ne|=2;var c=Av(),p=Cv();He!==e||ce!==i?(Sh=null,Eh=Zt()+500,Ll(e,i)):Rl=hi(e,i);t:do try{if(Re!==0&&ie!==null){i=ie;var _=Xi;e:switch(Re){case 1:Re=0,Xi=null,Ol(e,i,_,1);break;case 2:case 9:if(Bg(_)){Re=0,Xi=null,Rv(i);break}i=function(){Re!==2&&Re!==9||He!==e||(Re=7),ar(e)},_.then(i,i);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:Bg(_)?(Re=0,Xi=null,Rv(i)):(Re=0,Xi=null,Ol(e,i,_,7));break;case 5:var I=null;switch(ie.tag){case 26:I=ie.memoizedState;case 5:case 27:var F=ie;if(!I||c0(I)){Re=0,Xi=null;var X=F.sibling;if(X!==null)ie=X;else{var pt=F.return;pt!==null?(ie=pt,Ah(pt)):ie=null}break e}}Re=0,Xi=null,Ol(e,i,_,5);break;case 6:Re=0,Xi=null,Ol(e,i,_,6);break;case 8:sm(),rn=6;break t;default:throw Error(o(462))}}Sb();break}catch(bt){Tv(e,bt)}while(!0);return ks=fs=null,M.H=c,M.A=p,Ne=a,ie!==null?0:(He=null,ce=0,Ea(),rn)}function Sb(){for(;ie!==null&&!be();)Nv(ie)}function Nv(e){var i=ev(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,i===null?Ah(e):ie=i}function Rv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=K_(a,i,i.pendingProps,i.type,void 0,ce);break;case 11:i=K_(a,i,i.pendingProps,i.type.render,i.ref,ce);break;case 5:bd(i);default:iv(a,i),i=ie=gu(i,Ur),i=ev(a,i,Ur)}e.memoizedProps=e.pendingProps,i===null?Ah(e):ie=i}function Ol(e,i,a,c){ks=fs=null,bd(i),Tl=null,Ru=0;var p=i.return;try{if(db(e,p,i,a,ce)){rn=1,_h(e,gi(a,e.current)),ie=null;return}}catch(_){if(p!==null)throw ie=p,_;rn=1,_h(e,gi(a,e.current)),ie=null;return}i.flags&32768?(Vt||c===1?e=!0:Rl||(ce&536870912)!==0?e=!1:(Po=e=!0,(c===2||c===9||c===3||c===6)&&(c=ds.current,c!==null&&c.tag===13&&(c.flags|=16384))),Iv(i,e)):Ah(i)}function Ah(e){var i=e;do{if((i.flags&32768)!==0){Iv(i,Po);return}e=i.return;var a=pb(i.alternate,i,Ur);if(a!==null){ie=a;return}if(i=i.sibling,i!==null){ie=i;return}ie=i=e}while(i!==null);rn===0&&(rn=5)}function Iv(e,i){do{var a=gb(e.alternate,e);if(a!==null){a.flags&=32767,ie=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){ie=e;return}ie=e=a}while(e!==null);rn=6,ie=null}function kv(e,i,a,c,p,_,I,F,X){e.cancelPendingCommit=null;do Ch();while(Yn!==0);if((Ne&6)!==0)throw Error(o(327));if(i!==null){if(i===e.current)throw Error(o(177));if(_=i.lanes|i.childLanes,_|=Wi,$n(e,a,_,I,F,X),e===He&&(ie=He=null,ce=0),kl=i,zo=e,Ml=a,em=_,nm=p,bv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nb(_e,function(){return Pv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=M.T,M.T=null,p=z.p,z.p=2,I=Ne,Ne|=4;try{_b(e,i,a)}finally{Ne=I,z.p=p,M.T=c}}Yn=1,Mv(),Lv(),Ov()}}function Mv(){if(Yn===1){Yn=0;var e=zo,i=kl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var c=z.p;z.p=2;var p=Ne;Ne|=4;try{mv(i,e);var _=vm,I=wa(e.containerInfo),F=_.focusedElem,X=_.selectionRange;if(I!==F&&F&&F.ownerDocument&&hl(F.ownerDocument.documentElement,F)){if(X!==null&&ba(F)){var pt=X.start,bt=X.end;if(bt===void 0&&(bt=pt),"selectionStart"in F)F.selectionStart=pt,F.selectionEnd=Math.min(bt,F.value.length);else{var Et=F.ownerDocument||document,gt=Et&&Et.defaultView||window;if(gt.getSelection){var _t=gt.getSelection(),Ft=F.textContent.length,jt=Math.min(X.start,Ft),Le=X.end===void 0?jt:Math.min(X.end,Ft);!_t.extend&&jt>Le&&(I=Le,Le=jt,jt=I);var at=mu(F,jt),tt=mu(F,Le);if(at&&tt&&(_t.rangeCount!==1||_t.anchorNode!==at.node||_t.anchorOffset!==at.offset||_t.focusNode!==tt.node||_t.focusOffset!==tt.offset)){var dt=Et.createRange();dt.setStart(at.node,at.offset),_t.removeAllRanges(),jt>Le?(_t.addRange(dt),_t.extend(tt.node,tt.offset)):(dt.setEnd(tt.node,tt.offset),_t.addRange(dt))}}}}for(Et=[],_t=F;_t=_t.parentNode;)_t.nodeType===1&&Et.push({element:_t,left:_t.scrollLeft,top:_t.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Et.length;F++){var xt=Et[F];xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}zh=!!_m,vm=_m=null}finally{Ne=p,z.p=c,M.T=a}}e.current=i,Yn=2}}function Lv(){if(Yn===2){Yn=0;var e=zo,i=kl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var c=z.p;z.p=2;var p=Ne;Ne|=4;try{cv(e,i.alternate,i)}finally{Ne=p,z.p=c,M.T=a}}Yn=3}}function Ov(){if(Yn===4||Yn===3){Yn=0,We();var e=zo,i=kl,a=Ml,c=bv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yn=5:(Yn=0,kl=zo=null,Dv(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Uo=null),ti(a),i=i.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=M.T,p=z.p,z.p=2,M.T=null;try{for(var _=e.onRecoverableError,I=0;I<c.length;I++){var F=c[I];_(F.value,{componentStack:F.stack})}}finally{M.T=i,z.p=p}}(Ml&3)!==0&&Ch(),ar(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===im?Uu++:(Uu=0,im=e):Uu=0,zu(0)}}function Dv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,vu(i)))}function Ch(e){return Mv(),Lv(),Ov(),Pv()}function Pv(){if(Yn!==5)return!1;var e=zo,i=em;em=0;var a=ti(Ml),c=M.T,p=z.p;try{z.p=32>a?32:a,M.T=null,a=nm,nm=null;var _=zo,I=Ml;if(Yn=0,kl=zo=null,Ml=0,(Ne&6)!==0)throw Error(o(331));var F=Ne;if(Ne|=4,yv(_.current),gv(_,_.current,I,a),Ne=F,zu(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(ae,_)}catch{}return!0}finally{z.p=p,M.T=c,Dv(e,i)}}function jv(e,i,a){i=gi(a,i),i=Dd(e.stateNode,i,2),e=Ro(e,i,2),e!==null&&(ln(e,2),ar(e))}function De(e,i,a){if(e.tag===3)jv(e,e,a);else for(;i!==null;){if(i.tag===3){jv(i,e,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Uo===null||!Uo.has(c))){e=gi(a,e),a=H_(2),c=Ro(i,a,2),c!==null&&(F_(a,c,i,e),ln(c,2),ar(c));break}}i=i.return}}function am(e,i,a){var c=e.pingCache;if(c===null){c=e.pingCache=new wb;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(a)||(Qd=!0,p.add(a),e=Tb.bind(null,e,i,a),i.then(e,e))}function Tb(e,i,a){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(ce&a)===a&&(rn===4||rn===3&&(ce&62914560)===ce&&300>Zt()-tm?(Ne&2)===0&&Ll(e,0):Jd|=a,Il===ce&&(Il=0)),ar(e)}function Uv(e,i){i===0&&(i=Oi()),e=Eo(e,i),e!==null&&(ln(e,i),ar(e))}function Ab(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Uv(e,a)}function Cb(e,i){var a=0;switch(e.tag){case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(i),Uv(e,a)}function Nb(e,i){return En(e,i)}var Nh=null,Dl=null,lm=!1,Rh=!1,um=!1,Pa=0;function ar(e){e!==Dl&&e.next===null&&(Dl===null?Nh=Dl=e:Dl=Dl.next=e),Rh=!0,lm||(lm=!0,Ib())}function zu(e,i){if(!um&&Rh){um=!0;do for(var a=!1,c=Nh;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var _=0;else{var I=c.suspendedLanes,F=c.pingedLanes;_=(1<<31-Pe(42|e)+1)-1,_&=p&~(I&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,Fv(c,_))}else _=ce,_=$i(c,c===He?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||hi(c,_)||(a=!0,Fv(c,_));c=c.next}while(a);um=!1}}function Rb(){zv()}function zv(){Rh=lm=!1;var e=0;Pa!==0&&(Ub()&&(e=Pa),Pa=0);for(var i=Zt(),a=null,c=Nh;c!==null;){var p=c.next,_=Bv(c,i);_===0?(c.next=null,a===null?Nh=p:a.next=p,p===null&&(Dl=a)):(a=c,(e!==0||(_&3)!==0)&&(Rh=!0)),c=p}zu(e)}function Bv(e,i){for(var a=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var I=31-Pe(_),F=1<<I,X=p[I];X===-1?((F&a)===0||(F&c)!==0)&&(p[I]=ys(F,i)):X<=i&&(e.expiredLanes|=F),_&=~F}if(i=He,a=ce,a=$i(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===i&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&dn(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||hi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(c!==null&&dn(c),ti(a)){case 2:case 8:a=Ge;break;case 32:a=_e;break;case 268435456:a=Se;break;default:a=_e}return c=Hv.bind(null,e),a=En(a,c),e.callbackPriority=i,e.callbackNode=a,i}return c!==null&&c!==null&&dn(c),e.callbackPriority=2,e.callbackNode=null,2}function Hv(e,i){if(Yn!==0&&Yn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ch()&&e.callbackNode!==a)return null;var c=ce;return c=$i(e,e===He?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Ev(e,c,i),Bv(e,Zt()),e.callbackNode!=null&&e.callbackNode===a?Hv.bind(null,e):null)}function Fv(e,i){if(Ch())return null;Ev(e,i,!0)}function Ib(){Bb(function(){(Ne&6)!==0?En(qe,Rb):zv()})}function cm(){return Pa===0&&(Pa=Vs()),Pa}function Vv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function qv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function kb(e,i,a,c,p){if(i==="submit"&&a&&a.stateNode===p){var _=Vv((p[sn]||null).action),I=c.submitter;I&&(i=(i=I[sn]||null)?Vv(i.formAction):I.getAttribute("formAction"),i!==null&&(_=i,I=null));var F=new xr("action","action",null,c,p);e.push({event:F,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Pa!==0){var X=I?qv(p,I):new FormData(p);Id(a,{pending:!0,data:X,method:p.method,action:_},null,X)}}else typeof _=="function"&&(F.preventDefault(),X=I?qv(p,I):new FormData(p),Id(a,{pending:!0,data:X,method:p.method,action:_},_,X))},currentTarget:p}]})}}for(var hm=0;hm<Cr.length;hm++){var fm=Cr[hm],Mb=fm.toLowerCase(),Lb=fm[0].toUpperCase()+fm.slice(1);Zi(Mb,"on"+Lb)}Zi(Wc,"onAnimationEnd"),Zi(Gi,"onAnimationIteration"),Zi(xa,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(rd,"onTransitionRun"),Zi(pl,"onTransitionStart"),Zi(od,"onTransitionCancel"),Zi(pu,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function Gv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],p=c.event;c=c.listeners;t:{var _=void 0;if(i)for(var I=c.length-1;0<=I;I--){var F=c[I],X=F.instance,pt=F.currentTarget;if(F=F.listener,X!==_&&p.isPropagationStopped())break t;_=F,p.currentTarget=pt;try{_(p)}catch(bt){gh(bt)}p.currentTarget=null,_=X}else for(I=0;I<c.length;I++){if(F=c[I],X=F.instance,pt=F.currentTarget,F=F.listener,X!==_&&p.isPropagationStopped())break t;_=F,p.currentTarget=pt;try{_(p)}catch(bt){gh(bt)}p.currentTarget=null,_=X}}}}function se(e,i){var a=i[ei];a===void 0&&(a=i[ei]=new Set);var c=e+"__bubble";a.has(c)||(Zv(i,e,2,!1),a.add(c))}function dm(e,i,a){var c=0;i&&(c|=4),Zv(a,e,c,i)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function mm(e){if(!e[Ih]){e[Ih]=!0,ca.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||dm(a,!1,e),dm(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ih]||(i[Ih]=!0,dm("selectionchange",!1,i))}}function Zv(e,i,a,c){switch(g0(i)){case 2:var p=ax;break;case 8:p=lx;break;default:p=Nm}a=p.bind(null,i,a,e),p=void 0,!ni||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,a,{capture:!0,passive:p}):e.addEventListener(i,a,!0):p!==void 0?e.addEventListener(i,a,{passive:p}):e.addEventListener(i,a,!1)}function pm(e,i,a,c,p){var _=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var I=c.tag;if(I===3||I===4){var F=c.stateNode.containerInfo;if(F===p)break;if(I===4)for(I=c.return;I!==null;){var X=I.tag;if((X===3||X===4)&&I.stateNode.containerInfo===p)return;I=I.return}for(;F!==null;){if(I=es(F),I===null)return;if(X=I.tag,X===5||X===6||X===26||X===27){c=_=I;continue t}F=F.parentNode}}c=c.return}di(function(){var pt=_,bt=Gn(a),Et=[];t:{var gt=Yc.get(e);if(gt!==void 0){var _t=xr,Ft=e;switch(e){case"keypress":if(Ie(a)===0)break t;case"keydown":case"keyup":_t=fo;break;case"focusin":Ft="focus",_t=ao;break;case"focusout":Ft="blur",_t=ao;break;case"beforeblur":case"afterblur":_t=ao;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=ll;break;case Wc:case Gi:case xa:_t=uo;break;case pu:_t=ul;break;case"scroll":case"scrollend":_t=ol;break;case"wheel":_t=Zn;break;case"copy":case"cut":case"paste":_t=Qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=mo;break;case"toggle":case"beforetoggle":_t=us}var jt=(i&4)!==0,Le=!jt&&(e==="scroll"||e==="scrollend"),at=jt?gt!==null?gt+"Capture":null:gt;jt=[];for(var tt=pt,dt;tt!==null;){var xt=tt;if(dt=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||dt===null||at===null||(xt=ue(tt,at),xt!=null&&jt.push(Hu(tt,xt,dt))),Le)break;tt=tt.return}0<jt.length&&(gt=new _t(gt,Ft,null,a,bt),Et.push({event:gt,listeners:jt}))}}if((i&7)===0){t:{if(gt=e==="mouseover"||e==="pointerover",_t=e==="mouseout"||e==="pointerout",gt&&a!==Bi&&(Ft=a.relatedTarget||a.fromElement)&&(es(Ft)||Ft[Si]))break t;if((_t||gt)&&(gt=bt.window===bt?bt:(gt=bt.ownerDocument)?gt.defaultView||gt.parentWindow:window,_t?(Ft=a.relatedTarget||a.toElement,_t=pt,Ft=Ft?es(Ft):null,Ft!==null&&(Le=h(Ft),jt=Ft.tag,Ft!==Le||jt!==5&&jt!==27&&jt!==6)&&(Ft=null)):(_t=null,Ft=pt),_t!==Ft)){if(jt=Pn,xt="onMouseLeave",at="onMouseEnter",tt="mouse",(e==="pointerout"||e==="pointerover")&&(jt=mo,xt="onPointerLeave",at="onPointerEnter",tt="pointer"),Le=_t==null?gt:Vn(_t),dt=Ft==null?gt:Vn(Ft),gt=new jt(xt,tt+"leave",_t,a,bt),gt.target=Le,gt.relatedTarget=dt,xt=null,es(bt)===pt&&(jt=new jt(at,tt+"enter",Ft,a,bt),jt.target=dt,jt.relatedTarget=Le,xt=jt),Le=xt,_t&&Ft)e:{for(jt=_t,at=Ft,tt=0,dt=jt;dt;dt=Pl(dt))tt++;for(dt=0,xt=at;xt;xt=Pl(xt))dt++;for(;0<tt-dt;)jt=Pl(jt),tt--;for(;0<dt-tt;)at=Pl(at),dt--;for(;tt--;){if(jt===at||at!==null&&jt===at.alternate)break e;jt=Pl(jt),at=Pl(at)}jt=null}else jt=null;_t!==null&&Wv(Et,gt,_t,jt,!1),Ft!==null&&Le!==null&&Wv(Et,Le,Ft,jt,!0)}}t:{if(gt=pt?Vn(pt):window,_t=gt.nodeName&&gt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&gt.type==="file")var It=_o;else if(ri(gt))if(hu)It=sd;else{It=id;var Jt=du}else _t=gt.nodeName,!_t||_t.toLowerCase()!=="input"||gt.type!=="checkbox"&&gt.type!=="radio"?pt&&br(pt.elementType)&&(It=_o):It=Is;if(It&&(It=It(e,pt))){oi(Et,It,a,bt);break t}Jt&&Jt(e,gt,pt),e==="focusout"&&pt&&gt.type==="number"&&pt.memoizedProps.value!=null&&Ui(gt,"number",gt.value)}switch(Jt=pt?Vn(pt):window,e){case"focusin":(ri(Jt)||Jt.contentEditable==="true")&&(qi=Jt,wo=pt,Ar=null);break;case"focusout":Ar=wo=qi=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Gc(Et,a,bt);break;case"selectionchange":if(fl)break;case"keydown":case"keyup":Gc(Et,a,bt)}var Ot;if(f)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ze?At(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(V&&a.locale!=="ko"&&(ze||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ze&&(Ot=Ss()):(Ai=bt,ii="value"in Ai?Ai.value:Ai.textContent,ze=!0)),Jt=kh(pt,Ut),0<Jt.length&&(Ut=new si(Ut,e,null,a,bt),Et.push({event:Ut,listeners:Jt}),Ot?Ut.data=Ot:(Ot=ve(a),Ot!==null&&(Ut.data=Ot)))),(Ot=R?ne(e,a):vn(e,a))&&(Ut=kh(pt,"onBeforeInput"),0<Ut.length&&(Jt=new si("onBeforeInput","beforeinput",null,a,bt),Et.push({event:Jt,listeners:Ut}),Jt.data=Ot)),kb(Et,e,pt,a,bt)}Gv(Et,i)})}function Hu(e,i,a){return{instance:e,listener:i,currentTarget:a}}function kh(e,i){for(var a=i+"Capture",c=[];e!==null;){var p=e,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=ue(e,a),p!=null&&c.unshift(Hu(e,p,_)),p=ue(e,i),p!=null&&c.push(Hu(e,p,_))),e.tag===3)return c;e=e.return}return[]}function Pl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wv(e,i,a,c,p){for(var _=i._reactName,I=[];a!==null&&a!==c;){var F=a,X=F.alternate,pt=F.stateNode;if(F=F.tag,X!==null&&X===c)break;F!==5&&F!==26&&F!==27||pt===null||(X=pt,p?(pt=ue(a,_),pt!=null&&I.unshift(Hu(a,pt,X))):p||(pt=ue(a,_),pt!=null&&I.push(Hu(a,pt,X)))),a=a.return}I.length!==0&&e.push({event:i,listeners:I})}var Db=/\r\n?/g,Pb=/\u0000|\uFFFD/g;function Yv(e){return(typeof e=="string"?e:""+e).replace(Db,`
`).replace(Pb,"")}function Kv(e,i){return i=Yv(i),Yv(e)===i}function Mh(){}function Me(e,i,a,c,p,_){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||On(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&On(e,""+c);break;case"className":is(e,"class",c);break;case"tabIndex":is(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":is(e,a,c);break;case"style":xs(e,c,_);break;case"data":if(i!=="object"){is(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Xs(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(i!=="input"&&Me(e,i,"name",p.name,p,null),Me(e,i,"formEncType",p.formEncType,p,null),Me(e,i,"formMethod",p.formMethod,p,null),Me(e,i,"formTarget",p.formTarget,p,null)):(Me(e,i,"encType",p.encType,p,null),Me(e,i,"method",p.method,p,null),Me(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Xs(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=Mh);break;case"onScroll":c!=null&&se("scroll",e);break;case"onScrollEnd":c!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=Xs(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":se("beforetoggle",e),se("toggle",e),Zs(e,"popover",c);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zs(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fa.get(a)||a,Zs(e,a,c))}}function gm(e,i,a,c,p,_){switch(a){case"style":xs(e,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof c=="string"?On(e,c):(typeof c=="number"||typeof c=="bigint")&&On(e,""+c);break;case"onScroll":c!=null&&se("scroll",e);break;case"onScrollEnd":c!=null&&se("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),i=a.slice(2,p?a.length-7:void 0),_=e[sn]||null,_=_!=null?_[a]:null,typeof _=="function"&&e.removeEventListener(i,_,p),typeof c=="function")){typeof _!="function"&&_!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,c,p);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Zs(e,a,c)}}}function Kn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var c=!1,p=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var I=a[_];if(I!=null)switch(_){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Me(e,i,_,I,a,null)}}p&&Me(e,i,"srcSet",a.srcSet,a,null),c&&Me(e,i,"src",a.src,a,null);return;case"input":se("invalid",e);var F=_=I=p=null,X=null,pt=null;for(c in a)if(a.hasOwnProperty(c)){var bt=a[c];if(bt!=null)switch(c){case"name":p=bt;break;case"type":I=bt;break;case"checked":X=bt;break;case"defaultChecked":pt=bt;break;case"value":_=bt;break;case"defaultValue":F=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(o(137,i));break;default:Me(e,i,c,bt,a,null)}}wr(e,_,F,X,pt,I,p,!1),Ks(e);return;case"select":se("invalid",e),c=I=_=null;for(p in a)if(a.hasOwnProperty(p)&&(F=a[p],F!=null))switch(p){case"value":_=F;break;case"defaultValue":I=F;break;case"multiple":c=F;default:Me(e,i,p,F,a,null)}i=_,a=I,e.multiple=!!c,i!=null?qn(e,!!c,i,!1):a!=null&&qn(e,!!c,a,!0);return;case"textarea":se("invalid",e),_=p=c=null;for(I in a)if(a.hasOwnProperty(I)&&(F=a[I],F!=null))switch(I){case"value":c=F;break;case"defaultValue":p=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(91));break;default:Me(e,i,I,F,a,null)}fi(e,c,p,_),Ks(e);return;case"option":for(X in a)if(a.hasOwnProperty(X)&&(c=a[X],c!=null))switch(X){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Me(e,i,X,c,a,null)}return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(c=0;c<Bu.length;c++)se(Bu[c],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pt in a)if(a.hasOwnProperty(pt)&&(c=a[pt],c!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Me(e,i,pt,c,a,null)}return;default:if(br(i)){for(bt in a)a.hasOwnProperty(bt)&&(c=a[bt],c!==void 0&&gm(e,i,bt,c,a,void 0));return}}for(F in a)a.hasOwnProperty(F)&&(c=a[F],c!=null&&Me(e,i,F,c,a,null))}function jb(e,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,I=null,F=null,X=null,pt=null,bt=null;for(_t in a){var Et=a[_t];if(a.hasOwnProperty(_t)&&Et!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":X=Et;default:c.hasOwnProperty(_t)||Me(e,i,_t,null,c,Et)}}for(var gt in c){var _t=c[gt];if(Et=a[gt],c.hasOwnProperty(gt)&&(_t!=null||Et!=null))switch(gt){case"type":_=_t;break;case"name":p=_t;break;case"checked":pt=_t;break;case"defaultChecked":bt=_t;break;case"value":I=_t;break;case"defaultValue":F=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(o(137,i));break;default:_t!==Et&&Me(e,i,gt,_t,c,Et)}}Ue(e,I,F,X,pt,bt,_,p);return;case"select":_t=I=F=gt=null;for(_ in a)if(X=a[_],a.hasOwnProperty(_)&&X!=null)switch(_){case"value":break;case"multiple":_t=X;default:c.hasOwnProperty(_)||Me(e,i,_,null,c,X)}for(p in c)if(_=c[p],X=a[p],c.hasOwnProperty(p)&&(_!=null||X!=null))switch(p){case"value":gt=_;break;case"defaultValue":F=_;break;case"multiple":I=_;default:_!==X&&Me(e,i,p,_,c,X)}i=F,a=I,c=_t,gt!=null?qn(e,!!a,gt,!1):!!c!=!!a&&(i!=null?qn(e,!!a,i,!0):qn(e,!!a,a?[]:"",!1));return;case"textarea":_t=gt=null;for(F in a)if(p=a[F],a.hasOwnProperty(F)&&p!=null&&!c.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Me(e,i,F,null,c,p)}for(I in c)if(p=c[I],_=a[I],c.hasOwnProperty(I)&&(p!=null||_!=null))switch(I){case"value":gt=p;break;case"defaultValue":_t=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==_&&Me(e,i,I,p,c,_)}zt(e,gt,_t);return;case"option":for(var Ft in a)if(gt=a[Ft],a.hasOwnProperty(Ft)&&gt!=null&&!c.hasOwnProperty(Ft))switch(Ft){case"selected":e.selected=!1;break;default:Me(e,i,Ft,null,c,gt)}for(X in c)if(gt=c[X],_t=a[X],c.hasOwnProperty(X)&&gt!==_t&&(gt!=null||_t!=null))switch(X){case"selected":e.selected=gt&&typeof gt!="function"&&typeof gt!="symbol";break;default:Me(e,i,X,gt,c,_t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in a)gt=a[jt],a.hasOwnProperty(jt)&&gt!=null&&!c.hasOwnProperty(jt)&&Me(e,i,jt,null,c,gt);for(pt in c)if(gt=c[pt],_t=a[pt],c.hasOwnProperty(pt)&&gt!==_t&&(gt!=null||_t!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(o(137,i));break;default:Me(e,i,pt,gt,c,_t)}return;default:if(br(i)){for(var Le in a)gt=a[Le],a.hasOwnProperty(Le)&&gt!==void 0&&!c.hasOwnProperty(Le)&&gm(e,i,Le,void 0,c,gt);for(bt in c)gt=c[bt],_t=a[bt],!c.hasOwnProperty(bt)||gt===_t||gt===void 0&&_t===void 0||gm(e,i,bt,gt,c,_t);return}}for(var at in a)gt=a[at],a.hasOwnProperty(at)&&gt!=null&&!c.hasOwnProperty(at)&&Me(e,i,at,null,c,gt);for(Et in c)gt=c[Et],_t=a[Et],!c.hasOwnProperty(Et)||gt===_t||gt==null&&_t==null||Me(e,i,Et,gt,c,_t)}var _m=null,vm=null;function Lh(e){return e.nodeType===9?e:e.ownerDocument}function Xv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ym(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function Ub(){var e=window.event;return e&&e.type==="popstate"?e===wm?!1:(wm=e,!0):(wm=null,!1)}var Jv=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(e){return $v.resolve(null).then(e).catch(Hb)}:Jv;function Hb(e){setTimeout(function(){throw e})}function Ho(e){return e==="head"}function t0(e,i){var a=i,c=0,p=0;do{var _=a.nextSibling;if(e.removeChild(a),_&&_.nodeType===8)if(a=_.data,a==="/$"){if(0<c&&8>c){a=c;var I=e.ownerDocument;if(a&1&&Fu(I.documentElement),a&2&&Fu(I.body),a&4)for(a=I.head,Fu(a),I=a.firstChild;I;){var F=I.nextSibling,X=I.nodeName;I[qs]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||a.removeChild(I),I=F}}if(p===0){e.removeChild(_),Xu(i);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:c=a.charCodeAt(0)-48;else c=0;a=_}while(a);Xu(i)}function bm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fb(e,i,a,c){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[qs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=Os(e.nextSibling),e===null)break}return null}function Vb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Os(e.nextSibling),e===null))return null;return e}function xm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function qb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Os(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Em=null;function e0(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function n0(e,i,a){switch(i=Lh(a),e){case"html":if(e=i.documentElement,!e)throw Error(o(452));return e;case"head":if(e=i.head,!e)throw Error(o(453));return e;case"body":if(e=i.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Fu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Gs(e)}var ps=new Map,i0=new Set;function Oh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zr=z.d;z.d={f:Gb,r:Zb,D:Wb,C:Yb,L:Kb,m:Xb,X:Jb,S:Qb,M:$b};function Gb(){var e=zr.f(),i=Th();return e||i}function Zb(e){var i=Pi(e);i!==null&&i.tag===5&&i.type==="form"?E_(i):zr.r(e)}var jl=typeof document>"u"?null:document;function s0(e,i,a){var c=jl;if(c&&typeof i=="string"&&i){var p=Ze(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),i0.has(p)||(i0.add(p),e={rel:e,crossOrigin:a,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Kn(i,"link",e),Qe(i),c.head.appendChild(i)))}}function Wb(e){zr.D(e),s0("dns-prefetch",e,null)}function Yb(e,i){zr.C(e,i),s0("preconnect",e,i)}function Kb(e,i,a){zr.L(e,i,a);var c=jl;if(c&&e&&i){var p='link[rel="preload"][as="'+Ze(i)+'"]';i==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Ze(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Ze(a.imageSizes)+'"]')):p+='[href="'+Ze(e)+'"]';var _=p;switch(i){case"style":_=Ul(e);break;case"script":_=zl(e)}ps.has(_)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),ps.set(_,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(Vu(_))||i==="script"&&c.querySelector(qu(_))||(i=c.createElement("link"),Kn(i,"link",e),Qe(i),c.head.appendChild(i)))}}function Xb(e,i){zr.m(e,i);var a=jl;if(a&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ze(c)+'"][href="'+Ze(e)+'"]',_=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=zl(e)}if(!ps.has(_)&&(e=E({rel:"modulepreload",href:e},i),ps.set(_,e),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(qu(_)))return}c=a.createElement("link"),Kn(c,"link",e),Qe(c),a.head.appendChild(c)}}}function Qb(e,i,a){zr.S(e,i,a);var c=jl;if(c&&e){var p=Ln(c).hoistableStyles,_=Ul(e);i=i||"default";var I=p.get(_);if(!I){var F={loading:0,preload:null};if(I=c.querySelector(Vu(_)))F.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=ps.get(_))&&Sm(e,a);var X=I=c.createElement("link");Qe(X),Kn(X,"link",e),X._p=new Promise(function(pt,bt){X.onload=pt,X.onerror=bt}),X.addEventListener("load",function(){F.loading|=1}),X.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Dh(I,i,c)}I={type:"stylesheet",instance:I,count:1,state:F},p.set(_,I)}}}function Jb(e,i){zr.X(e,i);var a=jl;if(a&&e){var c=Ln(a).hoistableScripts,p=zl(e),_=c.get(p);_||(_=a.querySelector(qu(p)),_||(e=E({src:e,async:!0},i),(i=ps.get(p))&&Tm(e,i),_=a.createElement("script"),Qe(_),Kn(_,"link",e),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function $b(e,i){zr.M(e,i);var a=jl;if(a&&e){var c=Ln(a).hoistableScripts,p=zl(e),_=c.get(p);_||(_=a.querySelector(qu(p)),_||(e=E({src:e,async:!0,type:"module"},i),(i=ps.get(p))&&Tm(e,i),_=a.createElement("script"),Qe(_),Kn(_,"link",e),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function r0(e,i,a,c){var p=(p=wt.current)?Oh(p):null;if(!p)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ul(a.href),a=Ln(p).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ul(a.href);var _=Ln(p).hoistableStyles,I=_.get(e);if(I||(p=p.ownerDocument||p,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,I),(_=p.querySelector(Vu(e)))&&!_._p&&(I.instance=_,I.state.loading=5),ps.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ps.set(e,a),_||tx(p,e,a,I.state))),i&&c===null)throw Error(o(528,""));return I}if(i&&c!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=zl(a),a=Ln(p).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ul(e){return'href="'+Ze(e)+'"'}function Vu(e){return'link[rel="stylesheet"]['+e+"]"}function o0(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function tx(e,i,a,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Kn(i,"link",a),Qe(i),e.head.appendChild(i))}function zl(e){return'[src="'+Ze(e)+'"]'}function qu(e){return"script[async]"+e}function a0(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ze(a.href)+'"]');if(c)return i.instance=c,Qe(c),c;var p=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Qe(c),Kn(c,"style",p),Dh(c,a.precedence,e),i.instance=c;case"stylesheet":p=Ul(a.href);var _=e.querySelector(Vu(p));if(_)return i.state.loading|=4,i.instance=_,Qe(_),_;c=o0(a),(p=ps.get(p))&&Sm(c,p),_=(e.ownerDocument||e).createElement("link"),Qe(_);var I=_;return I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),Kn(_,"link",c),i.state.loading|=4,Dh(_,a.precedence,e),i.instance=_;case"script":return _=zl(a.src),(p=e.querySelector(qu(_)))?(i.instance=p,Qe(p),p):(c=a,(p=ps.get(_))&&(c=E({},a),Tm(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Qe(p),Kn(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Dh(c,a.precedence,e));return i.instance}function Dh(e,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,_=p,I=0;I<c.length;I++){var F=c[I];if(F.dataset.precedence===i)_=F;else if(_!==p)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Sm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Tm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ph=null;function l0(e,i,a){if(Ph===null){var c=new Map,p=Ph=new Map;p.set(a,c)}else p=Ph,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var _=a[p];if(!(_[qs]||_[un]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(i)||"";I=e+I;var F=c.get(I);F?F.push(_):c.set(I,[_])}}return c}function u0(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function ex(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function c0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Gu=null;function nx(){}function ix(e,i,a){if(Gu===null)throw Error(o(475));var c=Gu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=Ul(a.href),_=e.querySelector(Vu(p));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=jh.bind(c),e.then(c,c)),i.state.loading|=4,i.instance=_,Qe(_);return}_=e.ownerDocument||e,a=o0(a),(p=ps.get(p))&&Sm(a,p),_=_.createElement("link"),Qe(_);var I=_;I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),Kn(_,"link",a),i.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=jh.bind(c),e.addEventListener("load",i),e.addEventListener("error",i))}}function sx(){if(Gu===null)throw Error(o(475));var e=Gu;return e.stylesheets&&e.count===0&&Am(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Am(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function jh(){if(this.count--,this.count===0){if(this.stylesheets)Am(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uh=null;function Am(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uh=new Map,i.forEach(rx,e),Uh=null,jh.call(e))}function rx(e,i){if(!(i.state.loading&4)){var a=Uh.get(e);if(a)var c=a.get(null);else{a=new Map,Uh.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var I=p[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(a.set(I.dataset.precedence,I),c=I)}c&&a.set(null,c)}p=i.instance,I=p.getAttribute("data-precedence"),_=a.get(I)||c,_===c&&a.set(null,p),a.set(I,p),this.count++,c=jh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),_?_.parentNode.insertBefore(p,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var Zu={$$typeof:et,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function ox(e,i,a,c,p,_,I,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function h0(e,i,a,c,p,_,I,F,X,pt,bt,Et){return e=new ox(e,i,a,I,F,X,pt,Et),i=1,_===!0&&(i|=24),_=vi(3,null,null,i),e.current=_,_.stateNode=e,i=ad(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:c,isDehydrated:a,cache:i},hd(_),e}function f0(e){return e?(e=Ir,e):Ir}function d0(e,i,a,c,p,_){p=f0(p),c.context===null?c.context=p:c.pendingContext=p,c=No(i),c.payload={element:a},_=_===void 0?null:_,_!==null&&(c.callback=_),a=Ro(e,c,i),a!==null&&(Ji(a,e,i),xu(a,e,i))}function m0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Cm(e,i){m0(e,i),(e=e.alternate)&&m0(e,i)}function p0(e){if(e.tag===13){var i=Eo(e,67108864);i!==null&&Ji(i,e,67108864),Cm(e,67108864)}}var zh=!0;function ax(e,i,a,c){var p=M.T;M.T=null;var _=z.p;try{z.p=2,Nm(e,i,a,c)}finally{z.p=_,M.T=p}}function lx(e,i,a,c){var p=M.T;M.T=null;var _=z.p;try{z.p=8,Nm(e,i,a,c)}finally{z.p=_,M.T=p}}function Nm(e,i,a,c){if(zh){var p=Rm(c);if(p===null)pm(e,i,c,Bh,a),_0(e,c);else if(cx(p,e,i,a,c))c.stopPropagation();else if(_0(e,c),i&4&&-1<ux.indexOf(e)){for(;p!==null;){var _=Pi(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=nn(_.pendingLanes);if(I!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;I;){var X=1<<31-Pe(I);F.entanglements[1]|=X,I&=~X}ar(_),(Ne&6)===0&&(Eh=Zt()+500,zu(0))}}break;case 13:F=Eo(_,2),F!==null&&Ji(F,_,2),Th(),Cm(_,2)}if(_=Rm(c),_===null&&pm(e,i,c,Bh,a),_===p)break;p=_}p!==null&&c.stopPropagation()}else pm(e,i,c,null,a)}}function Rm(e){return e=Gn(e),Im(e)}var Bh=null;function Im(e){if(Bh=null,e=es(e),e!==null){var i=h(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Bh=e,null}function g0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case qe:return 2;case Ge:return 8;case _e:case mn:return 32;case Se:return 268435456;default:return 32}default:return 32}}var km=!1,Fo=null,Vo=null,qo=null,Wu=new Map,Yu=new Map,Go=[],ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _0(e,i){switch(e){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":Wu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(i.pointerId)}}function Ku(e,i,a,c,p,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:_,targetContainers:[p]},i!==null&&(i=Pi(i),i!==null&&p0(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function cx(e,i,a,c,p){switch(i){case"focusin":return Fo=Ku(Fo,e,i,a,c,p),!0;case"dragenter":return Vo=Ku(Vo,e,i,a,c,p),!0;case"mouseover":return qo=Ku(qo,e,i,a,c,p),!0;case"pointerover":var _=p.pointerId;return Wu.set(_,Ku(Wu.get(_)||null,e,i,a,c,p)),!0;case"gotpointercapture":return _=p.pointerId,Yu.set(_,Ku(Yu.get(_)||null,e,i,a,c,p)),!0}return!1}function v0(e){var i=es(e.target);if(i!==null){var a=h(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){e.blockedOn=i,no(e.priority,function(){if(a.tag===13){var c=Qi();c=ts(c);var p=Eo(a,c);p!==null&&Ji(p,a,c),Cm(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Rm(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);Bi=c,a.target.dispatchEvent(c),Bi=null}else return i=Pi(a),i!==null&&p0(i),e.blockedOn=a,!1;i.shift()}return!0}function y0(e,i,a){Hh(e)&&a.delete(i)}function hx(){km=!1,Fo!==null&&Hh(Fo)&&(Fo=null),Vo!==null&&Hh(Vo)&&(Vo=null),qo!==null&&Hh(qo)&&(qo=null),Wu.forEach(y0),Yu.forEach(y0)}function Fh(e,i){e.blockedOn===i&&(e.blockedOn=null,km||(km=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hx)))}var Vh=null;function w0(e){Vh!==e&&(Vh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vh===e&&(Vh=null);for(var i=0;i<e.length;i+=3){var a=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if(Im(c||a)===null)continue;break}var _=Pi(a);_!==null&&(e.splice(i,3),i-=3,Id(_,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function Xu(e){function i(X){return Fh(X,e)}Fo!==null&&Fh(Fo,e),Vo!==null&&Fh(Vo,e),qo!==null&&Fh(qo,e),Wu.forEach(i),Yu.forEach(i);for(var a=0;a<Go.length;a++){var c=Go[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Go.length&&(a=Go[0],a.blockedOn===null);)v0(a),a.blockedOn===null&&Go.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],_=a[c+1],I=p[sn]||null;if(typeof _=="function")I||w0(a);else if(I){var F=null;if(_&&_.hasAttribute("formAction")){if(p=_,I=_[sn]||null)F=I.formAction;else if(Im(p)!==null)continue}else F=I.action;typeof F=="function"?a[c+1]=F:(a.splice(c,3),c-=3),w0(a)}}}function Mm(e){this._internalRoot=e}qh.prototype.render=Mm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,c=Qi();d0(a,c,e,i,null,null)},qh.prototype.unmount=Mm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;d0(e.current,2,null,e,null,null),Th(),i[Si]=null}};function qh(e){this._internalRoot=e}qh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Mn();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Go.length&&i!==0&&i<Go[a].priority;a++);Go.splice(a,0,e),a===0&&v0(e)}};var b0=t.version;if(b0!=="19.1.1")throw Error(o(527,b0,"19.1.1"));z.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(i),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var fx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{ae=Gh.inject(fx),ee=Gh}catch{}}return Ju.createRoot=function(e,i){if(!l(e))throw Error(o(299));var a=!1,c="",p=j_,_=U_,I=z_,F=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(I=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(F=i.unstable_transitionCallbacks)),i=h0(e,1,!1,null,null,a,c,p,_,I,F,null),e[Si]=i.current,mm(e),new Mm(i)},Ju.hydrateRoot=function(e,i,a){if(!l(e))throw Error(o(299));var c=!1,p="",_=j_,I=U_,F=z_,X=null,pt=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(I=a.onCaughtError),a.onRecoverableError!==void 0&&(F=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(X=a.unstable_transitionCallbacks),a.formState!==void 0&&(pt=a.formState)),i=h0(e,1,!0,i,a??null,c,p,_,I,F,X,pt),i.context=f0(null),a=i.current,c=Qi(),c=ts(c),p=No(c),p.callback=null,Ro(a,p,c),a=c,i.current.lanes=a,ln(i,a),ar(i),e[Si]=i.current,mm(e),new qh(i)},Ju.version="19.1.1",Ju}var k0;function bx(){if(k0)return Dm.exports;k0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dm.exports=wx(),Dm.exports}var xx=bx();const Ex=()=>{};var M0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct=function(s,t){if(!s)throw iu(t)},iu=function(s){return new Error("Firebase Database ("+h1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(s){const t=[];let n=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++o)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Sx=function(s){const t=[];let n=0,o=0;for(;n<s.length;){const l=s[n++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[n++];t[o++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[n++],m=s[n++],g=s[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(y>>10)),t[o++]=String.fromCharCode(56320+(y&1023))}else{const h=s[n++],m=s[n++];t[o++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},Np={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<s.length;l+=3){const h=s[l],m=l+1<s.length,g=m?s[l+1]:0,y=l+2<s.length,b=y?s[l+2]:0,E=h>>2,S=(h&3)<<4|g>>4;let x=(g&15)<<2|b>>6,k=b&63;y||(k=64,m||(x=64)),o.push(n[E],n[S],n[x],n[k])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(f1(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Sx(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<s.length;){const h=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const b=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,h==null||g==null||b==null||S==null)throw new Tx;const x=h<<2|g>>4;if(o.push(x),b!==64){const k=g<<4&240|b>>2;if(o.push(k),S!==64){const O=b<<6&192|S;o.push(O)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Tx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d1=function(s){const t=f1(s);return Np.encodeByteArray(t,!0)},rf=function(s){return d1(s).replace(/\./g,"")},of=function(s){try{return Np.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(s){return m1(void 0,s)}function m1(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Cx(n)||(s[n]=m1(s[n],t[n]));return s}function Cx(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=()=>Nx().__FIREBASE_DEFAULTS__,Ix=()=>{if(typeof process>"u"||typeof M0>"u")return;const s=M0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},kx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&of(s[1]);return t&&JSON.parse(t)},Rp=()=>{try{return Ex()||Rx()||Ix()||kx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},p1=s=>Rp()?.emulatorHosts?.[s],g1=s=>{const t=p1(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),o]:[t.substring(0,n),o]},_1=()=>Rp()?.config,v1=s=>Rp()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ip(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[rf(JSON.stringify(n)),rf(JSON.stringify(m)),""].join(".")}const oc={};function Mx(){const s={prod:[],emulator:[]};for(const t of Object.keys(oc))oc[t]?s.emulator.push(t):s.prod.push(t);return s}function Lx(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let L0=!1;function kp(s,t){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||oc[s]===t||oc[s]||L0)return;oc[s]=t;function n(x){return`__firebase__banner__${x}`}const o="__firebase__banner",h=Mx().prod.length>0;function m(){const x=document.getElementById(o);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,k){x.setAttribute("width","24"),x.setAttribute("id",k),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function b(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{L0=!0,m()},x}function E(x,k){x.setAttribute("id",k),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=Lx(o),k=n("text"),O=document.getElementById(k)||document.createElement("span"),G=n("learnmore"),W=document.getElementById(G)||document.createElement("a"),Z=n("preprendIcon"),ct=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const et=x.element;g(et),E(W,G);const Q=b();y(ct,Z),et.append(ct,O,W,Q),document.body.appendChild(et)}h?(O.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xi())}function Ox(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function w1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Px(){const s=xi();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jx(){return h1.NODE_ADMIN===!0}function Ux(){try{return typeof indexedDB=="object"}catch{return!1}}function zx(){return new Promise((s,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(o),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="FirebaseError";class Qr extends Error{constructor(t,n,o){super(n),this.code=t,this.customData=o,this.name=Bx,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kc.prototype.create)}}class kc{constructor(t,n,o){this.service=t,this.serviceName=n,this.errors=o}create(t,...n){const o=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?Hx(h,o):"Error",g=`${this.serviceName}: ${m} (${l}).`;return new Qr(l,g,o)}}function Hx(s,t){return s.replace(Fx,(n,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const Fx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(s){return JSON.parse(s)}function Rn(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=function(s){let t={},n={},o={},l="";try{const h=s.split(".");t=gc(of(h[0])||""),n=gc(of(h[1])||""),l=h[2],o=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:o,signature:l}},Vx=function(s){const t=b1(s),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},qx=function(s){const t=b1(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function Xl(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function ip(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function af(s,t,n){const o={};for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=t.call(n,s[l],l,s));return o}function na(s,t){if(s===t)return!0;const n=Object.keys(s),o=Object.keys(t);for(const l of n){if(!o.includes(l))return!1;const h=s[l],m=t[l];if(O0(h)&&O0(m)){if(!na(h,m))return!1}else if(h!==m)return!1}for(const l of o)if(!n.includes(l))return!1;return!0}function O0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(s){const t=[];for(const[n,o]of Object.entries(s))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function ic(s){const t={};return s.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[l,h]=o.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function sc(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const o=this.W_;if(typeof t=="string")for(let S=0;S<16;S++)o[S]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let S=0;S<16;S++)o[S]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let S=16;S<80;S++){const x=o[S-3]^o[S-8]^o[S-14]^o[S-16];o[S]=(x<<1|x>>>31)&4294967295}let l=this.chain_[0],h=this.chain_[1],m=this.chain_[2],g=this.chain_[3],y=this.chain_[4],b,E;for(let S=0;S<80;S++){S<40?S<20?(b=g^h&(m^g),E=1518500249):(b=h^m^g,E=1859775393):S<60?(b=h&m|g&(h|m),E=2400959708):(b=h^m^g,E=3395469782);const x=(l<<5|l>>>27)+b+y+E+o[S]&4294967295;y=g,g=m,m=(h<<30|h>>>2)&4294967295,h=l,l=x}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const o=n-this.blockSize;let l=0;const h=this.buf_;let m=this.inbuf_;for(;l<n;){if(m===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(h[m]=t.charCodeAt(l),++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}else for(;l<n;)if(h[m]=t[l],++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}this.inbuf_=m,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let h=24;h>=0;h-=8)t[o]=this.chain_[l]>>h&255,++o;return t}}function Zx(s,t){const n=new Wx(s,t);return n.subscribe.bind(n)}class Wx{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,o){let l;if(t===void 0&&n===void 0&&o===void 0)throw new Error("Missing Observer.");Yx(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:o},l.next===void 0&&(l.next=zm),l.error===void 0&&(l.error=zm),l.complete===void 0&&(l.complete=zm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yx(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function zm(){}function Df(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=function(s){const t=[];let n=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);if(l>=55296&&l<=56319){const h=l-55296;o++,Ct(o<s.length,"Surrogate pair missing trail surrogate.");const m=s.charCodeAt(o)-56320;l=65536+(h<<10)+m}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Pf=function(s){let t=0;for(let n=0;n<s.length;n++){const o=s.charCodeAt(n);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(s){return s&&s._delegate?s._delegate:s}class ia{constructor(t,n,o){this.name=t,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const o=new Ic;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),o=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Jx(t))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});o.resolve(h)}catch{}}}}clearInstance(t=ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ja){return this.instances.has(t)}getOptions(t=ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[h,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);o===g&&m.resolve(l)}return l}onInit(t,n){const o=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(o)??new Set;l.add(t),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&t(h,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const o=this.onInitCallbacks.get(n);if(o)for(const l of o)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Qx(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=ja){return this.component?this.component.multipleInstances?t:ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qx(s){return s===ja?void 0:s}function Jx(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Xx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ee||(Ee={}));const tE={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},eE=Ee.INFO,nE={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},iE=(s,t,...n)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),l=nE[t];if(l)console[l](`[${o}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jf{constructor(t){this.name=t,this._logLevel=eE,this._logHandler=iE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...t),this._logHandler(this,Ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...t),this._logHandler(this,Ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...t),this._logHandler(this,Ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...t),this._logHandler(this,Ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...t),this._logHandler(this,Ee.ERROR,...t)}}const sE=(s,t)=>t.some(n=>s instanceof n);let D0,P0;function rE(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oE(){return P0||(P0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x1=new WeakMap,sp=new WeakMap,E1=new WeakMap,Bm=new WeakMap,Lp=new WeakMap;function aE(s){const t=new Promise((n,o)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{n(Jo(s.result)),l()},m=()=>{o(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",m)});return t.then(n=>{n instanceof IDBCursor&&x1.set(n,s)}).catch(()=>{}),Lp.set(t,s),t}function lE(s){if(sp.has(s))return;const t=new Promise((n,o)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{o(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});sp.set(s,t)}let rp={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return sp.get(s);if(t==="objectStoreNames")return s.objectStoreNames||E1.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function uE(s){rp=s(rp)}function cE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=s.call(Hm(this),t,...n);return E1.set(o,t.sort?t.sort():[t]),Jo(o)}:oE().includes(s)?function(...t){return s.apply(Hm(this),t),Jo(x1.get(this))}:function(...t){return Jo(s.apply(Hm(this),t))}}function hE(s){return typeof s=="function"?cE(s):(s instanceof IDBTransaction&&lE(s),sE(s,rE())?new Proxy(s,rp):s)}function Jo(s){if(s instanceof IDBRequest)return aE(s);if(Bm.has(s))return Bm.get(s);const t=hE(s);return t!==s&&(Bm.set(s,t),Lp.set(t,s)),t}const Hm=s=>Lp.get(s);function fE(s,t,{blocked:n,upgrade:o,blocking:l,terminated:h}={}){const m=indexedDB.open(s,t),g=Jo(m);return o&&m.addEventListener("upgradeneeded",y=>{o(Jo(m.result),y.oldVersion,y.newVersion,Jo(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",b=>l(b.oldVersion,b.newVersion,b))}).catch(()=>{}),g}const dE=["get","getKey","getAll","getAllKeys","count"],mE=["put","add","delete","clear"],Fm=new Map;function j0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Fm.get(t))return Fm.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,l=mE.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(l||dE.includes(n)))return;const h=async function(m,...g){const y=this.transaction(m,l?"readwrite":"readonly");let b=y.store;return o&&(b=b.index(g.shift())),(await Promise.all([b[n](...g),l&&y.done]))[0]};return Fm.set(t,h),h}uE(s=>({...s,get:(t,n,o)=>j0(t,n)||s.get(t,n,o),has:(t,n)=>!!j0(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gE(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function gE(s){return s.getComponent()?.type==="VERSION"}const op="@firebase/app",U0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new jf("@firebase/app"),_E="@firebase/app-compat",vE="@firebase/analytics-compat",yE="@firebase/analytics",wE="@firebase/app-check-compat",bE="@firebase/app-check",xE="@firebase/auth",EE="@firebase/auth-compat",SE="@firebase/database",TE="@firebase/data-connect",AE="@firebase/database-compat",CE="@firebase/functions",NE="@firebase/functions-compat",RE="@firebase/installations",IE="@firebase/installations-compat",kE="@firebase/messaging",ME="@firebase/messaging-compat",LE="@firebase/performance",OE="@firebase/performance-compat",DE="@firebase/remote-config",PE="@firebase/remote-config-compat",jE="@firebase/storage",UE="@firebase/storage-compat",zE="@firebase/firestore",BE="@firebase/ai",HE="@firebase/firestore-compat",FE="firebase",VE="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",qE={[op]:"fire-core",[_E]:"fire-core-compat",[yE]:"fire-analytics",[vE]:"fire-analytics-compat",[bE]:"fire-app-check",[wE]:"fire-app-check-compat",[xE]:"fire-auth",[EE]:"fire-auth-compat",[SE]:"fire-rtdb",[TE]:"fire-data-connect",[AE]:"fire-rtdb-compat",[CE]:"fire-fn",[NE]:"fire-fn-compat",[RE]:"fire-iid",[IE]:"fire-iid-compat",[kE]:"fire-fcm",[ME]:"fire-fcm-compat",[LE]:"fire-perf",[OE]:"fire-perf-compat",[DE]:"fire-rc",[PE]:"fire-rc-compat",[jE]:"fire-gcs",[UE]:"fire-gcs-compat",[zE]:"fire-fst",[HE]:"fire-fst-compat",[BE]:"fire-vertex","fire-js":"fire-js",[FE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,GE=new Map,lp=new Map;function z0(s,t){try{s.container.addComponent(t)}catch(n){Zr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Za(s){const t=s.name;if(lp.has(t))return Zr.debug(`There were multiple attempts to register component ${t}.`),!1;lp.set(t,s);for(const n of lf.values())z0(n,s);for(const n of GE.values())z0(n,s);return!0}function Uf(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Mi(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new kc("app","Firebase",ZE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t,n,o){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=VE;function S1(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const o={name:ap,automaticDataCollectionEnabled:!0,...t},l=o.name;if(typeof l!="string"||!l)throw $o.create("bad-app-name",{appName:String(l)});if(n||(n=_1()),!n)throw $o.create("no-options");const h=lf.get(l);if(h){if(na(n,h.options)&&na(o,h.config))return h;throw $o.create("duplicate-app",{appName:l})}const m=new $x(l);for(const y of lp.values())m.addComponent(y);const g=new WE(n,o,m);return lf.set(l,g),g}function Op(s=ap){const t=lf.get(s);if(!t&&s===ap&&_1())return S1();if(!t)throw $o.create("no-app",{appName:s});return t}function dr(s,t,n){let o=qE[s]??s;n&&(o+=`-${n}`);const l=o.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${t}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zr.warn(m.join(" "));return}Za(new ia(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firebase-heartbeat-database",KE=1,_c="firebase-heartbeat-store";let Vm=null;function T1(){return Vm||(Vm=fE(YE,KE,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(s=>{throw $o.create("idb-open",{originalErrorMessage:s.message})})),Vm}async function XE(s){try{const n=(await T1()).transaction(_c),o=await n.objectStore(_c).get(A1(s));return await n.done,o}catch(t){if(t instanceof Qr)Zr.warn(t.message);else{const n=$o.create("idb-get",{originalErrorMessage:t?.message});Zr.warn(n.message)}}}async function B0(s,t){try{const o=(await T1()).transaction(_c,"readwrite");await o.objectStore(_c).put(t,A1(s)),await o.done}catch(n){if(n instanceof Qr)Zr.warn(n.message);else{const o=$o.create("idb-set",{originalErrorMessage:n?.message});Zr.warn(o.message)}}}function A1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=1024,JE=30;class $E{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eS(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=H0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats.length>JE){const l=nS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H0(),{heartbeatsToSend:n,unsentEntries:o}=tS(this._heartbeatsCache.heartbeats),l=rf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zr.warn(t),""}}}function H0(){return new Date().toISOString().substring(0,10)}function tS(s,t=QE){const n=[];let o=s.slice();for(const l of s){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),F0(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),F0(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class eS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ux()?zx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XE(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return B0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return B0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function F0(s){return rf(JSON.stringify({version:2,heartbeats:s})).length}function nS(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let o=1;o<s.length;o++)s[o].date<n&&(n=s[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(s){Za(new ia("platform-logger",t=>new pE(t),"PRIVATE")),Za(new ia("heartbeat",t=>new $E(t),"PRIVATE")),dr(op,U0,s),dr(op,U0,"esm2020"),dr("fire-js","")}iS("");function C1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sS=C1,N1=new kc("auth","Firebase",C1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new jf("@firebase/auth");function rS(s,...t){uf.logLevel<=Ee.WARN&&uf.warn(`Auth (${el}): ${s}`,...t)}function Qh(s,...t){uf.logLevel<=Ee.ERROR&&uf.error(`Auth (${el}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(s,...t){throw Pp(s,...t)}function Hs(s,...t){return Pp(s,...t)}function Dp(s,t,n){const o={...sS(),[t]:n};return new kc("auth","Firebase",o).create(t,{appName:s.name})}function qr(s){return Dp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oS(s,t,n){const o=n;if(!(t instanceof o))throw o.name!==t.constructor.name&&_s(s,"argument-error"),Dp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pp(s,...t){if(typeof s!="string"){const n=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=s.name),s._errorFactory.create(n,...o)}return N1.create(s,...t)}function Bt(s,t,...n){if(!s)throw Pp(t,...n)}function Hr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Qh(t),new Error(t)}function Wr(s,t){s||Hr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){return typeof self<"u"&&self.location?.href||""}function aS(){return V0()==="http:"||V0()==="https:"}function V0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aS()||Dx()||"connection"in navigator)?navigator.onLine:!0}function uS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wr(n>t,"Short delay should be less than long delay!"),this.isMobile=Mp()||w1()}get(){return lS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(s,t){Wr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{static initialize(t,n,o){this.fetchImpl=t,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fS=new Mc(3e4,6e4);function Jr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function $r(s,t,n,o,l={}){return I1(s,l,async()=>{let h={},m={};o&&(t==="GET"?m=o:h={body:JSON.stringify(o)});const g=su({key:s.config.apiKey,...m}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const b={method:t,headers:y,...h};return Ox()||(b.referrerPolicy="no-referrer"),s.emulatorConfig&&tl(s.emulatorConfig.host)&&(b.credentials="include"),R1.fetch()(await k1(s,s.config.apiHost,n,g),b)})}async function I1(s,t,n){s._canInitEmulator=!1;const o={...cS,...t};try{const l=new mS(s),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw Zh(s,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const g=h.ok?m.errorMessage:m.error.message,[y,b]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(s,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw Zh(s,"email-already-in-use",m);if(y==="USER_DISABLED")throw Zh(s,"user-disabled",m);const E=o[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw Dp(s,E,b);_s(s,E)}}catch(l){if(l instanceof Qr)throw l;_s(s,"network-request-failed",{message:String(l)})}}async function Lc(s,t,n,o,l={}){const h=await $r(s,t,n,o,l);return"mfaPendingCredential"in h&&_s(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function k1(s,t,n,o){const l=`${t}${n}?${o}`,h=s,m=h.config.emulator?jp(s.config,l):`${s.config.apiScheme}://${l}`;return hS.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}function dS(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(Hs(this.auth,"network-request-failed")),fS.get())})}}function Zh(s,t,n){const o={appName:s.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const l=Hs(s,t,o);return l.customData._tokenResponse=n,l}function q0(s){return s!==void 0&&s.enterprise!==void 0}class pS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return dS(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gS(s,t){return $r(s,"GET","/v2/recaptchaConfig",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(s,t){return $r(s,"POST","/v1/accounts:delete",t)}async function cf(s,t){return $r(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vS(s,t=!1){const n=ci(s),o=await n.getIdToken(t),l=Up(o);Bt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h?.sign_in_provider;return{claims:l,token:o,authTime:ac(qm(l.auth_time)),issuedAtTime:ac(qm(l.iat)),expirationTime:ac(qm(l.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function qm(s){return Number(s)*1e3}function Up(s){const[t,n,o]=s.split(".");if(t===void 0||n===void 0||o===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const l=of(n);return l?JSON.parse(l):(Qh("Failed to decode base64 JWT payload"),null)}catch(l){return Qh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function G0(s){const t=Up(s);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(s,t,n=!1){if(n)return t;try{return await t}catch(o){throw o instanceof Qr&&yS(o)&&s.auth.currentUser===s&&await s.auth.signOut(),o}}function yS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(s){const t=s.auth,n=await s.getIdToken(),o=await vc(s,cf(t,{idToken:n}));Bt(o?.users.length,t,"internal-error");const l=o.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?M1(l.providerUserInfo):[],m=xS(s.providerData,h),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!m?.length,b=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new cp(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(s,E)}async function bS(s){const t=ci(s);await hf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xS(s,t){return[...s.filter(o=>!t.some(l=>l.providerId===o.providerId)),...t]}function M1(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(s,t){const n=await I1(s,{},async()=>{const o=su({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,m=await k1(s,l,"/v1/token",`key=${h}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:o};return s.emulatorConfig&&tl(s.emulatorConfig.host)&&(y.credentials="include"),R1.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SS(s,t){return $r(s,"POST","/v2/accounts:revokeToken",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):G0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Bt(t.length!==0,"internal-error");const n=G0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:o,refreshToken:l,expiresIn:h}=await ES(t,n);this.updateTokensAndExpiration(o,l,Number(h))}updateTokensAndExpiration(t,n,o){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,n){const{refreshToken:o,accessToken:l,expirationTime:h}=n,m=new Vl;return o&&(Bt(typeof o=="string","internal-error",{appName:t}),m.refreshToken=o),l&&(Bt(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(Bt(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(s,t){Bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Us{constructor({uid:t,auth:n,stsTokenManager:o,...l}){this.providerId="firebase",this.proactiveRefresh=new wS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await vc(this,this.stsTokenManager.getToken(this.auth,t));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vS(this,t)}reload(){return bS(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Us({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),n&&await hf(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(qr(this.auth));const t=await this.getIdToken();return await vc(this,_S(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const o=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,m=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,b=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:k,providerData:O,stsTokenManager:G}=n;Bt(S&&G,t,"internal-error");const W=Vl.fromJSON(this.name,G);Bt(typeof S=="string",t,"internal-error"),Wo(o,t.name),Wo(l,t.name),Bt(typeof x=="boolean",t,"internal-error"),Bt(typeof k=="boolean",t,"internal-error"),Wo(h,t.name),Wo(m,t.name),Wo(g,t.name),Wo(y,t.name),Wo(b,t.name),Wo(E,t.name);const Z=new Us({uid:S,auth:t,email:l,emailVerified:x,displayName:o,isAnonymous:k,photoURL:m,phoneNumber:h,tenantId:g,stsTokenManager:W,createdAt:b,lastLoginAt:E});return O&&Array.isArray(O)&&(Z.providerData=O.map(ct=>({...ct}))),y&&(Z._redirectEventId=y),Z}static async _fromIdTokenResponse(t,n,o=!1){const l=new Vl;l.updateFromServerResponse(n);const h=new Us({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:o});return await hf(h),h}static async _fromGetAccountInfoResponse(t,n,o){const l=n.users[0];Bt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?M1(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!h?.length,g=new Vl;g.updateFromIdToken(o);const y=new Us({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:m}),b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new cp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,b),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function Fr(s){Wr(s instanceof Function,"Expected a class definition");let t=Z0.get(s);return t?(Wr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Z0.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}L1.type="NONE";const W0=L1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(s,t,n){return`firebase:${s}:${t}:${n}`}class ql{constructor(t,n,o){this.persistence=t,this.auth=n,this.userKey=o;const{config:l,name:h}=this.auth;this.fullUserKey=Jh(this.userKey,l.apiKey,h),this.fullPersistenceKey=Jh("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await cf(this.auth,{idToken:t}).catch(()=>{});return n?Us._fromGetAccountInfoResponse(this.auth,n,t):null}return Us._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,o="authUser"){if(!n.length)return new ql(Fr(W0),t,o);const l=(await Promise.all(n.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let h=l[0]||Fr(W0);const m=Jh(o,t.config.apiKey,t.name);let g=null;for(const b of n)try{const E=await b._get(m);if(E){let S;if(typeof E=="string"){const x=await cf(t,{idToken:E}).catch(()=>{});if(!x)break;S=await Us._fromGetAccountInfoResponse(t,x,E)}else S=Us._fromJSON(t,E);b!==h&&(g=S),h=b;break}}catch{}const y=l.filter(b=>b._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new ql(h,t,o):(h=y[0],g&&await h._set(m,g.toJSON()),await Promise.all(n.map(async b=>{if(b!==h)try{await b._remove(m)}catch{}})),new ql(h,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(j1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(O1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(z1(t))return"Blackberry";if(B1(t))return"Webos";if(D1(t))return"Safari";if((t.includes("chrome/")||P1(t))&&!t.includes("edge/"))return"Chrome";if(U1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=s.match(n);if(o?.length===2)return o[1]}return"Other"}function O1(s=xi()){return/firefox\//i.test(s)}function D1(s=xi()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function P1(s=xi()){return/crios\//i.test(s)}function j1(s=xi()){return/iemobile/i.test(s)}function U1(s=xi()){return/android/i.test(s)}function z1(s=xi()){return/blackberry/i.test(s)}function B1(s=xi()){return/webos/i.test(s)}function zp(s=xi()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function TS(s=xi()){return zp(s)&&!!window.navigator?.standalone}function AS(){return Px()&&document.documentMode===10}function H1(s=xi()){return zp(s)||U1(s)||B1(s)||z1(s)||/windows phone/i.test(s)||j1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(s,t=[]){let n;switch(s){case"Browser":n=Y0(xi());break;case"Worker":n=`${Y0(xi())}-${s}`;break;default:n=s}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const o=h=>new Promise((m,g)=>{try{const y=t(h);m(y)}catch(y){g(y)}});o.onAbort=n,this.queue.push(o);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const o of this.queue)await o(t),o.onAbort&&n.push(o.onAbort)}catch(o){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(s,t={}){return $r(s,"GET","/v2/passwordPolicy",Jr(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=6;class IS{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??RS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const o=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=t.length>=o),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let o;for(let l=0;l<t.length;l++)o=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(t,n,o,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,n,o,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K0(this),this.idTokenSubscription=new K0(this),this.beforeStateQueue=new CS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ql.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await cf(this,{idToken:t}),o=await Us._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(o)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Mi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===m)&&g?.user&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await hf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mi(this.app))return Promise.reject(qr(this));const n=t?ci(t):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mi(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await NS(this),n=new IS(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kc("auth","Firebase",t())}onAuthStateChanged(t,n,o){return this.registerStateListener(this.authStateSubscription,t,n,o)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,o){return this.registerStateListener(this.idTokenSubscription,t,n,o)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const o=this.onAuthStateChanged(()=>{o(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(o.tenantId=this.tenantId),await SS(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const o=await this.getOrInitRedirectPersistenceManager(n);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fr(t)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await ql.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,o,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(g,this,"internal-error"),g.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,o,l);return()=>{m=!0,y()}}else{const y=t.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function to(s){return ci(s)}class K0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Zx(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MS(s){zf=s}function V1(s){return zf.loadJS(s)}function LS(){return zf.recaptchaEnterpriseScript}function OS(){return zf.gapiScript}function DS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class PS{constructor(){this.enterprise=new jS}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class jS{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const US="recaptcha-enterprise",q1="NO_RECAPTCHA";class zS{constructor(t){this.type=US,this.auth=to(t)}async verify(t="verify",n=!1){async function o(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(m,g)=>{gS(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const b=new pS(y);return h.tenantId==null?h._agentRecaptchaConfig=b:h._tenantRecaptchaConfigs[h.tenantId]=b,m(b.siteKey)}}).catch(y=>{g(y)})})}function l(h,m,g){const y=window.grecaptcha;q0(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:t}).then(b=>{m(b)}).catch(()=>{m(q1)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PS().execute("siteKey",{action:"verify"}):new Promise((h,m)=>{o(this.auth).then(g=>{if(!n&&q0(window.grecaptcha))l(g,h,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}let y=LS();y.length!==0&&(y+=g),V1(y).then(()=>{l(g,h,m)}).catch(b=>{m(b)})}}).catch(g=>{m(g)})})}}async function X0(s,t,n,o=!1,l=!1){const h=new zS(s);let m;if(l)m=q1;else try{m=await h.verify(n)}catch{m=await h.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,b=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:b,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return o?Object.assign(g,{captchaResp:m}):Object.assign(g,{captchaResponse:m}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ff(s,t,n,o,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await X0(s,t,n,n==="getOobCode");return o(s,h)}else return o(s,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await X0(s,t,n,n==="getOobCode");return o(s,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(s,t){const n=Uf(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(na(h,t??{}))return l;_s(l,"already-initialized")}return n.initialize({options:t})}function HS(s,t){const n=t?.persistence||[],o=(Array.isArray(n)?n:[n]).map(Fr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(o,t?.popupRedirectResolver)}function FS(s,t,n){const o=to(s);Bt(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const l=!1,h=G1(t),{host:m,port:g}=VS(t),y=g===null?"":`:${g}`,b={url:`${h}//${m}${y}/`},E=Object.freeze({host:m,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!o._canInitEmulator){Bt(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),Bt(na(b,o.config.emulator)&&na(E,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=b,o.emulatorConfig=E,o.settings.appVerificationDisabledForTesting=!0,tl(m)?(Ip(`${h}//${m}${y}`),kp("Auth",!0)):qS()}function G1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function VS(s){const t=G1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const o=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(o);if(l){const h=l[1];return{host:h,port:Q0(o.substr(h.length+1))}}else{const[h,m]=o.split(":");return{host:h,port:Q0(m)}}}function Q0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function qS(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(t){return Hr("not implemented")}_linkToIdToken(t,n){return Hr("not implemented")}_getReauthenticationResolver(t){return Hr("not implemented")}}async function GS(s,t){return $r(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(s,t){return Lc(s,"POST","/v1/accounts:signInWithPassword",Jr(s,t))}async function WS(s,t){return $r(s,"POST","/v1/accounts:sendOobCode",Jr(s,t))}async function YS(s,t){return WS(s,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(s,t){return Lc(s,"POST","/v1/accounts:signInWithEmailLink",Jr(s,t))}async function XS(s,t){return Lc(s,"POST","/v1/accounts:signInWithEmailLink",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Bp{constructor(t,n,o,l=null){super("password",o),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new yc(t,n,"password")}static _fromEmailAndCode(t,n,o=null){return new yc(t,n,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(t,n,"signInWithPassword",ZS);case"emailLink":return KS(t,{email:this._email,oobCode:this._password});default:_s(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const o={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(t,o,"signUpPassword",GS);case"emailLink":return XS(t,{idToken:n,email:this._email,oobCode:this._password});default:_s(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(s,t){return Lc(s,"POST","/v1/accounts:signInWithIdp",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="http://localhost";class Wa extends Bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Wa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):_s("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:l,...h}=n;if(!o||!l)return null;const m=new Wa(o,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const n=this.buildRequest();return Gl(t,n)}_linkToIdToken(t,n){const o=this.buildRequest();return o.idToken=n,Gl(t,o)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Gl(t,n)}buildRequest(){const t={requestUri:QS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=su(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $S(s){const t=ic(sc(s)).link,n=t?ic(sc(t)).deep_link_id:null,o=ic(sc(s)).deep_link_id;return(o?ic(sc(o)).link:null)||o||n||t||s}class Hp{constructor(t){const n=ic(sc(t)),o=n.apiKey??null,l=n.oobCode??null,h=JS(n.mode??null);Bt(o&&l&&h,"argument-error"),this.apiKey=o,this.operation=h,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=$S(t);try{return new Hp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.providerId=ru.PROVIDER_ID}static credential(t,n){return yc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const o=Hp.parseLink(n);return Bt(o,"argument-error"),yc._fromEmailAndCode(t,o.code,o.tenantId)}}ru.PROVIDER_ID="password";ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Oc{constructor(){super("facebook.com")}static credential(t){return Wa._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yo.credentialFromTaggedObject(t)}static credentialFromError(t){return Yo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yo.credential(t.oauthAccessToken)}catch{return null}}}Yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Wa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:o}=t;if(!n&&!o)return null;try{return hr.credential(n,o)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Oc{constructor(){super("github.com")}static credential(t){return Wa._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ko.credentialFromTaggedObject(t)}static credentialFromError(t){return Ko.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ko.credential(t.oauthAccessToken)}catch{return null}}}Ko.GITHUB_SIGN_IN_METHOD="github.com";Ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Oc{constructor(){super("twitter.com")}static credential(t,n){return Wa._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xo.credentialFromTaggedObject(t)}static credentialFromError(t){return Xo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=t;if(!n||!o)return null;try{return Xo.credential(n,o)}catch{return null}}}Xo.TWITTER_SIGN_IN_METHOD="twitter.com";Xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(s,t){return Lc(s,"POST","/v1/accounts:signUp",Jr(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,o,l=!1){const h=await Us._fromIdTokenResponse(t,o,l),m=J0(o);return new Ya({user:h,providerId:m,_tokenResponse:o,operationType:n})}static async _forOperation(t,n,o){await t._updateTokensIfNecessary(o,!0);const l=J0(o);return new Ya({user:t,providerId:l,_tokenResponse:o,operationType:n})}}function J0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Qr{constructor(t,n,o,l){super(n.code,n.message),this.operationType=o,this.user=l,Object.setPrototypeOf(this,df.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,n,o,l){return new df(t,n,o,l)}}function Z1(s,t,n,o){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(s,h,t,o):h})}async function eT(s,t,n=!1){const o=await vc(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Ya._forOperation(s,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nT(s,t,n=!1){const{auth:o}=s;if(Mi(o.app))return Promise.reject(qr(o));const l="reauthenticate";try{const h=await vc(s,Z1(o,l,t,s),n);Bt(h.idToken,o,"internal-error");const m=Up(h.idToken);Bt(m,o,"internal-error");const{sub:g}=m;return Bt(s.uid===g,o,"user-mismatch"),Ya._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&_s(o,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(s,t,n=!1){if(Mi(s.app))return Promise.reject(qr(s));const o="signIn",l=await Z1(s,o,t),h=await Ya._fromIdTokenResponse(s,o,l);return n||await s._updateCurrentUser(h.user),h}async function iT(s,t){return W1(to(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(s){const t=to(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function sT(s,t,n){const o=to(s);await ff(o,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",YS)}async function rT(s,t,n){if(Mi(s.app))return Promise.reject(qr(s));const o=to(s),m=await ff(o,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tT).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Y1(s),y}),g=await Ya._fromIdTokenResponse(o,"signIn",m);return await o._updateCurrentUser(g.user),g}function oT(s,t,n){return Mi(s.app)?Promise.reject(qr(s)):iT(ci(s),ru.credential(t,n)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&Y1(s),o})}function aT(s,t,n,o){return ci(s).onIdTokenChanged(t,n,o)}function lT(s,t,n){return ci(s).beforeAuthStateChanged(t,n)}function uT(s,t,n,o){return ci(s).onAuthStateChanged(t,n,o)}function Vp(s){return ci(s).signOut()}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=1e3,hT=10;class X1 extends K1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const o=this.storage.getItem(n),l=this.localCache[n];o!==l&&t(n,l,o)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((m,g,y)=>{this.notifyListeners(m,y)});return}const o=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(o);!n&&this.localCache[o]===m||this.notifyListeners(o,m)},h=this.storage.getItem(o);AS()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,hT):l()}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:o}),!0)})},cT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}X1.type="LOCAL";const fT=X1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends K1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Q1.type="SESSION";const J1=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const o=new Bf(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:o,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!m?.size)return;n.ports[0].postMessage({status:"ack",eventId:o,eventType:l});const g=Array.from(m).map(async b=>b(n.origin,h)),y=await dT(g);n.ports[0].postMessage({status:"done",eventId:o,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(s="",t=10){let n="";for(let o=0;o<t;o++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,o=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((g,y)=>{const b=qp("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},o);m={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===b)switch(x.data.status){case"ack":clearTimeout(E),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(x.data.response);break;default:clearTimeout(E),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:b,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function pT(s){mr().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function gT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _T(){return navigator?.serviceWorker?.controller||null}function vT(){return $1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firebaseLocalStorageDb",yT=1,pf="firebaseLocalStorage",ew="fbase_key";class Dc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(s,t){return s.transaction([pf],t?"readwrite":"readonly").objectStore(pf)}function wT(){const s=indexedDB.deleteDatabase(tw);return new Dc(s).toPromise()}function hp(){const s=indexedDB.open(tw,yT);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const o=s.result;try{o.createObjectStore(pf,{keyPath:ew})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const o=s.result;o.objectStoreNames.contains(pf)?t(o):(o.close(),await wT(),t(await hp()))})})}async function $0(s,t,n){const o=Hf(s,!0).put({[ew]:t,value:n});return new Dc(o).toPromise()}async function bT(s,t){const n=Hf(s,!1).get(t),o=await new Dc(n).toPromise();return o===void 0?null:o.value}function ty(s,t){const n=Hf(s,!0).delete(t);return new Dc(n).toPromise()}const xT=800,ET=3;class nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(n++>ET)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(vT()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gT(),!this.activeServiceWorker)return;this.sender=new mT(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_T()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hp();return await $0(t,mf,"1"),await ty(t,mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(o=>$0(o,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(o=>bT(o,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ty(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Hf(l,!1).getAll();return new Dc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],o=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)o.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!o.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nw.type="LOCAL";const ST=nw;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(s,t){return t?Fr(t):(Bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Bp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Gl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Gl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Gl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function TT(s){return W1(s.auth,new Gp(s),s.bypassAuthState)}function AT(s){const{auth:t,user:n}=s;return Bt(n,t,"internal-error"),nT(n,new Gp(s),s.bypassAuthState)}async function CT(s){const{auth:t,user:n}=s;return Bt(n,t,"internal-error"),eT(n,new Gp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,n,o,l,h=!1){this.auth=t,this.resolver=o,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:o,postBody:l,tenantId:h,error:m,type:g}=t;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:o,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(b){this.reject(b)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TT;case"linkViaPopup":case"linkViaRedirect":return CT;case"reauthViaPopup":case"reauthViaRedirect":return AT;default:_s(this.auth,"internal-error")}}resolve(t){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Mc(2e3,1e4);async function rw(s,t,n){if(Mi(s.app))return Promise.reject(Hs(s,"operation-not-supported-in-this-environment"));const o=to(s);oS(s,t,Fp);const l=iw(o,n);return new Ba(o,"signInViaPopup",t,l).executeNotNull()}class Ba extends sw{constructor(t,n,o,l,h){super(t,n,l,h),this.provider=o,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const t=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,NT.get())};t()}}Ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="pendingRedirect",$h=new Map;class IT extends sw{constructor(t,n,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,o),this.eventId=null}async execute(){let t=$h.get(this.auth._key());if(!t){try{const o=await kT(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(n){t=()=>Promise.reject(n)}$h.set(this.auth._key(),t)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kT(s,t){const n=OT(t),o=LT(s);if(!await o._isAvailable())return!1;const l=await o._get(n)==="true";return await o._remove(n),l}function MT(s,t){$h.set(s._key(),t)}function LT(s){return Fr(s._redirectPersistence)}function OT(s){return Jh(RT,s.config.apiKey,s.name)}async function DT(s,t,n=!1){if(Mi(s.app))return Promise.reject(qr(s));const o=to(s),l=iw(o,t),m=await new IT(o,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await o._persistUserIfCurrent(m.user),await o._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=600*1e3;class jT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(n=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UT(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!ow(t)){const o=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Hs(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const o=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PT&&this.cachedEventUids.clear(),this.cachedEventUids.has(ey(t))}saveEventToCache(t){this.cachedEventUids.add(ey(t)),this.lastProcessedEventTime=Date.now()}}function ey(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function ow({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function UT(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ow(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(s,t={}){return $r(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HT=/^https?/;async function FT(s){if(s.config.emulator)return;const{authorizedDomains:t}=await zT(s);for(const n of t)try{if(VT(n))return}catch{}_s(s,"unauthorized-domain")}function VT(s){const t=up(),{protocol:n,hostname:o}=new URL(t);if(s.startsWith("chrome-extension://")){const m=new URL(s);return m.hostname===""&&o===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===o}if(!HT.test(n))return!1;if(BT.test(s))return o===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Mc(3e4,6e4);function ny(){const s=mr().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function GT(s){return new Promise((t,n)=>{function o(){ny(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ny(),n(Hs(s,"network-request-failed"))},timeout:qT.get()})}if(mr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(mr().gapi?.load)o();else{const l=DS("iframefcb");return mr()[l]=()=>{gapi.load?o():n(Hs(s,"network-request-failed"))},V1(`${OS()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw tf=null,t})}let tf=null;function ZT(s){return tf=tf||GT(s),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Mc(5e3,15e3),YT="__/auth/iframe",KT="emulator/auth/iframe",XT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JT(s){const t=s.config;Bt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?jp(t,KT):`https://${s.config.authDomain}/${YT}`,o={apiKey:t.apiKey,appName:s.name,v:el},l=QT.get(s.config.apiHost);l&&(o.eid=l);const h=s._getFrameworks();return h.length&&(o.fw=h.join(",")),`${n}?${su(o).slice(1)}`}async function $T(s){const t=await ZT(s),n=mr().gapi;return Bt(n,s,"internal-error"),t.open({where:document.body,url:JT(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XT,dontclear:!0},o=>new Promise(async(l,h)=>{await o.restyle({setHideOnLeave:!1});const m=Hs(s,"network-request-failed"),g=mr().setTimeout(()=>{h(m)},WT.get());function y(){mr().clearTimeout(g),l(o)}o.ping(y).then(y,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eA=500,nA=600,iA="_blank",sA="http://localhost";class iy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rA(s,t,n,o=eA,l=nA){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-o)/2,0).toString();let g="";const y={...tA,width:o.toString(),height:l.toString(),top:h,left:m},b=xi().toLowerCase();n&&(g=P1(b)?iA:n),O1(b)&&(t=t||sA,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[k,O])=>`${x}${k}=${O},`,"");if(TS(b)&&g!=="_self")return oA(t||"",g),new iy(null);const S=window.open(t||"",g,E);Bt(S,s,"popup-blocked");try{S.focus()}catch{}return new iy(S)}function oA(s,t){const n=document.createElement("a");n.href=s,n.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="__/auth/handler",lA="emulator/auth/handler",uA=encodeURIComponent("fac");async function sy(s,t,n,o,l,h){Bt(s.config.authDomain,s,"auth-domain-config-required"),Bt(s.config.apiKey,s,"invalid-api-key");const m={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:o,v:el,eventId:l};if(t instanceof Fp){t.setDefaultLanguage(s.languageCode),m.providerId=t.providerId||"",ip(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))m[E]=S}if(t instanceof Oc){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(m.scopes=E.join(","))}s.tenantId&&(m.tid=s.tenantId);const g=m;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),b=y?`#${uA}=${encodeURIComponent(y)}`:"";return`${cA(s)}?${su(g).slice(1)}${b}`}function cA({config:s}){return s.emulator?jp(s,lA):`https://${s.authDomain}/${aA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class hA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J1,this._completeRedirectFn=DT,this._overrideRedirectResult=MT}async _openPopup(t,n,o,l){Wr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await sy(t,n,o,up(),l);return rA(t,h,qp())}async _openRedirect(t,n,o,l){await this._originValidation(t);const h=await sy(t,n,o,up(),l);return pT(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Wr(h,"If manager is not set, promise should be"),h)}const o=this.initAndGetManager(t);return this.eventManagers[n]={promise:o},o.catch(()=>{delete this.eventManagers[n]}),o}async initAndGetManager(t){const n=await $T(t),o=new jT(t);return n.register("authEvent",l=>(Bt(l?.authEvent,t,"invalid-auth-event"),{status:o.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=n,o}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gm,{type:Gm},l=>{const h=l?.[0]?.[Gm];h!==void 0&&n(!!h),_s(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FT(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return H1()||D1()||zp()}}const fA=hA;var ry="@firebase/auth",oy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(o=>{t(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pA(s){Za(new ia("auth",(t,{options:n})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:g}=o.options;Bt(m&&!m.includes(":"),"invalid-api-key",{appName:o.name});const y={apiKey:m,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F1(s)},b=new kS(o,l,h,y);return HS(b,n),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,o)=>{t.getProvider("auth-internal").initialize()})),Za(new ia("auth-internal",t=>{const n=to(t.getProvider("auth").getImmediate());return(o=>new dA(o))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(ry,oy,mA(s)),dr(ry,oy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=300,_A=v1("authIdTokenMaxAge")||gA;let ay=null;const vA=s=>async t=>{const n=t&&await t.getIdTokenResult(),o=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(o&&o>_A)return;const l=n?.token;ay!==l&&(ay=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Ff(s=Op()){const t=Uf(s,"auth");if(t.isInitialized())return t.getImmediate();const n=BS(s,{popupRedirectResolver:fA,persistence:[ST,fT,J1]}),o=v1("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(o,location.origin);if(location.origin===h.origin){const m=vA(h.toString());lT(n,m,()=>m(n.currentUser)),aT(n,g=>m(g))}}const l=p1("auth");return l&&FS(n,`http://${l}`),n}function yA(){return document.getElementsByTagName("head")?.[0]??document}MS({loadJS(s){return new Promise((t,n)=>{const o=document.createElement("script");o.setAttribute("src",s),o.onload=t,o.onerror=l=>{const h=Hs("internal-error");h.customData=l,n(h)},o.type="text/javascript",o.charset="UTF-8",yA().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pA("Browser");var wA="firebase",bA="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(wA,bA,"app");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(q,C){function N(){}N.prototype=C.prototype,q.D=C.prototype,q.prototype=new N,q.prototype.constructor=q,q.C=function(P,j,H){for(var D=Array(arguments.length-2),J=2;J<arguments.length;J++)D[J-2]=arguments[J];return C.prototype[j].apply(P,D)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(q,C,N){N||(N=0);var P=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)P[j]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(j=0;16>j;++j)P[j]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=q.g[0],N=q.g[1],j=q.g[2];var H=q.g[3],D=C+(H^N&(j^H))+P[0]+3614090360&4294967295;C=N+(D<<7&4294967295|D>>>25),D=H+(j^C&(N^j))+P[1]+3905402710&4294967295,H=C+(D<<12&4294967295|D>>>20),D=j+(N^H&(C^N))+P[2]+606105819&4294967295,j=H+(D<<17&4294967295|D>>>15),D=N+(C^j&(H^C))+P[3]+3250441966&4294967295,N=j+(D<<22&4294967295|D>>>10),D=C+(H^N&(j^H))+P[4]+4118548399&4294967295,C=N+(D<<7&4294967295|D>>>25),D=H+(j^C&(N^j))+P[5]+1200080426&4294967295,H=C+(D<<12&4294967295|D>>>20),D=j+(N^H&(C^N))+P[6]+2821735955&4294967295,j=H+(D<<17&4294967295|D>>>15),D=N+(C^j&(H^C))+P[7]+4249261313&4294967295,N=j+(D<<22&4294967295|D>>>10),D=C+(H^N&(j^H))+P[8]+1770035416&4294967295,C=N+(D<<7&4294967295|D>>>25),D=H+(j^C&(N^j))+P[9]+2336552879&4294967295,H=C+(D<<12&4294967295|D>>>20),D=j+(N^H&(C^N))+P[10]+4294925233&4294967295,j=H+(D<<17&4294967295|D>>>15),D=N+(C^j&(H^C))+P[11]+2304563134&4294967295,N=j+(D<<22&4294967295|D>>>10),D=C+(H^N&(j^H))+P[12]+1804603682&4294967295,C=N+(D<<7&4294967295|D>>>25),D=H+(j^C&(N^j))+P[13]+4254626195&4294967295,H=C+(D<<12&4294967295|D>>>20),D=j+(N^H&(C^N))+P[14]+2792965006&4294967295,j=H+(D<<17&4294967295|D>>>15),D=N+(C^j&(H^C))+P[15]+1236535329&4294967295,N=j+(D<<22&4294967295|D>>>10),D=C+(j^H&(N^j))+P[1]+4129170786&4294967295,C=N+(D<<5&4294967295|D>>>27),D=H+(N^j&(C^N))+P[6]+3225465664&4294967295,H=C+(D<<9&4294967295|D>>>23),D=j+(C^N&(H^C))+P[11]+643717713&4294967295,j=H+(D<<14&4294967295|D>>>18),D=N+(H^C&(j^H))+P[0]+3921069994&4294967295,N=j+(D<<20&4294967295|D>>>12),D=C+(j^H&(N^j))+P[5]+3593408605&4294967295,C=N+(D<<5&4294967295|D>>>27),D=H+(N^j&(C^N))+P[10]+38016083&4294967295,H=C+(D<<9&4294967295|D>>>23),D=j+(C^N&(H^C))+P[15]+3634488961&4294967295,j=H+(D<<14&4294967295|D>>>18),D=N+(H^C&(j^H))+P[4]+3889429448&4294967295,N=j+(D<<20&4294967295|D>>>12),D=C+(j^H&(N^j))+P[9]+568446438&4294967295,C=N+(D<<5&4294967295|D>>>27),D=H+(N^j&(C^N))+P[14]+3275163606&4294967295,H=C+(D<<9&4294967295|D>>>23),D=j+(C^N&(H^C))+P[3]+4107603335&4294967295,j=H+(D<<14&4294967295|D>>>18),D=N+(H^C&(j^H))+P[8]+1163531501&4294967295,N=j+(D<<20&4294967295|D>>>12),D=C+(j^H&(N^j))+P[13]+2850285829&4294967295,C=N+(D<<5&4294967295|D>>>27),D=H+(N^j&(C^N))+P[2]+4243563512&4294967295,H=C+(D<<9&4294967295|D>>>23),D=j+(C^N&(H^C))+P[7]+1735328473&4294967295,j=H+(D<<14&4294967295|D>>>18),D=N+(H^C&(j^H))+P[12]+2368359562&4294967295,N=j+(D<<20&4294967295|D>>>12),D=C+(N^j^H)+P[5]+4294588738&4294967295,C=N+(D<<4&4294967295|D>>>28),D=H+(C^N^j)+P[8]+2272392833&4294967295,H=C+(D<<11&4294967295|D>>>21),D=j+(H^C^N)+P[11]+1839030562&4294967295,j=H+(D<<16&4294967295|D>>>16),D=N+(j^H^C)+P[14]+4259657740&4294967295,N=j+(D<<23&4294967295|D>>>9),D=C+(N^j^H)+P[1]+2763975236&4294967295,C=N+(D<<4&4294967295|D>>>28),D=H+(C^N^j)+P[4]+1272893353&4294967295,H=C+(D<<11&4294967295|D>>>21),D=j+(H^C^N)+P[7]+4139469664&4294967295,j=H+(D<<16&4294967295|D>>>16),D=N+(j^H^C)+P[10]+3200236656&4294967295,N=j+(D<<23&4294967295|D>>>9),D=C+(N^j^H)+P[13]+681279174&4294967295,C=N+(D<<4&4294967295|D>>>28),D=H+(C^N^j)+P[0]+3936430074&4294967295,H=C+(D<<11&4294967295|D>>>21),D=j+(H^C^N)+P[3]+3572445317&4294967295,j=H+(D<<16&4294967295|D>>>16),D=N+(j^H^C)+P[6]+76029189&4294967295,N=j+(D<<23&4294967295|D>>>9),D=C+(N^j^H)+P[9]+3654602809&4294967295,C=N+(D<<4&4294967295|D>>>28),D=H+(C^N^j)+P[12]+3873151461&4294967295,H=C+(D<<11&4294967295|D>>>21),D=j+(H^C^N)+P[15]+530742520&4294967295,j=H+(D<<16&4294967295|D>>>16),D=N+(j^H^C)+P[2]+3299628645&4294967295,N=j+(D<<23&4294967295|D>>>9),D=C+(j^(N|~H))+P[0]+4096336452&4294967295,C=N+(D<<6&4294967295|D>>>26),D=H+(N^(C|~j))+P[7]+1126891415&4294967295,H=C+(D<<10&4294967295|D>>>22),D=j+(C^(H|~N))+P[14]+2878612391&4294967295,j=H+(D<<15&4294967295|D>>>17),D=N+(H^(j|~C))+P[5]+4237533241&4294967295,N=j+(D<<21&4294967295|D>>>11),D=C+(j^(N|~H))+P[12]+1700485571&4294967295,C=N+(D<<6&4294967295|D>>>26),D=H+(N^(C|~j))+P[3]+2399980690&4294967295,H=C+(D<<10&4294967295|D>>>22),D=j+(C^(H|~N))+P[10]+4293915773&4294967295,j=H+(D<<15&4294967295|D>>>17),D=N+(H^(j|~C))+P[1]+2240044497&4294967295,N=j+(D<<21&4294967295|D>>>11),D=C+(j^(N|~H))+P[8]+1873313359&4294967295,C=N+(D<<6&4294967295|D>>>26),D=H+(N^(C|~j))+P[15]+4264355552&4294967295,H=C+(D<<10&4294967295|D>>>22),D=j+(C^(H|~N))+P[6]+2734768916&4294967295,j=H+(D<<15&4294967295|D>>>17),D=N+(H^(j|~C))+P[13]+1309151649&4294967295,N=j+(D<<21&4294967295|D>>>11),D=C+(j^(N|~H))+P[4]+4149444226&4294967295,C=N+(D<<6&4294967295|D>>>26),D=H+(N^(C|~j))+P[11]+3174756917&4294967295,H=C+(D<<10&4294967295|D>>>22),D=j+(C^(H|~N))+P[2]+718787259&4294967295,j=H+(D<<15&4294967295|D>>>17),D=N+(H^(j|~C))+P[9]+3951481745&4294967295,q.g[0]=q.g[0]+C&4294967295,q.g[1]=q.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,q.g[2]=q.g[2]+j&4294967295,q.g[3]=q.g[3]+H&4294967295}o.prototype.u=function(q,C){C===void 0&&(C=q.length);for(var N=C-this.blockSize,P=this.B,j=this.h,H=0;H<C;){if(j==0)for(;H<=N;)l(this,q,H),H+=this.blockSize;if(typeof q=="string"){for(;H<C;)if(P[j++]=q.charCodeAt(H++),j==this.blockSize){l(this,P),j=0;break}}else for(;H<C;)if(P[j++]=q[H++],j==this.blockSize){l(this,P),j=0;break}}this.h=j,this.o+=C},o.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var C=1;C<q.length-8;++C)q[C]=0;var N=8*this.o;for(C=q.length-8;C<q.length;++C)q[C]=N&255,N/=256;for(this.u(q),q=Array(16),C=N=0;4>C;++C)for(var P=0;32>P;P+=8)q[N++]=this.g[C]>>>P&255;return q};function h(q,C){var N=g;return Object.prototype.hasOwnProperty.call(N,q)?N[q]:N[q]=C(q)}function m(q,C){this.h=C;for(var N=[],P=!0,j=q.length-1;0<=j;j--){var H=q[j]|0;P&&H==C||(N[j]=H,P=!1)}this.g=N}var g={};function y(q){return-128<=q&&128>q?h(q,function(C){return new m([C|0],0>C?-1:0)}):new m([q|0],0>q?-1:0)}function b(q){if(isNaN(q)||!isFinite(q))return S;if(0>q)return W(b(-q));for(var C=[],N=1,P=0;q>=N;P++)C[P]=q/N|0,N*=4294967296;return new m(C,0)}function E(q,C){if(q.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(q.charAt(0)=="-")return W(E(q.substring(1),C));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=b(Math.pow(C,8)),P=S,j=0;j<q.length;j+=8){var H=Math.min(8,q.length-j),D=parseInt(q.substring(j,j+H),C);8>H?(H=b(Math.pow(C,H)),P=P.j(H).add(b(D))):(P=P.j(N),P=P.add(b(D)))}return P}var S=y(0),x=y(1),k=y(16777216);s=m.prototype,s.m=function(){if(G(this))return-W(this).m();for(var q=0,C=1,N=0;N<this.g.length;N++){var P=this.i(N);q+=(0<=P?P:4294967296+P)*C,C*=4294967296}return q},s.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(O(this))return"0";if(G(this))return"-"+W(this).toString(q);for(var C=b(Math.pow(q,6)),N=this,P="";;){var j=Q(N,C).g;N=Z(N,j.j(C));var H=((0<N.g.length?N.g[0]:N.h)>>>0).toString(q);if(N=j,O(N))return H+P;for(;6>H.length;)H="0"+H;P=H+P}},s.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function O(q){if(q.h!=0)return!1;for(var C=0;C<q.g.length;C++)if(q.g[C]!=0)return!1;return!0}function G(q){return q.h==-1}s.l=function(q){return q=Z(this,q),G(q)?-1:O(q)?0:1};function W(q){for(var C=q.g.length,N=[],P=0;P<C;P++)N[P]=~q.g[P];return new m(N,~q.h).add(x)}s.abs=function(){return G(this)?W(this):this},s.add=function(q){for(var C=Math.max(this.g.length,q.g.length),N=[],P=0,j=0;j<=C;j++){var H=P+(this.i(j)&65535)+(q.i(j)&65535),D=(H>>>16)+(this.i(j)>>>16)+(q.i(j)>>>16);P=D>>>16,H&=65535,D&=65535,N[j]=D<<16|H}return new m(N,N[N.length-1]&-2147483648?-1:0)};function Z(q,C){return q.add(W(C))}s.j=function(q){if(O(this)||O(q))return S;if(G(this))return G(q)?W(this).j(W(q)):W(W(this).j(q));if(G(q))return W(this.j(W(q)));if(0>this.l(k)&&0>q.l(k))return b(this.m()*q.m());for(var C=this.g.length+q.g.length,N=[],P=0;P<2*C;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var j=0;j<q.g.length;j++){var H=this.i(P)>>>16,D=this.i(P)&65535,J=q.i(j)>>>16,it=q.i(j)&65535;N[2*P+2*j]+=D*it,ct(N,2*P+2*j),N[2*P+2*j+1]+=H*it,ct(N,2*P+2*j+1),N[2*P+2*j+1]+=D*J,ct(N,2*P+2*j+1),N[2*P+2*j+2]+=H*J,ct(N,2*P+2*j+2)}for(P=0;P<C;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=C;P<2*C;P++)N[P]=0;return new m(N,0)};function ct(q,C){for(;(q[C]&65535)!=q[C];)q[C+1]+=q[C]>>>16,q[C]&=65535,C++}function et(q,C){this.g=q,this.h=C}function Q(q,C){if(O(C))throw Error("division by zero");if(O(q))return new et(S,S);if(G(q))return C=Q(W(q),C),new et(W(C.g),W(C.h));if(G(C))return C=Q(q,W(C)),new et(W(C.g),C.h);if(30<q.g.length){if(G(q)||G(C))throw Error("slowDivide_ only works with positive integers.");for(var N=x,P=C;0>=P.l(q);)N=nt(N),P=nt(P);var j=Y(N,1),H=Y(P,1);for(P=Y(P,2),N=Y(N,2);!O(P);){var D=H.add(P);0>=D.l(q)&&(j=j.add(N),H=D),P=Y(P,1),N=Y(N,1)}return C=Z(q,j.j(C)),new et(j,C)}for(j=S;0<=q.l(C);){for(N=Math.max(1,Math.floor(q.m()/C.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),H=b(N),D=H.j(C);G(D)||0<D.l(q);)N-=P,H=b(N),D=H.j(C);O(H)&&(H=x),j=j.add(H),q=Z(q,D)}return new et(j,q)}s.A=function(q){return Q(this,q).h},s.and=function(q){for(var C=Math.max(this.g.length,q.g.length),N=[],P=0;P<C;P++)N[P]=this.i(P)&q.i(P);return new m(N,this.h&q.h)},s.or=function(q){for(var C=Math.max(this.g.length,q.g.length),N=[],P=0;P<C;P++)N[P]=this.i(P)|q.i(P);return new m(N,this.h|q.h)},s.xor=function(q){for(var C=Math.max(this.g.length,q.g.length),N=[],P=0;P<C;P++)N[P]=this.i(P)^q.i(P);return new m(N,this.h^q.h)};function nt(q){for(var C=q.g.length+1,N=[],P=0;P<C;P++)N[P]=q.i(P)<<1|q.i(P-1)>>>31;return new m(N,q.h)}function Y(q,C){var N=C>>5;C%=32;for(var P=q.g.length-N,j=[],H=0;H<P;H++)j[H]=0<C?q.i(H+N)>>>C|q.i(H+N+1)<<32-C:q.i(H+N);return new m(j,q.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=b,m.fromString=E,Zp=m}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,R){return f==Array.prototype||f==Object.prototype||(f[w]=R.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var w=0;w<f.length;++w){var R=f[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var o=n(this);function l(f,w){if(w)t:{var R=o;f=f.split(".");for(var V=0;V<f.length-1;V++){var ht=f[V];if(!(ht in R))break t;R=R[ht]}f=f[f.length-1],V=R[f],w=w(V),w!=V&&w!=null&&t(R,f,{configurable:!0,writable:!0,value:w})}}function h(f,w){f instanceof String&&(f+="");var R=0,V=!1,ht={next:function(){if(!V&&R<f.length){var yt=R++;return{value:w(yt,f[yt]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ht[Symbol.iterator]=function(){return ht},ht}l("Array.prototype.values",function(f){return f||function(){return h(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},g=this||self;function y(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function b(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function E(f,w,R){return f.call.apply(f.bind,arguments)}function S(f,w,R){if(!f)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ht=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ht,V),f.apply(w,ht)}}return function(){return f.apply(w,arguments)}}function x(f,w,R){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,x.apply(null,arguments)}function k(f,w){var R=Array.prototype.slice.call(arguments,1);return function(){var V=R.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function O(f,w){function R(){}R.prototype=w.prototype,f.aa=w.prototype,f.prototype=new R,f.prototype.constructor=f,f.Qb=function(V,ht,yt){for(var At=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)At[ve-2]=arguments[ve];return w.prototype[ht].apply(V,At)}}function G(f){const w=f.length;if(0<w){const R=Array(w);for(let V=0;V<w;V++)R[V]=f[V];return R}return[]}function W(f,w){for(let R=1;R<arguments.length;R++){const V=arguments[R];if(y(V)){const ht=f.length||0,yt=V.length||0;f.length=ht+yt;for(let At=0;At<yt;At++)f[ht+At]=V[At]}else f.push(V)}}class Z{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function ct(f){return/^[\s\xa0]*$/.test(f)}function et(){var f=g.navigator;return f&&(f=f.userAgent)?f:""}function Q(f){return Q[" "](f),f}Q[" "]=function(){};var nt=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function Y(f,w,R){for(const V in f)w.call(R,f[V],V,f)}function q(f,w){for(const R in f)w.call(void 0,f[R],R,f)}function C(f){const w={};for(const R in f)w[R]=f[R];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,w){let R,V;for(let ht=1;ht<arguments.length;ht++){V=arguments[ht];for(R in V)f[R]=V[R];for(let yt=0;yt<N.length;yt++)R=N[yt],Object.prototype.hasOwnProperty.call(V,R)&&(f[R]=V[R])}}function j(f){var w=1;f=f.split(":");const R=[];for(;0<w&&f.length;)R.push(f.shift()),w--;return f.length&&R.push(f.join(":")),R}function H(f){g.setTimeout(()=>{throw f},0)}function D(){var f=ot;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class J{constructor(){this.h=this.g=null}add(w,R){const V=it.get();V.set(w,R),this.h?this.h.next=V:this.g=V,this.h=V}}var it=new Z(()=>new M,f=>f.reset());class M{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let z,$=!1,ot=new J,B=()=>{const f=g.Promise.resolve(void 0);z=()=>{f.then(st)}};var st=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(R){H(R)}var w=it;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}$=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var mt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const R=()=>{};g.addEventListener("test",R,w),g.removeEventListener("test",R,w)}catch{}return f})();function rt(f,w){if(ft.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var R=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(nt){t:{try{Q(w.nodeName);var ht=!0;break t}catch{}ht=!1}ht||(w=null)}}else R=="mouseover"?w=f.fromElement:R=="mouseout"&&(w=f.toElement);this.relatedTarget=w,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:wt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&rt.aa.h.call(this)}}O(rt,ft);var wt={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),kt=0;function Gt(f,w,R,V,ht){this.listener=f,this.proxy=null,this.src=w,this.type=R,this.capture=!!V,this.ha=ht,this.key=++kt,this.da=this.fa=!1}function Xt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function oe(f){this.src=f,this.g={},this.h=0}oe.prototype.add=function(f,w,R,V,ht){var yt=f.toString();f=this.g[yt],f||(f=this.g[yt]=[],this.h++);var At=En(f,w,V,ht);return-1<At?(w=f[At],R||(w.fa=!1)):(w=new Gt(w,this.src,yt,!!V,ht),w.fa=R,f.push(w)),w};function me(f,w){var R=w.type;if(R in f.g){var V=f.g[R],ht=Array.prototype.indexOf.call(V,w,void 0),yt;(yt=0<=ht)&&Array.prototype.splice.call(V,ht,1),yt&&(Xt(w),f.g[R].length==0&&(delete f.g[R],f.h--))}}function En(f,w,R,V){for(var ht=0;ht<f.length;++ht){var yt=f[ht];if(!yt.da&&yt.listener==w&&yt.capture==!!R&&yt.ha==V)return ht}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),be={};function We(f,w,R,V,ht){if(Array.isArray(w)){for(var yt=0;yt<w.length;yt++)We(f,w[yt],R,V,ht);return null}return R=pn(R),f&&f[Dt]?f.K(w,R,b(V)?!!V.capture:!1,ht):Zt(f,w,R,!1,V,ht)}function Zt(f,w,R,V,ht,yt){if(!w)throw Error("Invalid event type");var At=b(ht)?!!ht.capture:!!ht,ve=Se(f);if(ve||(f[dn]=ve=new oe(f)),R=ve.add(w,R,V,At,yt),R.proxy)return R;if(V=le(),R.proxy=V,V.src=f,V.listener=R,f.addEventListener)mt||(ht=At),ht===void 0&&(ht=!1),f.addEventListener(w.toString(),V,ht);else if(f.attachEvent)f.attachEvent(_e(w.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return R}function le(){function f(R){return w.call(f.src,f.listener,R)}const w=mn;return f}function qe(f,w,R,V,ht){if(Array.isArray(w))for(var yt=0;yt<w.length;yt++)qe(f,w[yt],R,V,ht);else V=b(V)?!!V.capture:!!V,R=pn(R),f&&f[Dt]?(f=f.i,w=String(w).toString(),w in f.g&&(yt=f.g[w],R=En(yt,R,V,ht),-1<R&&(Xt(yt[R]),Array.prototype.splice.call(yt,R,1),yt.length==0&&(delete f.g[w],f.h--)))):f&&(f=Se(f))&&(w=f.g[w.toString()],f=-1,w&&(f=En(w,R,V,ht)),(R=-1<f?w[f]:null)&&Ge(R))}function Ge(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Dt])me(w.i,f);else{var R=f.type,V=f.proxy;w.removeEventListener?w.removeEventListener(R,V,f.capture):w.detachEvent?w.detachEvent(_e(R),V):w.addListener&&w.removeListener&&w.removeListener(V),(R=Se(w))?(me(R,f),R.h==0&&(R.src=null,w[dn]=null)):Xt(f)}}}function _e(f){return f in be?be[f]:be[f]="on"+f}function mn(f,w){if(f.da)f=!0;else{w=new rt(w,this);var R=f.listener,V=f.ha||f.src;f.fa&&Ge(f),f=R.call(V,w)}return f}function Se(f){return f=f[dn],f instanceof oe?f:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function pn(f){return typeof f=="function"?f:(f[pe]||(f[pe]=function(w){return f.handleEvent(w)}),f[pe])}function ae(){lt.call(this),this.i=new oe(this),this.M=this,this.F=null}O(ae,lt),ae.prototype[Dt]=!0,ae.prototype.removeEventListener=function(f,w,R,V){qe(this,f,w,R,V)};function ee(f,w){var R,V=f.F;if(V)for(R=[];V;V=V.F)R.push(V);if(f=f.M,V=w.type||w,typeof w=="string")w=new ft(w,f);else if(w instanceof ft)w.target=w.target||f;else{var ht=w;w=new ft(V,f),P(w,ht)}if(ht=!0,R)for(var yt=R.length-1;0<=yt;yt--){var At=w.g=R[yt];ht=ge(At,V,!0,w)&&ht}if(At=w.g=f,ht=ge(At,V,!0,w)&&ht,ht=ge(At,V,!1,w)&&ht,R)for(yt=0;yt<R.length;yt++)At=w.g=R[yt],ht=ge(At,V,!1,w)&&ht}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var R=f.g[w],V=0;V<R.length;V++)Xt(R[V]);delete f.g[w],f.h--}}this.F=null},ae.prototype.K=function(f,w,R,V){return this.i.add(String(f),w,!1,R,V)},ae.prototype.L=function(f,w,R,V){return this.i.add(String(f),w,!0,R,V)};function ge(f,w,R,V){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var ht=!0,yt=0;yt<w.length;++yt){var At=w[yt];if(At&&!At.da&&At.capture==R){var ve=At.listener,ze=At.ha||At.src;At.fa&&me(f.i,At),ht=ve.call(ze,V)!==!1&&ht}}return ht&&!V.defaultPrevented}function Pe(f,w,R){if(typeof f=="function")R&&(f=x(f,R));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:g.setTimeout(f,w||0)}function Xe(f){f.g=Pe(()=>{f.g=null,f.i&&(f.i=!1,Xe(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class In extends lt{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(f){lt.call(this),this.h=f,this.g={}}O(tn,lt);var gn=[];function en(f){Y(f.g,function(w,R){this.g.hasOwnProperty(R)&&Ge(w)},f),f.g={}}tn.prototype.N=function(){tn.aa.N.call(this),en(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=g.JSON.stringify,$i=g.JSON.parse,hi=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function ys(){}ys.prototype.h=null;function Vs(f){return f.h||(f.h=f.i())}function Oi(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ln(){ft.call(this,"d")}O(ln,ft);function $n(){ft.call(this,"c")}O($n,ft);var kn={},Di=null;function ts(){return Di=Di||new ae}kn.La="serverreachability";function ti(f){ft.call(this,kn.La,f)}O(ti,ft);function Mn(f){const w=ts();ee(w,new ti(w))}kn.STAT_EVENT="statevent";function no(f,w){ft.call(this,kn.STAT_EVENT,f),this.stat=w}O(no,ft);function je(f){const w=ts();ee(w,new no(w,f))}kn.Ma="timingevent";function un(f,w){ft.call(this,kn.Ma,f),this.size=w}O(un,ft);function sn(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},w)}function Si(){this.g=!0}Si.prototype.xa=function(){this.g=!1};function ei(f,w,R,V,ht,yt){f.info(function(){if(f.g)if(yt)for(var At="",ve=yt.split("&"),ze=0;ze<ve.length;ze++){var ne=ve[ze].split("=");if(1<ne.length){var vn=ne[0];ne=ne[1];var Ae=vn.split("_");At=2<=Ae.length&&Ae[1]=="type"?At+(vn+"="+ne+"&"):At+(vn+"=redacted&")}}else At=null;else At=yt;return"XMLHTTP REQ ("+V+") [attempt "+ht+"]: "+w+`
`+R+`
`+At})}function Lt(f,w,R,V,ht,yt,At){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ht+"]: "+w+`
`+R+`
`+yt+" "+At})}function ws(f,w,R,V){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+qs(f,R)+(V?" "+V:"")})}function ua(f,w){f.info(function(){return"TIMEOUT: "+w})}Si.prototype.info=function(){};function qs(f,w){if(!f.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(f=0;f<R.length;f++)if(Array.isArray(R[f])){var V=R[f];if(!(2>V.length)){var ht=V[1];if(Array.isArray(ht)&&!(1>ht.length)){var yt=ht[0];if(yt!="noop"&&yt!="stop"&&yt!="close")for(var At=1;At<ht.length;At++)ht[At]=""}}}}return nn(R)}catch{return w}}var Gs={NO_ERROR:0,TIMEOUT:8},es={},Pi;function Vn(){}O(Vn,ys),Vn.prototype.g=function(){return new XMLHttpRequest},Vn.prototype.i=function(){return{}},Pi=new Vn;function Ln(f,w,R,V){this.j=f,this.i=w,this.l=R,this.R=V||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}var ca={},io={};function ji(f,w,R){f.L=1,f.v=fi(Ue(w)),f.m=R,f.P=!0,ns(f,null)}function ns(f,w){f.F=Date.now(),vr(f),f.A=Ue(f.v);var R=f.A,V=f.R;Array.isArray(V)||(V=[String(V)]),da(R.i,"t",V),f.C=0,R=f.j.J,f.h=new Qe,f.g=ul(f.j,R?w:null,!f.m),0<f.O&&(f.M=new In(x(f.Y,f,f.g),f.O)),w=f.U,R=f.g,V=f.ca;var ht="readystatechange";Array.isArray(ht)||(ht&&(gn[0]=ht.toString()),ht=gn);for(var yt=0;yt<ht.length;yt++){var At=We(R,ht[yt],V||w.handleEvent,!1,w.h||w);if(!At)break;w.g[At.key]=At}w=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Mn(),ei(f.i,f.u,f.A,f.l,f.R,f.m)}Ln.prototype.ca=function(f){f=f.target;const w=this.M;w&&Pn(f)==3?w.j():this.Y(f)},Ln.prototype.Y=function(f){try{if(f==this.g)t:{const Ae=Pn(this.g);var w=this.g.Ba();const ri=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||Ae!=4||w==7||(w==8||0>=ri?Mn(3):Mn(2)),Zs(this);var R=this.g.Z();this.X=R;e:if(sl(this)){var V=ma(this.g);f="";var ht=V.length,yt=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),is(this);var At="";break e}this.h.i=new g.TextDecoder}for(w=0;w<ht;w++)this.h.h=!0,f+=this.h.i.decode(V[w],{stream:!(yt&&w==ht-1)});V.length=0,this.h.g+=f,this.C=0,At=this.h.g}else At=this.g.oa();if(this.o=R==200,Lt(this.i,this.u,this.A,this.l,this.R,Ae,R),this.o){if(this.T&&!this.K){e:{if(this.g){var ve,ze=this.g;if((ve=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(ve)){var ne=ve;break e}}ne=null}if(R=ne)ws(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bs(this,R);else{this.o=!1,this.s=3,je(12),Sn(this),is(this);break t}}if(this.P){R=!0;let oi;for(;!this.J&&this.C<At.length;)if(oi=_r(this,At),oi==io){Ae==4&&(this.s=4,je(14),R=!1),ws(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==ca){this.s=4,je(15),ws(this.i,this.l,At,"[Invalid Chunk]"),R=!1;break}else ws(this.i,this.l,oi,null),bs(this,oi);if(sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||At.length!=0||this.h.h||(this.s=1,je(16),R=!1),this.o=this.o&&R,!R)ws(this.i,this.l,At,"[Invalid Chunked Response]"),Sn(this),is(this);else if(0<At.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+At.length),Js(vn),vn.M=!0,je(11))}}else ws(this.i,this.l,At,null),bs(this,At);Ae==4&&Sn(this),this.o&&!this.J&&(Ae==4?ga(this.j,this):(this.o=!1,vr(this)))}else uu(this.g),R==400&&0<At.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),Sn(this),is(this)}}}catch{}finally{}};function sl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function _r(f,w){var R=f.C,V=w.indexOf(`
`,R);return V==-1?io:(R=Number(w.substring(R,V)),isNaN(R)?ca:(V+=1,V+R>w.length?io:(w=w.slice(V,V+R),f.C=V+R,w)))}Ln.prototype.cancel=function(){this.J=!0,Sn(this)};function vr(f){f.S=Date.now()+f.I,rl(f,f.I)}function rl(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=sn(x(f.ba,f),w)}function Zs(f){f.B&&(g.clearTimeout(f.B),f.B=null)}Ln.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ua(this.i,this.A),this.L!=2&&(Mn(),je(17)),Sn(this),this.s=2,is(this)):rl(this,this.S-f)};function is(f){f.j.G==0||f.J||ga(f.j,f)}function Sn(f){Zs(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,en(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function bs(f,w){try{var R=f.j;if(R.G!=0&&(R.g==f||Qt(R.h,f))){if(!f.K&&Qt(R.h,f)&&R.G==3){try{var V=R.Da.g.parse(w)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ht=V;if(ht[0]==0){t:if(!R.u){if(R.g)if(R.g.F+3e3<f.F)fo(R),uo(R);else break t;co(R),je(18)}}else R.za=ht[1],0<R.za-R.T&&37500>ht[2]&&R.F&&R.v==0&&!R.C&&(R.C=sn(x(R.Za,R),6e3));if(1>=rs(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Cs(R,11)}else if((f.K||R.g==f)&&fo(R),!ct(w))for(ht=R.Da.g.parse(w),w=0;w<ht.length;w++){let ne=ht[w];if(R.T=ne[0],ne=ne[1],R.G==2)if(ne[0]=="c"){R.K=ne[1],R.ia=ne[2];const vn=ne[3];vn!=null&&(R.la=vn,R.j.info("VER="+R.la));const Ae=ne[4];Ae!=null&&(R.Aa=Ae,R.j.info("SVER="+R.Aa));const ri=ne[5];ri!=null&&typeof ri=="number"&&0<ri&&(V=1.5*ri,R.L=V,R.j.info("backChannelRequestTimeoutMs_="+V)),V=R;const oi=f.g;if(oi){const yn=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yn){var yt=V.h;yt.g||yn.indexOf("spdy")==-1&&yn.indexOf("quic")==-1&&yn.indexOf("h2")==-1||(yt.j=yt.l,yt.g=new Set,yt.h&&(Te(yt,yt.h),yt.h=null))}if(V.D){const Ns=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ns&&(V.ya=Ns,zt(V.I,V.D,Ns))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-f.F,R.j.info("Handshake RTT: "+R.R+"ms")),V=R;var At=f;if(V.qa=po(V,V.J?V.ia:null,V.W),At.K){_n(V.h,At);var ve=At,ze=V.L;ze&&(ve.I=ze),ve.B&&(Zs(ve),vr(ve)),V.g=At}else Vi(V);0<R.i.length&&Qs(R)}else ne[0]!="stop"&&ne[0]!="close"||Cs(R,7);else R.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?Cs(R,7):lo(R):ne[0]!="noop"&&R.l&&R.l.ta(ne),R.v=0)}}Mn(4)}catch{}}var Ws=class{constructor(f,w){this.g=f,this.map=w}};function ss(f){this.l=f||10,g.PerformanceNavigationTiming?(f=g.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function rs(f){return f.h?1:f.g?f.g.size:0}function Qt(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function Te(f,w){f.g?f.g.add(w):f.h=w}function _n(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}ss.prototype.cancel=function(){if(this.i=os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function os(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const R of f.g.values())w=w.concat(R.D);return w}return G(f.i)}function Ys(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var w=[],R=f.length,V=0;V<R;V++)w.push(f[V]);return w}w=[],R=0;for(V in f)w[R++]=f[V];return w}function Ks(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var w=[];f=f.length;for(var R=0;R<f;R++)w.push(R);return w}w=[],R=0;for(const V in f)w[R++]=V;return w}}}function qt(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var R=Ks(f),V=Ys(f),ht=V.length,yt=0;yt<ht;yt++)w.call(void 0,V[yt],R&&R[yt],f)}var Ce=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(f,w){if(f){f=f.split("&");for(var R=0;R<f.length;R++){var V=f[R].indexOf("="),ht=null;if(0<=V){var yt=f[R].substring(0,V);ht=f[R].substring(V+1)}else yt=f[R];w(yt,ht?decodeURIComponent(ht.replace(/\+/g," ")):"")}}}function Ze(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ze){this.h=f.h,wr(this,f.j),this.o=f.o,this.g=f.g,Ui(this,f.s),this.l=f.l;var w=f.i,R=new Bi;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),qn(this,R),this.m=f.m}else f&&(w=String(f).match(Ce))?(this.h=!1,wr(this,w[1]||"",!0),this.o=On(w[2]||""),this.g=On(w[3]||"",!0),Ui(this,w[4]),this.l=On(w[5]||"",!0),qn(this,w[6]||"",!0),this.m=On(w[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Ze.prototype.toString=function(){var f=[],w=this.j;w&&f.push(zi(w,xs,!0),":");var R=this.g;return(R||w=="file")&&(f.push("//"),(w=this.o)&&f.push(zi(w,xs,!0),"@"),f.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&f.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&f.push("/"),f.push(zi(R,R.charAt(0)=="/"?fa:br,!0))),(R=this.i.toString())&&f.push("?",R),(R=this.m)&&f.push("#",zi(R,Xs)),f.join("")};function Ue(f){return new Ze(f)}function wr(f,w,R){f.j=R?On(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Ui(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function qn(f,w,R){w instanceof Bi?(f.i=w,di(f.i,f.h)):(R||(w=zi(w,ro)),f.i=new Bi(w,f.h))}function zt(f,w,R){f.i.set(w,R)}function fi(f){return zt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function On(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zi(f,w,R){return typeof f=="string"?(f=encodeURI(f).replace(w,so),R&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function so(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xs=/[#\/\?@]/g,br=/[#\?:]/g,fa=/[#\?]/g,ro=/[#\?@]/g,Xs=/#/g;function Bi(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Gn(f){f.g||(f.g=new Map,f.h=0,f.i&&ha(f.i,function(w,R){f.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}s=Bi.prototype,s.add=function(f,w){Gn(this),this.i=null,f=Pt(this,f);var R=this.g.get(f);return R||this.g.set(f,R=[]),R.push(w),this.h+=1,this};function as(f,w){Gn(f),w=Pt(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Hi(f,w){return Gn(f),w=Pt(f,w),f.g.has(w)}s.forEach=function(f,w){Gn(this),this.g.forEach(function(R,V){R.forEach(function(ht){f.call(w,ht,V,this)},this)},this)},s.na=function(){Gn(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let V=0;V<w.length;V++){const ht=f[V];for(let yt=0;yt<ht.length;yt++)R.push(w[V])}return R},s.V=function(f){Gn(this);let w=[];if(typeof f=="string")Hi(this,f)&&(w=w.concat(this.g.get(Pt(this,f))));else{f=Array.from(this.g.values());for(let R=0;R<f.length;R++)w=w.concat(f[R])}return w},s.set=function(f,w){return Gn(this),this.i=null,f=Pt(this,f),Hi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},s.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function da(f,w,R){as(f,w),0<R.length&&(f.i=null,f.g.set(Pt(f,w),G(R)),f.h+=R.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var V=w[R];const yt=encodeURIComponent(String(V)),At=this.V(V);for(V=0;V<At.length;V++){var ht=yt;At[V]!==""&&(ht+="="+encodeURIComponent(String(At[V]))),f.push(ht)}}return this.i=f.join("&")};function Pt(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function di(f,w){w&&!f.j&&(Gn(f),f.i=null,f.g.forEach(function(R,V){var ht=V.toLowerCase();V!=ht&&(as(this,V),da(this,ht,R))},f)),f.j=w}function ue(f,w){const R=new Si;if(g.Image){const V=new Image;V.onload=k(ni,R,"TestLoadImage: loaded",!0,w,V),V.onerror=k(ni,R,"TestLoadImage: error",!1,w,V),V.onabort=k(ni,R,"TestLoadImage: abort",!1,w,V),V.ontimeout=k(ni,R,"TestLoadImage: timeout",!1,w,V),g.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else w(!1)}function Ti(f,w){const R=new Si,V=new AbortController,ht=setTimeout(()=>{V.abort(),ni(R,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:V.signal}).then(yt=>{clearTimeout(ht),yt.ok?ni(R,"TestPingServer: ok",!0,w):ni(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ht),ni(R,"TestPingServer: error",!1,w)})}function ni(f,w,R,V,ht){try{ht&&(ht.onload=null,ht.onerror=null,ht.onabort=null,ht.ontimeout=null),V(R)}catch{}}function Es(){this.g=new hi}function Ai(f,w,R){const V=R||"";try{qt(f,function(ht,yt){let At=ht;b(ht)&&(At=nn(ht)),w.push(V+yt+"="+encodeURIComponent(At))})}catch(ht){throw w.push(V+"type="+encodeURIComponent("_badmap")),ht}}function ii(f){this.l=f.Ub||null,this.j=f.eb||!1}O(ii,ys),ii.prototype.g=function(){return new Fi(this.l,this.j)},ii.prototype.i=(function(f){return function(){return f}})({});function Fi(f,w){ae.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Fi,ae),s=Fi.prototype,s.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Dn(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||g).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ie(this)),this.readyState=0},s.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ss(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ss(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}s.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Ie(this):Dn(this),this.readyState==3&&Ss(this)}},s.Ra=function(f){this.g&&(this.response=this.responseText=f,Ie(this))},s.Qa=function(f){this.g&&(this.response=f,Ie(this))},s.ga=function(){this.g&&Ie(this)};function Ie(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Dn(f)}s.setRequestHeader=function(f,w){this.u.append(f,w)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,f.push(R[0]+": "+R[1]),R=w.next();return f.join(`\r
`)};function Dn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function oo(f){let w="";return Y(f,function(R,V){w+=V,w+=":",w+=R,w+=`\r
`}),w}function cn(f,w,R){t:{for(V in R){var V=!1;break t}V=!0}V||(R=oo(R),typeof f=="string"?R!=null&&encodeURIComponent(String(R)):zt(f,w,R))}function xe(f){ae.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(xe,ae);var xr=/^https?$/i,Ts=["POST","PUT"];s=xe.prototype,s.Ha=function(f){this.J=f},s.ea=function(f,w,R,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pi.g(),this.v=this.o?Vs(this.o):Vs(Pi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(yt){ol(this,yt);return}if(f=R||"",R=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ht in V)R.set(ht,V[ht]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const yt of V.keys())R.set(yt,V.get(yt));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(R.keys()).find(yt=>yt.toLowerCase()=="content-type"),ht=g.FormData&&f instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ts,w,void 0))||V||ht||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[yt,At]of R)this.g.setRequestHeader(yt,At);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tn(this),this.u=!0,this.g.send(f),this.u=!1}catch(yt){ol(this,yt)}};function ol(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Er(f),ls(f)}function Er(f){f.A||(f.A=!0,ee(f,"complete"),ee(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ee(this,"complete"),ee(this,"abort"),ls(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),xe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Wt(this):this.bb())},s.bb=function(){Wt(this)};function Wt(f){if(f.h&&typeof m<"u"&&(!f.v[1]||Pn(f)!=4||f.Z()!=2)){if(f.u&&Pn(f)==4)Pe(f.Ea,0,f);else if(ee(f,"readystatechange"),Pn(f)==4){f.h=!1;try{const At=f.Z();t:switch(At){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var R;if(!(R=w)){var V;if(V=At===0){var ht=String(f.D).match(Ce)[1]||null;!ht&&g.self&&g.self.location&&(ht=g.self.location.protocol.slice(0,-1)),V=!xr.test(ht?ht.toLowerCase():"")}R=V}if(R)ee(f,"complete"),ee(f,"success");else{f.m=6;try{var yt=2<Pn(f)?f.g.statusText:""}catch{yt=""}f.l=yt+" ["+f.Z()+"]",Er(f)}}finally{ls(f)}}}}function ls(f,w){if(f.g){Tn(f);const R=f.g,V=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||ee(f,"ready");try{R.onreadystatechange=V}catch{}}}function Tn(f){f.I&&(g.clearTimeout(f.I),f.I=null)}s.isActive=function(){return!!this.g};function Pn(f){return f.g?f.g.readyState:0}s.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),$i(w)}};function ma(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function uu(f){const w={};f=(f.g&&2<=Pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(ct(f[V]))continue;var R=j(f[V]);const ht=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const yt=w[ht]||[];w[ht]=yt,yt.push(R)}q(w,function(V){return V.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(f,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[f]||w}function ao(f){this.Aa=0,this.i=[],this.j=new Si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,f),this.cb=As("retryDelaySeedMs",1e4,f),this.Wa=As("forwardChannelMaxRetries",2,f),this.wa=As("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ss(f&&f.concurrentRequestLimit),this.Da=new Es,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ao.prototype,s.la=8,s.G=1,s.connect=function(f,w,R,V){je(0),this.W=f,this.H=w||{},R&&V!==void 0&&(this.H.OSID=R,this.H.OAID=V),this.F=this.X,this.I=po(this,null,this.W),Qs(this)};function lo(f){if(al(f),f.G==3){var w=f.U++,R=Ue(f.I);if(zt(R,"SID",f.K),zt(R,"RID",w),zt(R,"TYPE","terminate"),Sr(f,R),w=new Ln(f,f.j,w),w.L=2,w.v=fi(Ue(R)),R=!1,g.navigator&&g.navigator.sendBeacon)try{R=g.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&g.Image&&(new Image().src=w.v,R=!0),R||(w.g=ul(w.j,null),w.g.ea(w.v)),w.F=Date.now(),vr(w)}ll(f)}function uo(f){f.g&&(Js(f),f.g.cancel(),f.g=null)}function al(f){uo(f),f.u&&(g.clearTimeout(f.u),f.u=null),fo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&g.clearTimeout(f.s),f.s=null)}function Qs(f){if(!yr(f.h)&&!f.s){f.s=!0;var w=f.Ga;z||B(),$||(z(),$=!0),ot.add(w,f),f.B=0}}function cu(f,w){return rs(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=sn(x(f.Ga,f,w),mo(f,f.B)),f.B++,!0)}s.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ht=new Ln(this,this.j,f);let yt=this.o;if(this.S&&(yt?(yt=C(yt),P(yt,this.S)):yt=this.S),this.m!==null||this.O||(ht.H=yt,yt=null),this.P)t:{for(var w=0,R=0;R<this.i.length;R++){e:{var V=this.i[R];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break e}V=void 0}if(V===void 0)break;if(w+=V,4096<w){w=R;break t}if(w===4096||R===this.i.length-1){w=R+1;break t}}w=1e3}else w=1e3;w=pa(this,ht,w),R=Ue(this.I),zt(R,"RID",f),zt(R,"CVER",22),this.D&&zt(R,"X-HTTP-Session-Id",this.D),Sr(this,R),yt&&(this.O?w="headers="+encodeURIComponent(String(oo(yt)))+"&"+w:this.m&&cn(R,this.m,yt)),Te(this.h,ht),this.Ua&&zt(R,"TYPE","init"),this.P?(zt(R,"$req",w),zt(R,"SID","null"),ht.T=!0,ji(ht,R,null)):ji(ht,R,w),this.G=2}}else this.G==3&&(f?si(this,f):this.i.length==0||yr(this.h)||si(this))};function si(f,w){var R;w?R=w.l:R=f.U++;const V=Ue(f.I);zt(V,"SID",f.K),zt(V,"RID",R),zt(V,"AID",f.T),Sr(f,V),f.m&&f.o&&cn(V,f.m,f.o),R=new Ln(f,f.j,R,f.B+1),f.m===null&&(R.H=f.o),w&&(f.i=w.D.concat(f.i)),w=pa(f,R,1e3),R.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Te(f.h,R),ji(R,V,w)}function Sr(f,w){f.H&&Y(f.H,function(R,V){zt(w,V,R)}),f.l&&qt({},function(R,V){zt(w,V,R)})}function pa(f,w,R){R=Math.min(f.i.length,R);var V=f.l?x(f.l.Na,f.l,f):null;t:{var ht=f.i;let yt=-1;for(;;){const At=["count="+R];yt==-1?0<R?(yt=ht[0].g,At.push("ofs="+yt)):yt=0:At.push("ofs="+yt);let ve=!0;for(let ze=0;ze<R;ze++){let ne=ht[ze].g;const vn=ht[ze].map;if(ne-=yt,0>ne)yt=Math.max(0,ht[ze].g-100),ve=!1;else try{Ai(vn,At,"req"+ne+"_")}catch{V&&V(vn)}}if(ve){V=At.join("&");break t}}}return f=f.i.splice(0,R),w.D=f,V}function Vi(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;z||B(),$||(z(),$=!0),ot.add(w,f),f.v=0}}function co(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=sn(x(f.Fa,f),mo(f,f.v)),f.v++,!0)}s.Fa=function(){if(this.u=null,ho(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=sn(x(this.ab,this),f)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),uo(this),ho(this))};function Js(f){f.A!=null&&(g.clearTimeout(f.A),f.A=null)}function ho(f){f.g=new Ln(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Ue(f.qa);zt(w,"RID","rpc"),zt(w,"SID",f.K),zt(w,"AID",f.T),zt(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&zt(w,"TO",f.ja),zt(w,"TYPE","xmlhttp"),Sr(f,w),f.m&&f.o&&cn(w,f.m,f.o),f.L&&(f.g.I=f.L);var R=f.g;f=f.ia,R.L=1,R.v=fi(Ue(w)),R.m=null,R.P=!0,ns(R,f)}s.Za=function(){this.C!=null&&(this.C=null,uo(this),co(this),je(19))};function fo(f){f.C!=null&&(g.clearTimeout(f.C),f.C=null)}function ga(f,w){var R=null;if(f.g==w){fo(f),Js(f),f.g=null;var V=2}else if(Qt(f.h,w))R=w.D,_n(f.h,w),V=1;else return;if(f.G!=0){if(w.o)if(V==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var ht=f.B;V=ts(),ee(V,new un(V,R)),Qs(f)}else Vi(f);else if(ht=w.s,ht==3||ht==0&&0<w.X||!(V==1&&cu(f,w)||V==2&&co(f)))switch(R&&0<R.length&&(w=f.h,w.i=w.i.concat(R)),ht){case 1:Cs(f,5);break;case 4:Cs(f,10);break;case 3:Cs(f,6);break;default:Cs(f,2)}}}function mo(f,w){let R=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(R*=2),R*w}function Cs(f,w){if(f.j.info("Error code "+w),w==2){var R=x(f.fb,f),V=f.Xa;const ht=!V;V=new Ze(V||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||wr(V,"https"),fi(V),ht?ue(V.toString(),R):Ti(V.toString(),R)}else je(2);f.G=0,f.l&&f.l.sa(w),ll(f),al(f)}s.fb=function(f){f?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function ll(f){if(f.G=0,f.ka=[],f.l){const w=os(f.h);(w.length!=0||f.i.length!=0)&&(W(f.ka,w),W(f.ka,f.i),f.h.i.length=0,G(f.i),f.i.length=0),f.l.ra()}}function po(f,w,R){var V=R instanceof Ze?Ue(R):new Ze(R);if(V.g!="")w&&(V.g=w+"."+V.g),Ui(V,V.s);else{var ht=g.location;V=ht.protocol,w=w?w+"."+ht.hostname:ht.hostname,ht=+ht.port;var yt=new Ze(null);V&&wr(yt,V),w&&(yt.g=w),ht&&Ui(yt,ht),R&&(yt.l=R),V=yt}return R=f.D,w=f.ya,R&&w&&zt(V,R,w),zt(V,"VER",f.la),Sr(f,V),V}function ul(f,w,R){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new xe(new ii({eb:R})):new xe(f.pa),w.Ha(f.J),w}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _a(){}s=_a.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Zn(f,w){ae.call(this),this.g=new ao(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!ct(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!ct(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new $s(this)}O(Zn,ae),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){lo(this.g)},Zn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var R={};R.__data__=f,f=R}else this.u&&(R={},R.__data__=nn(f),f=R);w.i.push(new Ws(w.Ya++,f)),w.G==3&&Qs(w)},Zn.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,Zn.aa.N.call(this)};function Tr(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){t:{for(const R in w){f=R;break t}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}O(Tr,ln);function us(){$n.call(this),this.status=1}O(us,$n);function $s(f){this.g=f}O($s,_a),$s.prototype.ua=function(){ee(this.g,"a")},$s.prototype.ta=function(f){ee(this.g,new Tr(f))},$s.prototype.sa=function(f){ee(this.g,new us)},$s.prototype.ra=function(){ee(this.g,"b")},Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,es.COMPLETE="complete",Oi.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",ae.prototype.listen=ae.prototype.K,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const uy="@firebase/firestore",cy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yi.UNAUTHENTICATED=new yi(null),yi.GOOGLE_CREDENTIALS=new yi("google-credentials-uid"),yi.FIRST_PARTY=new yi("first-party-uid"),yi.MOCK_USER=new yi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new jf("@firebase/firestore");function zs(s,...t){if(Ql.logLevel<=Ee.DEBUG){const n=t.map(Wp);Ql.debug(`Firestore (${Pc}): ${s}`,...n)}}function aw(s,...t){if(Ql.logLevel<=Ee.ERROR){const n=t.map(Wp);Ql.error(`Firestore (${Pc}): ${s}`,...n)}}function xA(s,...t){if(Ql.logLevel<=Ee.WARN){const n=t.map(Wp);Ql.warn(`Firestore (${Pc}): ${s}`,...n)}}function Wp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s,t,n){let o="Unexpected state";typeof t=="string"?o=t:n=t,lw(s,o,n)}function lw(s,t,n){let o=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{o+=" CONTEXT: "+JSON.stringify(n)}catch{o+=" CONTEXT: "+n}throw aw(o),new Error(o)}function lc(s,t,n,o){let l="Unexpected state";typeof n=="string"?l=n:o=n,s||lw(t,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class de extends Qr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class EA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(yi.UNAUTHENTICATED)))}shutdown(){}}class SA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class TA{constructor(t){this.t=t,this.currentUser=yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){lc(this.o===void 0,42304);let o=this.i;const l=y=>this.i!==o?(o=this.i,n(y)):Promise.resolve();let h=new uc;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new uc,t.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{zs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(zs("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new uc)}}),0),m()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((o=>this.i!==t?(zs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(lc(typeof o.accessToken=="string",31837,{l:o}),new uw(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return lc(t===null||typeof t=="string",2055,{h:t}),new yi(t)}}class AA{constructor(t,n,o){this.P=t,this.T=n,this.I=o,this.type="FirstParty",this.user=yi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CA{constructor(t,n,o){this.P=t,this.T=n,this.I=o}getToken(){return Promise.resolve(new AA(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(yi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NA{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){lc(this.o===void 0,3512);const o=h=>{h.error!=null&&zs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,zs("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>o(h)))};const l=h=>{zs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):zs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(lc(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hy(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let o=0;o<s;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const l=RA(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<n&&(o+=t.charAt(l[h]%62))}return o}}function sa(s,t){return s<t?-1:s>t?1:0}function kA(s,t){const n=Math.min(s.length,t.length);for(let o=0;o<n;o++){const l=s.charAt(o),h=t.charAt(o);if(l!==h)return Zm(l)===Zm(h)?sa(l,h):Zm(l)?1:-1}return sa(s.length,t.length)}const MA=55296,LA=57343;function Zm(s){const t=s.charCodeAt(0);return t>=MA&&t<=LA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="__name__";class lr{constructor(t,n,o){n===void 0?n=0:n>t.length&&wc(637,{offset:n,range:t.length}),o===void 0?o=t.length-n:o>t.length-n&&wc(1746,{length:o,range:t.length-n}),this.segments=t,this.offset=n,this.len=o}get length(){return this.len}isEqual(t){return lr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof lr?t.forEach((o=>{n.push(o)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,o=this.limit();n<o;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const o=Math.min(t.length,n.length);for(let l=0;l<o;l++){const h=lr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return sa(t.length,n.length)}static compareSegments(t,n){const o=lr.isNumericId(t),l=lr.isNumericId(n);return o&&!l?-1:!o&&l?1:o&&l?lr.extractNumericId(t).compare(lr.extractNumericId(n)):kA(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zp.fromString(t.substring(4,t.length-2))}}class Ps extends lr{construct(t,n,o){return new Ps(t,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const o of t){if(o.indexOf("//")>=0)throw new de(fe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter((l=>l.length>0)))}return new Ps(n)}static emptyPath(){return new Ps([])}}const OA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class za extends lr{construct(t,n,o){return new za(t,n,o)}static isValidIdentifier(t){return OA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),za.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fy}static keyField(){return new za([fy])}static fromServerFormat(t){const n=[];let o="",l=0;const h=()=>{if(o.length===0)throw new de(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let m=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new de(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=y,l+=2}else g==="`"?(m=!m,l++):g!=="."||m?(o+=g,l++):(h(),l++)}if(h(),m)throw new de(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new za(n)}static emptyPath(){return new za([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.path=t}static fromPath(t){return new Ha(Ps.fromString(t))}static fromName(t){return new Ha(Ps.fromString(t).popFirst(5))}static empty(){return new Ha(Ps.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ps.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ps.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ha(new Ps(t.slice()))}}function DA(s,t,n,o){if(t===!0&&o===!0)throw new de(fe.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function PA(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function jA(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(o){return o.constructor?o.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":wc(12329,{type:typeof s})}function UA(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new de(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jA(s);throw new de(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(s,t){const n={typeString:s};return t&&(n.value=t),n}function jc(s,t){if(!PA(s))throw new de(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const o in t)if(t[o]){const l=t[o].typeString,h="value"in t[o]?{value:t[o].value}:void 0;if(!(o in s)){n=`JSON missing required field: '${o}'`;break}const m=s[o];if(l&&typeof m!==l){n=`JSON field '${o}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${o}' field to equal '${h.value}'`;break}}if(n)throw new de(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=-62135596800,my=1e6;class ur{static now(){return ur.fromMillis(Date.now())}static fromDate(t){return ur.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),o=Math.floor((t-1e3*n)*my);return new ur(n,o)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new de(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<dy)throw new de(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new de(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/my}_compareTo(t){return this.seconds===t.seconds?sa(this.nanoseconds,t.nanoseconds):sa(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ur._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jc(t,ur._jsonSchema))return new ur(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-dy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ur._jsonSchemaVersion="firestore/timestamp/1.0",ur._jsonSchema={type:xn("string",ur._jsonSchemaVersion),seconds:xn("number"),nanoseconds:xn("number")};function zA(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new BA("Invalid base64 string: "+h):h}})(t);return new Ka(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h})(t);return new Ka(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return sa(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ka.EMPTY_BYTE_STRING=new Ka("");const fp="(default)";class gf{constructor(t,n){this.projectId=t,this.database=n||fp}static empty(){return new gf("","")}get isDefaultDatabase(){return this.database===fp}isEqual(t){return t instanceof gf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t,n=null,o=[],l=[],h=null,m="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=m,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FA(s){return new HA(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var py,he;(he=py||(py={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zp([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=1048576;function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,n,o=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=o,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-o);l>0&&zs("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n,o,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new uc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,o,l,h){const m=Date.now()+o,g=new Yp(t,n,m,l,h);return g.start(o),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var gy,_y;(_y=gy||(gy={})).Ma="default",_y.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firestore.googleapis.com",yy=!0;class wy{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new de(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cw,this.ssl=yy}else this.host=t.host,this.ssl=t.ssl??yy;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qA)throw new de(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZA(t.experimentalLongPollingOptions??{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(o,l){return o.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hw{constructor(t,n,o,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new de(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new EA;switch(o.type){case"firstParty":return new CA(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new de(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const o=vy.get(n);o&&(zs("ComponentProvider","Removing Datastore"),vy.delete(n),o.terminate())})(this),Promise.resolve()}}function WA(s,t,n,o={}){s=UA(s,hw);const l=tl(t),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;l&&(Ip(`https://${g}`),kp("Firestore",!0)),h.host!==cw&&h.host!==g&&xA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:l,emulatorOptions:o};if(!na(y,m)&&(s._setSettings(y),o.mockUserToken)){let b,E;if(typeof o.mockUserToken=="string")b=o.mockUserToken,E=yi.MOCK_USER;else{b=y1(o.mockUserToken,s._app?.options.projectId);const S=o.mockUserToken.sub||o.mockUserToken.user_id;if(!S)throw new de(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yi(S)}s._authCredentials=new SA(new uw(b,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Kp(this.firestore,t,this._query)}}class fr{constructor(t,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fr(this.firestore,t,this._key)}toJSON(){return{type:fr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,o){if(jc(n,fr._jsonSchema))return new fr(t,o||null,new Ha(Ps.fromString(n.referencePath)))}}fr._jsonSchemaVersion="firestore/documentReference/1.0",fr._jsonSchema={type:xn("string",fr._jsonSchemaVersion),referencePath:xn("string")};class Xp extends Kp{constructor(t,n,o){super(t,n,FA(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fr(this.firestore,null,new Ha(t))}withConverter(t){return new Xp(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="AsyncQueue";class xy{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GA(this,"async_queue_retry"),this._c=()=>{const o=Wm();o&&zs(by,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=t;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new uc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!zA(t))throw t;zs(by,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((o=>{throw this.nc=o,this.rc=!1,aw("INTERNAL UNHANDLED ERROR: ",Ey(o)),o})).then((o=>(this.rc=!1,o))))));return this.ac=n,n}enqueueAfterDelay(t,n,o){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Yp.createAndSchedule(this,t,n,o,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&wc(47125,{Pc:Ey(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,o)=>n.targetTimeMs-o.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Ey(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class YA extends hw{constructor(t,n,o,l){super(t,n,o,l),this.type="firestore",this._queue=new xy,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xy(t),this._firestoreClient=void 0,await t}}}function KA(s,t){const n=typeof s=="object"?s:Op(),o=typeof s=="string"?s:fp,l=Uf(n,"firestore").getImmediate({identifier:o});if(!l._initialized){const h=g1("firestore");h&&WA(l,...h)}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Br(Ka.fromBase64String(t))}catch(n){throw new de(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Br(Ka.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jc(t,Br._jsonSchema))return Br.fromBase64String(t.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:xn("string",Br._jsonSchemaVersion),bytes:xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new de(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new za(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new de(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new de(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return sa(this._lat,t._lat)||sa(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qa._jsonSchemaVersion}}static fromJSON(t){if(jc(t,qa._jsonSchema))return new qa(t.latitude,t.longitude)}}qa._jsonSchemaVersion="firestore/geoPoint/1.0",qa._jsonSchema={type:xn("string",qa._jsonSchemaVersion),latitude:xn("number"),longitude:xn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(o,l){if(o.length!==l.length)return!1;for(let h=0;h<o.length;++h)if(o[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ga._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jc(t,Ga._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ga(t.vectorValues);throw new de(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ga._jsonSchemaVersion="firestore/vectorValue/1.0",Ga._jsonSchema={type:xn("string",Ga._jsonSchemaVersion),vectorValues:xn("object")};const XA=new RegExp("[~\\*/\\[\\]]");function QA(s,t,n){if(t.search(XA)>=0)throw Sy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new fw(...t.split("."))._internalPath}catch{throw Sy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Sy(s,t,n,o,l){let h=`Function ${t}() called with invalid data`;h+=". ";let m="";return new de(fe.INVALID_ARGUMENT,h+s+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,n,o,l,h){this._firestore=t,this._userDataWriter=n,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(mw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JA extends dw{data(){return super.data()}}function mw(s,t){return typeof t=="string"?QA(s,t):t instanceof fw?t._internalPath:t._delegate._internalPath}class Yh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zl extends dw{constructor(t,n,o,l,h,m){super(t,n,o,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const o=this._document.data.field(mw("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:xn("string",Zl._jsonSchemaVersion),bundleSource:xn("string","DocumentSnapshot"),bundleName:xn("string"),bundle:xn("string")};class ef extends Zl{data(t={}){return super.data(t)}}class cc{constructor(t,n,o,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Yh(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((o=>{t.call(n,new ef(this._firestore,this._userDataWriter,o.key,o,new Yh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((g=>{const y=new ef(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Yh(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const y=new ef(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Yh(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let b=-1,E=-1;return g.type!==0&&(b=m.indexOf(g.doc.key),m=m.delete(g.doc.key)),g.type!==1&&(m=m.add(g.doc),E=m.indexOf(g.doc.key)),{type:$A(g.type),doc:y,oldIndex:b,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=cc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=IA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],o=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),o.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $A(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wc(61501,{type:s})}}cc._jsonSchemaVersion="firestore/querySnapshot/1.0",cc._jsonSchema={type:xn("string",cc._jsonSchemaVersion),bundleSource:xn("string","QuerySnapshot"),bundleName:xn("string"),bundle:xn("string")};(function(t,n=!0){(function(l){Pc=l})(el),Za(new ia("firestore",((o,{instanceIdentifier:l,options:h})=>{const m=o.getProvider("app").getImmediate(),g=new YA(new TA(o.getProvider("auth-internal")),new NA(m,o.getProvider("app-check-internal")),(function(b,E){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new de(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gf(b.options.projectId,E)})(m,l),m);return h={useFetchStreams:n,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),dr(uy,cy,t),dr(uy,cy,"esm2020")})();var Ty={};const Ay="@firebase/database",Cy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pw="";function tC(s){pw=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Rn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:gc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return pr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new eC(t)}}catch{}return new nC},Fa=gw("localStorage"),iC=gw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new jf("@firebase/database"),sC=(function(){let s=1;return function(){return s++}})(),_w=function(s){const t=Kx(s),n=new Gx;n.update(t);const o=n.digest();return Np.encodeByteArray(o)},Uc=function(...s){let t="";for(let n=0;n<s.length;n++){const o=s[n];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Uc.apply(null,o):typeof o=="object"?t+=Rn(o):t+=o,t+=" "}return t};let hc=null,Ny=!0;const rC=function(s,t){Ct(!0,"Can't turn on custom loggers persistently."),Wl.logLevel=Ee.VERBOSE,hc=Wl.log.bind(Wl)},Qn=function(...s){if(Ny===!0&&(Ny=!1,hc===null&&iC.get("logging_enabled")===!0&&rC()),hc){const t=Uc.apply(null,s);hc(t)}},zc=function(s){return function(...t){Qn(s,...t)}},dp=function(...s){const t="FIREBASE INTERNAL ERROR: "+Uc(...s);Wl.error(t)},Yr=function(...s){const t=`FIREBASE FATAL ERROR: ${Uc(...s)}`;throw Wl.error(t),new Error(t)},bi=function(...s){const t="FIREBASE WARNING: "+Uc(...s);Wl.warn(t)},oC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Qp=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},aC=function(s){if(document.readyState==="complete")s();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Jl="[MIN_NAME]",Xa="[MAX_NAME]",nl=function(s,t){if(s===t)return 0;if(s===Jl||t===Xa)return-1;if(t===Jl||s===Xa)return 1;{const n=Ry(s),o=Ry(t);return n!==null?o!==null?n-o===0?s.length-t.length:n-o:-1:o!==null?1:s<t?-1:1}},lC=function(s,t){return s===t?0:s<t?-1:1},$u=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+Rn(t))},Jp=function(s){if(typeof s!="object"||s===null)return Rn(s);const t=[];for(const o in s)t.push(o);t.sort();let n="{";for(let o=0;o<t.length;o++)o!==0&&(n+=","),n+=Rn(t[o]),n+=":",n+=Jp(s[t[o]]);return n+="}",n},vw=function(s,t){const n=s.length;if(n<=t)return[s];const o=[];for(let l=0;l<n;l+=t)l+t>n?o.push(s.substring(l,n)):o.push(s.substring(l,l+t));return o};function Jn(s,t){for(const n in s)s.hasOwnProperty(n)&&t(n,s[n])}const yw=function(s){Ct(!Qp(s),"Invalid JSON number");const t=11,n=52,o=(1<<t-1)-1;let l,h,m,g,y;s===0?(h=0,m=0,l=1/s===-1/0?1:0):(l=s<0,s=Math.abs(s),s>=Math.pow(2,1-o)?(g=Math.min(Math.floor(Math.log(s)/Math.LN2),o),h=g+o,m=Math.round(s*Math.pow(2,n-g)-Math.pow(2,n))):(h=0,m=Math.round(s/Math.pow(2,1-o-n))));const b=[];for(y=n;y;y-=1)b.push(m%2?1:0),m=Math.floor(m/2);for(y=t;y;y-=1)b.push(h%2?1:0),h=Math.floor(h/2);b.push(l?1:0),b.reverse();const E=b.join("");let S="";for(y=0;y<64;y+=8){let x=parseInt(E.substr(y,8),2).toString(16);x.length===1&&(x="0"+x),S=S+x}return S.toLowerCase()},uC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function hC(s,t){let n="Unknown Error";s==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?n="Client doesn't have permission to access the desired data.":s==="unavailable"&&(n="The service is unavailable");const o=new Error(s+" at "+t._path.toString()+": "+n);return o.code=s.toUpperCase(),o}const fC=new RegExp("^-?(0*)\\d{1,10}$"),dC=-2147483648,mC=2147483647,Ry=function(s){if(fC.test(s)){const t=Number(s);if(t>=dC&&t<=mC)return t}return null},ou=function(s){try{s()}catch(t){setTimeout(()=>{const n=t.stack||"";throw bi("Exception was thrown by user callback.",n),t},Math.floor(0))}},pC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fc=function(s,t){const n=setTimeout(s,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Mi(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(o=>this.appCheck=o)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,o):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){bi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,n,o){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,o):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bi(t)}}class nf{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}nf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="5",ww="v",bw="s",xw="r",Ew="f",Sw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tw="ls",Aw="p",mp="ac",Cw="websocket",Nw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n,o,l,h=!1,m="",g=!1,y=!1,b=null){this.secure=n,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=y,this.emulatorOptions=b,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fa.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fa.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function vC(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Iw(s,t,n){Ct(typeof t=="string","typeof type must == string"),Ct(typeof n=="object","typeof params must == object");let o;if(t===Cw)o=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Nw)o=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);vC(s)&&(n.ns=s.namespace);const l=[];return Jn(n,(h,m)=>{l.push(h+"="+m)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.counters_={}}incrementCounter(t,n=1){pr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Ax(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym={},Km={};function tg(s){const t=s.toString();return Ym[t]||(Ym[t]=new yC),Ym[t]}function wC(s,t){const n=s.toString();return Km[n]||(Km[n]=t()),Km[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&ou(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="start",xC="close",EC="pLPCommand",SC="pRTLPCB",kw="id",Mw="pw",Lw="ser",TC="cb",AC="seg",CC="ts",NC="d",RC="dframe",Ow=1870,Dw=30,IC=Ow-Dw,kC=25e3,MC=3e4;class Hl{constructor(t,n,o,l,h,m,g){this.connId=t,this.repoInfo=n,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.transportSessionId=m,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zc(t),this.stats_=tg(n),this.urlFn=y=>(this.appCheckToken&&(y[mp]=this.appCheckToken),Iw(n,Nw,y))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(MC)),aC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eg((...h)=>{const[m,g,y,b,E]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===Iy)this.id=g,this.password=y;else if(m===xC)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...h)=>{const[m,g]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,g)},()=>{this.onClosed_()},this.urlFn);const o={};o[Iy]="t",o[Lw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[TC]=this.scriptTagHolder.uniqueCallbackIdentifier),o[ww]=$p,this.transportSessionId&&(o[bw]=this.transportSessionId),this.lastSessionId&&(o[Tw]=this.lastSessionId),this.applicationId&&(o[Aw]=this.applicationId),this.appCheckToken&&(o[mp]=this.appCheckToken),typeof location<"u"&&location.hostname&&Sw.test(location.hostname)&&(o[xw]=Ew);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hl.forceAllow_=!0}static forceDisallow(){Hl.forceDisallow_=!0}static isAvailable(){return Hl.forceAllow_?!0:!Hl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uC()&&!cC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Rn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=d1(n),l=vw(o,IC);for(let h=0;h<l.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[h]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const o={};o[RC]="t",o[kw]=t,o[Mw]=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Rn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class eg{constructor(t,n,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sC(),window[EC+this.uniqueCallbackIdentifier]=t,window[SC+this.uniqueCallbackIdentifier]=n,this.myIFrame=eg.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(g){Qn("frame writing exception"),g.stack&&Qn(g.stack),Qn(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Qn("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[kw]=this.myID,t[Mw]=this.myPW,t[Lw]=this.currentSerial;let n=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Dw+o.length<=Ow;){const m=this.pendingSegs.shift();o=o+"&"+AC+l+"="+m.seg+"&"+CC+l+"="+m.ts+"&"+NC+l+"="+m.d,l++}return n=n+o,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,o){this.pendingSegs.push({seg:t,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(o,Math.floor(kC)),h=()=>{clearTimeout(l),o()};this.addTag(t,h)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{Qn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=16384,OC=45e3;let _f=null;typeof MozWebSocket<"u"?_f=MozWebSocket:typeof WebSocket<"u"&&(_f=WebSocket);class js{constructor(t,n,o,l,h,m,g){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zc(this.connId),this.stats_=tg(n),this.connURL=js.connectionURL_(n,m,g,l,o),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,o,l,h){const m={};return m[ww]=$p,typeof location<"u"&&location.hostname&&Sw.test(location.hostname)&&(m[xw]=Ew),n&&(m[bw]=n),o&&(m[Tw]=o),l&&(m[mp]=l),h&&(m[Aw]=h),Iw(t,Cw,m)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fa.set("previous_websocket_failure",!0);try{let o;jx(),this.mySock=new _f(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){js.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(n);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&_f!==null&&!js.forceDisallow_}static previouslyFailed(){return Fa.isInMemoryStorage||Fa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fa.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const o=gc(n);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ct(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const o=this.extractFrameCount_(n);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const n=Rn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=vw(n,LC);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OC))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}js.responsesRequiredToBeHealthy=2;js.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{static get ALL_TRANSPORTS(){return[Hl,js]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=js&&js.isAvailable();let o=n&&!js.previouslyFailed();if(t.webSocketOnly&&(n||bi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[js];else{const l=this.transports_=[];for(const h of bc.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);bc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=6e4,PC=5e3,jC=10*1024,UC=100*1024,Xm="t",ky="d",zC="s",My="r",BC="e",Ly="o",Oy="a",Dy="n",Py="p",HC="h";class FC{constructor(t,n,o,l,h,m,g,y,b,E){this.id=t,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=h,this.onMessage_=m,this.onReady_=g,this.onDisconnect_=y,this.onKill_=b,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zc("c:"+this.id+":"),this.transportManager_=new bc(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=fc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>UC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Xm in t){const n=t[Xm];n===Oy?this.upgradeIfSecondaryHealthy_():n===My?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ly&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=$u("t",t),o=$u("d",t);if(n==="c")this.onSecondaryControl_(o);else if(n==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Py,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Oy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=$u("t",t),o=$u("d",t);n==="c"?this.onControl_(o):n==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=$u(Xm,t);if(ky in t){const o=t[ky];if(n===HC){const l={...o};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===Dy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zC?this.onConnectionShutdown_(o):n===My?this.onReset_(o):n===BC?dp("Server Error: "+o):n===Ly?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dp("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$p!==o&&bi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),fc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Py,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{put(t,n,o,l){}merge(t,n,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,o){}onDisconnectMerge(t,n,o){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.allowedEvents_=t,this.listeners_={},Ct(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,n)}}on(t,n,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:o});const l=this.getInitialEvent(t);l&&n.apply(o,l)}off(t,n,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let h=0;h<l.length;h++)if(l[h].callback===n&&(!o||o===l[h].context)){l.splice(h,1);return}}validateEventType_(t){Ct(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends jw{static getInstance(){return new vf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Mp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return Ct(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=32,Uy=768;class Oe{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function we(){return new Oe("")}function $t(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ra(s){return s.pieces_.length-s.pieceNum_}function Ve(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Oe(s.pieces_,t)}function ng(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function VC(s){let t="";for(let n=s.pieceNum_;n<s.pieces_.length;n++)s.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[n])));return t||"/"}function xc(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Uw(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let n=s.pieceNum_;n<s.pieces_.length-1;n++)t.push(s.pieces_[n]);return new Oe(t,0)}function on(s,t){const n=[];for(let o=s.pieceNum_;o<s.pieces_.length;o++)n.push(s.pieces_[o]);if(t instanceof Oe)for(let o=t.pieceNum_;o<t.pieces_.length;o++)n.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&n.push(o[l])}return new Oe(n,0)}function re(s){return s.pieceNum_>=s.pieces_.length}function wi(s,t){const n=$t(s),o=$t(t);if(n===null)return t;if(n===o)return wi(Ve(s),Ve(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function qC(s,t){const n=xc(s,0),o=xc(t,0);for(let l=0;l<n.length&&l<o.length;l++){const h=nl(n[l],o[l]);if(h!==0)return h}return n.length===o.length?0:n.length<o.length?-1:1}function ig(s,t){if(ra(s)!==ra(t))return!1;for(let n=s.pieceNum_,o=t.pieceNum_;n<=s.pieces_.length;n++,o++)if(s.pieces_[n]!==t.pieces_[o])return!1;return!0}function gs(s,t){let n=s.pieceNum_,o=t.pieceNum_;if(ra(s)>ra(t))return!1;for(;n<s.pieces_.length;){if(s.pieces_[n]!==t.pieces_[o])return!1;++n,++o}return!0}class GC{constructor(t,n){this.errorPrefix_=n,this.parts_=xc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Pf(this.parts_[o]);zw(this)}}function ZC(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Pf(t),zw(s)}function WC(s){const t=s.parts_.pop();s.byteLength_-=Pf(t),s.parts_.length>0&&(s.byteLength_-=1)}function zw(s){if(s.byteLength_>Uy)throw new Error(s.errorPrefix_+"has a key path longer than "+Uy+" bytes ("+s.byteLength_+").");if(s.parts_.length>jy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jy+") or object contains a cycle "+Ua(s))}function Ua(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends jw{static getInstance(){return new sg}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return Ct(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=1e3,YC=300*1e3,zy=30*1e3,KC=1.3,XC=3e4,QC="server_kill",By=3;class Gr extends Pw{constructor(t,n,o,l,h,m,g,y){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=g,this.authOverride_=y,this.id=Gr.nextPersistentConnectionId_++,this.log_=zc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tc,this.maxReconnectDelay_=YC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sg.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&vf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,o){const l=++this.requestNumber_,h={r:l,a:t,b:n};this.log_(Rn(h)),Ct(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const n=new Ic,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:m=>{const g=m.d;m.s==="ok"?n.resolve(g):n.reject(g)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),n.promise}listen(t,n,o,l){this.initConnection_();const h=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),Ct(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ct(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const g={onComplete:l,hashFn:n,query:t,tag:o};this.listens.get(m).set(h,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(o)})}sendListen_(t){const n=t.query,o=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o},m="q";t.tag&&(h.q=n._queryObject,h.t=t.tag),h.h=t.hashFn(),this.sendRequest(m,h,g=>{const y=g.d,b=g.s;Gr.warnOnListenWarnings_(y,n),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",g),b!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(b,y))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&pr(t,"w")){const o=Xl(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',h=n._path.toString();bi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||qx(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Vx(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(n,o,l=>{const h=l.s,m=l.d||"error";this.authToken_===t&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,o=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,o)})}unlisten(t,n){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),Ct(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,n)}sendUnlisten_(t,n,o,l){this.log_("Unlisten on "+t+" for "+n);const h={p:t},m="n";l&&(h.q=o,h.t=l),this.sendRequest(m,h)}onDisconnectPut(t,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:o})}onDisconnectMerge(t,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:o})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,o,l){const h={p:n,d:o};this.log_("onDisconnect "+t,h),this.sendRequest(t,h,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(t,n,o,l){this.putInternal("p",t,n,o,l)}merge(t,n,o,l){this.putInternal("m",t,n,o,l)}putInternal(t,n,o,l,h){this.initConnection_();const m={p:n,d:o};h!==void 0&&(m.h=h),this.outstandingPuts_.push({action:t,request:m,onComplete:l}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,o,h=>{this.log_(n+" response",h),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,o=>{if(o.s!=="ok"){const h=o.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Rn(t));const n=t.r,o=this.requestCBHash_[n];o&&(delete this.requestCBHash_[n],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):dp("Unrecognized action received from server: "+Rn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ct(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=tc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XC&&(this.reconnectDelay_=tc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Gr.nextConnectionId_++,h=this.lastSessionId;let m=!1,g=null;const y=function(){g?g.close():(m=!0,o())},b=function(S){Ct(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(S)};this.realtime_={close:y,sendRequest:b};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,x]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);m?Qn("getToken() completed but was canceled"):(Qn("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=x&&x.token,g=new FC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,o,k=>{bi(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(QC)},h))}catch(S){this.log_("Failed to get token: "+S),m||(this.repoInfo_.nodeAdmin&&bi(S),y())}}}interrupt(t){Qn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Qn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ip(this.interruptReasons_)&&(this.reconnectDelay_=tc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let o;n?o=n.map(h=>Jp(h)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const o=new Oe(t).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(n),h.delete(n),h.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,n){Qn("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=By&&(this.reconnectDelay_=zy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Qn("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=By&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+pw.replace(/\./g,"-")]=1,Mp()?t["framework.cordova"]=1:w1()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vf.getInstance().currentlyOnline();return ip(this.interruptReasons_)&&t}}Gr.nextPersistentConnectionId_=0;Gr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new te(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const o=new te(Jl,t),l=new te(Jl,n);return this.compare(o,l)!==0}minPost(){return te.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh;class Bw extends Vf{static get __EMPTY_NODE(){return Kh}static set __EMPTY_NODE(t){Kh=t}compare(t,n){return nl(t.name,n.name)}isDefinedOn(t){throw iu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return te.MIN}maxPost(){return new te(Xa,Kh)}makePost(t,n){return Ct(typeof t=="string","KeyIndex indexValue must always be a string."),new te(t,Kh)}toString(){return".key"}}const Yl=new Bw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n,o,l,h=null){this.isReverse_=l,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!t.isEmpty();)if(t=t,m=n?o(t.key,n):1,l&&(m*=-1),m<0)this.isReverse_?t=t.left:t=t.right;else if(m===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Fn{constructor(t,n,o,l,h){this.key=t,this.value=n,this.color=o??Fn.RED,this.left=l??Li.EMPTY_NODE,this.right=h??Li.EMPTY_NODE}copy(t,n,o,l,h){return new Fn(t??this.key,n??this.value,o??this.color,l??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,o){let l=this;const h=o(t,l.key);return h<0?l=l.copy(null,null,null,l.left.insert(t,n,o),null):h===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Li.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let o,l;if(o=this,n(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),n(t,o.key)===0){if(o.right.isEmpty())return Li.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Fn.RED=!0;Fn.BLACK=!1;class JC{copy(t,n,o,l,h){return this}insert(t,n,o){return new Fn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Li{constructor(t,n=Li.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Li(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Fn.BLACK,null,null))}remove(t){return new Li(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fn.BLACK,null,null))}get(t){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(t,o.key),n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(t){let n,o=this.root_,l=null;for(;!o.isEmpty();)if(n=this.comparator_(t,o.key),n===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else n<0?o=o.left:n>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Xh(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Xh(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Xh(this.root_,null,this.comparator_,!0,t)}}Li.EMPTY_NODE=new JC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(s,t){return nl(s.name,t.name)}function rg(s,t){return nl(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp;function t4(s){pp=s}const Hw=function(s){return typeof s=="number"?"number:"+yw(s):"string:"+s},Fw=function(s){if(s.isLeafNode()){const t=s.val();Ct(typeof t=="string"||typeof t=="number"||typeof t=="object"&&pr(t,".sv"),"Priority must be a string or number.")}else Ct(s===pp||s.isEmpty(),"priority of unexpected type.");Ct(s===pp||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy;class Hn{static set __childrenNodeConstructor(t){Hy=t}static get __childrenNodeConstructor(){return Hy}constructor(t,n=Hn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ct(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Fw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Hn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Hn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return re(t)?this:$t(t)===".priority"?this.priorityNode_:Hn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Hn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const o=$t(t);return o===null?n:n.isEmpty()&&o!==".priority"?this:(Ct(o!==".priority"||ra(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Hn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Hw(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=yw(this.value_):t+=this.value_,this.lazyHash_=_w(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Hn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Hn.__childrenNodeConstructor?-1:(Ct(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,o=typeof this.value_,l=Hn.VALUE_TYPE_ORDER.indexOf(n),h=Hn.VALUE_TYPE_ORDER.indexOf(o);return Ct(l>=0,"Unknown leaf type: "+n),Ct(h>=0,"Unknown leaf type: "+o),l===h?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Hn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vw,qw;function e4(s){Vw=s}function n4(s){qw=s}class i4 extends Vf{compare(t,n){const o=t.node.getPriority(),l=n.node.getPriority(),h=o.compareTo(l);return h===0?nl(t.name,n.name):h}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te(Xa,new Hn("[PRIORITY-POST]",qw))}makePost(t,n){const o=Vw(t);return new te(n,new Hn("[PRIORITY-POST]",o))}toString(){return".priority"}}const an=new i4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=Math.log(2);class r4{constructor(t){const n=h=>parseInt(Math.log(h)/s4,10),o=h=>parseInt(Array(h+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const yf=function(s,t,n,o){s.sort(t);const l=function(y,b){const E=b-y;let S,x;if(E===0)return null;if(E===1)return S=s[y],x=n?n(S):S,new Fn(x,S.node,Fn.BLACK,null,null);{const k=parseInt(E/2,10)+y,O=l(y,k),G=l(k+1,b);return S=s[k],x=n?n(S):S,new Fn(x,S.node,Fn.BLACK,O,G)}},h=function(y){let b=null,E=null,S=s.length;const x=function(O,G){const W=S-O,Z=S;S-=O;const ct=l(W+1,Z),et=s[W],Q=n?n(et):et;k(new Fn(Q,et.node,G,null,ct))},k=function(O){b?(b.left=O,b=O):(E=O,b=O)};for(let O=0;O<y.count;++O){const G=y.nextBitIsOne(),W=Math.pow(2,y.count-(O+1));G?x(W,Fn.BLACK):(x(W,Fn.BLACK),x(W,Fn.RED))}return E},m=new r4(s.length),g=h(m);return new Li(o||t,g)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm;const Bl={};class Vr{static get Default(){return Ct(Bl&&an,"ChildrenNode.ts has not been loaded"),Qm=Qm||new Vr({".priority":Bl},{".priority":an}),Qm}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Xl(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Li?n:null}hasIndex(t){return pr(this.indexSet_,t.toString())}addIndex(t,n){Ct(t!==Yl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const h=n.getIterator(te.Wrap);let m=h.getNext();for(;m;)l=l||t.isDefinedOn(m.node),o.push(m),m=h.getNext();let g;l?g=yf(o,t.getCompare()):g=Bl;const y=t.toString(),b={...this.indexSet_};b[y]=t;const E={...this.indexes_};return E[y]=g,new Vr(E,b)}addToIndexes(t,n){const o=af(this.indexes_,(l,h)=>{const m=Xl(this.indexSet_,h);if(Ct(m,"Missing index implementation for "+h),l===Bl)if(m.isDefinedOn(t.node)){const g=[],y=n.getIterator(te.Wrap);let b=y.getNext();for(;b;)b.name!==t.name&&g.push(b),b=y.getNext();return g.push(t),yf(g,m.getCompare())}else return Bl;else{const g=n.get(t.name);let y=l;return g&&(y=y.remove(new te(t.name,g))),y.insert(t,t.node)}});return new Vr(o,this.indexSet_)}removeFromIndexes(t,n){const o=af(this.indexes_,l=>{if(l===Bl)return l;{const h=n.get(t.name);return h?l.remove(new te(t.name,h)):l}});return new Vr(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;class Ht{static get EMPTY_NODE(){return ec||(ec=new Ht(new Li(rg),null,Vr.Default))}constructor(t,n,o){this.children_=t,this.priorityNode_=n,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Fw(this.priorityNode_),this.children_.isEmpty()&&Ct(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ec}updatePriority(t){return this.children_.isEmpty()?this:new Ht(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ec:n}}getChild(t){const n=$t(t);return n===null?this:this.getImmediateChild(n).getChild(Ve(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Ct(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const o=new te(t,n);let l,h;n.isEmpty()?(l=this.children_.remove(t),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,n),h=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?ec:this.priorityNode_;return new Ht(l,m,h)}}updateChild(t,n){const o=$t(t);if(o===null)return n;{Ct($t(t)!==".priority"||ra(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Ve(t),n);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let o=0,l=0,h=!0;if(this.forEachChild(an,(m,g)=>{n[m]=g.val(t),o++,h&&Ht.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):h=!1}),!t&&h&&l<2*o){const m=[];for(const g in n)m[g]=n[g];return m}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Hw(this.getPriority().val())+":"),this.forEachChild(an,(n,o)=>{const l=o.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":_w(t)}return this.lazyHash_}getPredecessorChildName(t,n,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new te(t,n));return h?h.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const o=n.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new te(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const o=n.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new te(n,this.children_.get(n)):null}forEachChild(t,n){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const o=this.resolveIndex_(n);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,te.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,t)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const o=this.resolveIndex_(n);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,te.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,t)>0;)l.getNext(),h=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bc?-1:0}withIndex(t){if(t===Yl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Ht(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Yl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const o=this.getIterator(an),l=n.getIterator(an);let h=o.getNext(),m=l.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=o.getNext(),m=l.getNext()}return h===null&&m===null}else return!1;else return!1}}resolveIndex_(t){return t===Yl?null:this.indexMap_.get(t.toString())}}Ht.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class o4 extends Ht{constructor(){super(new Li(rg),Ht.EMPTY_NODE,Vr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ht.EMPTY_NODE}isEmpty(){return!1}}const Bc=new o4;Object.defineProperties(te,{MIN:{value:new te(Jl,Ht.EMPTY_NODE)},MAX:{value:new te(Xa,Bc)}});Bw.__EMPTY_NODE=Ht.EMPTY_NODE;Hn.__childrenNodeConstructor=Ht;t4(Bc);n4(Bc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=!0;function Nn(s,t=null){if(s===null)return Ht.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),Ct(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const n=s;return new Hn(n,Nn(t))}if(!(s instanceof Array)&&a4){const n=[];let o=!1;if(Jn(s,(m,g)=>{if(m.substring(0,1)!=="."){const y=Nn(g);y.isEmpty()||(o=o||!y.getPriority().isEmpty(),n.push(new te(m,y)))}}),n.length===0)return Ht.EMPTY_NODE;const h=yf(n,$C,m=>m.name,rg);if(o){const m=yf(n,an.getCompare());return new Ht(h,Nn(t),new Vr({".priority":m},{".priority":an}))}else return new Ht(h,Nn(t),Vr.Default)}else{let n=Ht.EMPTY_NODE;return Jn(s,(o,l)=>{if(pr(s,o)&&o.substring(0,1)!=="."){const h=Nn(l);(h.isLeafNode()||!h.isEmpty())&&(n=n.updateImmediateChild(o,h))}}),n.updatePriority(Nn(t))}}e4(Nn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends Vf{constructor(t){super(),this.indexPath_=t,Ct(!re(t)&&$t(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const o=this.extractChild(t.node),l=this.extractChild(n.node),h=o.compareTo(l);return h===0?nl(t.name,n.name):h}makePost(t,n){const o=Nn(t),l=Ht.EMPTY_NODE.updateChild(this.indexPath_,o);return new te(n,l)}maxPost(){const t=Ht.EMPTY_NODE.updateChild(this.indexPath_,Bc);return new te(Xa,t)}toString(){return xc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4 extends Vf{compare(t,n){const o=t.node.compareTo(n.node);return o===0?nl(t.name,n.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(t,n){const o=Nn(t);return new te(n,o)}toString(){return".value"}}const c4=new u4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(s){return{type:"value",snapshotNode:s}}function $l(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Ec(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Sc(s,t,n){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:n}}function h4(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t){this.index_=t}updateChild(t,n,o,l,h,m){Ct(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(n);return g.getChild(l).equals(o.getChild(l))&&g.isEmpty()===o.isEmpty()||(m!=null&&(o.isEmpty()?t.hasChild(n)?m.trackChildChange(Ec(n,g)):Ct(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?m.trackChildChange($l(n,o)):m.trackChildChange(Sc(n,o,g))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(t,n,o){return o!=null&&(t.isLeafNode()||t.forEachChild(an,(l,h)=>{n.hasChild(l)||o.trackChildChange(Ec(l,h))}),n.isLeafNode()||n.forEachChild(an,(l,h)=>{if(t.hasChild(l)){const m=t.getImmediateChild(l);m.equals(h)||o.trackChildChange(Sc(l,h,m))}else o.trackChildChange($l(l,h))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Ht.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t){this.indexedFilter_=new og(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Tc.getStartPost_(t),this.endPost_=Tc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&o}updateChild(t,n,o,l,h,m){return this.matches(new te(n,o))||(o=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,o,l,h,m)}updateFullNode(t,n,o){n.isLeafNode()&&(n=Ht.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(Ht.EMPTY_NODE);const h=this;return n.forEachChild(an,(m,g)=>{h.matches(new te(m,g))||(l=l.updateImmediateChild(m,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Tc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,o,l,h,m){return this.rangedFilter_.matches(new te(n,o))||(o=Ht.EMPTY_NODE),t.getImmediateChild(n).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,o,l,h,m):this.fullLimitUpdateChild_(t,n,o,h,m)}updateFullNode(t,n,o){let l;if(n.isLeafNode()||n.isEmpty())l=Ht.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=Ht.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const g=h.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))l=l.updateImmediateChild(g.name,g.node),m++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(Ht.EMPTY_NODE);let h;this.reverse_?h=l.getReverseIterator(this.index_):h=l.getIterator(this.index_);let m=0;for(;h.hasNext();){const g=h.getNext();m<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?m++:l=l.updateImmediateChild(g.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,o,l,h){let m;if(this.reverse_){const S=this.index_.getCompare();m=(x,k)=>S(k,x)}else m=this.index_.getCompare();const g=t;Ct(g.numChildren()===this.limit_,"");const y=new te(n,o),b=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),E=this.rangedFilter_.matches(y);if(g.hasChild(n)){const S=g.getImmediateChild(n);let x=l.getChildAfterChild(this.index_,b,this.reverse_);for(;x!=null&&(x.name===n||g.hasChild(x.name));)x=l.getChildAfterChild(this.index_,x,this.reverse_);const k=x==null?1:m(x,y);if(E&&!o.isEmpty()&&k>=0)return h?.trackChildChange(Sc(n,o,S)),g.updateImmediateChild(n,o);{h?.trackChildChange(Ec(n,S));const G=g.updateImmediateChild(n,Ht.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(h?.trackChildChange($l(x.name,x.node)),G.updateImmediateChild(x.name,x.node)):G}}else return o.isEmpty()?t:E&&m(b,y)>=0?(h!=null&&(h.trackChildChange(Ec(b.name,b.node)),h.trackChildChange($l(n,o))),g.updateImmediateChild(n,o).updateImmediateChild(b.name,Ht.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ct(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ct(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jl}hasEnd(){return this.endSet_}getIndexEndValue(){return Ct(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ct(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ct(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const t=new ag;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function d4(s){return s.loadsAllData()?new og(s.getIndex()):s.hasLimit()?new f4(s):new Tc(s)}function Fy(s){const t={};if(s.isDefault())return t;let n;if(s.index_===an?n="$priority":s.index_===c4?n="$value":s.index_===Yl?n="$key":(Ct(s.index_ instanceof l4,"Unrecognized index type!"),n=s.index_.toString()),t.orderBy=Rn(n),s.startSet_){const o=s.startAfterSet_?"startAfter":"startAt";t[o]=Rn(s.indexStartValue_),s.startNameSet_&&(t[o]+=","+Rn(s.indexStartName_))}if(s.endSet_){const o=s.endBeforeSet_?"endBefore":"endAt";t[o]=Rn(s.indexEndValue_),s.endNameSet_&&(t[o]+=","+Rn(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function Vy(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let n=s.viewFrom_;n===""&&(s.isViewFromLeft()?n="l":n="r"),t.vf=n}return s.index_!==an&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends Pw{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Ct(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=zc("p:rest:"),this.listens_={}}listen(t,n,o,l){const h=t._path.toString();this.log_("Listen called for "+h+" "+t._queryIdentifier);const m=wf.getListenId_(t,o),g={};this.listens_[m]=g;const y=Fy(t._queryParams);this.restRequest_(h+".json",y,(b,E)=>{let S=E;if(b===404&&(S=null,b=null),b===null&&this.onDataUpdate_(h,S,!1,o),Xl(this.listens_,m)===g){let x;b?b===401?x="permission_denied":x="rest_error:"+b:x="ok",l(x,null)}})}unlisten(t,n){const o=wf.getListenId_(t,n);delete this.listens_[o]}get(t){const n=Fy(t._queryParams),o=t._path.toString(),l=new Ic;return this.restRequest_(o+".json",n,(h,m)=>{let g=m;h===404&&(g=null,h=null),h===null?(this.onDataUpdate_(o,g,!1,null),l.resolve(g)):l.reject(new Error(g))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,h])=>{l&&l.accessToken&&(n.auth=l.accessToken),h&&h.token&&(n.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+su(n);this.log_("Sending REST request for "+m);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(o&&g.readyState===4){this.log_("REST Response for "+m+" received. status:",g.status,"response:",g.responseText);let y=null;if(g.status>=200&&g.status<300){try{y=gc(g.responseText)}catch{bi("Failed to parse JSON response for "+m+": "+g.responseText)}o(null,y)}else g.status!==401&&g.status!==404&&bi("Got unsuccessful REST response for "+m+" Status: "+g.status),o(g.status);o=null}},g.open("GET",m,!0),g.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(){return{value:null,children:new Map}}function Zw(s,t,n){if(re(t))s.value=n,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,n);else{const o=$t(t);s.children.has(o)||s.children.set(o,bf());const l=s.children.get(o);t=Ve(t),Zw(l,t,n)}}function gp(s,t,n){s.value!==null?n(t,s.value):p4(s,(o,l)=>{const h=new Oe(t.toString()+"/"+o);gp(l,h,n)})}function p4(s,t){s.children.forEach((n,o)=>{t(o,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&Jn(this.last_,(o,l)=>{n[o]=n[o]-l}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=10*1e3,_4=30*1e3,v4=300*1e3;class y4{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new g4(t);const o=qy+(_4-qy)*Math.random();fc(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),n={};let o=!1;Jn(t,(l,h)=>{h>0&&pr(this.statsToReport_,l)&&(n[l]=h,o=!0)}),o&&this.server_.reportStats(n),fc(this.reportStats_.bind(this),Math.floor(Math.random()*2*v4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bs;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bs||(Bs={}));function lg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ug(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cg(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t,n,o){this.path=t,this.affectedTree=n,this.revert=o,this.type=Bs.ACK_USER_WRITE,this.source=lg()}operationForChild(t){if(re(this.path)){if(this.affectedTree.value!=null)return Ct(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Oe(t));return new xf(we(),n,this.revert)}}else return Ct($t(this.path)===t,"operationForChild called for unrelated child."),new xf(Ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,n){this.source=t,this.path=n,this.type=Bs.LISTEN_COMPLETE}operationForChild(t){return re(this.path)?new Ac(this.source,we()):new Ac(this.source,Ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,n,o){this.source=t,this.path=n,this.snap=o,this.type=Bs.OVERWRITE}operationForChild(t){return re(this.path)?new Qa(this.source,we(),this.snap.getImmediateChild(t)):new Qa(this.source,Ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,n,o){this.source=t,this.path=n,this.children=o,this.type=Bs.MERGE}operationForChild(t){if(re(this.path)){const n=this.children.subtree(new Oe(t));return n.isEmpty()?null:n.value?new Qa(this.source,we(),n.value):new tu(this.source,we(),n)}else return Ct($t(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new tu(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,n,o){this.node_=t,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(re(t))return this.isFullyInitialized()&&!this.filtered_;const n=$t(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function b4(s,t,n,o){const l=[],h=[];return t.forEach(m=>{m.type==="child_changed"&&s.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(h4(m.childName,m.snapshotNode))}),nc(s,l,"child_removed",t,o,n),nc(s,l,"child_added",t,o,n),nc(s,l,"child_moved",h,o,n),nc(s,l,"child_changed",t,o,n),nc(s,l,"value",t,o,n),l}function nc(s,t,n,o,l,h){const m=o.filter(g=>g.type===n);m.sort((g,y)=>E4(s,g,y)),m.forEach(g=>{const y=x4(s,g,h);l.forEach(b=>{b.respondsTo(g.type)&&t.push(b.createEvent(y,s.query_))})})}function x4(s,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function E4(s,t,n){if(t.childName==null||n.childName==null)throw iu("Should only compare child_ events.");const o=new te(t.childName,t.snapshotNode),l=new te(n.childName,n.snapshotNode);return s.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(s,t){return{eventCache:s,serverCache:t}}function dc(s,t,n,o){return qf(new oa(t,n,o),s.serverCache)}function Ww(s,t,n,o){return qf(s.eventCache,new oa(t,n,o))}function Ef(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Ja(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm;const S4=()=>(Jm||(Jm=new Li(lC)),Jm);class Fe{static fromObject(t){let n=new Fe(null);return Jn(t,(o,l)=>{n=n.set(new Oe(o),l)}),n}constructor(t,n=S4()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(re(t))return null;{const o=$t(t),l=this.children.get(o);if(l!==null){const h=l.findRootMostMatchingPathAndValue(Ve(t),n);return h!=null?{path:on(new Oe(o),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(re(t))return this;{const n=$t(t),o=this.children.get(n);return o!==null?o.subtree(Ve(t)):new Fe(null)}}set(t,n){if(re(t))return new Fe(n,this.children);{const o=$t(t),h=(this.children.get(o)||new Fe(null)).set(Ve(t),n),m=this.children.insert(o,h);return new Fe(this.value,m)}}remove(t){if(re(t))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const n=$t(t),o=this.children.get(n);if(o){const l=o.remove(Ve(t));let h;return l.isEmpty()?h=this.children.remove(n):h=this.children.insert(n,l),this.value===null&&h.isEmpty()?new Fe(null):new Fe(this.value,h)}else return this}}get(t){if(re(t))return this.value;{const n=$t(t),o=this.children.get(n);return o?o.get(Ve(t)):null}}setTree(t,n){if(re(t))return n;{const o=$t(t),h=(this.children.get(o)||new Fe(null)).setTree(Ve(t),n);let m;return h.isEmpty()?m=this.children.remove(o):m=this.children.insert(o,h),new Fe(this.value,m)}}fold(t){return this.fold_(we(),t)}fold_(t,n){const o={};return this.children.inorderTraversal((l,h)=>{o[l]=h.fold_(on(t,l),n)}),n(t,this.value,o)}findOnPath(t,n){return this.findOnPath_(t,we(),n)}findOnPath_(t,n,o){const l=this.value?o(n,this.value):!1;if(l)return l;if(re(t))return null;{const h=$t(t),m=this.children.get(h);return m?m.findOnPath_(Ve(t),on(n,h),o):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,we(),n)}foreachOnPath_(t,n,o){if(re(t))return this;{this.value&&o(n,this.value);const l=$t(t),h=this.children.get(l);return h?h.foreachOnPath_(Ve(t),on(n,l),o):new Fe(null)}}foreach(t){this.foreach_(we(),t)}foreach_(t,n){this.children.inorderTraversal((o,l)=>{l.foreach_(on(t,o),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,o)=>{o.value&&t(n,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.writeTree_=t}static empty(){return new Fs(new Fe(null))}}function mc(s,t,n){if(re(t))return new Fs(new Fe(n));{const o=s.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let h=o.value;const m=wi(l,t);return h=h.updateChild(m,n),new Fs(s.writeTree_.set(l,h))}else{const l=new Fe(n),h=s.writeTree_.setTree(t,l);return new Fs(h)}}}function _p(s,t,n){let o=s;return Jn(n,(l,h)=>{o=mc(o,on(t,l),h)}),o}function Gy(s,t){if(re(t))return Fs.empty();{const n=s.writeTree_.setTree(t,new Fe(null));return new Fs(n)}}function vp(s,t){return il(s,t)!=null}function il(s,t){const n=s.writeTree_.findRootMostValueAndPath(t);return n!=null?s.writeTree_.get(n.path).getChild(wi(n.path,t)):null}function Zy(s){const t=[],n=s.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(an,(o,l)=>{t.push(new te(o,l))}):s.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new te(o,l.value))}),t}function ta(s,t){if(re(t))return s;{const n=il(s,t);return n!=null?new Fs(new Fe(n)):new Fs(s.writeTree_.subtree(t))}}function yp(s){return s.writeTree_.isEmpty()}function eu(s,t){return Yw(we(),s.writeTree_,t)}function Yw(s,t,n){if(t.value!=null)return n.updateChild(s,t.value);{let o=null;return t.children.inorderTraversal((l,h)=>{l===".priority"?(Ct(h.value!==null,"Priority writes must always be leaf nodes"),o=h.value):n=Yw(on(s,l),h,n)}),!n.getChild(s).isEmpty()&&o!==null&&(n=n.updateChild(on(s,".priority"),o)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(s,t){return Jw(t,s)}function T4(s,t,n,o,l){Ct(o>s.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),s.allWrites.push({path:t,snap:n,writeId:o,visible:l}),l&&(s.visibleWrites=mc(s.visibleWrites,t,n)),s.lastWriteId=o}function A4(s,t,n,o){Ct(o>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:t,children:n,writeId:o,visible:!0}),s.visibleWrites=_p(s.visibleWrites,t,n),s.lastWriteId=o}function C4(s,t){for(let n=0;n<s.allWrites.length;n++){const o=s.allWrites[n];if(o.writeId===t)return o}return null}function N4(s,t){const n=s.allWrites.findIndex(g=>g.writeId===t);Ct(n>=0,"removeWrite called with nonexistent writeId.");const o=s.allWrites[n];s.allWrites.splice(n,1);let l=o.visible,h=!1,m=s.allWrites.length-1;for(;l&&m>=0;){const g=s.allWrites[m];g.visible&&(m>=n&&R4(g,o.path)?l=!1:gs(o.path,g.path)&&(h=!0)),m--}if(l){if(h)return I4(s),!0;if(o.snap)s.visibleWrites=Gy(s.visibleWrites,o.path);else{const g=o.children;Jn(g,y=>{s.visibleWrites=Gy(s.visibleWrites,on(o.path,y))})}return!0}else return!1}function R4(s,t){if(s.snap)return gs(s.path,t);for(const n in s.children)if(s.children.hasOwnProperty(n)&&gs(on(s.path,n),t))return!0;return!1}function I4(s){s.visibleWrites=Kw(s.allWrites,k4,we()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function k4(s){return s.visible}function Kw(s,t,n){let o=Fs.empty();for(let l=0;l<s.length;++l){const h=s[l];if(t(h)){const m=h.path;let g;if(h.snap)gs(n,m)?(g=wi(n,m),o=mc(o,g,h.snap)):gs(m,n)&&(g=wi(m,n),o=mc(o,we(),h.snap.getChild(g)));else if(h.children){if(gs(n,m))g=wi(n,m),o=_p(o,g,h.children);else if(gs(m,n))if(g=wi(m,n),re(g))o=_p(o,we(),h.children);else{const y=Xl(h.children,$t(g));if(y){const b=y.getChild(Ve(g));o=mc(o,we(),b)}}}else throw iu("WriteRecord should have .snap or .children")}}return o}function Xw(s,t,n,o,l){if(!o&&!l){const h=il(s.visibleWrites,t);if(h!=null)return h;{const m=ta(s.visibleWrites,t);if(yp(m))return n;if(n==null&&!vp(m,we()))return null;{const g=n||Ht.EMPTY_NODE;return eu(m,g)}}}else{const h=ta(s.visibleWrites,t);if(!l&&yp(h))return n;if(!l&&n==null&&!vp(h,we()))return null;{const m=function(b){return(b.visible||l)&&(!o||!~o.indexOf(b.writeId))&&(gs(b.path,t)||gs(t,b.path))},g=Kw(s.allWrites,m,t),y=n||Ht.EMPTY_NODE;return eu(g,y)}}}function M4(s,t,n){let o=Ht.EMPTY_NODE;const l=il(s.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(an,(h,m)=>{o=o.updateImmediateChild(h,m)}),o;if(n){const h=ta(s.visibleWrites,t);return n.forEachChild(an,(m,g)=>{const y=eu(ta(h,new Oe(m)),g);o=o.updateImmediateChild(m,y)}),Zy(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}else{const h=ta(s.visibleWrites,t);return Zy(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}}function L4(s,t,n,o,l){Ct(o||l,"Either existingEventSnap or existingServerSnap must exist");const h=on(t,n);if(vp(s.visibleWrites,h))return null;{const m=ta(s.visibleWrites,h);return yp(m)?l.getChild(n):eu(m,l.getChild(n))}}function O4(s,t,n,o){const l=on(t,n),h=il(s.visibleWrites,l);if(h!=null)return h;if(o.isCompleteForChild(n)){const m=ta(s.visibleWrites,l);return eu(m,o.getNode().getImmediateChild(n))}else return null}function D4(s,t){return il(s.visibleWrites,t)}function P4(s,t,n,o,l,h,m){let g;const y=ta(s.visibleWrites,t),b=il(y,we());if(b!=null)g=b;else if(n!=null)g=eu(y,n);else return[];if(g=g.withIndex(m),!g.isEmpty()&&!g.isLeafNode()){const E=[],S=m.getCompare(),x=h?g.getReverseIteratorFrom(o,m):g.getIteratorFrom(o,m);let k=x.getNext();for(;k&&E.length<l;)S(k,o)!==0&&E.push(k),k=x.getNext();return E}else return[]}function j4(){return{visibleWrites:Fs.empty(),allWrites:[],lastWriteId:-1}}function Sf(s,t,n,o){return Xw(s.writeTree,s.treePath,t,n,o)}function hg(s,t){return M4(s.writeTree,s.treePath,t)}function Wy(s,t,n,o){return L4(s.writeTree,s.treePath,t,n,o)}function Tf(s,t){return D4(s.writeTree,on(s.treePath,t))}function U4(s,t,n,o,l,h){return P4(s.writeTree,s.treePath,t,n,o,l,h)}function fg(s,t,n){return O4(s.writeTree,s.treePath,t,n)}function Qw(s,t){return Jw(on(s.treePath,t),s.writeTree)}function Jw(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,o=t.childName;Ct(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ct(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const h=l.type;if(n==="child_added"&&h==="child_removed")this.changeMap.set(o,Sc(o,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&h==="child_added")this.changeMap.delete(o);else if(n==="child_removed"&&h==="child_changed")this.changeMap.set(o,Ec(o,l.oldSnap));else if(n==="child_changed"&&h==="child_added")this.changeMap.set(o,$l(o,t.snapshotNode));else if(n==="child_changed"&&h==="child_changed")this.changeMap.set(o,Sc(o,t.snapshotNode,l.oldSnap));else throw iu("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{getCompleteChild(t){return null}getChildAfterChild(t,n,o){return null}}const $w=new B4;class dg{constructor(t,n,o=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new oa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fg(this.writes_,t,o)}}getChildAfterChild(t,n,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ja(this.viewCache_),h=U4(this.writes_,l,n,1,o,t);return h.length===0?null:h[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(s){return{filter:s}}function F4(s,t){Ct(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Ct(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function V4(s,t,n,o,l){const h=new z4;let m,g;if(n.type===Bs.OVERWRITE){const b=n;b.source.fromUser?m=wp(s,t,b.path,b.snap,o,l,h):(Ct(b.source.fromServer,"Unknown source."),g=b.source.tagged||t.serverCache.isFiltered()&&!re(b.path),m=Af(s,t,b.path,b.snap,o,l,g,h))}else if(n.type===Bs.MERGE){const b=n;b.source.fromUser?m=G4(s,t,b.path,b.children,o,l,h):(Ct(b.source.fromServer,"Unknown source."),g=b.source.tagged||t.serverCache.isFiltered(),m=bp(s,t,b.path,b.children,o,l,g,h))}else if(n.type===Bs.ACK_USER_WRITE){const b=n;b.revert?m=Y4(s,t,b.path,o,l,h):m=Z4(s,t,b.path,b.affectedTree,o,l,h)}else if(n.type===Bs.LISTEN_COMPLETE)m=W4(s,t,n.path,o,h);else throw iu("Unknown operation type: "+n.type);const y=h.getChanges();return q4(t,m,y),{viewCache:m,changes:y}}function q4(s,t,n){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),h=Ef(s);(n.length>0||!s.eventCache.isFullyInitialized()||l&&!o.getNode().equals(h)||!o.getNode().getPriority().equals(h.getPriority()))&&n.push(Gw(Ef(t)))}}function t2(s,t,n,o,l,h){const m=t.eventCache;if(Tf(o,n)!=null)return t;{let g,y;if(re(n))if(Ct(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const b=Ja(t),E=b instanceof Ht?b:Ht.EMPTY_NODE,S=hg(o,E);g=s.filter.updateFullNode(t.eventCache.getNode(),S,h)}else{const b=Sf(o,Ja(t));g=s.filter.updateFullNode(t.eventCache.getNode(),b,h)}else{const b=$t(n);if(b===".priority"){Ct(ra(n)===1,"Can't have a priority with additional path components");const E=m.getNode();y=t.serverCache.getNode();const S=Wy(o,n,E,y);S!=null?g=s.filter.updatePriority(E,S):g=m.getNode()}else{const E=Ve(n);let S;if(m.isCompleteForChild(b)){y=t.serverCache.getNode();const x=Wy(o,n,m.getNode(),y);x!=null?S=m.getNode().getImmediateChild(b).updateChild(E,x):S=m.getNode().getImmediateChild(b)}else S=fg(o,b,t.serverCache);S!=null?g=s.filter.updateChild(m.getNode(),b,S,E,l,h):g=m.getNode()}}return dc(t,g,m.isFullyInitialized()||re(n),s.filter.filtersNodes())}}function Af(s,t,n,o,l,h,m,g){const y=t.serverCache;let b;const E=m?s.filter:s.filter.getIndexedFilter();if(re(n))b=E.updateFullNode(y.getNode(),o,null);else if(E.filtersNodes()&&!y.isFiltered()){const k=y.getNode().updateChild(n,o);b=E.updateFullNode(y.getNode(),k,null)}else{const k=$t(n);if(!y.isCompleteForPath(n)&&ra(n)>1)return t;const O=Ve(n),W=y.getNode().getImmediateChild(k).updateChild(O,o);k===".priority"?b=E.updatePriority(y.getNode(),W):b=E.updateChild(y.getNode(),k,W,O,$w,null)}const S=Ww(t,b,y.isFullyInitialized()||re(n),E.filtersNodes()),x=new dg(l,S,h);return t2(s,S,n,l,x,g)}function wp(s,t,n,o,l,h,m){const g=t.eventCache;let y,b;const E=new dg(l,t,h);if(re(n))b=s.filter.updateFullNode(t.eventCache.getNode(),o,m),y=dc(t,b,!0,s.filter.filtersNodes());else{const S=$t(n);if(S===".priority")b=s.filter.updatePriority(t.eventCache.getNode(),o),y=dc(t,b,g.isFullyInitialized(),g.isFiltered());else{const x=Ve(n),k=g.getNode().getImmediateChild(S);let O;if(re(x))O=o;else{const G=E.getCompleteChild(S);G!=null?ng(x)===".priority"&&G.getChild(Uw(x)).isEmpty()?O=G:O=G.updateChild(x,o):O=Ht.EMPTY_NODE}if(k.equals(O))y=t;else{const G=s.filter.updateChild(g.getNode(),S,O,x,E,m);y=dc(t,G,g.isFullyInitialized(),s.filter.filtersNodes())}}}return y}function Yy(s,t){return s.eventCache.isCompleteForChild(t)}function G4(s,t,n,o,l,h,m){let g=t;return o.foreach((y,b)=>{const E=on(n,y);Yy(t,$t(E))&&(g=wp(s,g,E,b,l,h,m))}),o.foreach((y,b)=>{const E=on(n,y);Yy(t,$t(E))||(g=wp(s,g,E,b,l,h,m))}),g}function Ky(s,t,n){return n.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function bp(s,t,n,o,l,h,m,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y=t,b;re(n)?b=o:b=new Fe(null).setTree(n,o);const E=t.serverCache.getNode();return b.children.inorderTraversal((S,x)=>{if(E.hasChild(S)){const k=t.serverCache.getNode().getImmediateChild(S),O=Ky(s,k,x);y=Af(s,y,new Oe(S),O,l,h,m,g)}}),b.children.inorderTraversal((S,x)=>{const k=!t.serverCache.isCompleteForChild(S)&&x.value===null;if(!E.hasChild(S)&&!k){const O=t.serverCache.getNode().getImmediateChild(S),G=Ky(s,O,x);y=Af(s,y,new Oe(S),G,l,h,m,g)}}),y}function Z4(s,t,n,o,l,h,m){if(Tf(l,n)!=null)return t;const g=t.serverCache.isFiltered(),y=t.serverCache;if(o.value!=null){if(re(n)&&y.isFullyInitialized()||y.isCompleteForPath(n))return Af(s,t,n,y.getNode().getChild(n),l,h,g,m);if(re(n)){let b=new Fe(null);return y.getNode().forEachChild(Yl,(E,S)=>{b=b.set(new Oe(E),S)}),bp(s,t,n,b,l,h,g,m)}else return t}else{let b=new Fe(null);return o.foreach((E,S)=>{const x=on(n,E);y.isCompleteForPath(x)&&(b=b.set(E,y.getNode().getChild(x)))}),bp(s,t,n,b,l,h,g,m)}}function W4(s,t,n,o,l){const h=t.serverCache,m=Ww(t,h.getNode(),h.isFullyInitialized()||re(n),h.isFiltered());return t2(s,m,n,o,$w,l)}function Y4(s,t,n,o,l,h){let m;if(Tf(o,n)!=null)return t;{const g=new dg(o,t,l),y=t.eventCache.getNode();let b;if(re(n)||$t(n)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=Sf(o,Ja(t));else{const S=t.serverCache.getNode();Ct(S instanceof Ht,"serverChildren would be complete if leaf node"),E=hg(o,S)}E=E,b=s.filter.updateFullNode(y,E,h)}else{const E=$t(n);let S=fg(o,E,t.serverCache);S==null&&t.serverCache.isCompleteForChild(E)&&(S=y.getImmediateChild(E)),S!=null?b=s.filter.updateChild(y,E,S,Ve(n),g,h):t.eventCache.getNode().hasChild(E)?b=s.filter.updateChild(y,E,Ht.EMPTY_NODE,Ve(n),g,h):b=y,b.isEmpty()&&t.serverCache.isFullyInitialized()&&(m=Sf(o,Ja(t)),m.isLeafNode()&&(b=s.filter.updateFullNode(b,m,h)))}return m=t.serverCache.isFullyInitialized()||Tf(o,we())!=null,dc(t,b,m,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new og(o.getIndex()),h=d4(o);this.processor_=H4(h);const m=n.serverCache,g=n.eventCache,y=l.updateFullNode(Ht.EMPTY_NODE,m.getNode(),null),b=h.updateFullNode(Ht.EMPTY_NODE,g.getNode(),null),E=new oa(y,m.isFullyInitialized(),l.filtersNodes()),S=new oa(b,g.isFullyInitialized(),h.filtersNodes());this.viewCache_=qf(S,E),this.eventGenerator_=new w4(this.query_)}get query(){return this.query_}}function X4(s){return s.viewCache_.serverCache.getNode()}function Q4(s){return Ef(s.viewCache_)}function J4(s,t){const n=Ja(s.viewCache_);return n&&(s.query._queryParams.loadsAllData()||!re(t)&&!n.getImmediateChild($t(t)).isEmpty())?n.getChild(t):null}function Xy(s){return s.eventRegistrations_.length===0}function $4(s,t){s.eventRegistrations_.push(t)}function Qy(s,t,n){const o=[];if(n){Ct(t==null,"A cancel should cancel all event registrations.");const l=s.query._path;s.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(n,l);m&&o.push(m)})}if(t){let l=[];for(let h=0;h<s.eventRegistrations_.length;++h){const m=s.eventRegistrations_[h];if(!m.matches(t))l.push(m);else if(t.hasAnyCallback()){l=l.concat(s.eventRegistrations_.slice(h+1));break}}s.eventRegistrations_=l}else s.eventRegistrations_=[];return o}function Jy(s,t,n,o){t.type===Bs.MERGE&&t.source.queryId!==null&&(Ct(Ja(s.viewCache_),"We should always have a full cache before handling merges"),Ct(Ef(s.viewCache_),"Missing event cache, even though we have a server cache"));const l=s.viewCache_,h=V4(s.processor_,l,t,n,o);return F4(s.processor_,h.viewCache),Ct(h.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=h.viewCache,e2(s,h.changes,h.viewCache.eventCache.getNode(),null)}function tN(s,t){const n=s.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(an,(h,m)=>{o.push($l(h,m))}),n.isFullyInitialized()&&o.push(Gw(n.getNode())),e2(s,o,n.getNode(),t)}function e2(s,t,n,o){const l=o?[o]:s.eventRegistrations_;return b4(s.eventGenerator_,t,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;class n2{constructor(){this.views=new Map}}function eN(s){Ct(!Cf,"__referenceConstructor has already been defined"),Cf=s}function nN(){return Ct(Cf,"Reference.ts has not been loaded"),Cf}function iN(s){return s.views.size===0}function mg(s,t,n,o){const l=t.source.queryId;if(l!==null){const h=s.views.get(l);return Ct(h!=null,"SyncTree gave us an op for an invalid query."),Jy(h,t,n,o)}else{let h=[];for(const m of s.views.values())h=h.concat(Jy(m,t,n,o));return h}}function i2(s,t,n,o,l){const h=t._queryIdentifier,m=s.views.get(h);if(!m){let g=Sf(n,l?o:null),y=!1;g?y=!0:o instanceof Ht?(g=hg(n,o),y=!1):(g=Ht.EMPTY_NODE,y=!1);const b=qf(new oa(g,y,!1),new oa(o,l,!1));return new K4(t,b)}return m}function sN(s,t,n,o,l,h){const m=i2(s,t,o,l,h);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,m),$4(m,n),tN(m,n)}function rN(s,t,n,o){const l=t._queryIdentifier,h=[];let m=[];const g=aa(s);if(l==="default")for(const[y,b]of s.views.entries())m=m.concat(Qy(b,n,o)),Xy(b)&&(s.views.delete(y),b.query._queryParams.loadsAllData()||h.push(b.query));else{const y=s.views.get(l);y&&(m=m.concat(Qy(y,n,o)),Xy(y)&&(s.views.delete(l),y.query._queryParams.loadsAllData()||h.push(y.query)))}return g&&!aa(s)&&h.push(new(nN())(t._repo,t._path)),{removed:h,events:m}}function s2(s){const t=[];for(const n of s.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ea(s,t){let n=null;for(const o of s.views.values())n=n||J4(o,t);return n}function r2(s,t){if(t._queryParams.loadsAllData())return Zf(s);{const o=t._queryIdentifier;return s.views.get(o)}}function o2(s,t){return r2(s,t)!=null}function aa(s){return Zf(s)!=null}function Zf(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf;function oN(s){Ct(!Nf,"__referenceConstructor has already been defined"),Nf=s}function aN(){return Ct(Nf,"Reference.ts has not been loaded"),Nf}let lN=1;class $y{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=j4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function a2(s,t,n,o,l){return T4(s.pendingWriteTree_,t,n,o,l),l?au(s,new Qa(lg(),t,n)):[]}function uN(s,t,n,o){A4(s.pendingWriteTree_,t,n,o);const l=Fe.fromObject(n);return au(s,new tu(lg(),t,l))}function Qo(s,t,n=!1){const o=C4(s.pendingWriteTree_,t);if(N4(s.pendingWriteTree_,t)){let h=new Fe(null);return o.snap!=null?h=h.set(we(),!0):Jn(o.children,m=>{h=h.set(new Oe(m),!0)}),au(s,new xf(o.path,h,n))}else return[]}function Hc(s,t,n){return au(s,new Qa(ug(),t,n))}function cN(s,t,n){const o=Fe.fromObject(n);return au(s,new tu(ug(),t,o))}function hN(s,t){return au(s,new Ac(ug(),t))}function fN(s,t,n){const o=gg(s,n);if(o){const l=_g(o),h=l.path,m=l.queryId,g=wi(h,t),y=new Ac(cg(m),g);return vg(s,h,y)}else return[]}function Rf(s,t,n,o,l=!1){const h=t._path,m=s.syncPointTree_.get(h);let g=[];if(m&&(t._queryIdentifier==="default"||o2(m,t))){const y=rN(m,t,n,o);iN(m)&&(s.syncPointTree_=s.syncPointTree_.remove(h));const b=y.removed;if(g=y.events,!l){const E=b.findIndex(x=>x._queryParams.loadsAllData())!==-1,S=s.syncPointTree_.findOnPath(h,(x,k)=>aa(k));if(E&&!S){const x=s.syncPointTree_.subtree(h);if(!x.isEmpty()){const k=pN(x);for(let O=0;O<k.length;++O){const G=k[O],W=G.query,Z=h2(s,G);s.listenProvider_.startListening(pc(W),Cc(s,W),Z.hashFn,Z.onComplete)}}}!S&&b.length>0&&!o&&(E?s.listenProvider_.stopListening(pc(t),null):b.forEach(x=>{const k=s.queryToTagMap.get(Wf(x));s.listenProvider_.stopListening(pc(x),k)}))}gN(s,b)}return g}function l2(s,t,n,o){const l=gg(s,o);if(l!=null){const h=_g(l),m=h.path,g=h.queryId,y=wi(m,t),b=new Qa(cg(g),y,n);return vg(s,m,b)}else return[]}function dN(s,t,n,o){const l=gg(s,o);if(l){const h=_g(l),m=h.path,g=h.queryId,y=wi(m,t),b=Fe.fromObject(n),E=new tu(cg(g),y,b);return vg(s,m,E)}else return[]}function xp(s,t,n,o=!1){const l=t._path;let h=null,m=!1;s.syncPointTree_.foreachOnPath(l,(x,k)=>{const O=wi(x,l);h=h||ea(k,O),m=m||aa(k)});let g=s.syncPointTree_.get(l);g?(m=m||aa(g),h=h||ea(g,we())):(g=new n2,s.syncPointTree_=s.syncPointTree_.set(l,g));let y;h!=null?y=!0:(y=!1,h=Ht.EMPTY_NODE,s.syncPointTree_.subtree(l).foreachChild((k,O)=>{const G=ea(O,we());G&&(h=h.updateImmediateChild(k,G))}));const b=o2(g,t);if(!b&&!t._queryParams.loadsAllData()){const x=Wf(t);Ct(!s.queryToTagMap.has(x),"View does not exist, but we have a tag");const k=_N();s.queryToTagMap.set(x,k),s.tagToQueryMap.set(k,x)}const E=Gf(s.pendingWriteTree_,l);let S=sN(g,t,n,E,h,y);if(!b&&!m&&!o){const x=r2(g,t);S=S.concat(vN(s,t,x))}return S}function pg(s,t,n){const l=s.pendingWriteTree_,h=s.syncPointTree_.findOnPath(t,(m,g)=>{const y=wi(m,t),b=ea(g,y);if(b)return b});return Xw(l,t,h,n,!0)}function mN(s,t){const n=t._path;let o=null;s.syncPointTree_.foreachOnPath(n,(b,E)=>{const S=wi(b,n);o=o||ea(E,S)});let l=s.syncPointTree_.get(n);l?o=o||ea(l,we()):(l=new n2,s.syncPointTree_=s.syncPointTree_.set(n,l));const h=o!=null,m=h?new oa(o,!0,!1):null,g=Gf(s.pendingWriteTree_,t._path),y=i2(l,t,g,h?m.getNode():Ht.EMPTY_NODE,h);return Q4(y)}function au(s,t){return u2(t,s.syncPointTree_,null,Gf(s.pendingWriteTree_,we()))}function u2(s,t,n,o){if(re(s.path))return c2(s,t,n,o);{const l=t.get(we());n==null&&l!=null&&(n=ea(l,we()));let h=[];const m=$t(s.path),g=s.operationForChild(m),y=t.children.get(m);if(y&&g){const b=n?n.getImmediateChild(m):null,E=Qw(o,m);h=h.concat(u2(g,y,b,E))}return l&&(h=h.concat(mg(l,s,o,n))),h}}function c2(s,t,n,o){const l=t.get(we());n==null&&l!=null&&(n=ea(l,we()));let h=[];return t.children.inorderTraversal((m,g)=>{const y=n?n.getImmediateChild(m):null,b=Qw(o,m),E=s.operationForChild(m);E&&(h=h.concat(c2(E,g,y,b)))}),l&&(h=h.concat(mg(l,s,o,n))),h}function h2(s,t){const n=t.query,o=Cc(s,n);return{hashFn:()=>(X4(t)||Ht.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?fN(s,n._path,o):hN(s,n._path);{const h=hC(l,n);return Rf(s,n,null,h)}}}}function Cc(s,t){const n=Wf(t);return s.queryToTagMap.get(n)}function Wf(s){return s._path.toString()+"$"+s._queryIdentifier}function gg(s,t){return s.tagToQueryMap.get(t)}function _g(s){const t=s.indexOf("$");return Ct(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Oe(s.substr(0,t))}}function vg(s,t,n){const o=s.syncPointTree_.get(t);Ct(o,"Missing sync point for query tag that we're tracking");const l=Gf(s.pendingWriteTree_,t);return mg(o,n,l,null)}function pN(s){return s.fold((t,n,o)=>{if(n&&aa(n))return[Zf(n)];{let l=[];return n&&(l=s2(n)),Jn(o,(h,m)=>{l=l.concat(m)}),l}})}function pc(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(aN())(s._repo,s._path):s}function gN(s,t){for(let n=0;n<t.length;++n){const o=t[n];if(!o._queryParams.loadsAllData()){const l=Wf(o),h=s.queryToTagMap.get(l);s.queryToTagMap.delete(l),s.tagToQueryMap.delete(h)}}}function _N(){return lN++}function vN(s,t,n){const o=t._path,l=Cc(s,t),h=h2(s,n),m=s.listenProvider_.startListening(pc(t),l,h.hashFn,h.onComplete),g=s.syncPointTree_.subtree(o);if(l)Ct(!aa(g.value),"If we're adding a query, it shouldn't be shadowed");else{const y=g.fold((b,E,S)=>{if(!re(b)&&E&&aa(E))return[Zf(E).query];{let x=[];return E&&(x=x.concat(s2(E).map(k=>k.query))),Jn(S,(k,O)=>{x=x.concat(O)}),x}});for(let b=0;b<y.length;++b){const E=y[b];s.listenProvider_.stopListening(pc(E),Cc(s,E))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new yg(n)}node(){return this.node_}}class wg{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=on(this.path_,t);return new wg(this.syncTree_,n)}node(){return pg(this.syncTree_,this.path_)}}const yN=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},t1=function(s,t,n){if(!s||typeof s!="object")return s;if(Ct(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return wN(s[".sv"],t,n);if(typeof s[".sv"]=="object")return bN(s[".sv"],t);Ct(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},wN=function(s,t,n){switch(s){case"timestamp":return n.timestamp;default:Ct(!1,"Unexpected server value: "+s)}},bN=function(s,t,n){s.hasOwnProperty("increment")||Ct(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const o=s.increment;typeof o!="number"&&Ct(!1,"Unexpected increment value: "+o);const l=t.node();if(Ct(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const m=l.getValue();return typeof m!="number"?o:m+o},f2=function(s,t,n,o){return bg(t,new wg(n,s),o)},d2=function(s,t,n){return bg(s,new yg(t),n)};function bg(s,t,n){const o=s.getPriority().val(),l=t1(o,t.getImmediateChild(".priority"),n);let h;if(s.isLeafNode()){const m=s,g=t1(m.getValue(),t,n);return g!==m.getValue()||l!==m.getPriority().val()?new Hn(g,Nn(l)):s}else{const m=s;return h=m,l!==m.getPriority().val()&&(h=h.updatePriority(new Hn(l))),m.forEachChild(an,(g,y)=>{const b=bg(y,t.getImmediateChild(g),n);b!==y&&(h=h.updateImmediateChild(g,b))}),h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t="",n=null,o={children:{},childCount:0}){this.name=t,this.parent=n,this.node=o}}function Eg(s,t){let n=t instanceof Oe?t:new Oe(t),o=s,l=$t(n);for(;l!==null;){const h=Xl(o.node.children,l)||{children:{},childCount:0};o=new xg(l,o,h),n=Ve(n),l=$t(n)}return o}function lu(s){return s.node.value}function m2(s,t){s.node.value=t,Ep(s)}function p2(s){return s.node.childCount>0}function xN(s){return lu(s)===void 0&&!p2(s)}function Yf(s,t){Jn(s.node.children,(n,o)=>{t(new xg(n,s,o))})}function g2(s,t,n,o){n&&t(s),Yf(s,l=>{g2(l,t,!0)})}function EN(s,t,n){let o=s.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Fc(s){return new Oe(s.parent===null?s.name:Fc(s.parent)+"/"+s.name)}function Ep(s){s.parent!==null&&SN(s.parent,s.name,s)}function SN(s,t,n){const o=xN(n),l=pr(s.node.children,t);o&&l?(delete s.node.children[t],s.node.childCount--,Ep(s)):!o&&!l&&(s.node.children[t]=n.node,s.node.childCount++,Ep(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/[\[\].#$\/\u0000-\u001F\u007F]/,AN=/[\[\].#$\u0000-\u001F\u007F]/,$m=10*1024*1024,Sg=function(s){return typeof s=="string"&&s.length!==0&&!TN.test(s)},_2=function(s){return typeof s=="string"&&s.length!==0&&!AN.test(s)},CN=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),_2(s)},NN=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Qp(s)||s&&typeof s=="object"&&pr(s,".sv")},v2=function(s,t,n,o){o&&t===void 0||Kf(Df(s,"value"),t,n)},Kf=function(s,t,n){const o=n instanceof Oe?new GC(n,s):n;if(t===void 0)throw new Error(s+"contains undefined "+Ua(o));if(typeof t=="function")throw new Error(s+"contains a function "+Ua(o)+" with contents = "+t.toString());if(Qp(t))throw new Error(s+"contains "+t.toString()+" "+Ua(o));if(typeof t=="string"&&t.length>$m/3&&Pf(t)>$m)throw new Error(s+"contains a string greater than "+$m+" utf8 bytes "+Ua(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,h=!1;if(Jn(t,(m,g)=>{if(m===".value")l=!0;else if(m!==".priority"&&m!==".sv"&&(h=!0,!Sg(m)))throw new Error(s+" contains an invalid key ("+m+") "+Ua(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZC(o,m),Kf(s,g,o),WC(o)}),l&&h)throw new Error(s+' contains ".value" child '+Ua(o)+" in addition to actual children.")}},RN=function(s,t){let n,o;for(n=0;n<t.length;n++){o=t[n];const h=xc(o);for(let m=0;m<h.length;m++)if(!(h[m]===".priority"&&m===h.length-1)){if(!Sg(h[m]))throw new Error(s+"contains an invalid key ("+h[m]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(qC);let l=null;for(n=0;n<t.length;n++){if(o=t[n],l!==null&&gs(l,o))throw new Error(s+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}},IN=function(s,t,n,o){const l=Df(s,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const h=[];Jn(t,(m,g)=>{const y=new Oe(m);if(Kf(l,g,on(n,y)),ng(y)===".priority"&&!NN(g))throw new Error(l+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(y)}),RN(l,h)},y2=function(s,t,n,o){if(!_2(n))throw new Error(Df(s,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},kN=function(s,t,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),y2(s,t,n)},Tg=function(s,t){if($t(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},MN=function(s,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Sg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!CN(n))throw new Error(Df(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xf(s,t){let n=null;for(let o=0;o<t.length;o++){const l=t[o],h=l.getPath();n!==null&&!ig(h,n.path)&&(s.eventLists_.push(n),n=null),n===null&&(n={events:[],path:h}),n.events.push(l)}n&&s.eventLists_.push(n)}function w2(s,t,n){Xf(s,n),b2(s,o=>ig(o,t))}function vs(s,t,n){Xf(s,n),b2(s,o=>gs(o,t)||gs(t,o))}function b2(s,t){s.recursionDepth_++;let n=!0;for(let o=0;o<s.eventLists_.length;o++){const l=s.eventLists_[o];if(l){const h=l.path;t(h)?(ON(s.eventLists_[o]),s.eventLists_[o]=null):n=!1}}n&&(s.eventLists_=[]),s.recursionDepth_--}function ON(s){for(let t=0;t<s.events.length;t++){const n=s.events[t];if(n!==null){s.events[t]=null;const o=n.getEventRunner();hc&&Qn("event: "+n.toString()),ou(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="repo_interrupt",PN=25;class jN{constructor(t,n,o,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bf(),this.transactionQueueTree_=new xg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function UN(s,t,n){if(s.stats_=tg(s.repoInfo_),s.forceRestClient_||pC())s.server_=new wf(s.repoInfo_,(o,l,h,m)=>{e1(s,o,l,h,m)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>n1(s,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rn(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}s.persistentConnection_=new Gr(s.repoInfo_,t,(o,l,h,m)=>{e1(s,o,l,h,m)},o=>{n1(s,o)},o=>{zN(s,o)},s.authTokenProvider_,s.appCheckProvider_,n),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(o=>{s.server_.refreshAuthToken(o)}),s.appCheckProvider_.addTokenChangeListener(o=>{s.server_.refreshAppCheckToken(o.token)}),s.statsReporter_=wC(s.repoInfo_,()=>new y4(s.stats_,s.server_)),s.infoData_=new m4,s.infoSyncTree_=new $y({startListening:(o,l,h,m)=>{let g=[];const y=s.infoData_.getNode(o._path);return y.isEmpty()||(g=Hc(s.infoSyncTree_,o._path,y),setTimeout(()=>{m("ok")},0)),g},stopListening:()=>{}}),Ag(s,"connected",!1),s.serverSyncTree_=new $y({startListening:(o,l,h,m)=>(s.server_.listen(o,h,l,(g,y)=>{const b=m(g,y);vs(s.eventQueue_,o._path,b)}),[]),stopListening:(o,l)=>{s.server_.unlisten(o,l)}})}function x2(s){const n=s.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qf(s){return yN({timestamp:x2(s)})}function e1(s,t,n,o,l){s.dataUpdateCount++;const h=new Oe(t);n=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,n):n;let m=[];if(l)if(o){const y=af(n,b=>Nn(b));m=dN(s.serverSyncTree_,h,y,l)}else{const y=Nn(n);m=l2(s.serverSyncTree_,h,y,l)}else if(o){const y=af(n,b=>Nn(b));m=cN(s.serverSyncTree_,h,y)}else{const y=Nn(n);m=Hc(s.serverSyncTree_,h,y)}let g=h;m.length>0&&(g=nu(s,h)),vs(s.eventQueue_,g,m)}function n1(s,t){Ag(s,"connected",t),t===!1&&VN(s)}function zN(s,t){Jn(t,(n,o)=>{Ag(s,n,o)})}function Ag(s,t,n){const o=new Oe("/.info/"+t),l=Nn(n);s.infoData_.updateSnapshot(o,l);const h=Hc(s.infoSyncTree_,o,l);vs(s.eventQueue_,o,h)}function Cg(s){return s.nextWriteId_++}function BN(s,t,n){const o=mN(s.serverSyncTree_,t);return o!=null?Promise.resolve(o):s.server_.get(t).then(l=>{const h=Nn(l).withIndex(t._queryParams.getIndex());xp(s.serverSyncTree_,t,n,!0);let m;if(t._queryParams.loadsAllData())m=Hc(s.serverSyncTree_,t._path,h);else{const g=Cc(s.serverSyncTree_,t);m=l2(s.serverSyncTree_,t._path,h,g)}return vs(s.eventQueue_,t._path,m),Rf(s.serverSyncTree_,t,n,null,!0),h},l=>(Vc(s,"get for query "+Rn(t)+" failed: "+l),Promise.reject(new Error(l))))}function HN(s,t,n,o,l){Vc(s,"set",{path:t.toString(),value:n,priority:o});const h=Qf(s),m=Nn(n,o),g=pg(s.serverSyncTree_,t),y=d2(m,g,h),b=Cg(s),E=a2(s.serverSyncTree_,t,y,b,!0);Xf(s.eventQueue_,E),s.server_.put(t.toString(),m.val(!0),(x,k)=>{const O=x==="ok";O||bi("set at "+t+" failed: "+x);const G=Qo(s.serverSyncTree_,b,!O);vs(s.eventQueue_,t,G),Sp(s,l,x,k)});const S=Rg(s,t);nu(s,S),vs(s.eventQueue_,S,[])}function FN(s,t,n,o){Vc(s,"update",{path:t.toString(),value:n});let l=!0;const h=Qf(s),m={};if(Jn(n,(g,y)=>{l=!1,m[g]=f2(on(t,g),Nn(y),s.serverSyncTree_,h)}),l)Qn("update() called with empty data.  Don't do anything."),Sp(s,o,"ok",void 0);else{const g=Cg(s),y=uN(s.serverSyncTree_,t,m,g);Xf(s.eventQueue_,y),s.server_.merge(t.toString(),n,(b,E)=>{const S=b==="ok";S||bi("update at "+t+" failed: "+b);const x=Qo(s.serverSyncTree_,g,!S),k=x.length>0?nu(s,t):t;vs(s.eventQueue_,k,x),Sp(s,o,b,E)}),Jn(n,b=>{const E=Rg(s,on(t,b));nu(s,E)}),vs(s.eventQueue_,t,[])}}function VN(s){Vc(s,"onDisconnectEvents");const t=Qf(s),n=bf();gp(s.onDisconnect_,we(),(l,h)=>{const m=f2(l,h,s.serverSyncTree_,t);Zw(n,l,m)});let o=[];gp(n,we(),(l,h)=>{o=o.concat(Hc(s.serverSyncTree_,l,h));const m=Rg(s,l);nu(s,m)}),s.onDisconnect_=bf(),vs(s.eventQueue_,we(),o)}function qN(s,t,n){let o;$t(t._path)===".info"?o=xp(s.infoSyncTree_,t,n):o=xp(s.serverSyncTree_,t,n),w2(s.eventQueue_,t._path,o)}function GN(s,t,n){let o;$t(t._path)===".info"?o=Rf(s.infoSyncTree_,t,n):o=Rf(s.serverSyncTree_,t,n),w2(s.eventQueue_,t._path,o)}function ZN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(DN)}function Vc(s,...t){let n="";s.persistentConnection_&&(n=s.persistentConnection_.id+":"),Qn(n,...t)}function Sp(s,t,n,o){t&&ou(()=>{if(n==="ok")t(null);else{const l=(n||"error").toUpperCase();let h=l;o&&(h+=": "+o);const m=new Error(h);m.code=l,t(m)}})}function E2(s,t,n){return pg(s.serverSyncTree_,t,n)||Ht.EMPTY_NODE}function Ng(s,t=s.transactionQueueTree_){if(t||Jf(s,t),lu(t)){const n=T2(s,t);Ct(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&WN(s,Fc(t),n)}else p2(t)&&Yf(t,n=>{Ng(s,n)})}function WN(s,t,n){const o=n.map(b=>b.currentWriteId),l=E2(s,t,o);let h=l;const m=l.hash();for(let b=0;b<n.length;b++){const E=n[b];Ct(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const S=wi(t,E.path);h=h.updateChild(S,E.currentOutputSnapshotRaw)}const g=h.val(!0),y=t;s.server_.put(y.toString(),g,b=>{Vc(s,"transaction put response",{path:y.toString(),status:b});let E=[];if(b==="ok"){const S=[];for(let x=0;x<n.length;x++)n[x].status=2,E=E.concat(Qo(s.serverSyncTree_,n[x].currentWriteId)),n[x].onComplete&&S.push(()=>n[x].onComplete(null,!0,n[x].currentOutputSnapshotResolved)),n[x].unwatcher();Jf(s,Eg(s.transactionQueueTree_,t)),Ng(s,s.transactionQueueTree_),vs(s.eventQueue_,t,E);for(let x=0;x<S.length;x++)ou(S[x])}else{if(b==="datastale")for(let S=0;S<n.length;S++)n[S].status===3?n[S].status=4:n[S].status=0;else{bi("transaction at "+y.toString()+" failed: "+b);for(let S=0;S<n.length;S++)n[S].status=4,n[S].abortReason=b}nu(s,t)}},m)}function nu(s,t){const n=S2(s,t),o=Fc(n),l=T2(s,n);return YN(s,l,o),o}function YN(s,t,n){if(t.length===0)return;const o=[];let l=[];const m=t.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const y=t[g],b=wi(n,y.path);let E=!1,S;if(Ct(b!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)E=!0,S=y.abortReason,l=l.concat(Qo(s.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=PN)E=!0,S="maxretry",l=l.concat(Qo(s.serverSyncTree_,y.currentWriteId,!0));else{const x=E2(s,y.path,m);y.currentInputSnapshot=x;const k=t[g].update(x.val());if(k!==void 0){Kf("transaction failed: Data returned ",k,y.path);let O=Nn(k);typeof k=="object"&&k!=null&&pr(k,".priority")||(O=O.updatePriority(x.getPriority()));const W=y.currentWriteId,Z=Qf(s),ct=d2(O,x,Z);y.currentOutputSnapshotRaw=O,y.currentOutputSnapshotResolved=ct,y.currentWriteId=Cg(s),m.splice(m.indexOf(W),1),l=l.concat(a2(s.serverSyncTree_,y.path,ct,y.currentWriteId,y.applyLocally)),l=l.concat(Qo(s.serverSyncTree_,W,!0))}else E=!0,S="nodata",l=l.concat(Qo(s.serverSyncTree_,y.currentWriteId,!0))}vs(s.eventQueue_,n,l),l=[],E&&(t[g].status=2,(function(x){setTimeout(x,Math.floor(0))})(t[g].unwatcher),t[g].onComplete&&(S==="nodata"?o.push(()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot)):o.push(()=>t[g].onComplete(new Error(S),!1,null))))}Jf(s,s.transactionQueueTree_);for(let g=0;g<o.length;g++)ou(o[g]);Ng(s,s.transactionQueueTree_)}function S2(s,t){let n,o=s.transactionQueueTree_;for(n=$t(t);n!==null&&lu(o)===void 0;)o=Eg(o,n),t=Ve(t),n=$t(t);return o}function T2(s,t){const n=[];return A2(s,t,n),n.sort((o,l)=>o.order-l.order),n}function A2(s,t,n){const o=lu(t);if(o)for(let l=0;l<o.length;l++)n.push(o[l]);Yf(t,l=>{A2(s,l,n)})}function Jf(s,t){const n=lu(t);if(n){let o=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[o]=n[l],o++);n.length=o,m2(t,n.length>0?n:void 0)}Yf(t,o=>{Jf(s,o)})}function Rg(s,t){const n=Fc(S2(s,t)),o=Eg(s.transactionQueueTree_,t);return EN(o,l=>{tp(s,l)}),tp(s,o),g2(o,l=>{tp(s,l)}),n}function tp(s,t){const n=lu(t);if(n){const o=[];let l=[],h=-1;for(let m=0;m<n.length;m++)n[m].status===3||(n[m].status===1?(Ct(h===m-1,"All SENT items should be at beginning of queue."),h=m,n[m].status=3,n[m].abortReason="set"):(Ct(n[m].status===0,"Unexpected transaction status in abort"),n[m].unwatcher(),l=l.concat(Qo(s.serverSyncTree_,n[m].currentWriteId,!0)),n[m].onComplete&&o.push(n[m].onComplete.bind(null,new Error("set"),!1,null))));h===-1?m2(t,void 0):n.length=h+1,vs(s.eventQueue_,Fc(t),l);for(let m=0;m<o.length;m++)ou(o[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(s){let t="";const n=s.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let l=n[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function XN(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const n of s.split("&")){if(n.length===0)continue;const o=n.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):bi(`Invalid query segment '${n}' in query '${s}'`)}return t}const i1=function(s,t){const n=QN(s),o=n.namespace;n.domain==="firebase.com"&&Yr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&n.domain!=="localhost"&&Yr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||oC();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Rw(n.host,n.secure,o,l,t,"",o!==n.subdomain),path:new Oe(n.pathString)}},QN=function(s){let t="",n="",o="",l="",h="",m=!0,g="https",y=443;if(typeof s=="string"){let b=s.indexOf("//");b>=0&&(g=s.substring(0,b-1),s=s.substring(b+2));let E=s.indexOf("/");E===-1&&(E=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),t=s.substring(0,Math.min(E,S)),E<S&&(l=KN(s.substring(E,S)));const x=XN(s.substring(Math.min(s.length,S)));b=t.indexOf(":"),b>=0?(m=g==="https"||g==="wss",y=parseInt(t.substring(b+1),10)):b=t.length;const k=t.slice(0,b);if(k.toLowerCase()==="localhost")n="localhost";else if(k.split(".").length<=2)n=k;else{const O=t.indexOf(".");o=t.substring(0,O).toLowerCase(),n=t.substring(O+1),h=o}"ns"in x&&(h=x.ns)}return{host:t,port:y,domain:n,subdomain:o,secure:m,scheme:g,pathString:l,namespace:h}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",JN=(function(){let s=0;const t=[];return function(n){const o=n===s;s=n;let l;const h=new Array(8);for(l=7;l>=0;l--)h[l]=s1.charAt(n%64),n=Math.floor(n/64);Ct(n===0,"Cannot push at time == 0");let m=h.join("");if(o){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)m+=s1.charAt(t[l]);return Ct(m.length===20,"nextPushId: Length should be 20."),m}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,n,o,l){this.eventType=t,this.eventRegistration=n,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Rn(this.snapshot.exportVal())}}class t3{constructor(t,n,o){this.eventRegistration=t,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return Ct(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,n,o,l){this._repo=t,this._path=n,this._queryParams=o,this._orderByCalled=l}get key(){return re(this._path)?null:ng(this._path)}get ref(){return new eo(this._repo,this._path)}get _queryIdentifier(){const t=Vy(this._queryParams),n=Jp(t);return n==="{}"?"default":n}get _queryObject(){return Vy(this._queryParams)}isEqual(t){if(t=ci(t),!(t instanceof Ig))return!1;const n=this._repo===t._repo,o=ig(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+VC(this._path)}}class eo extends Ig{constructor(t,n){super(t,n,new ag,!1)}get parent(){const t=Uw(this._path);return t===null?null:new eo(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Nc{constructor(t,n,o){this._node=t,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Oe(t),o=Rc(this.ref,t);return new Nc(this._node.getChild(n),o,an)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new Nc(l,Rc(this.ref,o),an)))}hasChild(t){const n=new Oe(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ui(s,t){return s=ci(s),s._checkNotDeleted("ref"),t!==void 0?Rc(s._root,t):s._root}function Rc(s,t){return s=ci(s),$t(s._path)===null?kN("child","path",t):y2("child","path",t),new eo(s._repo,on(s._path,t))}function N2(s,t){s=ci(s),Tg("push",s._path),v2("push",t,s._path,!0);const n=x2(s._repo),o=JN(n),l=Rc(s,o),h=Rc(s,o);let m;return m=Promise.resolve(h),l.then=m.then.bind(m),l.catch=m.then.bind(m,void 0),l}function e3(s){return Tg("remove",s._path),$a(s,null)}function $a(s,t){s=ci(s),Tg("set",s._path),v2("set",t,s._path,!1);const n=new Ic;return HN(s._repo,s._path,t,null,n.wrapCallback(()=>{})),n.promise}function R2(s,t){IN("update",t,s._path);const n=new Ic;return FN(s._repo,s._path,t,n.wrapCallback(()=>{})),n.promise}function Tp(s){s=ci(s);const t=new C2(()=>{}),n=new $f(t);return BN(s._repo,s,n).then(o=>new Nc(o,new eo(s._repo,s._path),s._queryParams.getIndex()))}class $f{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const o=n._queryParams.getIndex();return new $N("value",this,new Nc(t.snapshotNode,new eo(n._repo,n._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new t3(this,t,n):null}matches(t){return t instanceof $f?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function n3(s,t,n,o,l){const h=new C2(n,void 0),m=new $f(h);return qN(s._repo,s,m),()=>GN(s._repo,s,m)}function If(s,t,n,o){return n3(s,"value",t)}eN(eo);oN(eo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="FIREBASE_DATABASE_EMULATOR_HOST",Ap={};let s3=!1;function r3(s,t,n,o){const l=t.lastIndexOf(":"),h=t.substring(0,l),m=tl(h);s.repoInfo_=new Rw(t,m,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,n),o&&(s.authTokenProvider_=o)}function o3(s,t,n,o,l){let h=o||s.options.databaseURL;h===void 0&&(s.options.projectId||Yr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qn("Using default host for project ",s.options.projectId),h=`${s.options.projectId}-default-rtdb.firebaseio.com`);let m=i1(h,l),g=m.repoInfo,y;typeof process<"u"&&Ty&&(y=Ty[i3]),y?(h=`http://${y}?ns=${g.namespace}`,m=i1(h,l),g=m.repoInfo):m.repoInfo.secure;const b=new _C(s.name,s.options,t);MN("Invalid Firebase Database URL",m),re(m.path)||Yr("Database URL must point to the root of a Firebase Database (not including a child path).");const E=l3(g,s,b,new gC(s,n));return new u3(E,s)}function a3(s,t){const n=Ap[t];(!n||n[s.key]!==s)&&Yr(`Database ${t}(${s.repoInfo_}) has already been deleted.`),ZN(s),delete n[s.key]}function l3(s,t,n,o){let l=Ap[t.name];l||(l={},Ap[t.name]=l);let h=l[s.toURLString()];return h&&Yr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new jN(s,s3,n,o),l[s.toURLString()]=h,h}class u3{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(UN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new eo(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(a3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Yr("Cannot call "+t+" on a deleted database.")}}function la(s=Op(),t){const n=Uf(s,"database").getImmediate({identifier:t});if(!n._instanceStarted){const o=g1("database");o&&c3(n,...o)}return n}function c3(s,t,n,o={}){s=ci(s),s._checkNotDeleted("useEmulator");const l=`${t}:${n}`,h=s._repoInternal;if(s._instanceStarted){if(l===s._repoInternal.repoInfo_.host&&na(o,h.repoInfo_.emulatorOptions))return;Yr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(h.repoInfo_.nodeAdmin)o.mockUserToken&&Yr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new nf(nf.OWNER);else if(o.mockUserToken){const g=typeof o.mockUserToken=="string"?o.mockUserToken:y1(o.mockUserToken,s.app.options.projectId);m=new nf(g)}tl(t)&&(Ip(t),kp("Database",!0)),r3(h,l,o,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(s){tC(el),Za(new ia("database",(t,{instanceIdentifier:n})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),h=t.getProvider("app-check-internal");return o3(o,l,h,n)},"PUBLIC").setMultipleInstances(!0)),dr(Ay,Cy,s),dr(Ay,Cy,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={".sv":"timestamp"};function d3(){return f3}Gr.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Gr.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};h3();const m3={apiKey:"AIzaSyD_b9wrt2arX4Kn4lVpamW4CCvjRzh4HfQ",authDomain:"foodshare-6b9cd.firebaseapp.com",projectId:"foodshare-6b9cd",storageBucket:"foodshare-6b9cd.firebasestorage.app",messagingSenderId:"915356278039",appId:"1:915356278039:web:0bf110f0398bcc34bf2b52",databaseURL:"https://foodshare-6b9cd-default-rtdb.asia-southeast1.firebasedatabase.app",measurementId:"G-V2DB7H8229"},kg=S1(m3),Kr=Ff(kg);KA(kg);const Kl=la(kg),gr="/FoodShare_MINIProjuct/assets/Logo-Km2Q-M3Q.png";function p3({onFinish:s}){const[t,n]=Tt.useState(!0),[o,l]=Tt.useState(!1);return Tt.useEffect(()=>{const h=setTimeout(()=>l(!0),1800),m=setTimeout(()=>{n(!1),s()},2e3);return()=>{clearTimeout(h),clearTimeout(m)}},[s]),t?T.jsx("div",{className:"w-full h-screen bg-[#2e2eff] font-sans text-white flex justify-center ",children:T.jsxs("div",{className:`text-center mt-[250px] transition-all duration-500 ${o?"animate-slide-up-fade":""}`,children:[T.jsx("img",{src:gr,alt:"Logo",className:"w-24 h-auto mx-auto mb-3"}),T.jsx("h1",{className:"text-2xl font-bold tracking-widest",children:"MA THAN"})]})}):null}const I2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMaSURBVHgBrVRdSFRBFP5m5m676UplBkU/mhWVRj9G9EOmQj30EoJFRUQQVC/RDz0EQbBBRFRQTxEEBRUWWyEJgfWi2C+oqVSi66qtf6WVrZard70z09zrdblua/XggcO9M3POd8535pwBJlnIBPtUqTTVtxoZiGIlU4tBhg8X36PVYSP+B1DLzwf8LhTPSkIR+pWjtOFN62lAG4c/8yl2m7ZKjb8B0pICrCn0opp/g2CadR5vIwWHoKlgLw0U5JahIp5aLLNH+cgpZKgW/eAmmBAqLzMHr9JkpYo3V5lyM2cVpjSIjviA1PE1iryoEjo4kaBSOY7MRsPpbizLDsF9rgzsWC+yh2ajzjUD2oFmpF0OImQX4w8hoefum3wb4TJHUdoC0bkd5xOwsP5PZGC6Xb+JRXZ6hAx4hHFWE5GtqB0LNFYO/FtozNB3GAsQVs7fJdhBDWe6jCKMbwtj45W3gWg4/DMBDGFJqW5Wfjn3zbOHfRagB9qC2OUrmGu30Ia42rTrS5cYelfC1LiYhRTBNqvfUguQMoM4WY21nFMkiduz1qMEBBUmqoxRHuEIWi2hTFhEx8k9nnQ8GG53UEaG+1NAd/f+ssApYVE9il6euYpRA4y5lDtpgDMR+cWjo2XYdejrNqnPTGu8m3s/2z6XSDARa32V5V2RmXlUpeGdM48ETqYSu2KjBJpq2N113Xtlp0ihfRG+fN+9ggs2GHWAWfYrjz+5FIpm5hHVsobqWtbRXOKohG2YD3rw+oGRnsawQQmlfKqLzp8Wra+6VLt3kRYKtLaCkrkLM7ecyXpcH9yYVfX6CLzJ7cKTvoa1HqXEDiacdWa7fYtXiR2ba4bafnDlzszRc6clkaRkNWtqdCKDEtG+IU5dQ9Q97OWVTX4tPXBqffWdq+/GWMRfJtl1dllO8p4N1T2NA5wxYU/tuPuWOtfk3CwvJf5Xa2/7gnXOy0v4fJnRdvrz/ClL5+8KDxgw9NFiTlEvxvQ0RetjyN9y48X+igprm4/LCIklNiWbClcsinoHszWdQXcN1tcWfw7ZfgQJHthJl9/L/jKeg65HLwAAAABJRU5ErkJggg==";function g3({onSignUpClick:s,onForgotPasswordClick:t,onLoginSuccess:n}){const[o,l]=Tt.useState(!1),[h,m]=Tt.useState(!1),[g,y]=Tt.useState(""),[b,E]=Tt.useState("");Tt.useEffect(()=>{const G=setTimeout(()=>l(!0),100);return()=>clearTimeout(G)},[]);const S=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
      <circle cx="12" cy="12" r="3"/>
    </svg>
  `),x=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 
      a18.2 18.2 0 0 1 2.53-3.69"/>
      <path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/>
      <path d="M3 3l18 18"/>
    </svg>
  `),k=async G=>{G.preventDefault();try{const Z=(await oT(Kr,g,b)).user,ct=await Tp(ui(Kl,"users/"+Z.uid));let et={};ct.exists()&&(et=ct.val()),console.log("Login success!",Z.email),n&&n({email:Z.email,uid:Z.uid,...et})}catch(W){console.error("Login error:",W.code,W.message),W.code==="auth/user-not-found"?alert("ไม่พบบัญชีนี้ กรุณาสมัครก่อน ❌"):W.code==="auth/wrong-password"?alert("รหัสผ่านไม่ถูกต้อง ❌"):W.code==="auth/invalid-credential"?alert("อีเมลหรือรหัสผ่านไม่ถูกต้อง ❌"):alert("เกิดข้อผิดพลาด: "+W.message)}},O=async()=>{const G=new hr;try{const Z=(await rw(Kr,G)).user;(await Tp(ui(Kl,"users/"+Z.uid))).exists()||await $a(ui(Kl,"users/"+Z.uid),{email:Z.email,name:Z.displayName||"",uid:Z.uid}),n&&n({email:Z.email,name:Z.displayName,uid:Z.uid})}catch(W){console.error(W),alert(W.message)}};return T.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[T.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[T.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Log In"}),T.jsx("p",{className:"text-white text-sm",children:"Please sign in to your existing account"})]}),T.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:T.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[T.jsxs("form",{onSubmit:k,children:[T.jsxs("div",{className:"mt-6 mb-4",children:[T.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),T.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:g,onChange:G=>y(G.target.value)})]}),T.jsxs("div",{className:"mb-4 relative",children:[T.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),T.jsx("input",{type:h?"text":"password",id:"password",placeholder:"Enter your password",className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:b,onChange:G=>E(G.target.value)}),T.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${h?x:S}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>m(!h)})]}),T.jsxs("div",{className:"flex justify-between items-center mb-6 text-sm",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",id:"remember-me",className:"form-checkbox text-[#2e2eff] rounded border-gray-300 focus:ring-[#2e2eff]"}),T.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-gray-700",children:"Remember me"})]}),T.jsx("button",{type:"button",onClick:t,className:"text-[#2e2eff] font-medium",children:"Forgot Password"})]}),T.jsx("div",{className:"flex flex-col items-center mt-16",children:T.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"LOG IN"})})]}),T.jsxs("div",{className:"relative flex items-center justify-center my-4",children:[T.jsx("span",{className:"absolute text-gray-400 bg-white px-2",children:"or"}),T.jsx("hr",{className:"w-full border-t border-gray-300"})]}),T.jsx("div",{className:"flex justify-center mt-4",children:T.jsxs("button",{onClick:O,className:"flex items-center justify-center w-[200px] py-3 bg-white text-gray-600 font-medium rounded-[4vw] border border-gray-300 shadow transition hover:bg-gray-100",children:[T.jsx("img",{src:I2,alt:"Google",className:"h-5 w-5 mr-2"}),"Google"]})}),T.jsx("div",{className:"flex justify-center mt-6 text-sm",children:T.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",T.jsx("button",{onClick:s,className:"text-[#2e2eff] font-medium",children:"SIGN UP"})]})})]})})]})}function _3({onLoginClick:s,onGoogleClick:t,onRegisterClick:n,onLoginSuccess:o}){const[l,h]=Tt.useState(!1);Tt.useEffect(()=>{const g=setTimeout(()=>h(!0),100);return()=>clearTimeout(g)},[]);const m=async()=>{const g=new hr;try{const b=(await rw(Kr,g)).user;console.log("Google login user:",b),alert("Google Login Success!"),o&&o(b)}catch(y){console.error(y),alert(y.message)}};return T.jsxs("div",{className:"w-full h-screen bg-[#2e2eff] font-sans flex flex-col justify-between items-center px-6 py-8",children:[T.jsxs("div",{className:`flex flex-col items-center mt-12 transition-all duration-700 ease-out 
                       ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[T.jsx("img",{src:gr,alt:"MA THAN Logo",className:"w-20 h-20 mb-2"}),T.jsx("div",{className:"text-white text-base font-bold",children:"MA THAN"})]}),T.jsxs("div",{className:`flex flex-col items-center w-full max-w-sm mt-[-180px] transition-all duration-700 ease-out delay-200
                       ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[T.jsx("h1",{className:"text-white text-3xl font-bold mb-2",children:"Log In"}),T.jsx("p",{className:"text-white text-center mb-6",children:"Please sign in with your student email to continue."}),T.jsx("button",{onClick:s,className:"w-[300px] h-[70px] py-3 bg-white text-[#2e2eff] rounded-[4vw] text-lg font-medium mb-4 shadow hover:bg-gray-100 transition",children:"Sign in with Email"}),T.jsxs("button",{onClick:m,className:"w-[150px] py-3 bg-white text-[#2e2eff] flex items-center justify-center rounded-[4vw] text-sm font-medium shadow hover:bg-gray-100 transition",children:[T.jsx("img",{src:I2,alt:"Google",className:"w-5 h-5 mr-2"}),"Google"]})]}),T.jsx("button",{onClick:n,className:`text-white text-sm hover:underline mb-4 transition-all duration-700 ease-out delay-400
                    ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:"Create an Account"})]})}function v3({onBackToLogin:s}){const[t,n]=Tt.useState(!1),[o,l]=Tt.useState(!1),[h,m]=Tt.useState(!1),[g,y]=Tt.useState(""),[b,E]=Tt.useState(""),[S,x]=Tt.useState(""),[k,O]=Tt.useState(""),[G,W]=Tt.useState(!1);Tt.useEffect(()=>{const Q=setTimeout(()=>n(!0),100);return()=>clearTimeout(Q)},[]);const Z=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none"  stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>'),ct=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 a18.2 18.2 0 0 1 2.53-3.69"/><path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/><path d="M3 3l18 18"/></svg>'),et=async Q=>{if(Q.preventDefault(),S!==k){alert("Passwords do not match!");return}try{W(!0);const Y=(await rT(Kr,b,S)).user;await $a(ui(Kl,"users/"+Y.uid),{name:g,email:b,uid:Y.uid,createdAt:new Date().toISOString()}),await Vp(Kr),setTimeout(()=>{W(!1),alert("Sign Up Success! Please login."),s()},1e3)}catch(nt){console.error(nt),W(!1),alert(nt.message)}};return G?T.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-[#2e2eff] text-white",children:[T.jsx("div",{className:"loader border-t-4 border-b-4 border-white rounded-full w-12 h-12 animate-spin mb-4"}),T.jsx("p",{className:"text-lg font-medium",children:"Signing up, please wait..."})]}):T.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[T.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[T.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Sign Up"}),T.jsx("p",{className:"text-white text-sm",children:"Create an account to get started"})]}),T.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:T.jsx("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:T.jsxs("form",{onSubmit:et,children:[T.jsxs("div",{className:"mt-6 mb-4",children:[T.jsx("label",{htmlFor:"name",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"NAME"}),T.jsx("input",{type:"text",id:"name",placeholder:"John Doe",value:g,onChange:Q=>y(Q.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),T.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:b,onChange:Q=>E(Q.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsxs("div",{className:"mb-4 relative",children:[T.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),T.jsx("input",{type:o?"text":"password",id:"password",placeholder:"Enter your password",value:S,onChange:Q=>x(Q.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),T.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${o?ct:Z}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>l(!o)})]}),T.jsxs("div",{className:"mb-6 relative",children:[T.jsx("label",{htmlFor:"retype-password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"RE-TYPE PASSWORD"}),T.jsx("input",{type:h?"text":"password",id:"retype-password",placeholder:"Re-enter your password",value:k,onChange:Q=>O(Q.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),T.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${h?ct:Z}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>m(!h)})]}),T.jsxs("div",{className:"flex flex-col items-center mt-8",children:[T.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SIGN UP"}),T.jsx("button",{type:"button",onClick:s,className:"w-[250px] flex justify-center py-3 text-[#2e2eff] font-medium rounded-[4vw] border border-[#2e2eff] hover:bg-white hover:text-[#2e2eff] transition",children:"Back to Login"})]})]})})})]})}function y3({onBackToLogin:s}){const[t,n]=Tt.useState(!1),[o,l]=Tt.useState("");Tt.useEffect(()=>{const m=setTimeout(()=>n(!0),100);return()=>clearTimeout(m)},[]);const h=async m=>{if(m.preventDefault(),!o)return alert("Please enter your email!");try{await sT(Kr,o),alert("Password reset email sent! Check your inbox."),s()}catch(g){console.error(g),alert(g.message)}};return T.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[T.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[T.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Forgot Password"}),T.jsx("p",{className:"text-white text-sm",children:"Enter your email to reset your password"})]}),T.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:T.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[T.jsxs("form",{onSubmit:h,children:[T.jsxs("div",{className:"mt-6 mb-4",children:[T.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),T.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:o,onChange:m=>l(m.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),T.jsx("div",{className:"flex flex-col items-center mt-8",children:T.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SEND RESET EMAIL"})})]}),T.jsx("div",{className:"flex justify-center mt-6 text-sm",children:T.jsx("button",{onClick:s,className:"text-[#2e2eff] font-medium",children:"Back to Login"})})]})})]})}function w3({userData:s,onLogout:t}){const n=async()=>{try{await Vp(Kr),t()}catch(o){console.error(o),alert("Logout failed: "+o.message)}};return T.jsxs("div",{className:"min-h-screen bg-[#2e2eff] flex flex-col items-center justify-start p-8",children:[T.jsxs("div",{className:"text-center mt-12 text-white",children:[T.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome, ",s.name||s.email]}),T.jsx("p",{className:"text-lg text-gray-200",children:"Your account details"})]}),T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-10 w-full max-w-md",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Profile Information"}),T.jsxs("div",{className:"space-y-2 text-gray-700",children:[T.jsxs("p",{children:[T.jsx("span",{className:"font-bold",children:"UID:"})," ",s.uid]}),T.jsxs("p",{children:[T.jsx("span",{className:"font-bold",children:"Name:"})," ",s.name||"-"]}),T.jsxs("p",{children:[T.jsx("span",{className:"font-bold",children:"Email:"})," ",s.email]}),T.jsxs("p",{children:[T.jsx("span",{className:"font-bold",children:"Created At:"})," ",s.createdAt||"-"]})]})]}),T.jsx("button",{onClick:n,className:"mt-10 px-6 py-3 bg-white text-[#2e2eff] font-bold rounded-lg shadow hover:bg-gray-100 transition",children:"Logout"})]})}const Xr="/FoodShare_MINIProjuct/assets/profile-CN0Wr-CP.jpg",b3="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87-Dk8nk2Qa.png",x3="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B8%99%E0%B8%A1-DDcJMfBx.png",E3="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%94%E0%B8%B7%E0%B9%88%E0%B8%A1-skj4bCgd.png";function S3({userData:s,onLogout:t,onGoToDashboard:n,onSelectCategory:o,onSearch:l,onGoToMenu:h,onGoToNotifications:m,onGoToProfile:g,onBack:y,onGoToPost:b,searchQuery:E,setSearchQuery:S}){const[x,k]=Tt.useState([]);return Tt.useEffect(()=>{const O=la(),G=ui(O,"foodPosts"),W=If(G,Z=>{if(Z.exists()){const ct=Z.val(),et=Object.entries(ct).map(([Q,nt])=>({id:Q,title:nt.title||"Untitled",img:nt.img||"/default-food.png",description:nt.description||"",productionDate:nt.productionDate||"",expiryDate:nt.expiryDate||"",location:nt.location||null,category:nt.category||"Uncategorized",createdAt:nt.createdAt||null,status:nt.status||"available"})).filter(Q=>Q.status!=="claimed").sort((Q,nt)=>nt.createdAt-Q.createdAt);k(et)}else k([])});return()=>W()},[]),T.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 font-sans",children:[T.jsxs("header",{className:"p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500 md:px-12 md:py-6",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("img",{src:gr,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),T.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("img",{src:Xr,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300",onClick:g})})]}),T.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[T.jsx("div",{className:"my-4 animate-fadeIn",children:T.jsxs("h1",{className:"text-[16px] md:text-2xl font-bold text-gray-800",children:["HEY! HELLO, ",T.jsx("span",{className:"text-[#2e2eff]",children:"Good Afternoon!"})]})}),T.jsxs("div",{className:"relative my-4 w-full mx-auto",children:[T.jsx("input",{type:"text",placeholder:"Search menu...",value:E,onChange:O=>S(O.target.value),onKeyDown:O=>{O.key==="Enter"&&l&&l(E)},className:`w-full pl-10 pr-4 py-3 bg-gray-100 rounded-lg placeholder-gray-500 \r
                      focus:outline-none focus:ring-2 focus:ring-[#2e2eff] transition-shadow \r
                      duration-300 hover:shadow-md text-base md:text-lg`}),T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:h,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),T.jsxs("section",{className:"my-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"All Categories"}),T.jsx("button",{onClick:h,className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),T.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 gap-6",children:[{name:"Lunch Boxes",img:b3},{name:"Snacks",img:x3},{name:"Beverages",img:E3}].map((O,G)=>T.jsxs("div",{className:"flex flex-col items-center bg-white w-full cursor-pointer transform transition duration-300 shadow-md hover:scale-105 hover:shadow-xl rounded-xl p-4",onClick:()=>o(O.name),children:[T.jsx("img",{src:O.img,alt:O.name,className:"w-20 h-20 md:w-28 md:h-28 object-contain rounded-lg"}),T.jsx("span",{className:"mt-2 text-sm md:text-base text-center font-medium",children:O.name})]},G))})]}),T.jsxs("section",{className:"my-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"Latest Food Shares"}),T.jsx("button",{onClick:h,className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.length===0?T.jsx("p",{className:"text-gray-500",children:"ยังไม่มีโพสต์"}):x.map(O=>T.jsxs("div",{className:"bg-gray-50 rounded-xl overflow-hidden shadow-md hover:shadow-xl transform transition duration-300 hover:-translate-y-1",children:[O.img&&T.jsx("img",{src:O.img,alt:O.title,className:"w-full h-48 md:h-56 object-cover"}),T.jsxs("div",{className:"p-4",children:[T.jsx("h3",{className:"text-lg md:text-xl pl-1 font-bold text-gray-800",children:O.title}),O.category&&T.jsx("div",{className:"mt-2",children:T.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full
                            ${O.category==="Lunch Boxes"?"bg-yellow-100 text-yellow-800":O.category==="Snacks"?"bg-pink-100 text-pink-800":O.category==="Beverages"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:O.category})}),O.location&&T.jsxs("p",{className:"text-gray-500 text-sm  mt-1 flex items-center",children:[T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:" text-blue-400 w-4 h-4 mr-1.5",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),O.location.lat.toFixed(5),", ",O.location.lng.toFixed(5)]}),T.jsxs("p",{className:"text-gray-500 text-sm mt-1  flex items-center",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 text-blue-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"วันผลิต - ",O.productionDate," หมดอายุ - ",O.expiryDate]})]})]},O.id))})]})]}),T.jsxs("div",{className:"hidden md:block",children:[T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{})]}),T.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full ",children:[T.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:T.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:b,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),T.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!0,action:()=>y("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>h()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>m()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>g()}].map((O,G)=>O.empty?T.jsx("div",{className:"w-16"},G):T.jsxs("button",{onClick:O.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${O.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{d:O.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),T.jsx("span",{className:"text-xs md:text-sm mt-1",children:O.name})]},G))})]})]})}function T3({onBack:s,onGoToDashboard:t,onGoToMenu:n,onGoToNotifications:o,onGoToProfile:l,onGoToPost:h,searchQuery:m,setSearchQuery:g,selectedCategoryFromHome:y="ALL",onSelectFood:b}){const[E,S]=Tt.useState(y),[x,k]=Tt.useState([]),O=["ALL","Lunch Boxes","Snacks","Beverages"];Tt.useEffect(()=>{S(y)},[y]),Tt.useEffect(()=>{const W=la(),Z=ui(W,"foodPosts"),ct=If(Z,et=>{if(et.exists()){const Q=et.val(),nt=Object.entries(Q).map(([Y,q])=>({id:Y,title:q.title||"Untitled",img:q.img||"/default-food.png",description:q.description||"",productionDate:q.productionDate||"",expiryDate:q.expiryDate||"",category:q.category||"Uncategorized",location:q.location||null,createdAt:q.createdAt||null,status:q.status||"available"}));k(nt)}else k([])});return()=>ct()},[]);const G=x.filter(W=>{const Z=E==="ALL"||W.category?.toLowerCase()===E.toLowerCase(),ct=!m||W.title?.toLowerCase().includes(m.toLowerCase()),et=W.status!=="claimed";return Z&&ct&&et});return T.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 font-sans",children:[T.jsxs("header",{className:"p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl md:px-12 md:py-6",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("img",{src:gr,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),T.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("img",{src:Xr,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300",onClick:l})})]}),T.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[T.jsxs("button",{onClick:s,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),T.jsx("span",{className:"text-lg font-semibold",children:"Shared Food Board"})]}),T.jsxs("div",{className:"relative mb-4",children:[T.jsx("input",{type:"text",placeholder:"Search...",value:m||"",onChange:W=>g(W.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-100 placeholder-gray-400 shadow transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] hover:shadow-md"}),T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),T.jsx("div",{className:"flex space-x-4 overflow-x-auto text-gray-600 mb-4",children:O.map((W,Z)=>T.jsx("span",{onClick:()=>S(W),className:`whitespace-nowrap px-4 py-2 border-b-2 cursor-pointer transition-colors duration-300 ease-in-out
                ${E===W?"border-[#2e2eff] text-[#2e2eff]":"border-transparent hover:border-gray-300 hover:text-[#2e2eff]"}`,children:W},Z))}),T.jsx("section",{className:"space-y-4",children:G.map((W,Z)=>T.jsxs("div",{onClick:()=>b(W),className:"flex flex-col sm:flex-row bg-white rounded-xl shadow-md p-4 space-y-2 sm:space-y-0 sm:space-x-4 items-start sm:items-center transform transition duration-300 hover:scale-105 hover:shadow-lg cursor-pointer",children:[T.jsx("img",{src:W.img,alt:W.title,className:"w-full sm:w-24 h-48 sm:h-24 object-cover rounded-lg border border-gray-200 flex-shrink-0"}),T.jsxs("div",{className:"flex-1 flex flex-col justify-between w-full",children:[T.jsx("h3",{className:"font-semibold text-gray-800 text-base md:text-lg",children:W.title}),T.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-blue-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a2 2 0 01-2.828 0L6.343 16.657a8 8 0 1111.314 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),T.jsx("span",{className:"truncate",children:W.location?`Lat: ${W.location.lat}, Lng: ${W.location.lng}`:"ไม่ระบุพิกัด"})]}),T.jsxs("div",{className:"flex flex-wrap items-center text-gray-500 text-sm mt-2 space-x-4",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-blue-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),T.jsxs("span",{children:["ผลิต: ",W.productionDate||"-"]})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-red-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsxs("span",{children:["หมดอายุ: ",W.expiryDate||"-"]})]})]}),T.jsx("div",{className:"mt-2",children:T.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full
                        ${W.category==="Lunch Boxes"?"bg-yellow-100 text-yellow-800":W.category==="Snacks"?"bg-pink-100 text-pink-800":W.category==="Beverages"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:W.category})})]})]},Z))})]}),T.jsxs("div",{className:"hidden md:block",children:[T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{})]}),T.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[T.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:T.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:h,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),T.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!0,action:()=>n()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>o()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>l()}].map((W,Z)=>W.empty?T.jsx("div",{className:"w-16"},Z):T.jsxs("button",{onClick:W.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${W.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{d:W.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),T.jsx("span",{className:"text-xs md:text-sm mt-1",children:W.name})]},Z))})]})]})}const r1=la(),o1=Ff();function A3({onBack:s,onGoToProfile:t,onGoToMenu:n,onGoToPost:o,userData:l,onGoToEditPost:h,onSelectedPost:m,onSelectClaim:g,setCurrentPage:y}){const[b,E]=Tt.useState("shares"),[S,x]=Tt.useState([]),[k,O]=Tt.useState([]);return Tt.useEffect(()=>{const G=o1.currentUser;if(!G)return;const W=ui(r1,"foodPosts");If(W,ct=>{const et=ct.val()||{},Q=Object.keys(et).map(nt=>({id:nt,...et[nt]})).filter(nt=>nt.userId===G.uid);x(Q.reverse())});const Z=ui(r1,"claims");If(Z,ct=>{const et=ct.val()||{},nt=Object.keys(et).map(Y=>({id:Y,...et[Y]})).filter(Y=>Y.userId===o1.currentUser.uid).map(Y=>({...Y.foodData,claimedAt:Y.claimedAt,claimId:Y.id,foodId:Y.foodId,userId:Y.userId}));O(nt.reverse())})},[]),T.jsxs("div",{className:"font-sans flex flex-col min-h-screen bg-gray-50",children:[T.jsxs("header",{className:"p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl md:px-12 md:py-6",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("img",{src:gr,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),T.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("img",{src:Xr,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300",onClick:t})})]}),T.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[T.jsxs("button",{onClick:s,className:"flex items-center text-gray-700 mb-4",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),T.jsx("span",{className:"text-lg font-semibold",children:"Notifications"})]}),T.jsxs("div",{className:"relative border-b mb-4 flex",children:[T.jsx("button",{onClick:()=>E("shares"),className:`flex-1 text-center pb-2 ${b==="shares"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Shares"}),T.jsx("button",{onClick:()=>E("pickups"),className:`flex-1 text-center pb-2 ${b==="pickups"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Pickups"}),T.jsx("span",{className:"absolute bottom-0 left-0 w-1/2 h-0.5 bg-[#2e2eff] transition-transform duration-300",style:{transform:b==="shares"?"translateX(0%)":"translateX(100%)"}})]}),T.jsx("section",{className:"space-y-4",children:(b==="shares"?S:k).map((G,W)=>T.jsxs("div",{className:"relative bg-white rounded-xl shadow p-4 transform transition-all duration-300 hover:scale-105 hover:shadow-xl cursor-pointer",children:[T.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 transition-colors duration-300",onClick:()=>{b==="shares"?m(G,"shares"):g(G,"pickups")},children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})}),T.jsx("h3",{className:"font-semibold text-gray-800",children:G.title||G.name||"Untitled"}),G.description&&T.jsx("p",{className:"text-gray-500 text-sm mt-1",children:G.description}),T.jsxs("div",{className:"flex items-center text-green-500 text-sm mt-1",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),T.jsx("span",{children:b==="shares"?G.status:G.pickupStatus||"Confirmed"})]}),T.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),T.jsx("span",{children:new Date(G.claimedAt||G.createdAt?.seconds*1e3).toLocaleString()})]})]},W))})]}),T.jsxs("div",{className:"hidden md:block",children:[T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{})]}),T.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[T.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:T.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:o,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),T.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>n()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>onGoToNotifications(),active:!0},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>t()}].map((G,W)=>G.empty?T.jsx("div",{className:"w-16"},W):T.jsxs("button",{onClick:G.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${G.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{d:G.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),T.jsx("span",{className:"text-xs md:text-sm mt-1",children:G.name})]},W))})]})]})}function C3({onBack:s,onLogout:t,userData:n,onGoToDashboard:o,onGoToMenu:l,onGoToNotifications:h,onGoToProfile:m,onGoToPost:g}){const[y,b]=Tt.useState(null),[E,S]=Tt.useState(!1),[x,k]=Tt.useState(!0),[O,G]=Tt.useState({name:"",fullName:"",studentId:"",phone:"",email:""}),W=[{key:"name",label:"ชื่อในระบบ",placeholder:"No Name"},{key:"fullName",label:"ชื่อเต็ม",placeholder:"No Full Name"},{key:"studentId",label:"รหัสนักศึกษา",placeholder:"00000000"},{key:"phone",label:"เบอร์โทร",placeholder:"000-000-0000"},{key:"email",label:"Email",placeholder:"No Email"}];Tt.useEffect(()=>{async function Q(){if(n?.uid)try{const nt=await Tp(ui(Kl,`users/${n.uid}`)),Y=nt.exists()?nt.val():{},q={name:Y.name||"",fullName:Y.fullName||"",studentId:Y.studentId||"00000000",phone:Y.phone||"000-000-0000",email:Y.email||""};b(q),G(q),await new Promise(C=>setTimeout(C,700))}catch(nt){console.error("Error fetching user:",nt)}finally{k(!1)}}Q()},[n]);const Z=Q=>{const{name:nt,value:Y}=Q.target;G(q=>({...q,[nt]:Y}))},ct=async()=>{if(n?.uid)try{await $a(ui(Kl,`users/${n.uid}`),O),b(O),S(!1),alert("บันทึกข้อมูลเรียบร้อย ✅")}catch(Q){console.error("Error saving data:",Q),alert("เกิดข้อผิดพลาด ❌")}},et=()=>{Vp(Kr).then(()=>t()).catch(console.error)};return x?T.jsx("div",{className:"flex-1 flex items-center justify-center h-screen bg-gray-100",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"loader border-4 border-blue-500 border-t-transparent rounded-full w-16 h-16 animate-spin mx-auto"}),T.jsx("p",{className:"mt-4 text-gray-700",children:"Loading user data..."})]})}):x?T.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[T.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"}),T.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded animate-pulse"})]}),T.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"})]}),T.jsxs("main",{className:"flex-1 overflow-y-auto p-6 flex flex-col items-center space-y-4 animate-pulse",children:[T.jsx("div",{className:"w-28 h-28 bg-gray-300 rounded-full"}),T.jsx("div",{className:"w-full max-w-md space-y-3",children:W.map((Q,nt)=>T.jsx("div",{className:"h-12 bg-gray-200 rounded-lg"},nt))})]})]}):T.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[T.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("img",{src:gr,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),T.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("img",{src:Xr,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:m})})]}),T.jsxs("main",{className:`flex-1 p-4 md:p-8 flex flex-col items-center bg-gradient-to-b from-white to-gray-100\r
        max-w-2xl mx-auto w-full space-y-6 pb-36 transition-all duration-300`,children:[T.jsxs("button",{onClick:s,className:"flex items-center self-start text-gray-700 mb-4 hover:text-[#2e2eff] transition",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),T.jsx("span",{className:"text-lg font-semibold",children:"Profile"})]}),T.jsx("img",{src:Xr,alt:"User Avatar",className:"w-28 h-28 md:w-36 md:h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-white"}),T.jsxs("div",{className:"w-full max-w-md space-y-4",children:[W.map(({key:Q,placeholder:nt})=>T.jsxs("div",{className:"flex flex-col bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition",children:[T.jsx("label",{className:"text-gray-500 text-xs mb-1",children:Q==="name"?"UserName":Q==="fullName"?"Full Name":Q==="studentId"?"Student ID":Q==="phone"?"Phone":"Email"}),T.jsxs("div",{className:"flex items-center justify-between",children:[E?T.jsx("input",{type:Q==="email"?"email":"text",name:Q,value:O[Q],onChange:Z,className:"flex-1 text-gray-800 text-sm focus:outline-none bg-gray-50 rounded px-2 py-1 border border-gray-200"}):T.jsx("span",{className:"text-gray-700 text-sm break-all",children:y[Q]||nt}),!E&&T.jsx("button",{onClick:()=>S(!0),className:"ml-3 px-3 py-1 text-blue-500 text-xs font-semibold rounded-md hover:bg-blue-50 transition",children:"Edit"})]})]},Q)),E&&T.jsx("button",{onClick:ct,className:"w-full py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition mt-2",children:"Save"})]}),T.jsx("button",{onClick:et,className:"px-5 py-2 mt-5 bg-red-500 text-white rounded-md hover:bg-red-600 transition text-sm font-medium shadow",children:"Logout"})]}),T.jsxs("div",{className:"hidden md:block",children:[T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{})]}),T.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[T.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:T.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:g,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),T.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>l()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>h()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>m(),active:!0}].map((Q,nt)=>Q.empty?T.jsx("div",{className:"w-16"},nt):T.jsxs("button",{onClick:Q.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${Q.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{d:Q.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),T.jsx("span",{className:"text-xs md:text-sm mt-1",children:Q.name})]},nt))})]})]})}function N3(s,t){const n=Tt.useRef(t);Tt.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}c1();const R3=1;function I3(s){return Object.freeze({__version:R3,map:s})}function k3(s,t){return Object.freeze({...s,...t})}const Mg=Tt.createContext(null);function k2(){const s=Tt.use(Mg);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function M3(s){function t(n,o){const{instance:l,context:h}=s(n).current;Tt.useImperativeHandle(o,()=>l);const{children:m}=n;return m==null?null:np.createElement(Mg,{value:h},m)}return Tt.forwardRef(t)}function L3(s){function t(n,o){const{instance:l}=s(n).current;return Tt.useImperativeHandle(o,()=>l),null}return Tt.forwardRef(t)}function O3(s,t){const n=Tt.useRef(void 0);Tt.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function M2(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}var rc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var D3=rc.exports,a1;function P3(){return a1||(a1=1,(function(s,t){(function(n,o){o(t)})(D3,(function(n){var o="1.9.4";function l(r){var u,d,v,A;for(d=1,v=arguments.length;d<v;d++){A=arguments[d];for(u in A)r[u]=A[u]}return r}var h=Object.create||(function(){function r(){}return function(u){return r.prototype=u,new r}})();function m(r,u){var d=Array.prototype.slice;if(r.bind)return r.bind.apply(r,d.call(arguments,1));var v=d.call(arguments,2);return function(){return r.apply(u,v.length?v.concat(d.call(arguments)):arguments)}}var g=0;function y(r){return"_leaflet_id"in r||(r._leaflet_id=++g),r._leaflet_id}function b(r,u,d){var v,A,U,K;return K=function(){v=!1,A&&(U.apply(d,A),A=!1)},U=function(){v?A=arguments:(r.apply(d,arguments),setTimeout(K,u),v=!0)},U}function E(r,u,d){var v=u[1],A=u[0],U=v-A;return r===v&&d?r:((r-A)%U+U)%U+A}function S(){return!1}function x(r,u){if(u===!1)return r;var d=Math.pow(10,u===void 0?6:u);return Math.round(r*d)/d}function k(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function O(r){return k(r).split(/\s+/)}function G(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?h(r.options):{});for(var d in u)r.options[d]=u[d];return r.options}function W(r,u,d){var v=[];for(var A in r)v.push(encodeURIComponent(d?A.toUpperCase():A)+"="+encodeURIComponent(r[A]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function ct(r,u){return r.replace(Z,function(d,v){var A=u[v];if(A===void 0)throw new Error("No value provided for variable "+d);return typeof A=="function"&&(A=A(u)),A})}var et=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Q(r,u){for(var d=0;d<r.length;d++)if(r[d]===u)return d;return-1}var nt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var q=0;function C(r){var u=+new Date,d=Math.max(0,16-(u-q));return q=u+d,window.setTimeout(r,d)}var N=window.requestAnimationFrame||Y("RequestAnimationFrame")||C,P=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function j(r,u,d){if(d&&N===C)r.call(u);else return N.call(window,m(r,u))}function H(r){r&&P.call(window,r)}var D={__proto__:null,extend:l,create:h,bind:m,get lastId(){return g},stamp:y,throttle:b,wrapNum:E,falseFn:S,formatNum:x,trim:k,splitWords:O,setOptions:G,getParamString:W,template:ct,isArray:et,indexOf:Q,emptyImageUrl:nt,requestFn:N,cancelFn:P,requestAnimFrame:j,cancelAnimFrame:H};function J(){}J.extend=function(r){var u=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,v=h(d);v.constructor=u,u.prototype=v;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(u[A]=this[A]);return r.statics&&l(u,r.statics),r.includes&&(it(r.includes),l.apply(null,[v].concat(r.includes))),l(v,r),delete v.statics,delete v.includes,v.options&&(v.options=d.options?h(d.options):{},l(v.options,r.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,K=v._initHooks.length;U<K;U++)v._initHooks[U].call(this)}},u},J.include=function(r){var u=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},J.mergeOptions=function(r){return l(this.prototype.options,r),this},J.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),d=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function it(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=et(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var M={on:function(r,u,d){if(typeof r=="object")for(var v in r)this._on(v,r[v],u);else{r=O(r);for(var A=0,U=r.length;A<U;A++)this._on(r[A],u,d)}return this},off:function(r,u,d){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var v in r)this._off(v,r[v],u);else{r=O(r);for(var A=arguments.length===1,U=0,K=r.length;U<K;U++)A?this._off(r[U]):this._off(r[U],u,d)}return this},_on:function(r,u,d,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,d)===!1){d===this&&(d=void 0);var A={fn:u,ctx:d};v&&(A.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(A)}},_off:function(r,u,d){var v,A,U;if(this._events&&(v=this._events[r],!!v)){if(arguments.length===1){if(this._firingCount)for(A=0,U=v.length;A<U;A++)v[A].fn=S;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var K=this._listens(r,u,d);if(K!==!1){var ut=v[K];this._firingCount&&(ut.fn=S,this._events[r]=v=v.slice()),v.splice(K,1)}}},fire:function(r,u,d){if(!this.listens(r,d))return this;var v=l({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var A=this._events[r];if(A){this._firingCount=this._firingCount+1||1;for(var U=0,K=A.length;U<K;U++){var ut=A[U],vt=ut.fn;ut.once&&this.off(r,vt,ut.ctx),vt.call(ut.ctx||this,v)}this._firingCount--}}return d&&this._propagateEvent(v),this},listens:function(r,u,d,v){typeof r!="string"&&console.warn('"string" type argument expected');var A=u;typeof u!="function"&&(v=!!u,A=void 0,d=void 0);var U=this._events&&this._events[r];if(U&&U.length&&this._listens(r,A,d)!==!1)return!0;if(v){for(var K in this._eventParents)if(this._eventParents[K].listens(r,u,d,v))return!0}return!1},_listens:function(r,u,d){if(!this._events)return!1;var v=this._events[r]||[];if(!u)return!!v.length;d===this&&(d=void 0);for(var A=0,U=v.length;A<U;A++)if(v[A].fn===u&&v[A].ctx===d)return A;return!1},once:function(r,u,d){if(typeof r=="object")for(var v in r)this._on(v,r[v],u,!0);else{r=O(r);for(var A=0,U=r.length;A<U;A++)this._on(r[A],u,d,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[y(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[y(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};M.addEventListener=M.on,M.removeEventListener=M.clearAllEventListeners=M.off,M.addOneTimeEventListener=M.once,M.fireEvent=M.fire,M.hasEventListeners=M.listens;var z=J.extend(M);function $(r,u,d){this.x=d?Math.round(r):r,this.y=d?Math.round(u):u}var ot=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(r){return this.clone()._add(B(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(B(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new $(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new $(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ot(this.x),this.y=ot(this.y),this},distanceTo:function(r){r=B(r);var u=r.x-this.x,d=r.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(r){return r=B(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=B(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function B(r,u,d){return r instanceof $?r:et(r)?new $(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new $(r.x,r.y):new $(r,u,d)}function st(r,u){if(r)for(var d=u?[r,u]:r,v=0,A=d.length;v<A;v++)this.extend(d[v])}st.prototype={extend:function(r){var u,d;if(!r)return this;if(r instanceof $||typeof r[0]=="number"||"x"in r)u=d=B(r);else if(r=lt(r),u=r.min,d=r.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(r){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,d;return typeof r[0]=="number"||r instanceof $?r=B(r):r=lt(r),r instanceof st?(u=r.min,d=r.max):u=d=r,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(r){r=lt(r);var u=this.min,d=this.max,v=r.min,A=r.max,U=A.x>=u.x&&v.x<=d.x,K=A.y>=u.y&&v.y<=d.y;return U&&K},overlaps:function(r){r=lt(r);var u=this.min,d=this.max,v=r.min,A=r.max,U=A.x>u.x&&v.x<d.x,K=A.y>u.y&&v.y<d.y;return U&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,d=this.max,v=Math.abs(u.x-d.x)*r,A=Math.abs(u.y-d.y)*r;return lt(B(u.x-v,u.y-A),B(d.x+v,d.y+A))},equals:function(r){return r?(r=lt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function lt(r,u){return!r||r instanceof st?r:new st(r,u)}function ft(r,u){if(r)for(var d=u?[r,u]:r,v=0,A=d.length;v<A;v++)this.extend(d[v])}ft.prototype={extend:function(r){var u=this._southWest,d=this._northEast,v,A;if(r instanceof rt)v=r,A=r;else if(r instanceof ft){if(v=r._southWest,A=r._northEast,!v||!A)return this}else return r?this.extend(wt(r)||mt(r)):this;return!u&&!d?(this._southWest=new rt(v.lat,v.lng),this._northEast=new rt(A.lat,A.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),d.lat=Math.max(A.lat,d.lat),d.lng=Math.max(A.lng,d.lng)),this},pad:function(r){var u=this._southWest,d=this._northEast,v=Math.abs(u.lat-d.lat)*r,A=Math.abs(u.lng-d.lng)*r;return new ft(new rt(u.lat-v,u.lng-A),new rt(d.lat+v,d.lng+A))},getCenter:function(){return new rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof rt||"lat"in r?r=wt(r):r=mt(r);var u=this._southWest,d=this._northEast,v,A;return r instanceof ft?(v=r.getSouthWest(),A=r.getNorthEast()):v=A=r,v.lat>=u.lat&&A.lat<=d.lat&&v.lng>=u.lng&&A.lng<=d.lng},intersects:function(r){r=mt(r);var u=this._southWest,d=this._northEast,v=r.getSouthWest(),A=r.getNorthEast(),U=A.lat>=u.lat&&v.lat<=d.lat,K=A.lng>=u.lng&&v.lng<=d.lng;return U&&K},overlaps:function(r){r=mt(r);var u=this._southWest,d=this._northEast,v=r.getSouthWest(),A=r.getNorthEast(),U=A.lat>u.lat&&v.lat<d.lat,K=A.lng>u.lng&&v.lng<d.lng;return U&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=mt(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function mt(r,u){return r instanceof ft?r:new ft(r,u)}function rt(r,u,d){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,d!==void 0&&(this.alt=+d)}rt.prototype={equals:function(r,u){if(!r)return!1;r=wt(r);var d=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return d<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+x(this.lat,r)+", "+x(this.lng,r)+")"},distanceTo:function(r){return kt.distance(this,wt(r))},wrap:function(){return kt.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,d=u/Math.cos(Math.PI/180*this.lat);return mt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new rt(this.lat,this.lng,this.alt)}};function wt(r,u,d){return r instanceof rt?r:et(r)&&typeof r[0]!="object"?r.length===3?new rt(r[0],r[1],r[2]):r.length===2?new rt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new rt(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new rt(r,u,d)}var Dt={latLngToPoint:function(r,u){var d=this.projection.project(r),v=this.scale(u);return this.transformation._transform(d,v)},pointToLatLng:function(r,u){var d=this.scale(u),v=this.transformation.untransform(r,d);return this.projection.unproject(v)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(r),v=this.transformation.transform(u.min,d),A=this.transformation.transform(u.max,d);return new st(v,A)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?E(r.lng,this.wrapLng,!0):r.lng,d=this.wrapLat?E(r.lat,this.wrapLat,!0):r.lat,v=r.alt;return new rt(d,u,v)},wrapLatLngBounds:function(r){var u=r.getCenter(),d=this.wrapLatLng(u),v=u.lat-d.lat,A=u.lng-d.lng;if(v===0&&A===0)return r;var U=r.getSouthWest(),K=r.getNorthEast(),ut=new rt(U.lat-v,U.lng-A),vt=new rt(K.lat-v,K.lng-A);return new ft(ut,vt)}},kt=l({},Dt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var d=Math.PI/180,v=r.lat*d,A=u.lat*d,U=Math.sin((u.lat-r.lat)*d/2),K=Math.sin((u.lng-r.lng)*d/2),ut=U*U+Math.cos(v)*Math.cos(A)*K*K,vt=2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut));return this.R*vt}}),Gt=6378137,Xt={R:Gt,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,d=this.MAX_LATITUDE,v=Math.max(Math.min(d,r.lat),-d),A=Math.sin(v*u);return new $(this.R*r.lng*u,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(r){var u=180/Math.PI;return new rt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:(function(){var r=Gt*Math.PI;return new st([-r,-r],[r,r])})()};function oe(r,u,d,v){if(et(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=d,this._d=v}oe.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new $((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function me(r,u,d,v){return new oe(r,u,d,v)}var En=l({},kt,{code:"EPSG:3857",projection:Xt,transformation:(function(){var r=.5/(Math.PI*Xt.R);return me(r,.5,-r,.5)})()}),dn=l({},En,{code:"EPSG:900913"});function be(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function We(r,u){var d="",v,A,U,K,ut,vt;for(v=0,U=r.length;v<U;v++){for(ut=r[v],A=0,K=ut.length;A<K;A++)vt=ut[A],d+=(A?"L":"M")+vt.x+" "+vt.y;d+=u?Lt.svg?"z":"x":""}return d||"M0 0"}var Zt=document.documentElement.style,le="ActiveXObject"in window,qe=le&&!document.addEventListener,Ge="msLaunchUri"in navigator&&!("documentMode"in document),_e=ei("webkit"),mn=ei("android"),Se=ei("android 2")||ei("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pn=mn&&ei("Google")&&pe<537&&!("AudioNode"in window),ae=!!window.opera,ee=!Ge&&ei("chrome"),ge=ei("gecko")&&!_e&&!ae&&!le,Pe=!ee&&ei("safari"),Xe=ei("phantom"),In="OTransition"in Zt,tn=navigator.platform.indexOf("Win")===0,gn=le&&"transition"in Zt,en="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Se,nn="MozPerspective"in Zt,$i=!window.L_DISABLE_3D&&(gn||en||nn)&&!In&&!Xe,hi=typeof orientation<"u"||ei("mobile"),ys=hi&&_e,Vs=hi&&en,Oi=!window.PointerEvent&&window.MSPointerEvent,Ei=!!(window.PointerEvent||Oi),ln="ontouchstart"in window||!!window.TouchEvent,$n=!window.L_NO_TOUCH&&(ln||Ei),kn=hi&&ae,Di=hi&&ge,ts=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ti=(function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",S,u),window.removeEventListener("testPassiveEventSupport",S,u)}catch{}return r})(),Mn=(function(){return!!document.createElement("canvas").getContext})(),no=!!(document.createElementNS&&be("svg").createSVGRect),je=!!no&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),un=!no&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),sn=navigator.platform.indexOf("Mac")===0,Si=navigator.platform.indexOf("Linux")===0;function ei(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Lt={ie:le,ielt9:qe,edge:Ge,webkit:_e,android:mn,android23:Se,androidStock:pn,opera:ae,chrome:ee,gecko:ge,safari:Pe,phantom:Xe,opera12:In,win:tn,ie3d:gn,webkit3d:en,gecko3d:nn,any3d:$i,mobile:hi,mobileWebkit:ys,mobileWebkit3d:Vs,msPointer:Oi,pointer:Ei,touch:$n,touchNative:ln,mobileOpera:kn,mobileGecko:Di,retina:ts,passiveEvents:ti,canvas:Mn,svg:no,vml:un,inlineSvg:je,mac:sn,linux:Si},ws=Lt.msPointer?"MSPointerDown":"pointerdown",ua=Lt.msPointer?"MSPointerMove":"pointermove",qs=Lt.msPointer?"MSPointerUp":"pointerup",Gs=Lt.msPointer?"MSPointerCancel":"pointercancel",es={touchstart:ws,touchmove:ua,touchend:qs,touchcancel:Gs},Pi={touchstart:vr,touchmove:_r,touchend:_r,touchcancel:_r},Vn={},Ln=!1;function Qe(r,u,d){return u==="touchstart"&&sl(),Pi[u]?(d=Pi[u].bind(this,d),r.addEventListener(es[u],d,!1),d):(console.warn("wrong event specified:",u),S)}function ca(r,u,d){if(!es[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(es[u],d,!1)}function io(r){Vn[r.pointerId]=r}function ji(r){Vn[r.pointerId]&&(Vn[r.pointerId]=r)}function ns(r){delete Vn[r.pointerId]}function sl(){Ln||(document.addEventListener(ws,io,!0),document.addEventListener(ua,ji,!0),document.addEventListener(qs,ns,!0),document.addEventListener(Gs,ns,!0),Ln=!0)}function _r(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Vn)u.touches.push(Vn[d]);u.changedTouches=[u],r(u)}}function vr(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ie(u),_r(r,u)}function rl(r){var u={},d,v;for(v in r)d=r[v],u[v]=d&&d.bind?d.bind(r):d;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Zs=200;function is(r,u){r.addEventListener("dblclick",u);var d=0,v;function A(U){if(U.detail!==1){v=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var K=oo(U);if(!(K.some(function(vt){return vt instanceof HTMLLabelElement&&vt.attributes.for})&&!K.some(function(vt){return vt instanceof HTMLInputElement||vt instanceof HTMLSelectElement}))){var ut=Date.now();ut-d<=Zs?(v++,v===2&&u(rl(U))):v=1,d=ut}}}return r.addEventListener("click",A),{dblclick:u,simDblclick:A}}function Sn(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var bs=Ui(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ws=Ui(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ss=Ws==="webkitTransition"||Ws==="OTransition"?Ws+"End":"transitionend";function yr(r){return typeof r=="string"?document.getElementById(r):r}function rs(r,u){var d=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(r,null);d=v?v[u]:null}return d==="auto"?null:d}function Qt(r,u,d){var v=document.createElement(r);return v.className=u||"",d&&d.appendChild(v),v}function Te(r){var u=r.parentNode;u&&u.removeChild(r)}function _n(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function os(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Ys(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function Ks(r,u){if(r.classList!==void 0)return r.classList.contains(u);var d=Ze(r);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function qt(r,u){if(r.classList!==void 0)for(var d=O(u),v=0,A=d.length;v<A;v++)r.classList.add(d[v]);else if(!Ks(r,u)){var U=Ze(r);ha(r,(U?U+" ":"")+u)}}function Ce(r,u){r.classList!==void 0?r.classList.remove(u):ha(r,k((" "+Ze(r)+" ").replace(" "+u+" "," ")))}function ha(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function Ze(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ue(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&wr(r,u)}function wr(r,u){var d=!1,v="DXImageTransform.Microsoft.Alpha";try{d=r.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):r.style.filter+=" progid:"+v+"(opacity="+u+")"}function Ui(r){for(var u=document.documentElement.style,d=0;d<r.length;d++)if(r[d]in u)return r[d];return!1}function qn(r,u,d){var v=u||new $(0,0);r.style[bs]=(Lt.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(d?" scale("+d+")":"")}function zt(r,u){r._leaflet_pos=u,Lt.any3d?qn(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function fi(r){return r._leaflet_pos||new $(0,0)}var On,zi,so;if("onselectstart"in document)On=function(){Pt(window,"selectstart",Ie)},zi=function(){ue(window,"selectstart",Ie)};else{var xs=Ui(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);On=function(){if(xs){var r=document.documentElement.style;so=r[xs],r[xs]="none"}},zi=function(){xs&&(document.documentElement.style[xs]=so,so=void 0)}}function br(){Pt(window,"dragstart",Ie)}function fa(){ue(window,"dragstart",Ie)}var ro,Xs;function Bi(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Gn(),ro=r,Xs=r.style.outlineStyle,r.style.outlineStyle="none",Pt(window,"keydown",Gn))}function Gn(){ro&&(ro.style.outlineStyle=Xs,ro=void 0,Xs=void 0,ue(window,"keydown",Gn))}function as(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Hi(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var da={__proto__:null,TRANSFORM:bs,TRANSITION:Ws,TRANSITION_END:ss,get:yr,getStyle:rs,create:Qt,remove:Te,empty:_n,toFront:os,toBack:Ys,hasClass:Ks,addClass:qt,removeClass:Ce,setClass:ha,getClass:Ze,setOpacity:Ue,testProp:Ui,setTransform:qn,setPosition:zt,getPosition:fi,get disableTextSelection(){return On},get enableTextSelection(){return zi},disableImageDrag:br,enableImageDrag:fa,preventOutline:Bi,restoreOutline:Gn,getSizedParentNode:as,getScale:Hi};function Pt(r,u,d,v){if(u&&typeof u=="object")for(var A in u)Es(r,A,u[A],d);else{u=O(u);for(var U=0,K=u.length;U<K;U++)Es(r,u[U],d,v)}return this}var di="_leaflet_events";function ue(r,u,d,v){if(arguments.length===1)Ti(r),delete r[di];else if(u&&typeof u=="object")for(var A in u)Ai(r,A,u[A],d);else if(u=O(u),arguments.length===2)Ti(r,function(ut){return Q(u,ut)!==-1});else for(var U=0,K=u.length;U<K;U++)Ai(r,u[U],d,v);return this}function Ti(r,u){for(var d in r[di]){var v=d.split(/\d/)[0];(!u||u(v))&&Ai(r,v,null,null,d)}}var ni={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Es(r,u,d,v){var A=u+y(d)+(v?"_"+y(v):"");if(r[di]&&r[di][A])return this;var U=function(ut){return d.call(v||r,ut||window.event)},K=U;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?U=Qe(r,u,U):Lt.touch&&u==="dblclick"?U=is(r,U):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(ni[u]||u,U,Lt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(U=function(ut){ut=ut||window.event,Ts(r,ut)&&K(ut)},r.addEventListener(ni[u],U,!1)):r.addEventListener(u,K,!1):r.attachEvent("on"+u,U),r[di]=r[di]||{},r[di][A]=U}function Ai(r,u,d,v,A){A=A||u+y(d)+(v?"_"+y(v):"");var U=r[di]&&r[di][A];if(!U)return this;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?ca(r,u,U):Lt.touch&&u==="dblclick"?Sn(r,U):"removeEventListener"in r?r.removeEventListener(ni[u]||u,U,!1):r.detachEvent("on"+u,U),r[di][A]=null}function ii(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Fi(r){return Es(r,"wheel",ii),this}function Ss(r){return Pt(r,"mousedown touchstart dblclick contextmenu",ii),r._leaflet_disable_click=!0,this}function Ie(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Dn(r){return Ie(r),ii(r),this}function oo(r){if(r.composedPath)return r.composedPath();for(var u=[],d=r.target;d;)u.push(d),d=d.parentNode;return u}function cn(r,u){if(!u)return new $(r.clientX,r.clientY);var d=Hi(u),v=d.boundingClientRect;return new $((r.clientX-v.left)/d.x-u.clientLeft,(r.clientY-v.top)/d.y-u.clientTop)}var xe=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xr(r){return Lt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/xe:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ts(r,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==r;)d=d.parentNode}catch{return!1}return d!==r}var ol={__proto__:null,on:Pt,off:ue,stopPropagation:ii,disableScrollPropagation:Fi,disableClickPropagation:Ss,preventDefault:Ie,stop:Dn,getPropagationPath:oo,getMousePosition:cn,getWheelDelta:xr,isExternalTarget:Ts,addListener:Pt,removeListener:ue},Er=z.extend({run:function(r,u,d,v){this.stop(),this._el=r,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=fi(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var d=this._startPos.add(this._offset.multiplyBy(r));u&&d._round(),zt(this._el,d),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Wt=z.extend({options:{crs:En,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=G(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(wt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ws&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,ss,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(wt(r),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,d.zoom):this._tryAnimatedPan(r,d.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,d){var v=this.getZoomScale(u),A=this.getSize().divideBy(2),U=r instanceof $?r:this.latLngToContainerPoint(r),K=U.subtract(A).multiplyBy(1-1/v),ut=this.containerPointToLatLng(A.add(K));return this.setView(ut,u,{zoom:d})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():mt(r);var d=B(u.paddingTopLeft||u.padding||[0,0]),v=B(u.paddingBottomRight||u.padding||[0,0]),A=this.getBoundsZoom(r,!1,d.add(v));if(A=typeof u.maxZoom=="number"?Math.min(u.maxZoom,A):A,A===1/0)return{center:r.getCenter(),zoom:A};var U=v.subtract(d).divideBy(2),K=this.project(r.getSouthWest(),A),ut=this.project(r.getNorthEast(),A),vt=this.unproject(K.add(ut).divideBy(2).add(U),A);return{center:vt,zoom:A}},fitBounds:function(r,u){if(r=mt(r),!r.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(r,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=B(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Er,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,d){if(d=d||{},d.animate===!1||!Lt.any3d)return this.setView(r,u,d);this._stop();var v=this.project(this.getCenter()),A=this.project(r),U=this.getSize(),K=this._zoom;r=wt(r),u=u===void 0?K:u;var ut=Math.max(U.x,U.y),vt=ut*this.getZoomScale(K,u),St=A.distanceTo(v)||1,Nt=1.42,Rt=Nt*Nt;function Mt(Ye){var fs=Ye?-1:1,ks=Ye?vt:ut,ir=vt*vt-ut*ut+fs*Rt*Rt*St*St,Ms=2*ks*Rt*St,Na=ir/Ms,vl=Math.sqrt(Na*Na+1)-Na,Ra=vl<1e-9?-18:Math.log(vl);return Ra}function Vt(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function Be(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}function Je(Ye){return Vt(Ye)/Be(Ye)}var jn=Mt(0);function Ci(Ye){return ut*(Be(jn)/Be(jn+Nt*Ye))}function Xc(Ye){return ut*(Be(jn)*Je(jn+Nt*Ye)-Vt(jn))/Rt}function Qc(Ye){return 1-Math.pow(1-Ye,1.5)}var Ca=Date.now(),To=(Mt(1)-jn)/Nt,Jc=d.duration?1e3*d.duration:1e3*To*.8;function Ao(){var Ye=(Date.now()-Ca)/Jc,fs=Qc(Ye)*To;Ye<=1?(this._flyToFrame=j(Ao,this),this._move(this.unproject(v.add(A.subtract(v).multiplyBy(Xc(fs)/St)),K),this.getScaleZoom(ut/Ci(fs),K),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Ao.call(this),this},flyToBounds:function(r,u){var d=this._getBoundsCenterZoom(r,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(r){return r=mt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var d=this.getCenter(),v=this._limitCenter(d,this._zoom,mt(r));return d.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var d=B(u.paddingTopLeft||u.padding||[0,0]),v=B(u.paddingBottomRight||u.padding||[0,0]),A=this.project(this.getCenter()),U=this.project(r),K=this.getPixelBounds(),ut=lt([K.min.add(d),K.max.subtract(v)]),vt=ut.getSize();if(!ut.contains(U)){this._enforcingBounds=!0;var St=U.subtract(ut.getCenter()),Nt=ut.extend(U).getSize().subtract(vt);A.x+=St.x<0?-Nt.x:Nt.x,A.y+=St.y<0?-Nt.y:Nt.y,this.panTo(this.unproject(A),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),v=u.divideBy(2).round(),A=d.divideBy(2).round(),U=v.subtract(A);return!U.x&&!U.y?this:(r.animate&&r.pan?this.panBy(U):(r.pan&&this._rawPanBy(U),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,r):navigator.geolocation.getCurrentPosition(u,d,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,d=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,d=r.coords.longitude,v=new rt(u,d),A=v.toBounds(r.coords.accuracy*2),U=this._locateOptions;if(U.setView){var K=this.getBoundsZoom(A);this.setView(v,U.maxZoom?Math.min(K,U.maxZoom):K)}var ut={latlng:v,bounds:A,timestamp:r.timestamp};for(var vt in r.coords)typeof r.coords[vt]=="number"&&(ut[vt]=r.coords[vt]);this.fire("locationfound",ut)}},addHandler:function(r,u){if(!u)return this;var d=this[r]=new u(this);return this._handlers.push(d),this.options[r]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Te(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var d="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),v=Qt("div",d,u||this._mapPane);return r&&(this._panes[r]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),d=this.unproject(r.getTopRight());return new ft(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,d){r=mt(r),d=B(d||[0,0]);var v=this.getZoom()||0,A=this.getMinZoom(),U=this.getMaxZoom(),K=r.getNorthWest(),ut=r.getSouthEast(),vt=this.getSize().subtract(d),St=lt(this.project(ut,v),this.project(K,v)).getSize(),Nt=Lt.any3d?this.options.zoomSnap:1,Rt=vt.x/St.x,Mt=vt.y/St.y,Vt=u?Math.max(Rt,Mt):Math.min(Rt,Mt);return v=this.getScaleZoom(Vt,v),Nt&&(v=Math.round(v/(Nt/100))*(Nt/100),v=u?Math.ceil(v/Nt)*Nt:Math.floor(v/Nt)*Nt),Math.max(A,Math.min(U,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var d=this._getTopLeftPoint(r,u);return new st(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(r)/d.scale(u)},getScaleZoom:function(r,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var v=d.zoom(r*d.scale(u));return isNaN(v)?1/0:v},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(wt(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(B(r),u)},layerPointToLatLng:function(r){var u=B(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(wt(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(wt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(mt(r))},distance:function(r,u){return this.options.crs.distance(wt(r),wt(u))},containerPointToLayerPoint:function(r){return B(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return B(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(B(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(r)))},mouseEventToContainerPoint:function(r){return cn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=yr(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,qt(r,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=rs(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zt(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(r.markerPane,"leaflet-zoom-hide"),qt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,d){zt(this._mapPane,new $(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var A=this._zoom!==u;this._moveStart(A,d)._move(r,u)._moveEnd(A),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,d,v){u===void 0&&(u=this._zoom);var A=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),v?d&&d.pinch&&this.fire("zoom",d):((A||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){zt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[y(this._container)]=this;var u=r?ue:Pt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var d=[],v,A=u==="mouseout"||u==="mouseover",U=r.target||r.srcElement,K=!1;U;){if(v=this._targets[y(U)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){K=!0;break}if(v&&v.listens(u,!0)&&(A&&!Ts(U,r)||(d.push(v),A))||U===this._container)break;U=U.parentNode}return!d.length&&!K&&!A&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var d=r.type;d==="mousedown"&&Bi(u),this._fireDOMEvent(r,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,d){if(r.type==="click"){var v=l({},r);v.type="preclick",this._fireDOMEvent(v,v.type,d)}var A=this._findEventTargets(r,u);if(d){for(var U=[],K=0;K<d.length;K++)d[K].listens(u,!0)&&U.push(d[K]);A=U.concat(A)}if(A.length){u==="contextmenu"&&Ie(r);var ut=A[0],vt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var St=ut.getLatLng&&(!ut._radius||ut._radius<=10);vt.containerPoint=St?this.latLngToContainerPoint(ut.getLatLng()):this.mouseEventToContainerPoint(r),vt.layerPoint=this.containerPointToLayerPoint(vt.containerPoint),vt.latlng=St?ut.getLatLng():this.layerPointToLatLng(vt.layerPoint)}for(K=0;K<A.length;K++)if(A[K].fire(u,vt,!0),vt.originalEvent._stopped||A[K].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return fi(this._mapPane)||new $(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var d=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var d=this.getSize()._divideBy(2);return this.project(r,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,d){var v=this._getNewPixelOrigin(d,u);return this.project(r,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(r,u,d){var v=this._getNewPixelOrigin(d,u);return lt([this.project(r.getSouthWest(),u)._subtract(v),this.project(r.getNorthWest(),u)._subtract(v),this.project(r.getSouthEast(),u)._subtract(v),this.project(r.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,d){if(!d)return r;var v=this.project(r,u),A=this.getSize().divideBy(2),U=new st(v.subtract(A),v.add(A)),K=this._getBoundsOffset(U,d,u);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?r:this.unproject(v.add(K),u)},_limitOffset:function(r,u){if(!u)return r;var d=this.getPixelBounds(),v=new st(d.min.add(r),d.max.add(r));return r.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(r,u,d){var v=lt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),A=v.min.subtract(r.min),U=v.max.subtract(r.max),K=this._rebound(A.x,-U.x),ut=this._rebound(A.y,-U.y);return new $(K,ut)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),d=this.getMaxZoom(),v=Lt.any3d?this.options.zoomSnap:1;return v&&(r=Math.round(r/v)*v),Math.max(u,Math.min(d,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var d=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var r=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var d=bs,v=this._proxy.style[d];qn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();qn(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),A=this._getCenterOffset(r)._divideBy(1-1/v);return d.animate!==!0&&!this.getSize().contains(A)?!1:(j(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,d,v){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ls(r,u){return new Wt(r,u)}var Tn=J.extend({options:{position:"topright"},initialize:function(r){G(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),d=this.getPosition(),v=r._controlCorners[d];return qt(u,"leaflet-control"),d.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Pn=function(r){return new Tn(r)};Wt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",d=this._controlContainer=Qt("div",u+"control-container",this._container);function v(A,U){var K=u+A+" "+u+U;r[A+U]=Qt("div",K,d)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Te(this._controlCorners[r]);Te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ma=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,d,v){return d<v?-1:v<d?1:0}},initialize:function(r,u,d){G(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in r)this._addLayer(r[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Tn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Qt("div",r),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ss(u),Fi(u);var v=this._section=Qt("section",r+"-list");d&&(this._map.on("click",this.collapse,this),Pt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=Qt("a",r+"-toggle",u);A.href="#",A.title="Layers",A.setAttribute("role","button"),Pt(A,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){Ie(U),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Qt("div",r+"-base",v),this._separator=Qt("div",r+"-separator",v),this._overlaysList=Qt("div",r+"-overlays",v),u.appendChild(v)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,d){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(v,A){return this.options.sortFunction(v.layer,A.layer,v.name,A.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_n(this._baseLayersList),_n(this._overlaysList),this._layerControlInputs=[];var r,u,d,v,A=0;for(d=0;d<this._layers.length;d++)v=this._layers[d],this._addItem(v),u=u||v.overlay,r=r||!v.overlay,A+=v.overlay?0:1;return this.options.hideSingleBase&&(r=r&&A>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(y(r.target)),d=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(r,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=d,v.firstChild},_addItem:function(r){var u=document.createElement("label"),d=this._map.hasLayer(r.layer),v;r.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=d):v=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(v),v.layerId=y(r.layer),Pt(v,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+r.name;var U=document.createElement("span");u.appendChild(U),U.appendChild(v),U.appendChild(A);var K=r.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,d,v=[],A=[];this._handlingClick=!0;for(var U=r.length-1;U>=0;U--)u=r[U],d=this._getLayer(u.layerId).layer,u.checked?v.push(d):u.checked||A.push(d);for(U=0;U<A.length;U++)this._map.hasLayer(A[U])&&this._map.removeLayer(A[U]);for(U=0;U<v.length;U++)this._map.hasLayer(v[U])||this._map.addLayer(v[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,d,v=this._map.getZoom(),A=r.length-1;A>=0;A--)u=r[A],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&v<d.options.minZoom||d.options.maxZoom!==void 0&&v>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Pt(r,"click",Ie),this.expand();var u=this;setTimeout(function(){ue(r,"click",Ie),u._preventClick=!1})}}),uu=function(r,u,d){return new ma(r,u,d)},As=Tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",d=Qt("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,d,v,A){var U=Qt("a",d,v);return U.innerHTML=r,U.href="#",U.title=u,U.setAttribute("role","button"),U.setAttribute("aria-label",u),Ss(U),Pt(U,"click",Dn),Pt(U,"click",A,this),Pt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";Ce(this._zoomInButton,u),Ce(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(qt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(qt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new As,this.addControl(this.zoomControl))});var ao=function(r){return new As(r)},lo=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",d=Qt("div",u),v=this.options;return this._addScales(v,u+"-line",d),r.on(v.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),d},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,d){r.metric&&(this._mScale=Qt("div",u,d)),r.imperial&&(this._iScale=Qt("div",u,d))},_update:function(){var r=this._map,u=r.getSize().y/2,d=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/r)},_updateImperial:function(r){var u=r*3.2808399,d,v,A;u>5280?(d=u/5280,v=this._getRoundNum(d),this._updateScale(this._iScale,v+" mi",v/d)):(A=this._getRoundNum(u),this._updateScale(this._iScale,A+" ft",A/u))},_updateScale:function(r,u,d){r.style.width=Math.round(this.options.maxWidth*d)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),d=r/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),uo=function(r){return new lo(r)},al='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qs=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?al+" ":"")+"Leaflet</a>"},initialize:function(r){G(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),Ss(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),r.length&&d.push(r.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new Qs().addTo(this)});var cu=function(r){return new Qs(r)};Tn.Layers=ma,Tn.Zoom=As,Tn.Scale=lo,Tn.Attribution=Qs,Pn.layers=uu,Pn.zoom=ao,Pn.scale=uo,Pn.attribution=cu;var si=J.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});si.addTo=function(r,u){return r.addHandler(u,this),this};var Sr={Events:M},pa=Lt.touch?"touchstart mousedown":"mousedown",Vi=z.extend({options:{clickTolerance:3},initialize:function(r,u,d,v){G(this,v),this._element=r,this._dragStartTarget=u||r,this._preventOutline=d},enable:function(){this._enabled||(Pt(this._dragStartTarget,pa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Vi._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,pa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ks(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Vi._dragging===this&&this.finishDrag();return}if(!(Vi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Vi._dragging=this,this._preventOutline&&Bi(this._element),br(),On(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,d=as(this._element);this._startPoint=new $(u.clientX,u.clientY),this._startPos=fi(this._element),this._parentScale=Hi(d);var v=r.type==="mousedown";Pt(document,v?"mousemove":"touchmove",this._onMove,this),Pt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,d=new $(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Ie(r),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),zt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),fa(),zi();var u=this._moved&&this._moving;this._moving=!1,Vi._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function co(r,u,d){var v,A=[1,4,2,8],U,K,ut,vt,St,Nt,Rt,Mt;for(U=0,Nt=r.length;U<Nt;U++)r[U]._code=us(r[U],u);for(ut=0;ut<4;ut++){for(Rt=A[ut],v=[],U=0,Nt=r.length,K=Nt-1;U<Nt;K=U++)vt=r[U],St=r[K],vt._code&Rt?St._code&Rt||(Mt=Tr(St,vt,Rt,u,d),Mt._code=us(Mt,u),v.push(Mt)):(St._code&Rt&&(Mt=Tr(St,vt,Rt,u,d),Mt._code=us(Mt,u),v.push(Mt)),v.push(vt));r=v}return r}function Js(r,u){var d,v,A,U,K,ut,vt,St,Nt;if(!r||r.length===0)throw new Error("latlngs not passed");w(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Rt=wt([0,0]),Mt=mt(r),Vt=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());Vt<1700&&(Rt=ho(r));var Be=r.length,Je=[];for(d=0;d<Be;d++){var jn=wt(r[d]);Je.push(u.project(wt([jn.lat-Rt.lat,jn.lng-Rt.lng])))}for(ut=vt=St=0,d=0,v=Be-1;d<Be;v=d++)A=Je[d],U=Je[v],K=A.y*U.x-U.y*A.x,vt+=(A.x+U.x)*K,St+=(A.y+U.y)*K,ut+=K*3;ut===0?Nt=Je[0]:Nt=[vt/ut,St/ut];var Ci=u.unproject(B(Nt));return wt([Ci.lat+Rt.lat,Ci.lng+Rt.lng])}function ho(r){for(var u=0,d=0,v=0,A=0;A<r.length;A++){var U=wt(r[A]);u+=U.lat,d+=U.lng,v++}return wt([u/v,d/v])}var fo={__proto__:null,clipPolygon:co,polygonCenter:Js,centroid:ho};function ga(r,u){if(!u||!r.length)return r.slice();var d=u*u;return r=ul(r,d),r=ll(r,d),r}function mo(r,u,d){return Math.sqrt(f(r,u,d,!0))}function Cs(r,u,d){return f(r,u,d)}function ll(r,u){var d=r.length,v=typeof Uint8Array<"u"?Uint8Array:Array,A=new v(d);A[0]=A[d-1]=1,po(r,A,u,0,d-1);var U,K=[];for(U=0;U<d;U++)A[U]&&K.push(r[U]);return K}function po(r,u,d,v,A){var U=0,K,ut,vt;for(ut=v+1;ut<=A-1;ut++)vt=f(r[ut],r[v],r[A],!0),vt>U&&(K=ut,U=vt);U>d&&(u[K]=1,po(r,u,d,v,K),po(r,u,d,K,A))}function ul(r,u){for(var d=[r[0]],v=1,A=0,U=r.length;v<U;v++)$s(r[v],r[A])>u&&(d.push(r[v]),A=v);return A<U-1&&d.push(r[U-1]),d}var _a;function Zn(r,u,d,v,A){var U=v?_a:us(r,d),K=us(u,d),ut,vt,St;for(_a=K;;){if(!(U|K))return[r,u];if(U&K)return!1;ut=U||K,vt=Tr(r,u,ut,d,A),St=us(vt,d),ut===U?(r=vt,U=St):(u=vt,K=St)}}function Tr(r,u,d,v,A){var U=u.x-r.x,K=u.y-r.y,ut=v.min,vt=v.max,St,Nt;return d&8?(St=r.x+U*(vt.y-r.y)/K,Nt=vt.y):d&4?(St=r.x+U*(ut.y-r.y)/K,Nt=ut.y):d&2?(St=vt.x,Nt=r.y+K*(vt.x-r.x)/U):d&1&&(St=ut.x,Nt=r.y+K*(ut.x-r.x)/U),new $(St,Nt,A)}function us(r,u){var d=0;return r.x<u.min.x?d|=1:r.x>u.max.x&&(d|=2),r.y<u.min.y?d|=4:r.y>u.max.y&&(d|=8),d}function $s(r,u){var d=u.x-r.x,v=u.y-r.y;return d*d+v*v}function f(r,u,d,v){var A=u.x,U=u.y,K=d.x-A,ut=d.y-U,vt=K*K+ut*ut,St;return vt>0&&(St=((r.x-A)*K+(r.y-U)*ut)/vt,St>1?(A=d.x,U=d.y):St>0&&(A+=K*St,U+=ut*St)),K=r.x-A,ut=r.y-U,v?K*K+ut*ut:new $(A,U)}function w(r){return!et(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function R(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),w(r)}function V(r,u){var d,v,A,U,K,ut,vt,St;if(!r||r.length===0)throw new Error("latlngs not passed");w(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Nt=wt([0,0]),Rt=mt(r),Mt=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());Mt<1700&&(Nt=ho(r));var Vt=r.length,Be=[];for(d=0;d<Vt;d++){var Je=wt(r[d]);Be.push(u.project(wt([Je.lat-Nt.lat,Je.lng-Nt.lng])))}for(d=0,v=0;d<Vt-1;d++)v+=Be[d].distanceTo(Be[d+1])/2;if(v===0)St=Be[0];else for(d=0,U=0;d<Vt-1;d++)if(K=Be[d],ut=Be[d+1],A=K.distanceTo(ut),U+=A,U>v){vt=(U-v)/A,St=[ut.x-vt*(ut.x-K.x),ut.y-vt*(ut.y-K.y)];break}var jn=u.unproject(B(St));return wt([jn.lat+Nt.lat,jn.lng+Nt.lng])}var ht={__proto__:null,simplify:ga,pointToSegmentDistance:mo,closestPointOnSegment:Cs,clipSegment:Zn,_getEdgeIntersection:Tr,_getBitCode:us,_sqClosestPointOnSegment:f,isFlat:w,_flat:R,polylineCenter:V},yt={project:function(r){return new $(r.lng,r.lat)},unproject:function(r){return new rt(r.y,r.x)},bounds:new st([-180,-90],[180,90])},At={R:6378137,R_MINOR:6356752314245179e-9,bounds:new st([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,d=this.R,v=r.lat*u,A=this.R_MINOR/d,U=Math.sqrt(1-A*A),K=U*Math.sin(v),ut=Math.tan(Math.PI/4-v/2)/Math.pow((1-K)/(1+K),U/2);return v=-d*Math.log(Math.max(ut,1e-10)),new $(r.lng*u*d,v)},unproject:function(r){for(var u=180/Math.PI,d=this.R,v=this.R_MINOR/d,A=Math.sqrt(1-v*v),U=Math.exp(-r.y/d),K=Math.PI/2-2*Math.atan(U),ut=0,vt=.1,St;ut<15&&Math.abs(vt)>1e-7;ut++)St=A*Math.sin(K),St=Math.pow((1-St)/(1+St),A/2),vt=Math.PI/2-2*Math.atan(U*St)-K,K+=vt;return new rt(K*u,r.x*u/d)}},ve={__proto__:null,LonLat:yt,Mercator:At,SphericalMercator:Xt},ze=l({},kt,{code:"EPSG:3395",projection:At,transformation:(function(){var r=.5/(Math.PI*At.R);return me(r,.5,-r,.5)})()}),ne=l({},kt,{code:"EPSG:4326",projection:yt,transformation:me(1/180,1,-1/180,.5)}),vn=l({},Dt,{projection:yt,transformation:me(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var d=u.lng-r.lng,v=u.lat-r.lat;return Math.sqrt(d*d+v*v)},infinite:!0});Dt.Earth=kt,Dt.EPSG3395=ze,Dt.EPSG3857=En,Dt.EPSG900913=dn,Dt.EPSG4326=ne,Dt.Simple=vn;var Ae=z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[y(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[y(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=y(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return y(r)in this._layers},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},_addLayers:function(r){r=r?et(r)?r:[r]:[];for(var u=0,d=r.length;u<d;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[y(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=y(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,d=this._getZoomSpan();for(var v in this._zoomBoundLayers){var A=this._zoomBoundLayers[v].options;r=A.minZoom===void 0?r:Math.min(r,A.minZoom),u=A.maxZoom===void 0?u:Math.max(u,A.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ri=Ae.extend({initialize:function(r,u){G(this,u),this._layers={};var d,v;if(r)for(d=0,v=r.length;d<v;d++)this.addLayer(r[d])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),d,v;for(d in this._layers)v=this._layers[d],v[r]&&v[r].apply(v,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return y(r)}}),oi=function(r,u){return new ri(r,u)},yn=ri.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ri.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ri.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ft;for(var u in this._layers){var d=this._layers[u];r.extend(d.getBounds?d.getBounds():d.getLatLng())}return r}}),Ns=function(r,u){return new yn(r,u)},go=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){G(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var d=this._getIconUrl(r);if(!d){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(r,u){var d=this.options,v=d[u+"Size"];typeof v=="number"&&(v=[v,v]);var A=B(v),U=B(u==="shadow"&&d.shadowAnchor||d.iconAnchor||A&&A.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(d.className||""),U&&(r.style.marginLeft=-U.x+"px",r.style.marginTop=-U.y+"px"),A&&(r.style.width=A.x+"px",r.style.height=A.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Lt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function cl(r){return new go(r)}var _o=go.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof _o.imagePath!="string"&&(_o.imagePath=this._detectIconPath()),(this.options.imagePath||_o.imagePath)+go.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(d,v,A){var U=v.exec(d);return U&&U[A]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Qt("div","leaflet-default-icon-path",document.body),u=rs(r,"background-image")||rs(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),hu=si.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Vi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,d=u._map,v=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,U=fi(u._icon),K=d.getPixelBounds(),ut=d.getPixelOrigin(),vt=lt(K.min._subtract(ut).add(A),K.max._subtract(ut).subtract(A));if(!vt.contains(U)){var St=B((Math.max(vt.max.x,U.x)-vt.max.x)/(K.max.x-vt.max.x)-(Math.min(vt.min.x,U.x)-vt.min.x)/(K.min.x-vt.min.x),(Math.max(vt.max.y,U.y)-vt.max.y)/(K.max.y-vt.max.y)-(Math.min(vt.min.y,U.y)-vt.min.y)/(K.min.y-vt.min.y)).multiplyBy(v);d.panBy(St,{animate:!1}),this._draggable._newPos._add(St),this._draggable._startPos._add(St),zt(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=j(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,d=u._shadow,v=fi(u._icon),A=u._map.layerPointToLatLng(v);d&&zt(d,v),u._latlng=A,r.latlng=A,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),vo=Ae.extend({options:{icon:new _o,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){G(this,u),this._latlng=wt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=wt(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=r.icon.createIcon(this._icon),v=!1;d!==this._icon&&(this._icon&&this._removeIcon(),v=!0,r.title&&(d.title=r.title),d.tagName==="IMG"&&(d.alt=r.alt||"")),qt(d,u),r.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(d,"focus",this._panOnFocus,this);var A=r.icon.createShadow(this._shadow),U=!1;A!==this._shadow&&(this._removeShadow(),U=!0),A&&(qt(A,u),A.alt=""),this._shadow=A,r.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&U&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),Te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Te(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&zt(this._icon,r),this._shadow&&zt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hu)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hu(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ue(this._icon,r),this._shadow&&Ue(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,d=u.iconSize?B(u.iconSize):B(0,0),v=u.iconAnchor?B(u.iconAnchor):B(0,0);r.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:d.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fu(r,u){return new vo(r,u)}var Rs=Ae.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return G(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),va=Rs.extend({options:{fill:!0,radius:10},initialize:function(r,u){G(this,u),this._latlng=wt(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=wt(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return Rs.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,d=this._clickTolerance(),v=[r+d,u+d];this._pxBounds=new st(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qc(r,u){return new va(r,u)}var du=va.extend({initialize:function(r,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),G(this,u),this._latlng=wt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ft(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Rs.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,d=this._map,v=d.options.crs;if(v.distance===kt.distance){var A=Math.PI/180,U=this._mRadius/kt.R/A,K=d.project([u+U,r]),ut=d.project([u-U,r]),vt=K.add(ut).divideBy(2),St=d.unproject(vt).lat,Nt=Math.acos((Math.cos(U*A)-Math.sin(u*A)*Math.sin(St*A))/(Math.cos(u*A)*Math.cos(St*A)))/A;(isNaN(Nt)||Nt===0)&&(Nt=U/Math.cos(Math.PI/180*u)),this._point=vt.subtract(d.getPixelOrigin()),this._radius=isNaN(Nt)?0:vt.x-d.project([St,r-Nt]).x,this._radiusY=vt.y-K.y}else{var Rt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Rt).x}this._updateBounds()}});function id(r,u,d){return new du(r,u,d)}var Is=Rs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){G(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,d=null,v=f,A,U,K=0,ut=this._parts.length;K<ut;K++)for(var vt=this._parts[K],St=1,Nt=vt.length;St<Nt;St++){A=vt[St-1],U=vt[St];var Rt=v(r,A,U,!0);Rt<u&&(u=Rt,d=v(r,A,U))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return V(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=wt(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ft,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return w(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],d=w(r),v=0,A=r.length;v<A;v++)d?(u[v]=wt(r[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(r[v]);return u},_project:function(){var r=new st;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new $(r,r);this._rawPxBounds&&(this._pxBounds=new st([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,d){var v=r[0]instanceof rt,A=r.length,U,K;if(v){for(K=[],U=0;U<A;U++)K[U]=this._map.latLngToLayerPoint(r[U]),d.extend(K[U]);u.push(K)}else for(U=0;U<A;U++)this._projectLatlngs(r[U],u,d)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,v,A,U,K,ut,vt;for(d=0,A=0,U=this._rings.length;d<U;d++)for(vt=this._rings[d],v=0,K=vt.length;v<K-1;v++)ut=Zn(vt[v],vt[v+1],r,v,!0),ut&&(u[A]=u[A]||[],u[A].push(ut[0]),(ut[1]!==vt[v+1]||v===K-2)&&(u[A].push(ut[1]),A++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,d=0,v=r.length;d<v;d++)r[d]=ga(r[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var d,v,A,U,K,ut,vt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(d=0,U=this._parts.length;d<U;d++)for(ut=this._parts[d],v=0,K=ut.length,A=K-1;v<K;A=v++)if(!(!u&&v===0)&&mo(r,ut[A],ut[v])<=vt)return!0;return!1}});function sd(r,u){return new Is(r,u)}Is._flat=R;var yo=Is.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Js(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=Is.prototype._convertLatLngs.call(this,r),d=u.length;return d>=2&&u[0]instanceof rt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(r){Is.prototype._setLatLngs.call(this,r),w(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return w(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,d=new $(u,u);if(r=new st(r.min.subtract(d),r.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,A=this._rings.length,U;v<A;v++)U=co(this._rings[v],r,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,d,v,A,U,K,ut,vt,St;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(U=0,vt=this._parts.length;U<vt;U++)for(d=this._parts[U],K=0,St=d.length,ut=St-1;K<St;ut=K++)v=d[K],A=d[ut],v.y>r.y!=A.y>r.y&&r.x<(A.x-v.x)*(r.y-v.y)/(A.y-v.y)+v.x&&(u=!u);return u||Is.prototype._containsPoint.call(this,r,!0)}});function mi(r,u){return new yo(r,u)}var pi=yn.extend({initialize:function(r,u){G(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=et(r)?r:r.features,d,v,A;if(u){for(d=0,v=u.length;d<v;d++)A=u[d],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var U=this.options;if(U.filter&&!U.filter(r))return this;var K=ya(r,U);return K?(K.feature=wo(r),K.defaultOptions=K.options,this.resetStyle(K),U.onEachFeature&&U.onEachFeature(r,K),this.addLayer(K)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function ya(r,u){var d=r.type==="Feature"?r.geometry:r,v=d?d.coordinates:null,A=[],U=u&&u.pointToLayer,K=u&&u.coordsToLatLng||hl,ut,vt,St,Nt;if(!v&&!d)return null;switch(d.type){case"Point":return ut=K(v),mu(U,r,ut,u);case"MultiPoint":for(St=0,Nt=v.length;St<Nt;St++)ut=K(v[St]),A.push(mu(U,r,ut,u));return new yn(A);case"LineString":case"MultiLineString":return vt=wa(v,d.type==="LineString"?0:1,K),new Is(vt,u);case"Polygon":case"MultiPolygon":return vt=wa(v,d.type==="Polygon"?1:2,K),new yo(vt,u);case"GeometryCollection":for(St=0,Nt=d.geometries.length;St<Nt;St++){var Rt=ya({geometry:d.geometries[St],type:"Feature",properties:r.properties},u);Rt&&A.push(Rt)}return new yn(A);case"FeatureCollection":for(St=0,Nt=d.features.length;St<Nt;St++){var Mt=ya(d.features[St],u);Mt&&A.push(Mt)}return new yn(A);default:throw new Error("Invalid GeoJSON object.")}}function mu(r,u,d,v){return r?r(u,d):new vo(d,v&&v.markersInheritOptions&&v)}function hl(r){return new rt(r[1],r[0],r[2])}function wa(r,u,d){for(var v=[],A=0,U=r.length,K;A<U;A++)K=u?wa(r[A],u-1,d):(d||hl)(r[A]),v.push(K);return v}function ba(r,u){return r=wt(r),r.alt!==void 0?[x(r.lng,u),x(r.lat,u),x(r.alt,u)]:[x(r.lng,u),x(r.lat,u)]}function fl(r,u,d,v){for(var A=[],U=0,K=r.length;U<K;U++)A.push(u?fl(r[U],w(r[U])?0:u-1,d,v):ba(r[U],v));return!u&&d&&A.length>0&&A.push(A[0].slice()),A}function qi(r,u){return r.feature?l({},r.feature,{geometry:u}):wo(u)}function wo(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Ar={toGeoJSON:function(r){return qi(this,{type:"Point",coordinates:ba(this.getLatLng(),r)})}};vo.include(Ar),du.include(Ar),va.include(Ar),Is.include({toGeoJSON:function(r){var u=!w(this._latlngs),d=fl(this._latlngs,u?1:0,!1,r);return qi(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),yo.include({toGeoJSON:function(r){var u=!w(this._latlngs),d=u&&!w(this._latlngs[0]),v=fl(this._latlngs,d?2:u?1:0,!0,r);return u||(v=[v]),qi(this,{type:(d?"Multi":"")+"Polygon",coordinates:v})}}),ri.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(r).geometry.coordinates)}),qi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var d=u==="GeometryCollection",v=[];return this.eachLayer(function(A){if(A.toGeoJSON){var U=A.toGeoJSON(r);if(d)v.push(U.geometry);else{var K=wo(U);K.type==="FeatureCollection"?v.push.apply(v,K.features):v.push(K)}}}),d?qi(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function dl(r,u){return new pi(r,u)}var Gc=dl,cs=Ae.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,d){this._url=r,this._bounds=mt(u),G(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&os(this._image),this},bringToBack:function(){return this._map&&Ys(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=mt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:Qt("img");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=S,u.onmousemove=S,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;qn(this._image,d,u)},_reset:function(){var r=this._image,u=new st(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();zt(r,u.min),r.style.width=d.x+"px",r.style.height=d.y+"px"},_updateOpacity:function(){Ue(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),bo=function(r,u,d){return new cs(r,u,d)},ml=cs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:Qt("video");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=S,u.onmousemove=S,u.onloadeddata=m(this.fire,this,"load"),r){for(var d=u.getElementsByTagName("source"),v=[],A=0;A<d.length;A++)v.push(d[A].src);this._url=d.length>0?v:[u.src];return}et(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var K=Qt("source");K.src=this._url[U],u.appendChild(K)}}});function Zc(r,u,d){return new ml(r,u,d)}var tr=cs.extend({_initImage:function(){var r=this._image=this._url;qt(r,"leaflet-image-layer"),this._zoomAnimated&&qt(r,"leaflet-zoom-animated"),this.options.className&&qt(r,this.options.className),r.onselectstart=S,r.onmousemove=S}});function Wc(r,u,d){return new tr(r,u,d)}var Gi=Ae.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof rt||et(r))?(this._latlng=wt(r),G(this,u)):(G(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ue(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ue(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ue(this._container,0),this._removeTimeout=setTimeout(m(Te,void 0,this._container),200)):Te(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=wt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&os(this._container),this},bringToBack:function(){return this._map&&Ys(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof yn){u=null;var d=this._source._layers;for(var v in d)if(d[v]._map){u=d[v];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=B(this.options.offset),d=this._getAnchor();this._zoomAnimated?zt(this._container,r.add(d)):u=u.add(r).add(d);var v=this._containerBottom=-u.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(r,u,d,v){var A=u;return A instanceof r||(A=new r(v).setContent(u)),d&&A.setLatLng(d),A}}),Ae.include({_initOverlay:function(r,u,d,v){var A=d;return A instanceof r?(G(A,v),A._source=this):(A=u&&!v?u:new r(v,this),A.setContent(d)),A}});var xa=Gi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Gi.prototype.openOn.call(this,r)},onAdd:function(r){Gi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Rs||this._source.on("preclick",ii))},onRemove:function(r){Gi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Rs||this._source.off("preclick",ii))},getEvents:function(){var r=Gi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Qt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Qt("div",r+"-content-wrapper",u);if(this._contentNode=Qt("div",r+"-content",d),Ss(u),Fi(this._contentNode),Pt(u,"contextmenu",ii),this._tipContainer=Qt("div",r+"-tip-container",u),this._tip=Qt("div",r+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Qt("a",r+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(v,"click",function(A){Ie(A),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var d=r.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var v=r.offsetHeight,A=this.options.maxHeight,U="leaflet-popup-scrolled";A&&v>A?(u.height=A+"px",qt(r,U)):Ce(r,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),d=this._getAnchor();zt(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(rs(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,v=this._containerWidth,A=new $(this._containerLeft,-d-this._containerBottom);A._add(fi(this._container));var U=r.layerPointToContainerPoint(A),K=B(this.options.autoPanPadding),ut=B(this.options.autoPanPaddingTopLeft||K),vt=B(this.options.autoPanPaddingBottomRight||K),St=r.getSize(),Nt=0,Rt=0;U.x+v+vt.x>St.x&&(Nt=U.x+v-St.x+vt.x),U.x-Nt-ut.x<0&&(Nt=U.x-ut.x),U.y+d+vt.y>St.y&&(Rt=U.y+d-St.y+vt.y),U.y-Rt-ut.y<0&&(Rt=U.y-ut.y),(Nt||Rt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Nt,Rt]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rd=function(r,u){return new xa(r,u)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(r,u,d){return this._initOverlay(xa,r,u,d).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Ae.include({bindPopup:function(r,u){return this._popup=this._initOverlay(xa,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof yn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Dn(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof Rs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var pl=Gi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Gi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Gi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Gi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,d,v=this._map,A=this._container,U=v.latLngToContainerPoint(v.getCenter()),K=v.layerPointToContainerPoint(r),ut=this.options.direction,vt=A.offsetWidth,St=A.offsetHeight,Nt=B(this.options.offset),Rt=this._getAnchor();ut==="top"?(u=vt/2,d=St):ut==="bottom"?(u=vt/2,d=0):ut==="center"?(u=vt/2,d=St/2):ut==="right"?(u=0,d=St/2):ut==="left"?(u=vt,d=St/2):K.x<U.x?(ut="right",u=0,d=St/2):(ut="left",u=vt+(Nt.x+Rt.x)*2,d=St/2),r=r.subtract(B(u,d,!0)).add(Nt).add(Rt),Ce(A,"leaflet-tooltip-right"),Ce(A,"leaflet-tooltip-left"),Ce(A,"leaflet-tooltip-top"),Ce(A,"leaflet-tooltip-bottom"),qt(A,"leaflet-tooltip-"+ut),zt(A,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ue(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),od=function(r,u){return new pl(r,u)};Wt.include({openTooltip:function(r,u,d){return this._initOverlay(pl,r,u,d).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Ae.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pl,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof yn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(Pt(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Pt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,d,v;this._tooltip.options.sticky&&r.originalEvent&&(d=this._map.mouseEventToContainerPoint(r.originalEvent),v=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var pu=go.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),d=this.options;if(d.html instanceof Element?(_n(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var v=B(d.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Yc(r){return new pu(r)}go.Default=_o;var Cr=Ae.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){G(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Te(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(os(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ys(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof $?r:new $(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,d=-r(-1/0,1/0),v=0,A=u.length,U;v<A;v++)U=u[v].style.zIndex,u[v]!==this._container&&U&&(d=r(d,+U));isFinite(d)&&(this.options.zIndex=d+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){Ue(this._container,this.options.opacity);var r=+new Date,u=!1,d=!1;for(var v in this._tiles){var A=this._tiles[v];if(!(!A.current||!A.loaded)){var U=Math.min(1,(r-A.loaded)/200);Ue(A.el,U),U<1?u=!0:(A.active?d=!0:this._onOpaqueTile(A),A.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(H(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===r?(this._levels[d].el.style.zIndex=u-Math.abs(r-d),this._onUpdateLevel(d)):(Te(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var v=this._levels[r],A=this._map;return v||(v=this._levels[r]={},v.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=A.project(A.unproject(A.getPixelOrigin()),r).round(),v.zoom=r,this._setZoomTransform(v,A.getCenter(),A.getZoom()),S(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var r,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Te(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,d,v){var A=Math.floor(r/2),U=Math.floor(u/2),K=d-1,ut=new $(+A,+U);ut.z=+K;var vt=this._tileCoordsToKey(ut),St=this._tiles[vt];return St&&St.active?(St.retain=!0,!0):(St&&St.loaded&&(St.retain=!0),K>v?this._retainParent(A,U,K,v):!1)},_retainChildren:function(r,u,d,v){for(var A=2*r;A<2*r+2;A++)for(var U=2*u;U<2*u+2;U++){var K=new $(A,U);K.z=d+1;var ut=this._tileCoordsToKey(K),vt=this._tiles[ut];if(vt&&vt.active){vt.retain=!0;continue}else vt&&vt.loaded&&(vt.retain=!0);d+1<v&&this._retainChildren(A,U,d+1,v)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,d,v){var A=Math.round(u);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var U=this.options.updateWhenZooming&&A!==this._tileZoom;(!v||U)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(r),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],r,u)},_setZoomTransform:function(r,u,d){var v=this._map.getZoomScale(d,r.zoom),A=r.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,d)).round();Lt.any3d?qn(r.el,A,v):zt(r.el,A)},_resetGrid:function(){var r=this._map,u=r.options.crs,d=this._tileSize=this.getTileSize(),v=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],v).x/d.x),Math.ceil(r.project([0,u.wrapLng[1]],v).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],v).y/d.x),Math.ceil(r.project([u.wrapLat[1],0],v).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(d,this._tileZoom),A=u.project(r,this._tileZoom).floor(),U=u.getSize().divideBy(v*2);return new st(A.subtract(U),A.add(U))},_update:function(r){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(r),A=this._pxBoundsToTileRange(v),U=A.getCenter(),K=[],ut=this.options.keepBuffer,vt=new st(A.getBottomLeft().subtract([ut,-ut]),A.getTopRight().add([ut,-ut]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var St in this._tiles){var Nt=this._tiles[St].coords;(Nt.z!==this._tileZoom||!vt.contains(new $(Nt.x,Nt.y)))&&(this._tiles[St].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(r,d);return}for(var Rt=A.min.y;Rt<=A.max.y;Rt++)for(var Mt=A.min.x;Mt<=A.max.x;Mt++){var Vt=new $(Mt,Rt);if(Vt.z=this._tileZoom,!!this._isValidTile(Vt)){var Be=this._tiles[this._tileCoordsToKey(Vt)];Be?Be.current=!0:K.push(Vt)}}if(K.sort(function(jn,Ci){return jn.distanceTo(U)-Ci.distanceTo(U)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Je=document.createDocumentFragment();for(Mt=0;Mt<K.length;Mt++)this._addTile(K[Mt],Je);this._level.el.appendChild(Je)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(r.x<d.min.x||r.x>d.max.x)||!u.wrapLat&&(r.y<d.min.y||r.y>d.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(r);return mt(this.options.bounds).overlaps(v)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,d=this.getTileSize(),v=r.scaleBy(d),A=v.add(d),U=u.unproject(v,r.z),K=u.unproject(A,r.z);return[U,K]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),d=new ft(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),d=new $(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(r){var u=this._tiles[r];u&&(Te(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){qt(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=S,r.onmousemove=S,Lt.ielt9&&this.options.opacity<1&&Ue(r,this.options.opacity)},_addTile:function(r,u){var d=this._getTilePos(r),v=this._tileCoordsToKey(r),A=this.createTile(this._wrapCoords(r),m(this._tileReady,this,r));this._initTile(A),this.createTile.length<2&&j(m(this._tileReady,this,r,null,A)),zt(A,d),this._tiles[v]={el:A,coords:r,current:!0},u.appendChild(A),this.fire("tileloadstart",{tile:A,coords:r})},_tileReady:function(r,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:r});var v=this._tileCoordsToKey(r);d=this._tiles[v],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ue(d.el,0),H(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(qt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new $(this._wrapX?E(r.x,this._wrapX):r.x,this._wrapY?E(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new st(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Zi(r){return new Cr(r)}var Nr=Cr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=G(this,u),u.detectRetina&&Lt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var d=document.createElement("img");return Pt(d,"load",m(this._tileOnLoad,this,u,d)),Pt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(r),d},getTileUrl:function(r){var u={r:Lt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=d),u["-y"]=d}return ct(this._url,l(u,this.options))},_tileOnLoad:function(r,u){Lt.ielt9?setTimeout(m(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,d){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),r(d,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,v=this.options.zoomOffset;return d&&(r=u-r),r+v},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=S,u.onerror=S,!u.complete)){u.src=nt;var d=this._tiles[r].coords;Te(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",nt),Cr.prototype._removeTile.call(this,r)},_tileReady:function(r,u,d){if(!(!this._map||d&&d.getAttribute("src")===nt))return Cr.prototype._tileReady.call(this,r,u,d)}});function gi(r,u){return new Nr(r,u)}var _i=Nr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var d=l({},this.defaultWmsParams);for(var v in u)v in this.options||(d[v]=u[v]);u=G(this,u);var A=u.detectRetina&&Lt.retina?2:1,U=this.getTileSize();d.width=U.x*A,d.height=U.y*A,this.wmsParams=d},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Nr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),d=this._crs,v=lt(d.project(u[0]),d.project(u[1])),A=v.min,U=v.max,K=(this._wmsVersion>=1.3&&this._crs===ne?[A.y,A.x,U.y,U.x]:[A.x,A.y,U.x,U.y]).join(","),ut=Nr.prototype.getTileUrl.call(this,r);return ut+W(this.wmsParams,ut,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(r,u){return l(this.wmsParams,r),u||this.redraw(),this}});function xo(r,u){return new _i(r,u)}Nr.WMS=_i,gi.wms=xo;var Wi=Ae.extend({options:{padding:.1},initialize:function(r){G(this,r),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var d=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,u),U=v.multiplyBy(-d).add(A).subtract(this._map._getNewPixelOrigin(r,u));Lt.any3d?qn(this._container,U,d):zt(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new st(d,d.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ea=Wi.extend({options:{tolerance:0},getEvents:function(){var r=Wi.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Pt(r,"mousemove",this._onMouseMove,this),Pt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Te(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var r=this._bounds,u=this._container,d=r.getSize(),v=Lt.retina?2:1;zt(u,r.min),u.width=v*d.x,u.height=v*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Wi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[y(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,d=u.next,v=u.prev;d?d.prev=v:this._drawLast=v,v?v.next=d:this._drawFirst=d,delete r._order,delete this._layers[y(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),d=[],v,A;for(A=0;A<u.length;A++){if(v=Number(u[A]),isNaN(v))return;d.push(v)}r.options._dashArray=d}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new st,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)r=v.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var d,v,A,U,K=r._parts,ut=K.length,vt=this._ctx;if(ut){for(vt.beginPath(),d=0;d<ut;d++){for(v=0,A=K[d].length;v<A;v++)U=K[d][v],vt[v?"lineTo":"moveTo"](U.x,U.y);u&&vt.closePath()}this._fillStroke(vt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,d=this._ctx,v=Math.max(Math.round(r._radius),1),A=(Math.max(Math.round(r._radiusY),1)||v)/v;A!==1&&(d.save(),d.scale(1,A)),d.beginPath(),d.arc(u.x,u.y/A,v,0,Math.PI*2,!1),A!==1&&d.restore(),this._fillStroke(d,r)}},_fillStroke:function(r,u){var d=u.options;d.fill&&(r.globalAlpha=d.fillOpacity,r.fillStyle=d.fillColor||d.color,r.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=d.opacity,r.lineWidth=d.weight,r.strokeStyle=d.color,r.lineCap=d.lineCap,r.lineJoin=d.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),d,v,A=this._drawFirst;A;A=A.next)d=A.layer,d.options.interactive&&d._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(d))&&(v=d);this._fireEvent(v?[v]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var d,v,A=this._drawFirst;A;A=A.next)d=A.layer,d.options.interactive&&d._containsPoint(u)&&(v=d);v!==this._hoveredLayer&&(this._handleMouseOut(r),v&&(qt(this._container,"leaflet-interactive"),this._fireEvent([v],r,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,d){this._map._fireDOMEvent(u,d||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var d=u.next,v=u.prev;if(d)d.prev=v;else return;v?v.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var d=u.next,v=u.prev;if(v)v.next=d;else return;d?d.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function Sa(r){return Lt.canvas?new Ea(r):null}var Rr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Eo={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wi.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=Rr("shape");qt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=Rr("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;Te(u),r.removeInteractiveTarget(u),delete this._layers[y(r)]},_updateStyle:function(r){var u=r._stroke,d=r._fill,v=r.options,A=r._container;A.stroked=!!v.stroke,A.filled=!!v.fill,v.stroke?(u||(u=r._stroke=Rr("stroke")),A.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=et(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(A.removeChild(u),r._stroke=null),v.fill?(d||(d=r._fill=Rr("fill")),A.appendChild(d),d.color=v.fillColor||v.color,d.opacity=v.fillOpacity):d&&(A.removeChild(d),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),d=Math.round(r._radius),v=Math.round(r._radiusY||d);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+v+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){os(r._container)},_bringToBack:function(r){Ys(r._container)}},Ta=Lt.vml?Rr:be,er=Wi.extend({_initContainer:function(){this._container=Ta("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ta("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Te(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var r=this._bounds,u=r.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),zt(d,r.min),d.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=Ta("path");r.options.className&&qt(u,r.options.className),r.options.interactive&&qt(u,"leaflet-interactive"),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Te(r._path),r.removeInteractiveTarget(r._path),delete this._layers[y(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,d=r.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,We(r._parts,u))},_updateCircle:function(r){var u=r._point,d=Math.max(Math.round(r._radius),1),v=Math.max(Math.round(r._radiusY),1)||d,A="a"+d+","+v+" 0 1,0 ",U=r._empty()?"M0 0":"M"+(u.x-d)+","+u.y+A+d*2+",0 "+A+-d*2+",0 ";this._setPath(r,U)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){os(r._path)},_bringToBack:function(r){Ys(r._path)}});Lt.vml&&er.include(Eo);function Ir(r){return Lt.svg||Lt.vml?new er(r):null}Wt.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&Sa(r)||Ir(r)}});var Kc=yo.extend({initialize:function(r,u){yo.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=mt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function vi(r,u){return new Kc(r,u)}er.create=Ta,er.pointsToPath=We,pi.geometryToLayer=ya,pi.coordsToLatLng=hl,pi.coordsToLatLngs=wa,pi.latLngToCoords=ba,pi.latLngsToCoords=fl,pi.getFeature=qi,pi.asFeature=wo,Wt.mergeOptions({boxZoom:!0});var gl=si.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),On(),br(),this._startPoint=this._map.mouseEventToContainerPoint(r),Pt(document,{contextmenu:Dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new st(this._point,this._startPoint),d=u.getSize();zt(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Te(this._box),Ce(this._container,"leaflet-crosshair")),zi(),fa(),ue(document,{contextmenu:Dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new ft(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",gl),Wt.mergeOptions({doubleClickZoom:!0});var hs=si.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,d=u.getZoom(),v=u.options.zoomDelta,A=r.originalEvent.shiftKey?d-v:d+v;u.options.doubleClickZoom==="center"?u.setZoom(A):u.setZoomAround(r.containerPoint,A)}});Wt.addInitHook("addHandler","doubleClickZoom",hs),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gu=si.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Vi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=mt(this._map.options.maxBounds);this._offsetLimit=lt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),d=this._initialWorldOffset,v=this._draggable._newPos.x,A=(v-u+d)%r+u-d,U=(v+u+d)%r-u-d,K=Math.abs(A+d)<Math.abs(U+d)?A:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(r){var u=this._map,d=u.options,v=!d.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),v)u.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,K=d.easeLinearity,ut=A.multiplyBy(K/U),vt=ut.distanceTo([0,0]),St=Math.min(d.inertiaMaxSpeed,vt),Nt=ut.multiplyBy(St/vt),Rt=St/(d.inertiaDeceleration*K),Mt=Nt.multiplyBy(-Rt/2).round();!Mt.x&&!Mt.y?u.fire("moveend"):(Mt=u._limitOffset(Mt,u.options.maxBounds),j(function(){u.panBy(Mt,{duration:Rt,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",gu),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Aa=si.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Pt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,d=r.scrollTop||u.scrollTop,v=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},d=this.keyCodes,v,A;for(v=0,A=d.left.length;v<A;v++)u[d.left[v]]=[-1*r,0];for(v=0,A=d.right.length;v<A;v++)u[d.right[v]]=[r,0];for(v=0,A=d.down.length;v<A;v++)u[d.down[v]]=[0,r];for(v=0,A=d.up.length;v<A;v++)u[d.up[v]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},d=this.keyCodes,v,A;for(v=0,A=d.zoomIn.length;v<A;v++)u[d.zoomIn[v]]=r;for(v=0,A=d.zoomOut.length;v<A;v++)u[d.zoomOut[v]]=-r},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,d=this._map,v;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(v=this._panKeys[u],r.shiftKey&&(v=B(v).multiplyBy(3)),d.options.maxBounds&&(v=d._limitOffset(B(v),d.options.maxBounds)),d.options.worldCopyJump){var A=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(v)));d.panTo(A)}else d.panBy(v)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Dn(r)}}});Wt.addInitHook("addHandler","keyboard",Aa),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nr=si.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=xr(r),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var v=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),v),Dn(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),d=this._map.options.zoomSnap||0;r._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,U=d?Math.ceil(A/d)*d:A,K=r._limitZoom(u+(this._delta>0?U:-U))-u;this._delta=0,this._startTime=null,K&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+K):r.setZoomAround(this._lastMousePos,u+K))}});Wt.addInitHook("addHandler","scrollWheelZoom",nr);var _u=600;Wt.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var _l=si.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new $(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",Ie),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),_u),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ue(document,"touchend",Ie),ue(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new $(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var d=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Wt.addInitHook("addHandler","tapHold",_l),Wt.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var kr=si.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(r.touches[0]),v=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(v)._divideBy(2))),this._startDist=d.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),Ie(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(r.touches[0]),v=u.mouseEventToContainerPoint(r.touches[1]),A=d.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(A,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&A<1||this._zoom>u.getMaxZoom()&&A>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var U=d._add(v)._divideBy(2)._subtract(this._centerPoint);if(A===1&&U.x===0&&U.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var K=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(K,this,!0),Ie(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",kr),Wt.BoxZoom=gl,Wt.DoubleClickZoom=hs,Wt.Drag=gu,Wt.Keyboard=Aa,Wt.ScrollWheelZoom=nr,Wt.TapHold=_l,Wt.TouchZoom=kr,n.Bounds=st,n.Browser=Lt,n.CRS=Dt,n.Canvas=Ea,n.Circle=du,n.CircleMarker=va,n.Class=J,n.Control=Tn,n.DivIcon=pu,n.DivOverlay=Gi,n.DomEvent=ol,n.DomUtil=da,n.Draggable=Vi,n.Evented=z,n.FeatureGroup=yn,n.GeoJSON=pi,n.GridLayer=Cr,n.Handler=si,n.Icon=go,n.ImageOverlay=cs,n.LatLng=rt,n.LatLngBounds=ft,n.Layer=Ae,n.LayerGroup=ri,n.LineUtil=ht,n.Map=Wt,n.Marker=vo,n.Mixin=Sr,n.Path=Rs,n.Point=$,n.PolyUtil=fo,n.Polygon=yo,n.Polyline=Is,n.Popup=xa,n.PosAnimation=Er,n.Projection=ve,n.Rectangle=Kc,n.Renderer=Wi,n.SVG=er,n.SVGOverlay=tr,n.TileLayer=Nr,n.Tooltip=pl,n.Transformation=oe,n.Util=D,n.VideoOverlay=ml,n.bind=m,n.bounds=lt,n.canvas=Sa,n.circle=id,n.circleMarker=qc,n.control=Pn,n.divIcon=Yc,n.extend=l,n.featureGroup=Ns,n.geoJSON=dl,n.geoJson=Gc,n.gridLayer=Zi,n.icon=cl,n.imageOverlay=bo,n.latLng=wt,n.latLngBounds=mt,n.layerGroup=oi,n.map=ls,n.marker=fu,n.point=B,n.polygon=mi,n.polyline=sd,n.popup=rd,n.rectangle=vi,n.setOptions=G,n.stamp=y,n.svg=Ir,n.svgOverlay=Wc,n.tileLayer=gi,n.tooltip=od,n.transformation=me,n.version=o,n.videoOverlay=Zc;var So=window.L;n.noConflict=function(){return window.L=So,this},window.L=n}))})(rc,rc.exports)),rc.exports}var td=P3();const ed=u1(td);function L2(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function O2(s,t){return t==null?function(o,l){const h=Tt.useRef(void 0);return h.current||(h.current=s(o,l)),h}:function(o,l){const h=Tt.useRef(void 0);h.current||(h.current=s(o,l));const m=Tt.useRef(o),{instance:g}=h.current;return Tt.useEffect(function(){m.current!==o&&(t(g,o,m.current),m.current=o)},[g,o,t]),h}}function j3(s,t){Tt.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function D2(s){return function(n){const o=k2(),l=s(M2(n,o),o);return N3(o.map,n.attribution),O3(l.current,n.eventHandlers),j3(l.current,o),l}}function U3(s,t){const n=O2(s,t),o=D2(n);return M3(o)}function z3(s,t){const n=O2(s,t),o=D2(n);return L3(o)}function B3(s,t,n){const{opacity:o,zIndex:l}=t;o!=null&&o!==n.opacity&&s.setOpacity(o),l!=null&&l!==n.zIndex&&s.setZIndex(l)}function H3(){return k2().map}function P2(s){const t=H3();return Tt.useEffect(function(){return t.on(s),function(){t.off(s)}},[t,s]),t}function F3({bounds:s,boundsOptions:t,center:n,children:o,className:l,id:h,placeholder:m,style:g,whenReady:y,zoom:b,...E},S){const[x]=Tt.useState({className:l,id:h,style:g}),[k,O]=Tt.useState(null),G=Tt.useRef(void 0);Tt.useImperativeHandle(S,()=>k?.map??null,[k]);const W=Tt.useCallback(ct=>{if(ct!==null&&!G.current){const et=new td.Map(ct,E);G.current=et,n!=null&&b!=null?et.setView(n,b):s!=null&&et.fitBounds(s,t),y!=null&&et.whenReady(y),O(I3(et))}},[]);Tt.useEffect(()=>()=>{k?.map.remove()},[k]);const Z=k?np.createElement(Mg,{value:k},o):m??null;return np.createElement("div",{...x,ref:W},Z)}const j2=Tt.forwardRef(F3),U2=U3(function({position:t,...n},o){const l=new td.Marker(t,n);return L2(l,k3(o,{overlayContainer:l}))},function(t,n,o){n.position!==o.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==o.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==o.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==o.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),z2=z3(function({url:t,...n},o){const l=new td.TileLayer(t,M2(n,o));return L2(l,o)},function(t,n,o){B3(t,n,o);const{url:l}=n;l!=null&&l!==o.url&&t.setUrl(l)}),B2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",H2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",F2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function V3(s,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(o){if(o!=="default"&&!(o in s)){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}}))})),Object.freeze(s)}function V2(s,t){return new Promise((function(n,o){let l;return q3(s).then((function(h){try{return l=h,n(new Blob([t.slice(0,2),l,t.slice(2)],{type:"image/jpeg"}))}catch(m){return o(m)}}),o)}))}const q3=s=>new Promise(((t,n)=>{const o=new FileReader;o.addEventListener("load",(({target:{result:l}})=>{const h=new DataView(l);let m=0;if(h.getUint16(m)!==65496)return n("not a valid JPEG");for(m+=2;;){const g=h.getUint16(m);if(g===65498)break;const y=h.getUint16(m+2);if(g===65505&&h.getUint32(m+4)===1165519206){const b=m+10;let E;switch(h.getUint16(b)){case 18761:E=!0;break;case 19789:E=!1;break;default:return n("TIFF header contains invalid endian")}if(h.getUint16(b+2,E)!==42)return n("TIFF header contains invalid version");const S=h.getUint32(b+4,E),x=b+S+2+12*h.getUint16(b+S,E);for(let k=b+S+2;k<x;k+=12)if(h.getUint16(k,E)==274){if(h.getUint16(k+2,E)!==3)return n("Orientation data type is invalid");if(h.getUint32(k+4,E)!==1)return n("Orientation data count is invalid");h.setUint16(k+8,1,E);break}return t(l.slice(m,m+2+y))}m+=2+y}return t(new Blob)})),o.readAsArrayBuffer(s)}));var kf={},G3={get exports(){return kf},set exports(s){kf=s}};(function(s){var t,n,o={};G3.exports=o,o.parse=function(l,h){for(var m=o.bin.readUshort,g=o.bin.readUint,y=0,b={},E=new Uint8Array(l),S=E.length-4;g(E,S)!=101010256;)S--;y=S,y+=4;var x=m(E,y+=4);m(E,y+=2);var k=g(E,y+=2),O=g(E,y+=4);y+=4,y=O;for(var G=0;G<x;G++){g(E,y),y+=4,y+=4,y+=4,g(E,y+=4),k=g(E,y+=4);var W=g(E,y+=4),Z=m(E,y+=4),ct=m(E,y+2),et=m(E,y+4);y+=6;var Q=g(E,y+=8);y+=4,y+=Z+ct+et,o._readLocal(E,Q,b,k,W,h)}return b},o._readLocal=function(l,h,m,g,y,b){var E=o.bin.readUshort,S=o.bin.readUint;S(l,h),E(l,h+=4),E(l,h+=2);var x=E(l,h+=2);S(l,h+=2),S(l,h+=4),h+=4;var k=E(l,h+=8),O=E(l,h+=2);h+=2;var G=o.bin.readUTF8(l,h,k);if(h+=k,h+=O,b)m[G]={size:y,csize:g};else{var W=new Uint8Array(l.buffer,h);if(x==0)m[G]=new Uint8Array(W.buffer.slice(h,h+g));else{if(x!=8)throw"unknown compression method: "+x;var Z=new Uint8Array(y);o.inflateRaw(W,Z),m[G]=Z}}},o.inflateRaw=function(l,h){return o.F.inflate(l,h)},o.inflate=function(l,h){return l[0],l[1],o.inflateRaw(new Uint8Array(l.buffer,l.byteOffset+2,l.length-6),h)},o.deflate=function(l,h){h==null&&(h={level:6});var m=0,g=new Uint8Array(50+Math.floor(1.1*l.length));g[m]=120,g[m+1]=156,m+=2,m=o.F.deflateRaw(l,g,m,h.level);var y=o.adler(l,0,l.length);return g[m+0]=y>>>24&255,g[m+1]=y>>>16&255,g[m+2]=y>>>8&255,g[m+3]=y>>>0&255,new Uint8Array(g.buffer,0,m+4)},o.deflateRaw=function(l,h){h==null&&(h={level:6});var m=new Uint8Array(50+Math.floor(1.1*l.length)),g=o.F.deflateRaw(l,m,g,h.level);return new Uint8Array(m.buffer,0,g)},o.encode=function(l,h){h==null&&(h=!1);var m=0,g=o.bin.writeUint,y=o.bin.writeUshort,b={};for(var E in l){var S=!o._noNeed(E)&&!h,x=l[E],k=o.crc.crc(x,0,x.length);b[E]={cpr:S,usize:x.length,crc:k,file:S?o.deflateRaw(x):x}}for(var E in b)m+=b[E].file.length+30+46+2*o.bin.sizeUTF8(E);m+=22;var O=new Uint8Array(m),G=0,W=[];for(var E in b){var Z=b[E];W.push(G),G=o._writeHeader(O,G,E,Z,0)}var ct=0,et=G;for(var E in b)Z=b[E],W.push(G),G=o._writeHeader(O,G,E,Z,1,W[ct++]);var Q=G-et;return g(O,G,101010256),G+=4,y(O,G+=4,ct),y(O,G+=2,ct),g(O,G+=2,Q),g(O,G+=4,et),G+=4,G+=2,O.buffer},o._noNeed=function(l){var h=l.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(h)!=-1},o._writeHeader=function(l,h,m,g,y,b){var E=o.bin.writeUint,S=o.bin.writeUshort,x=g.file;return E(l,h,y==0?67324752:33639248),h+=4,y==1&&(h+=2),S(l,h,20),S(l,h+=2,0),S(l,h+=2,g.cpr?8:0),E(l,h+=2,0),E(l,h+=4,g.crc),E(l,h+=4,x.length),E(l,h+=4,g.usize),S(l,h+=4,o.bin.sizeUTF8(m)),S(l,h+=2,0),h+=2,y==1&&(h+=2,h+=2,E(l,h+=6,b),h+=4),h+=o.bin.writeUTF8(l,h,m),y==0&&(l.set(x,h),h+=x.length),h},o.crc={table:(function(){for(var l=new Uint32Array(256),h=0;h<256;h++){for(var m=h,g=0;g<8;g++)1&m?m=3988292384^m>>>1:m>>>=1;l[h]=m}return l})(),update:function(l,h,m,g){for(var y=0;y<g;y++)l=o.crc.table[255&(l^h[m+y])]^l>>>8;return l},crc:function(l,h,m){return 4294967295^o.crc.update(4294967295,l,h,m)}},o.adler=function(l,h,m){for(var g=1,y=0,b=h,E=h+m;b<E;){for(var S=Math.min(b+5552,E);b<S;)y+=g+=l[b++];g%=65521,y%=65521}return y<<16|g},o.bin={readUshort:function(l,h){return l[h]|l[h+1]<<8},writeUshort:function(l,h,m){l[h]=255&m,l[h+1]=m>>8&255},readUint:function(l,h){return 16777216*l[h+3]+(l[h+2]<<16|l[h+1]<<8|l[h])},writeUint:function(l,h,m){l[h]=255&m,l[h+1]=m>>8&255,l[h+2]=m>>16&255,l[h+3]=m>>24&255},readASCII:function(l,h,m){for(var g="",y=0;y<m;y++)g+=String.fromCharCode(l[h+y]);return g},writeASCII:function(l,h,m){for(var g=0;g<m.length;g++)l[h+g]=m.charCodeAt(g)},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,h,m){for(var g,y="",b=0;b<m;b++)y+="%"+o.bin.pad(l[h+b].toString(16));try{g=decodeURIComponent(y)}catch{return o.bin.readASCII(l,h,m)}return g},writeUTF8:function(l,h,m){for(var g=m.length,y=0,b=0;b<g;b++){var E=m.charCodeAt(b);if((4294967168&E)==0)l[h+y]=E,y++;else if((4294965248&E)==0)l[h+y]=192|E>>6,l[h+y+1]=128|E>>0&63,y+=2;else if((4294901760&E)==0)l[h+y]=224|E>>12,l[h+y+1]=128|E>>6&63,l[h+y+2]=128|E>>0&63,y+=3;else{if((4292870144&E)!=0)throw"e";l[h+y]=240|E>>18,l[h+y+1]=128|E>>12&63,l[h+y+2]=128|E>>6&63,l[h+y+3]=128|E>>0&63,y+=4}}return y},sizeUTF8:function(l){for(var h=l.length,m=0,g=0;g<h;g++){var y=l.charCodeAt(g);if((4294967168&y)==0)m++;else if((4294965248&y)==0)m+=2;else if((4294901760&y)==0)m+=3;else{if((4292870144&y)!=0)throw"e";m+=4}}return m}},o.F={},o.F.deflateRaw=function(l,h,m,g){var y=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][g],b=o.F.U,E=o.F._goodIndex;o.F._hash;var S=o.F._putsE,x=0,k=m<<3,O=0,G=l.length;if(g==0){for(;x<G;)S(h,k,x+(j=Math.min(65535,G-x))==G?1:0),k=o.F._copyExact(l,x,j,h,k+8),x+=j;return k>>>3}var W=b.lits,Z=b.strt,ct=b.prev,et=0,Q=0,nt=0,Y=0,q=0,C=0;for(G>2&&(Z[C=o.F._hash(l,0)]=0),x=0;x<G;x++){if(q=C,x+1<G-2){C=o.F._hash(l,x+1);var N=x+1&32767;ct[N]=Z[C],Z[C]=N}if(O<=x){(et>14e3||Q>26697)&&G-x>100&&(O<x&&(W[et]=x-O,et+=2,O=x),k=o.F._writeBlock(x==G-1||O==G?1:0,W,et,Y,l,nt,x-nt,h,k),et=Q=Y=0,nt=x);var P=0;x<G-2&&(P=o.F._bestMatch(l,x,ct,q,Math.min(y[2],G-x),y[3]));var j=P>>>16,H=65535&P;if(P!=0){H=65535&P;var D=E(j=P>>>16,b.of0);b.lhst[257+D]++;var J=E(H,b.df0);b.dhst[J]++,Y+=b.exb[D]+b.dxb[J],W[et]=j<<23|x-O,W[et+1]=H<<16|D<<8|J,et+=2,O=x+j}else b.lhst[l[x]]++;Q++}}for(nt==x&&l.length!=0||(O<x&&(W[et]=x-O,et+=2,O=x),k=o.F._writeBlock(1,W,et,Y,l,nt,x-nt,h,k),et=0,Q=0,et=Q=Y=0,nt=x);(7&k)!=0;)k++;return k>>>3},o.F._bestMatch=function(l,h,m,g,y,b){var E=32767&h,S=m[E],x=E-S+32768&32767;if(S==E||g!=o.F._hash(l,h-x))return 0;for(var k=0,O=0,G=Math.min(32767,h);x<=G&&--b!=0&&S!=E;){if(k==0||l[h+k]==l[h+k-x]){var W=o.F._howLong(l,h,x);if(W>k){if(O=x,(k=W)>=y)break;x+2<W&&(W=x+2);for(var Z=0,ct=0;ct<W-2;ct++){var et=h-x+ct+32768&32767,Q=et-m[et]+32768&32767;Q>Z&&(Z=Q,S=et)}}}x+=(E=S)-(S=m[E])+32768&32767}return k<<16|O},o.F._howLong=function(l,h,m){if(l[h]!=l[h-m]||l[h+1]!=l[h+1-m]||l[h+2]!=l[h+2-m])return 0;var g=h,y=Math.min(l.length,h+258);for(h+=3;h<y&&l[h]==l[h-m];)h++;return h-g},o.F._hash=function(l,h){return(l[h]<<8|l[h+1])+(l[h+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(l,h,m,g,y,b,E,S,x){var k,O,G,W,Z,ct,et,Q,nt,Y=o.F.U,q=o.F._putsF,C=o.F._putsE;Y.lhst[256]++,O=(k=o.F.getTrees())[0],G=k[1],W=k[2],Z=k[3],ct=k[4],et=k[5],Q=k[6],nt=k[7];var N=32+((x+3&7)==0?0:8-(x+3&7))+(E<<3),P=g+o.F.contSize(Y.fltree,Y.lhst)+o.F.contSize(Y.fdtree,Y.dhst),j=g+o.F.contSize(Y.ltree,Y.lhst)+o.F.contSize(Y.dtree,Y.dhst);j+=14+3*et+o.F.contSize(Y.itree,Y.ihst)+(2*Y.ihst[16]+3*Y.ihst[17]+7*Y.ihst[18]);for(var H=0;H<286;H++)Y.lhst[H]=0;for(H=0;H<30;H++)Y.dhst[H]=0;for(H=0;H<19;H++)Y.ihst[H]=0;var D=N<P&&N<j?0:P<j?1:2;if(q(S,x,l),q(S,x+1,D),x+=3,D==0){for(;(7&x)!=0;)x++;x=o.F._copyExact(y,b,E,S,x)}else{var J,it;if(D==1&&(J=Y.fltree,it=Y.fdtree),D==2){o.F.makeCodes(Y.ltree,O),o.F.revCodes(Y.ltree,O),o.F.makeCodes(Y.dtree,G),o.F.revCodes(Y.dtree,G),o.F.makeCodes(Y.itree,W),o.F.revCodes(Y.itree,W),J=Y.ltree,it=Y.dtree,C(S,x,Z-257),C(S,x+=5,ct-1),C(S,x+=5,et-4),x+=4;for(var M=0;M<et;M++)C(S,x+3*M,Y.itree[1+(Y.ordr[M]<<1)]);x+=3*et,x=o.F._codeTiny(Q,Y.itree,S,x),x=o.F._codeTiny(nt,Y.itree,S,x)}for(var z=b,$=0;$<m;$+=2){for(var ot=h[$],B=ot>>>23,st=z+(8388607&ot);z<st;)x=o.F._writeLit(y[z++],J,S,x);if(B!=0){var lt=h[$+1],ft=lt>>16,mt=lt>>8&255,rt=255&lt;C(S,x=o.F._writeLit(257+mt,J,S,x),B-Y.of0[mt]),x+=Y.exb[mt],q(S,x=o.F._writeLit(rt,it,S,x),ft-Y.df0[rt]),x+=Y.dxb[rt],z+=B}}x=o.F._writeLit(256,J,S,x)}return x},o.F._copyExact=function(l,h,m,g,y){var b=y>>>3;return g[b]=m,g[b+1]=m>>>8,g[b+2]=255-g[b],g[b+3]=255-g[b+1],b+=4,g.set(new Uint8Array(l.buffer,h,m),b),y+(m+4<<3)},o.F.getTrees=function(){for(var l=o.F.U,h=o.F._hufTree(l.lhst,l.ltree,15),m=o.F._hufTree(l.dhst,l.dtree,15),g=[],y=o.F._lenCodes(l.ltree,g),b=[],E=o.F._lenCodes(l.dtree,b),S=0;S<g.length;S+=2)l.ihst[g[S]]++;for(S=0;S<b.length;S+=2)l.ihst[b[S]]++;for(var x=o.F._hufTree(l.ihst,l.itree,7),k=19;k>4&&l.itree[1+(l.ordr[k-1]<<1)]==0;)k--;return[h,m,x,y,E,k,g,b]},o.F.getSecond=function(l){for(var h=[],m=0;m<l.length;m+=2)h.push(l[m+1]);return h},o.F.nonZero=function(l){for(var h="",m=0;m<l.length;m+=2)l[m+1]!=0&&(h+=(m>>1)+",");return h},o.F.contSize=function(l,h){for(var m=0,g=0;g<h.length;g++)m+=h[g]*l[1+(g<<1)];return m},o.F._codeTiny=function(l,h,m,g){for(var y=0;y<l.length;y+=2){var b=l[y],E=l[y+1];g=o.F._writeLit(b,h,m,g);var S=b==16?2:b==17?3:7;b>15&&(o.F._putsE(m,g,E,S),g+=S)}return g},o.F._lenCodes=function(l,h){for(var m=l.length;m!=2&&l[m-1]==0;)m-=2;for(var g=0;g<m;g+=2){var y=l[g+1],b=g+3<m?l[g+3]:-1,E=g+5<m?l[g+5]:-1,S=g==0?-1:l[g-1];if(y==0&&b==y&&E==y){for(var x=g+5;x+2<m&&l[x+2]==y;)x+=2;(k=Math.min(x+1-g>>>1,138))<11?h.push(17,k-3):h.push(18,k-11),g+=2*k-2}else if(y==S&&b==y&&E==y){for(x=g+5;x+2<m&&l[x+2]==y;)x+=2;var k=Math.min(x+1-g>>>1,6);h.push(16,k-3),g+=2*k-2}else h.push(y,0)}return m>>>1},o.F._hufTree=function(l,h,m){var g=[],y=l.length,b=h.length,E=0;for(E=0;E<b;E+=2)h[E]=0,h[E+1]=0;for(E=0;E<y;E++)l[E]!=0&&g.push({lit:E,f:l[E]});var S=g.length,x=g.slice(0);if(S==0)return 0;if(S==1){var k=g[0].lit;return x=k==0?1:0,h[1+(k<<1)]=1,h[1+(x<<1)]=1,1}g.sort((function(Q,nt){return Q.f-nt.f}));var O=g[0],G=g[1],W=0,Z=1,ct=2;for(g[0]={lit:-1,f:O.f+G.f,l:O,r:G,d:0};Z!=S-1;)O=W!=Z&&(ct==S||g[W].f<g[ct].f)?g[W++]:g[ct++],G=W!=Z&&(ct==S||g[W].f<g[ct].f)?g[W++]:g[ct++],g[Z++]={lit:-1,f:O.f+G.f,l:O,r:G};var et=o.F.setDepth(g[Z-1],0);for(et>m&&(o.F.restrictDepth(x,m,et),et=m),E=0;E<S;E++)h[1+(x[E].lit<<1)]=x[E].d;return et},o.F.setDepth=function(l,h){return l.lit!=-1?(l.d=h,h):Math.max(o.F.setDepth(l.l,h+1),o.F.setDepth(l.r,h+1))},o.F.restrictDepth=function(l,h,m){var g=0,y=1<<m-h,b=0;for(l.sort((function(S,x){return x.d==S.d?S.f-x.f:x.d-S.d})),g=0;g<l.length&&l[g].d>h;g++){var E=l[g].d;l[g].d=h,b+=y-(1<<m-E)}for(b>>>=m-h;b>0;)(E=l[g].d)<h?(l[g].d++,b-=1<<h-E-1):g++;for(;g>=0;g--)l[g].d==h&&b<0&&(l[g].d--,b++);b!=0&&console.log("debt left")},o.F._goodIndex=function(l,h){var m=0;return h[16|m]<=l&&(m|=16),h[8|m]<=l&&(m|=8),h[4|m]<=l&&(m|=4),h[2|m]<=l&&(m|=2),h[1|m]<=l&&(m|=1),m},o.F._writeLit=function(l,h,m,g){return o.F._putsF(m,g,h[l<<1]),g+h[1+(l<<1)]},o.F.inflate=function(l,h){var m=Uint8Array;if(l[0]==3&&l[1]==0)return h||new m(0);var g=o.F,y=g._bitsF,b=g._bitsE,E=g._decodeTiny,S=g.makeCodes,x=g.codes2map,k=g._get17,O=g.U,G=h==null;G&&(h=new m(l.length>>>2<<3));for(var W,Z,ct=0,et=0,Q=0,nt=0,Y=0,q=0,C=0,N=0,P=0;ct==0;)if(ct=y(l,P,1),et=y(l,P+1,2),P+=3,et!=0){if(G&&(h=o.F._check(h,N+(1<<17))),et==1&&(W=O.flmap,Z=O.fdmap,q=511,C=31),et==2){Q=b(l,P,5)+257,nt=b(l,P+5,5)+1,Y=b(l,P+10,4)+4,P+=14;for(var j=0;j<38;j+=2)O.itree[j]=0,O.itree[j+1]=0;var H=1;for(j=0;j<Y;j++){var D=b(l,P+3*j,3);O.itree[1+(O.ordr[j]<<1)]=D,D>H&&(H=D)}P+=3*Y,S(O.itree,H),x(O.itree,H,O.imap),W=O.lmap,Z=O.dmap,P=E(O.imap,(1<<H)-1,Q+nt,l,P,O.ttree);var J=g._copyOut(O.ttree,0,Q,O.ltree);q=(1<<J)-1;var it=g._copyOut(O.ttree,Q,nt,O.dtree);C=(1<<it)-1,S(O.ltree,J),x(O.ltree,J,W),S(O.dtree,it),x(O.dtree,it,Z)}for(;;){var M=W[k(l,P)&q];P+=15&M;var z=M>>>4;if(!(z>>>8))h[N++]=z;else{if(z==256)break;var $=N+z-254;if(z>264){var ot=O.ldef[z-257];$=N+(ot>>>3)+b(l,P,7&ot),P+=7&ot}var B=Z[k(l,P)&C];P+=15&B;var st=B>>>4,lt=O.ddef[st],ft=(lt>>>4)+y(l,P,15&lt);for(P+=15&lt,G&&(h=o.F._check(h,N+(1<<17)));N<$;)h[N]=h[N++-ft],h[N]=h[N++-ft],h[N]=h[N++-ft],h[N]=h[N++-ft];N=$}}}else{(7&P)!=0&&(P+=8-(7&P));var mt=4+(P>>>3),rt=l[mt-4]|l[mt-3]<<8;G&&(h=o.F._check(h,N+rt)),h.set(new m(l.buffer,l.byteOffset+mt,rt),N),P=mt+rt<<3,N+=rt}return h.length==N?h:h.slice(0,N)},o.F._check=function(l,h){var m=l.length;if(h<=m)return l;var g=new Uint8Array(Math.max(m<<1,h));return g.set(l,0),g},o.F._decodeTiny=function(l,h,m,g,y,b){for(var E=o.F._bitsE,S=o.F._get17,x=0;x<m;){var k=l[S(g,y)&h];y+=15&k;var O=k>>>4;if(O<=15)b[x]=O,x++;else{var G=0,W=0;O==16?(W=3+E(g,y,2),y+=2,G=b[x-1]):O==17?(W=3+E(g,y,3),y+=3):O==18&&(W=11+E(g,y,7),y+=7);for(var Z=x+W;x<Z;)b[x]=G,x++}}return y},o.F._copyOut=function(l,h,m,g){for(var y=0,b=0,E=g.length>>>1;b<m;){var S=l[b+h];g[b<<1]=0,g[1+(b<<1)]=S,S>y&&(y=S),b++}for(;b<E;)g[b<<1]=0,g[1+(b<<1)]=0,b++;return y},o.F.makeCodes=function(l,h){for(var m,g,y,b,E=o.F.U,S=l.length,x=E.bl_count,k=0;k<=h;k++)x[k]=0;for(k=1;k<S;k+=2)x[l[k]]++;var O=E.next_code;for(m=0,x[0]=0,g=1;g<=h;g++)m=m+x[g-1]<<1,O[g]=m;for(y=0;y<S;y+=2)(b=l[y+1])!=0&&(l[y]=O[b],O[b]++)},o.F.codes2map=function(l,h,m){for(var g=l.length,y=o.F.U.rev15,b=0;b<g;b+=2)if(l[b+1]!=0)for(var E=b>>1,S=l[b+1],x=E<<4|S,k=h-S,O=l[b]<<k,G=O+(1<<k);O!=G;)m[y[O]>>>15-h]=x,O++},o.F.revCodes=function(l,h){for(var m=o.F.U.rev15,g=15-h,y=0;y<l.length;y+=2){var b=l[y]<<h-l[y+1];l[y]=m[b]>>>g}},o.F._putsE=function(l,h,m){m<<=7&h;var g=h>>>3;l[g]|=m,l[g+1]|=m>>>8},o.F._putsF=function(l,h,m){m<<=7&h;var g=h>>>3;l[g]|=m,l[g+1]|=m>>>8,l[g+2]|=m>>>16},o.F._bitsE=function(l,h,m){return(l[h>>>3]|l[1+(h>>>3)]<<8)>>>(7&h)&(1<<m)-1},o.F._bitsF=function(l,h,m){return(l[h>>>3]|l[1+(h>>>3)]<<8|l[2+(h>>>3)]<<16)>>>(7&h)&(1<<m)-1},o.F._get17=function(l,h){return(l[h>>>3]|l[1+(h>>>3)]<<8|l[2+(h>>>3)]<<16)>>>(7&h)},o.F._get25=function(l,h){return(l[h>>>3]|l[1+(h>>>3)]<<8|l[2+(h>>>3)]<<16|l[3+(h>>>3)]<<24)>>>(7&h)},o.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var l=o.F.U,h=0;h<32768;h++){var m=h;m=(4278255360&(m=(4042322160&(m=(3435973836&(m=(2863311530&m)>>>1|(1431655765&m)<<1))>>>2|(858993459&m)<<2))>>>4|(252645135&m)<<4))>>>8|(16711935&m)<<8,l.rev15[h]=(m>>>16|m<<16)>>>17}function g(y,b,E){for(;b--!=0;)y.push(0,E)}for(h=0;h<32;h++)l.ldef[h]=l.of0[h]<<3|l.exb[h],l.ddef[h]=l.df0[h]<<4|l.dxb[h];g(l.fltree,144,8),g(l.fltree,112,9),g(l.fltree,24,7),g(l.fltree,8,8),o.F.makeCodes(l.fltree,9),o.F.codes2map(l.fltree,9,l.flmap),o.F.revCodes(l.fltree,9),g(l.fdtree,32,5),o.F.makeCodes(l.fdtree,5),o.F.codes2map(l.fdtree,5,l.fdmap),o.F.revCodes(l.fdtree,5),g(l.itree,19,0),g(l.ltree,286,0),g(l.dtree,30,0),g(l.ttree,320,0)})()})();var Z3=V3({__proto__:null,default:kf},[kf]);const Ds=(function(){var s={nextZero(E,S){for(;E[S]!=0;)S++;return S},readUshort:(E,S)=>E[S]<<8|E[S+1],writeUshort(E,S,x){E[S]=x>>8&255,E[S+1]=255&x},readUint:(E,S)=>16777216*E[S]+(E[S+1]<<16|E[S+2]<<8|E[S+3]),writeUint(E,S,x){E[S]=x>>24&255,E[S+1]=x>>16&255,E[S+2]=x>>8&255,E[S+3]=255&x},readASCII(E,S,x){let k="";for(let O=0;O<x;O++)k+=String.fromCharCode(E[S+O]);return k},writeASCII(E,S,x){for(let k=0;k<x.length;k++)E[S+k]=x.charCodeAt(k)},readBytes(E,S,x){const k=[];for(let O=0;O<x;O++)k.push(E[S+O]);return k},pad:E=>E.length<2?`0${E}`:E,readUTF8(E,S,x){let k,O="";for(let G=0;G<x;G++)O+=`%${s.pad(E[S+G].toString(16))}`;try{k=decodeURIComponent(O)}catch{return s.readASCII(E,S,x)}return k}};function t(E,S,x,k){const O=S*x,G=h(k),W=Math.ceil(S*G/8),Z=new Uint8Array(4*O),ct=new Uint32Array(Z.buffer),{ctype:et}=k,{depth:Q}=k,nt=s.readUshort;if(et==6){const ot=O<<2;if(Q==8)for(var Y=0;Y<ot;Y+=4)Z[Y]=E[Y],Z[Y+1]=E[Y+1],Z[Y+2]=E[Y+2],Z[Y+3]=E[Y+3];if(Q==16)for(Y=0;Y<ot;Y++)Z[Y]=E[Y<<1]}else if(et==2){const ot=k.tabs.tRNS;if(ot==null){if(Q==8)for(Y=0;Y<O;Y++){var q=3*Y;ct[Y]=255<<24|E[q+2]<<16|E[q+1]<<8|E[q]}if(Q==16)for(Y=0;Y<O;Y++)q=6*Y,ct[Y]=255<<24|E[q+4]<<16|E[q+2]<<8|E[q]}else{var C=ot[0];const B=ot[1],st=ot[2];if(Q==8)for(Y=0;Y<O;Y++){var N=Y<<2;q=3*Y,ct[Y]=255<<24|E[q+2]<<16|E[q+1]<<8|E[q],E[q]==C&&E[q+1]==B&&E[q+2]==st&&(Z[N+3]=0)}if(Q==16)for(Y=0;Y<O;Y++)N=Y<<2,q=6*Y,ct[Y]=255<<24|E[q+4]<<16|E[q+2]<<8|E[q],nt(E,q)==C&&nt(E,q+2)==B&&nt(E,q+4)==st&&(Z[N+3]=0)}}else if(et==3){const ot=k.tabs.PLTE,B=k.tabs.tRNS,st=B?B.length:0;if(Q==1)for(var P=0;P<x;P++){var j=P*W,H=P*S;for(Y=0;Y<S;Y++){N=H+Y<<2;var D=3*(J=E[j+(Y>>3)]>>7-((7&Y)<<0)&1);Z[N]=ot[D],Z[N+1]=ot[D+1],Z[N+2]=ot[D+2],Z[N+3]=J<st?B[J]:255}}if(Q==2)for(P=0;P<x;P++)for(j=P*W,H=P*S,Y=0;Y<S;Y++)N=H+Y<<2,D=3*(J=E[j+(Y>>2)]>>6-((3&Y)<<1)&3),Z[N]=ot[D],Z[N+1]=ot[D+1],Z[N+2]=ot[D+2],Z[N+3]=J<st?B[J]:255;if(Q==4)for(P=0;P<x;P++)for(j=P*W,H=P*S,Y=0;Y<S;Y++)N=H+Y<<2,D=3*(J=E[j+(Y>>1)]>>4-((1&Y)<<2)&15),Z[N]=ot[D],Z[N+1]=ot[D+1],Z[N+2]=ot[D+2],Z[N+3]=J<st?B[J]:255;if(Q==8)for(Y=0;Y<O;Y++){var J;N=Y<<2,D=3*(J=E[Y]),Z[N]=ot[D],Z[N+1]=ot[D+1],Z[N+2]=ot[D+2],Z[N+3]=J<st?B[J]:255}}else if(et==4){if(Q==8)for(Y=0;Y<O;Y++){N=Y<<2;var it=E[M=Y<<1];Z[N]=it,Z[N+1]=it,Z[N+2]=it,Z[N+3]=E[M+1]}if(Q==16)for(Y=0;Y<O;Y++){var M;N=Y<<2,it=E[M=Y<<2],Z[N]=it,Z[N+1]=it,Z[N+2]=it,Z[N+3]=E[M+2]}}else if(et==0)for(C=k.tabs.tRNS?k.tabs.tRNS:-1,P=0;P<x;P++){const ot=P*W,B=P*S;if(Q==1)for(var z=0;z<S;z++){var $=(it=255*(E[ot+(z>>>3)]>>>7-(7&z)&1))==255*C?0:255;ct[B+z]=$<<24|it<<16|it<<8|it}else if(Q==2)for(z=0;z<S;z++)$=(it=85*(E[ot+(z>>>2)]>>>6-((3&z)<<1)&3))==85*C?0:255,ct[B+z]=$<<24|it<<16|it<<8|it;else if(Q==4)for(z=0;z<S;z++)$=(it=17*(E[ot+(z>>>1)]>>>4-((1&z)<<2)&15))==17*C?0:255,ct[B+z]=$<<24|it<<16|it<<8|it;else if(Q==8)for(z=0;z<S;z++)$=(it=E[ot+z])==C?0:255,ct[B+z]=$<<24|it<<16|it<<8|it;else if(Q==16)for(z=0;z<S;z++)it=E[ot+(z<<1)],$=nt(E,ot+(z<<1))==C?0:255,ct[B+z]=$<<24|it<<16|it<<8|it}return Z}function n(E,S,x,k){const O=h(E),G=Math.ceil(x*O/8),W=new Uint8Array((G+1+E.interlace)*k);return S=E.tabs.CgBI?l(S,W):o(S,W),E.interlace==0?S=m(S,E,0,x,k):E.interlace==1&&(S=(function(ct,et){const Q=et.width,nt=et.height,Y=h(et),q=Y>>3,C=Math.ceil(Q*Y/8),N=new Uint8Array(nt*C);let P=0;const j=[0,0,4,0,2,0,1],H=[0,4,0,2,0,1,0],D=[8,8,8,4,4,2,2],J=[8,8,4,4,2,2,1];let it=0;for(;it<7;){const z=D[it],$=J[it];let ot=0,B=0,st=j[it];for(;st<nt;)st+=z,B++;let lt=H[it];for(;lt<Q;)lt+=$,ot++;const ft=Math.ceil(ot*Y/8);m(ct,et,P,ot,B);let mt=0,rt=j[it];for(;rt<nt;){let wt=H[it],Dt=P+mt*ft<<3;for(;wt<Q;){var M;if(Y==1&&(M=(M=ct[Dt>>3])>>7-(7&Dt)&1,N[rt*C+(wt>>3)]|=M<<7-((7&wt)<<0)),Y==2&&(M=(M=ct[Dt>>3])>>6-(7&Dt)&3,N[rt*C+(wt>>2)]|=M<<6-((3&wt)<<1)),Y==4&&(M=(M=ct[Dt>>3])>>4-(7&Dt)&15,N[rt*C+(wt>>1)]|=M<<4-((1&wt)<<2)),Y>=8){const kt=rt*C+wt*q;for(let Gt=0;Gt<q;Gt++)N[kt+Gt]=ct[(Dt>>3)+Gt]}Dt+=Y,wt+=$}mt++,rt+=z}ot*B!=0&&(P+=B*(1+ft)),it+=1}return N})(S,E)),S}function o(E,S){return l(new Uint8Array(E.buffer,2,E.length-6),S)}var l=(function(){const E={H:{}};return E.H.N=function(S,x){const k=Uint8Array;let O,G,W=0,Z=0,ct=0,et=0,Q=0,nt=0,Y=0,q=0,C=0;if(S[0]==3&&S[1]==0)return x||new k(0);const N=E.H,P=N.b,j=N.e,H=N.R,D=N.n,J=N.A,it=N.Z,M=N.m,z=x==null;for(z&&(x=new k(S.length>>>2<<5));W==0;)if(W=P(S,C,1),Z=P(S,C+1,2),C+=3,Z!=0){if(z&&(x=E.H.W(x,q+(1<<17))),Z==1&&(O=M.J,G=M.h,nt=511,Y=31),Z==2){ct=j(S,C,5)+257,et=j(S,C+5,5)+1,Q=j(S,C+10,4)+4,C+=14;let ot=1;for(var $=0;$<38;$+=2)M.Q[$]=0,M.Q[$+1]=0;for($=0;$<Q;$++){const lt=j(S,C+3*$,3);M.Q[1+(M.X[$]<<1)]=lt,lt>ot&&(ot=lt)}C+=3*Q,D(M.Q,ot),J(M.Q,ot,M.u),O=M.w,G=M.d,C=H(M.u,(1<<ot)-1,ct+et,S,C,M.v);const B=N.V(M.v,0,ct,M.C);nt=(1<<B)-1;const st=N.V(M.v,ct,et,M.D);Y=(1<<st)-1,D(M.C,B),J(M.C,B,O),D(M.D,st),J(M.D,st,G)}for(;;){const ot=O[it(S,C)&nt];C+=15&ot;const B=ot>>>4;if(!(B>>>8))x[q++]=B;else{if(B==256)break;{let st=q+B-254;if(B>264){const wt=M.q[B-257];st=q+(wt>>>3)+j(S,C,7&wt),C+=7&wt}const lt=G[it(S,C)&Y];C+=15&lt;const ft=lt>>>4,mt=M.c[ft],rt=(mt>>>4)+P(S,C,15&mt);for(C+=15&mt;q<st;)x[q]=x[q++-rt],x[q]=x[q++-rt],x[q]=x[q++-rt],x[q]=x[q++-rt];q=st}}}}else{(7&C)!=0&&(C+=8-(7&C));const ot=4+(C>>>3),B=S[ot-4]|S[ot-3]<<8;z&&(x=E.H.W(x,q+B)),x.set(new k(S.buffer,S.byteOffset+ot,B),q),C=ot+B<<3,q+=B}return x.length==q?x:x.slice(0,q)},E.H.W=function(S,x){const k=S.length;if(x<=k)return S;const O=new Uint8Array(k<<1);return O.set(S,0),O},E.H.R=function(S,x,k,O,G,W){const Z=E.H.e,ct=E.H.Z;let et=0;for(;et<k;){const Q=S[ct(O,G)&x];G+=15&Q;const nt=Q>>>4;if(nt<=15)W[et]=nt,et++;else{let Y=0,q=0;nt==16?(q=3+Z(O,G,2),G+=2,Y=W[et-1]):nt==17?(q=3+Z(O,G,3),G+=3):nt==18&&(q=11+Z(O,G,7),G+=7);const C=et+q;for(;et<C;)W[et]=Y,et++}}return G},E.H.V=function(S,x,k,O){let G=0,W=0;const Z=O.length>>>1;for(;W<k;){const ct=S[W+x];O[W<<1]=0,O[1+(W<<1)]=ct,ct>G&&(G=ct),W++}for(;W<Z;)O[W<<1]=0,O[1+(W<<1)]=0,W++;return G},E.H.n=function(S,x){const k=E.H.m,O=S.length;let G,W,Z,ct;const et=k.j;for(var Q=0;Q<=x;Q++)et[Q]=0;for(Q=1;Q<O;Q+=2)et[S[Q]]++;const nt=k.K;for(G=0,et[0]=0,W=1;W<=x;W++)G=G+et[W-1]<<1,nt[W]=G;for(Z=0;Z<O;Z+=2)ct=S[Z+1],ct!=0&&(S[Z]=nt[ct],nt[ct]++)},E.H.A=function(S,x,k){const O=S.length,G=E.H.m.r;for(let W=0;W<O;W+=2)if(S[W+1]!=0){const Z=W>>1,ct=S[W+1],et=Z<<4|ct,Q=x-ct;let nt=S[W]<<Q;const Y=nt+(1<<Q);for(;nt!=Y;)k[G[nt]>>>15-x]=et,nt++}},E.H.l=function(S,x){const k=E.H.m.r,O=15-x;for(let G=0;G<S.length;G+=2){const W=S[G]<<x-S[G+1];S[G]=k[W]>>>O}},E.H.M=function(S,x,k){k<<=7&x;const O=x>>>3;S[O]|=k,S[O+1]|=k>>>8},E.H.I=function(S,x,k){k<<=7&x;const O=x>>>3;S[O]|=k,S[O+1]|=k>>>8,S[O+2]|=k>>>16},E.H.e=function(S,x,k){return(S[x>>>3]|S[1+(x>>>3)]<<8)>>>(7&x)&(1<<k)-1},E.H.b=function(S,x,k){return(S[x>>>3]|S[1+(x>>>3)]<<8|S[2+(x>>>3)]<<16)>>>(7&x)&(1<<k)-1},E.H.Z=function(S,x){return(S[x>>>3]|S[1+(x>>>3)]<<8|S[2+(x>>>3)]<<16)>>>(7&x)},E.H.i=function(S,x){return(S[x>>>3]|S[1+(x>>>3)]<<8|S[2+(x>>>3)]<<16|S[3+(x>>>3)]<<24)>>>(7&x)},E.H.m=(function(){const S=Uint16Array,x=Uint32Array;return{K:new S(16),j:new S(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new S(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new x(32),J:new S(512),_:[],h:new S(32),$:[],w:new S(32768),C:[],v:[],d:new S(32768),D:[],u:new S(512),Q:[],r:new S(32768),s:new x(286),Y:new x(30),a:new x(19),t:new x(15e3),k:new S(65536),g:new S(32768)}})(),(function(){const S=E.H.m;for(var x=0;x<32768;x++){let O=x;O=(2863311530&O)>>>1|(1431655765&O)<<1,O=(3435973836&O)>>>2|(858993459&O)<<2,O=(4042322160&O)>>>4|(252645135&O)<<4,O=(4278255360&O)>>>8|(16711935&O)<<8,S.r[x]=(O>>>16|O<<16)>>>17}function k(O,G,W){for(;G--!=0;)O.push(0,W)}for(x=0;x<32;x++)S.q[x]=S.S[x]<<3|S.T[x],S.c[x]=S.p[x]<<4|S.z[x];k(S._,144,8),k(S._,112,9),k(S._,24,7),k(S._,8,8),E.H.n(S._,9),E.H.A(S._,9,S.J),E.H.l(S._,9),k(S.$,32,5),E.H.n(S.$,5),E.H.A(S.$,5,S.h),E.H.l(S.$,5),k(S.Q,19,0),k(S.C,286,0),k(S.D,30,0),k(S.v,320,0)})(),E.H.N})();function h(E){return[1,null,3,1,2,null,4][E.ctype]*E.depth}function m(E,S,x,k,O){let G=h(S);const W=Math.ceil(k*G/8);let Z,ct;G=Math.ceil(G/8);let et=E[x],Q=0;if(et>1&&(E[x]=[0,0,1][et-2]),et==3)for(Q=G;Q<W;Q++)E[Q+1]=E[Q+1]+(E[Q+1-G]>>>1)&255;for(let nt=0;nt<O;nt++)if(Z=x+nt*W,ct=Z+nt+1,et=E[ct-1],Q=0,et==0)for(;Q<W;Q++)E[Z+Q]=E[ct+Q];else if(et==1){for(;Q<G;Q++)E[Z+Q]=E[ct+Q];for(;Q<W;Q++)E[Z+Q]=E[ct+Q]+E[Z+Q-G]}else if(et==2)for(;Q<W;Q++)E[Z+Q]=E[ct+Q]+E[Z+Q-W];else if(et==3){for(;Q<G;Q++)E[Z+Q]=E[ct+Q]+(E[Z+Q-W]>>>1);for(;Q<W;Q++)E[Z+Q]=E[ct+Q]+(E[Z+Q-W]+E[Z+Q-G]>>>1)}else{for(;Q<G;Q++)E[Z+Q]=E[ct+Q]+g(0,E[Z+Q-W],0);for(;Q<W;Q++)E[Z+Q]=E[ct+Q]+g(E[Z+Q-G],E[Z+Q-W],E[Z+Q-G-W])}return E}function g(E,S,x){const k=E+S-x,O=k-E,G=k-S,W=k-x;return O*O<=G*G&&O*O<=W*W?E:G*G<=W*W?S:x}function y(E,S,x){x.width=s.readUint(E,S),S+=4,x.height=s.readUint(E,S),S+=4,x.depth=E[S],S++,x.ctype=E[S],S++,x.compress=E[S],S++,x.filter=E[S],S++,x.interlace=E[S],S++}function b(E,S,x,k,O,G,W,Z,ct){const et=Math.min(S,O),Q=Math.min(x,G);let nt=0,Y=0;for(let it=0;it<Q;it++)for(let M=0;M<et;M++)if(W>=0&&Z>=0?(nt=it*S+M<<2,Y=(Z+it)*O+W+M<<2):(nt=(-Z+it)*S-W+M<<2,Y=it*O+M<<2),ct==0)k[Y]=E[nt],k[Y+1]=E[nt+1],k[Y+2]=E[nt+2],k[Y+3]=E[nt+3];else if(ct==1){var q=E[nt+3]*.00392156862745098,C=E[nt]*q,N=E[nt+1]*q,P=E[nt+2]*q,j=k[Y+3]*(1/255),H=k[Y]*j,D=k[Y+1]*j,J=k[Y+2]*j;const z=1-q,$=q+j*z,ot=$==0?0:1/$;k[Y+3]=255*$,k[Y+0]=(C+H*z)*ot,k[Y+1]=(N+D*z)*ot,k[Y+2]=(P+J*z)*ot}else if(ct==2)q=E[nt+3],C=E[nt],N=E[nt+1],P=E[nt+2],j=k[Y+3],H=k[Y],D=k[Y+1],J=k[Y+2],q==j&&C==H&&N==D&&P==J?(k[Y]=0,k[Y+1]=0,k[Y+2]=0,k[Y+3]=0):(k[Y]=C,k[Y+1]=N,k[Y+2]=P,k[Y+3]=q);else if(ct==3){if(q=E[nt+3],C=E[nt],N=E[nt+1],P=E[nt+2],j=k[Y+3],H=k[Y],D=k[Y+1],J=k[Y+2],q==j&&C==H&&N==D&&P==J)continue;if(q<220&&j>20)return!1}return!0}return{decode:function(S){const x=new Uint8Array(S);let k=8;const O=s,G=O.readUshort,W=O.readUint,Z={tabs:{},frames:[]},ct=new Uint8Array(x.length);let et,Q=0,nt=0;const Y=[137,80,78,71,13,10,26,10];for(var q=0;q<8;q++)if(x[q]!=Y[q])throw"The input is not a PNG file!";for(;k<x.length;){const it=O.readUint(x,k);k+=4;const M=O.readASCII(x,k,4);if(k+=4,M=="IHDR")y(x,k,Z);else if(M=="iCCP"){for(var C=k;x[C]!=0;)C++;O.readASCII(x,k,C-k),x[C+1];const z=x.slice(C+2,k+it);let $=null;try{$=o(z)}catch{$=l(z)}Z.tabs[M]=$}else if(M=="CgBI")Z.tabs[M]=x.slice(k,k+4);else if(M=="IDAT"){for(q=0;q<it;q++)ct[Q+q]=x[k+q];Q+=it}else if(M=="acTL")Z.tabs[M]={num_frames:W(x,k),num_plays:W(x,k+4)},et=new Uint8Array(x.length);else if(M=="fcTL"){nt!=0&&((J=Z.frames[Z.frames.length-1]).data=n(Z,et.slice(0,nt),J.rect.width,J.rect.height),nt=0);const z={x:W(x,k+12),y:W(x,k+16),width:W(x,k+4),height:W(x,k+8)};let $=G(x,k+22);$=G(x,k+20)/($==0?100:$);const ot={rect:z,delay:Math.round(1e3*$),dispose:x[k+24],blend:x[k+25]};Z.frames.push(ot)}else if(M=="fdAT"){for(q=0;q<it-4;q++)et[nt+q]=x[k+q+4];nt+=it-4}else if(M=="pHYs")Z.tabs[M]=[O.readUint(x,k),O.readUint(x,k+4),x[k+8]];else if(M=="cHRM")for(Z.tabs[M]=[],q=0;q<8;q++)Z.tabs[M].push(O.readUint(x,k+4*q));else if(M=="tEXt"||M=="zTXt"){Z.tabs[M]==null&&(Z.tabs[M]={});var N=O.nextZero(x,k),P=O.readASCII(x,k,N-k),j=k+it-N-1;if(M=="tEXt")D=O.readASCII(x,N+1,j);else{var H=o(x.slice(N+2,N+2+j));D=O.readUTF8(H,0,H.length)}Z.tabs[M][P]=D}else if(M=="iTXt"){Z.tabs[M]==null&&(Z.tabs[M]={}),N=0,C=k,N=O.nextZero(x,C),P=O.readASCII(x,C,N-C);const z=x[C=N+1];var D;x[C+1],C+=2,N=O.nextZero(x,C),O.readASCII(x,C,N-C),C=N+1,N=O.nextZero(x,C),O.readUTF8(x,C,N-C),j=it-((C=N+1)-k),z==0?D=O.readUTF8(x,C,j):(H=o(x.slice(C,C+j)),D=O.readUTF8(H,0,H.length)),Z.tabs[M][P]=D}else if(M=="PLTE")Z.tabs[M]=O.readBytes(x,k,it);else if(M=="hIST"){const z=Z.tabs.PLTE.length/3;for(Z.tabs[M]=[],q=0;q<z;q++)Z.tabs[M].push(G(x,k+2*q))}else if(M=="tRNS")Z.ctype==3?Z.tabs[M]=O.readBytes(x,k,it):Z.ctype==0?Z.tabs[M]=G(x,k):Z.ctype==2&&(Z.tabs[M]=[G(x,k),G(x,k+2),G(x,k+4)]);else if(M=="gAMA")Z.tabs[M]=O.readUint(x,k)/1e5;else if(M=="sRGB")Z.tabs[M]=x[k];else if(M=="bKGD")Z.ctype==0||Z.ctype==4?Z.tabs[M]=[G(x,k)]:Z.ctype==2||Z.ctype==6?Z.tabs[M]=[G(x,k),G(x,k+2),G(x,k+4)]:Z.ctype==3&&(Z.tabs[M]=x[k]);else if(M=="IEND")break;k+=it,O.readUint(x,k),k+=4}var J;return nt!=0&&((J=Z.frames[Z.frames.length-1]).data=n(Z,et.slice(0,nt),J.rect.width,J.rect.height)),Z.data=n(Z,ct,Z.width,Z.height),delete Z.compress,delete Z.interlace,delete Z.filter,Z},toRGBA8:function(S){const x=S.width,k=S.height;if(S.tabs.acTL==null)return[t(S.data,x,k,S).buffer];const O=[];S.frames[0].data==null&&(S.frames[0].data=S.data);const G=x*k*4,W=new Uint8Array(G),Z=new Uint8Array(G),ct=new Uint8Array(G);for(let Q=0;Q<S.frames.length;Q++){const nt=S.frames[Q],Y=nt.rect.x,q=nt.rect.y,C=nt.rect.width,N=nt.rect.height,P=t(nt.data,C,N,S);if(Q!=0)for(var et=0;et<G;et++)ct[et]=W[et];if(nt.blend==0?b(P,C,N,W,x,k,Y,q,0):nt.blend==1&&b(P,C,N,W,x,k,Y,q,1),O.push(W.buffer.slice(0)),nt.dispose!=0){if(nt.dispose==1)b(Z,C,N,W,x,k,Y,q,0);else if(nt.dispose==2)for(et=0;et<G;et++)W[et]=ct[et]}}return O},_paeth:g,_copyTile:b,_bin:s}})();(function(){const{_copyTile:s}=Ds,{_bin:t}=Ds,n=Ds._paeth;var o={table:(function(){const C=new Uint32Array(256);for(let N=0;N<256;N++){let P=N;for(let j=0;j<8;j++)1&P?P=3988292384^P>>>1:P>>>=1;C[N]=P}return C})(),update(C,N,P,j){for(let H=0;H<j;H++)C=o.table[255&(C^N[P+H])]^C>>>8;return C},crc:(C,N,P)=>4294967295^o.update(4294967295,C,N,P)};function l(C,N,P,j){N[P]+=C[0]*j>>4,N[P+1]+=C[1]*j>>4,N[P+2]+=C[2]*j>>4,N[P+3]+=C[3]*j>>4}function h(C){return Math.max(0,Math.min(255,C))}function m(C,N){const P=C[0]-N[0],j=C[1]-N[1],H=C[2]-N[2],D=C[3]-N[3];return P*P+j*j+H*H+D*D}function g(C,N,P,j,H,D,J){J==null&&(J=1);const it=j.length,M=[];for(var z=0;z<it;z++){const rt=j[z];M.push([rt>>>0&255,rt>>>8&255,rt>>>16&255,rt>>>24&255])}for(z=0;z<it;z++){let rt=4294967295;for(var $=0,ot=0;ot<it;ot++){var B=m(M[z],M[ot]);ot!=z&&B<rt&&(rt=B,$=ot)}}const st=new Uint32Array(H.buffer),lt=new Int16Array(N*P*4),ft=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(z=0;z<ft.length;z++)ft[z]=255*((ft[z]+.5)/16-.5);for(let rt=0;rt<P;rt++)for(let wt=0;wt<N;wt++){var mt;z=4*(rt*N+wt),J!=2?mt=[h(C[z]+lt[z]),h(C[z+1]+lt[z+1]),h(C[z+2]+lt[z+2]),h(C[z+3]+lt[z+3])]:(B=ft[4*(3&rt)+(3&wt)],mt=[h(C[z]+B),h(C[z+1]+B),h(C[z+2]+B),h(C[z+3]+B)]),$=0;let Dt=16777215;for(ot=0;ot<it;ot++){const Xt=m(mt,M[ot]);Xt<Dt&&(Dt=Xt,$=ot)}const kt=M[$],Gt=[mt[0]-kt[0],mt[1]-kt[1],mt[2]-kt[2],mt[3]-kt[3]];J==1&&(wt!=N-1&&l(Gt,lt,z+4,7),rt!=P-1&&(wt!=0&&l(Gt,lt,z+4*N-4,3),l(Gt,lt,z+4*N,5),wt!=N-1&&l(Gt,lt,z+4*N+4,1))),D[z>>2]=$,st[z>>2]=j[$]}}function y(C,N,P,j,H){H==null&&(H={});const{crc:D}=o,J=t.writeUint,it=t.writeUshort,M=t.writeASCII;let z=8;const $=C.frames.length>1;let ot,B=!1,st=33+($?20:0);if(H.sRGB!=null&&(st+=13),H.pHYs!=null&&(st+=21),H.iCCP!=null&&(ot=pako.deflate(H.iCCP),st+=21+ot.length+4),C.ctype==3){for(var lt=C.plte.length,ft=0;ft<lt;ft++)C.plte[ft]>>>24!=255&&(B=!0);st+=8+3*lt+4+(B?8+1*lt+4:0)}for(var mt=0;mt<C.frames.length;mt++)$&&(st+=38),st+=(kt=C.frames[mt]).cimg.length+12,mt!=0&&(st+=4);st+=12;const rt=new Uint8Array(st),wt=[137,80,78,71,13,10,26,10];for(ft=0;ft<8;ft++)rt[ft]=wt[ft];if(J(rt,z,13),z+=4,M(rt,z,"IHDR"),z+=4,J(rt,z,N),z+=4,J(rt,z,P),z+=4,rt[z]=C.depth,z++,rt[z]=C.ctype,z++,rt[z]=0,z++,rt[z]=0,z++,rt[z]=0,z++,J(rt,z,D(rt,z-17,17)),z+=4,H.sRGB!=null&&(J(rt,z,1),z+=4,M(rt,z,"sRGB"),z+=4,rt[z]=H.sRGB,z++,J(rt,z,D(rt,z-5,5)),z+=4),H.iCCP!=null){const Gt=13+ot.length;J(rt,z,Gt),z+=4,M(rt,z,"iCCP"),z+=4,M(rt,z,"ICC profile"),z+=11,z+=2,rt.set(ot,z),z+=ot.length,J(rt,z,D(rt,z-(Gt+4),Gt+4)),z+=4}if(H.pHYs!=null&&(J(rt,z,9),z+=4,M(rt,z,"pHYs"),z+=4,J(rt,z,H.pHYs[0]),z+=4,J(rt,z,H.pHYs[1]),z+=4,rt[z]=H.pHYs[2],z++,J(rt,z,D(rt,z-13,13)),z+=4),$&&(J(rt,z,8),z+=4,M(rt,z,"acTL"),z+=4,J(rt,z,C.frames.length),z+=4,J(rt,z,H.loop!=null?H.loop:0),z+=4,J(rt,z,D(rt,z-12,12)),z+=4),C.ctype==3){for(J(rt,z,3*(lt=C.plte.length)),z+=4,M(rt,z,"PLTE"),z+=4,ft=0;ft<lt;ft++){const Gt=3*ft,Xt=C.plte[ft],oe=255&Xt,me=Xt>>>8&255,En=Xt>>>16&255;rt[z+Gt+0]=oe,rt[z+Gt+1]=me,rt[z+Gt+2]=En}if(z+=3*lt,J(rt,z,D(rt,z-3*lt-4,3*lt+4)),z+=4,B){for(J(rt,z,lt),z+=4,M(rt,z,"tRNS"),z+=4,ft=0;ft<lt;ft++)rt[z+ft]=C.plte[ft]>>>24&255;z+=lt,J(rt,z,D(rt,z-lt-4,lt+4)),z+=4}}let Dt=0;for(mt=0;mt<C.frames.length;mt++){var kt=C.frames[mt];$&&(J(rt,z,26),z+=4,M(rt,z,"fcTL"),z+=4,J(rt,z,Dt++),z+=4,J(rt,z,kt.rect.width),z+=4,J(rt,z,kt.rect.height),z+=4,J(rt,z,kt.rect.x),z+=4,J(rt,z,kt.rect.y),z+=4,it(rt,z,j[mt]),z+=2,it(rt,z,1e3),z+=2,rt[z]=kt.dispose,z++,rt[z]=kt.blend,z++,J(rt,z,D(rt,z-30,30)),z+=4);const Gt=kt.cimg;J(rt,z,(lt=Gt.length)+(mt==0?0:4)),z+=4;const Xt=z;M(rt,z,mt==0?"IDAT":"fdAT"),z+=4,mt!=0&&(J(rt,z,Dt++),z+=4),rt.set(Gt,z),z+=lt,J(rt,z,D(rt,Xt,z-Xt)),z+=4}return J(rt,z,0),z+=4,M(rt,z,"IEND"),z+=4,J(rt,z,D(rt,z-4,4)),z+=4,rt.buffer}function b(C,N,P){for(let j=0;j<C.frames.length;j++){const H=C.frames[j];H.rect.width;const D=H.rect.height,J=new Uint8Array(D*H.bpl+D);H.cimg=k(H.img,D,H.bpp,H.bpl,J,N,P)}}function E(C,N,P,j,H){const D=H[0],J=H[1],it=H[2],M=H[3],z=H[4],$=H[5];let ot=6,B=8,st=255;for(var lt=0;lt<C.length;lt++){const We=new Uint8Array(C[lt]);for(var ft=We.length,mt=0;mt<ft;mt+=4)st&=We[mt+3]}const rt=st!=255,wt=(function(Zt,le,qe,Ge,_e,mn){const Se=[];for(var pe=0;pe<Zt.length;pe++){const Xe=new Uint8Array(Zt[pe]),In=new Uint32Array(Xe.buffer);var pn;let tn=0,gn=0,en=le,nn=qe,$i=Ge?1:0;if(pe!=0){const hi=mn||Ge||pe==1||Se[pe-2].dispose!=0?1:2;let ys=0,Vs=1e9;for(let Oi=0;Oi<hi;Oi++){var ae=new Uint8Array(Zt[pe-1-Oi]);const Ei=new Uint32Array(Zt[pe-1-Oi]);let ln=le,$n=qe,kn=-1,Di=-1;for(let ti=0;ti<qe;ti++)for(let Mn=0;Mn<le;Mn++)In[ge=ti*le+Mn]!=Ei[ge]&&(Mn<ln&&(ln=Mn),Mn>kn&&(kn=Mn),ti<$n&&($n=ti),ti>Di&&(Di=ti));kn==-1&&(ln=$n=kn=Di=0),_e&&((1&ln)==1&&ln--,(1&$n)==1&&$n--);const ts=(kn-ln+1)*(Di-$n+1);ts<Vs&&(Vs=ts,ys=Oi,tn=ln,gn=$n,en=kn-ln+1,nn=Di-$n+1)}ae=new Uint8Array(Zt[pe-1-ys]),ys==1&&(Se[pe-1].dispose=2),pn=new Uint8Array(en*nn*4),s(ae,le,qe,pn,en,nn,-tn,-gn,0),$i=s(Xe,le,qe,pn,en,nn,-tn,-gn,3)?1:0,$i==1?x(Xe,le,qe,pn,{x:tn,y:gn,width:en,height:nn}):s(Xe,le,qe,pn,en,nn,-tn,-gn,0)}else pn=Xe.slice(0);Se.push({rect:{x:tn,y:gn,width:en,height:nn},img:pn,blend:$i,dispose:0})}if(Ge)for(pe=0;pe<Se.length;pe++){if((Pe=Se[pe]).blend==1)continue;const Xe=Pe.rect,In=Se[pe-1].rect,tn=Math.min(Xe.x,In.x),gn=Math.min(Xe.y,In.y),en={x:tn,y:gn,width:Math.max(Xe.x+Xe.width,In.x+In.width)-tn,height:Math.max(Xe.y+Xe.height,In.y+In.height)-gn};Se[pe-1].dispose=1,pe-1!=0&&S(Zt,le,qe,Se,pe-1,en,_e),S(Zt,le,qe,Se,pe,en,_e)}let ee=0;if(Zt.length!=1)for(var ge=0;ge<Se.length;ge++){var Pe;ee+=(Pe=Se[ge]).rect.width*Pe.rect.height}return Se})(C,N,P,D,J,it),Dt={},kt=[],Gt=[];if(j!=0){const We=[];for(mt=0;mt<wt.length;mt++)We.push(wt[mt].img.buffer);const Zt=(function(_e){let mn=0;for(var Se=0;Se<_e.length;Se++)mn+=_e[Se].byteLength;const pe=new Uint8Array(mn);let pn=0;for(Se=0;Se<_e.length;Se++){const ae=new Uint8Array(_e[Se]),ee=ae.length;for(let ge=0;ge<ee;ge+=4){let Pe=ae[ge],Xe=ae[ge+1],In=ae[ge+2];const tn=ae[ge+3];tn==0&&(Pe=Xe=In=0),pe[pn+ge]=Pe,pe[pn+ge+1]=Xe,pe[pn+ge+2]=In,pe[pn+ge+3]=tn}pn+=ee}return pe.buffer})(We),le=G(Zt,j);for(mt=0;mt<le.plte.length;mt++)kt.push(le.plte[mt].est.rgba);let qe=0;for(mt=0;mt<wt.length;mt++){const Ge=(oe=wt[mt]).img.length;var Xt=new Uint8Array(le.inds.buffer,qe>>2,Ge>>2);Gt.push(Xt);const _e=new Uint8Array(le.abuf,qe,Ge);$&&g(oe.img,oe.rect.width,oe.rect.height,kt,_e,Xt),oe.img.set(_e),qe+=Ge}}else for(lt=0;lt<wt.length;lt++){var oe=wt[lt];const We=new Uint32Array(oe.img.buffer);var me=oe.rect.width;for(ft=We.length,Xt=new Uint8Array(ft),Gt.push(Xt),mt=0;mt<ft;mt++){const Zt=We[mt];if(mt!=0&&Zt==We[mt-1])Xt[mt]=Xt[mt-1];else if(mt>me&&Zt==We[mt-me])Xt[mt]=Xt[mt-me];else{let le=Dt[Zt];if(le==null&&(Dt[Zt]=le=kt.length,kt.push(Zt),kt.length>=300))break;Xt[mt]=le}}}const En=kt.length;for(En<=256&&z==0&&(B=En<=2?1:En<=4?2:En<=16?4:8,B=Math.max(B,M)),lt=0;lt<wt.length;lt++){(oe=wt[lt]).rect.x,oe.rect.y,me=oe.rect.width;const We=oe.rect.height;let Zt=oe.img;new Uint32Array(Zt.buffer);let le=4*me,qe=4;if(En<=256&&z==0){le=Math.ceil(B*me/8);var dn=new Uint8Array(le*We);const Ge=Gt[lt];for(let _e=0;_e<We;_e++){mt=_e*le;const mn=_e*me;if(B==8)for(var be=0;be<me;be++)dn[mt+be]=Ge[mn+be];else if(B==4)for(be=0;be<me;be++)dn[mt+(be>>1)]|=Ge[mn+be]<<4-4*(1&be);else if(B==2)for(be=0;be<me;be++)dn[mt+(be>>2)]|=Ge[mn+be]<<6-2*(3&be);else if(B==1)for(be=0;be<me;be++)dn[mt+(be>>3)]|=Ge[mn+be]<<7-1*(7&be)}Zt=dn,ot=3,qe=1}else if(rt==0&&wt.length==1){dn=new Uint8Array(me*We*3);const Ge=me*We;for(mt=0;mt<Ge;mt++){const _e=3*mt,mn=4*mt;dn[_e]=Zt[mn],dn[_e+1]=Zt[mn+1],dn[_e+2]=Zt[mn+2]}Zt=dn,ot=2,qe=3,le=3*me}oe.img=Zt,oe.bpl=le,oe.bpp=qe}return{ctype:ot,depth:B,plte:kt,frames:wt}}function S(C,N,P,j,H,D,J){const it=Uint8Array,M=Uint32Array,z=new it(C[H-1]),$=new M(C[H-1]),ot=H+1<C.length?new it(C[H+1]):null,B=new it(C[H]),st=new M(B.buffer);let lt=N,ft=P,mt=-1,rt=-1;for(let Dt=0;Dt<D.height;Dt++)for(let kt=0;kt<D.width;kt++){const Gt=D.x+kt,Xt=D.y+Dt,oe=Xt*N+Gt,me=st[oe];me==0||j[H-1].dispose==0&&$[oe]==me&&(ot==null||ot[4*oe+3]!=0)||(Gt<lt&&(lt=Gt),Gt>mt&&(mt=Gt),Xt<ft&&(ft=Xt),Xt>rt&&(rt=Xt))}mt==-1&&(lt=ft=mt=rt=0),J&&((1&lt)==1&&lt--,(1&ft)==1&&ft--),D={x:lt,y:ft,width:mt-lt+1,height:rt-ft+1};const wt=j[H];wt.rect=D,wt.blend=1,wt.img=new Uint8Array(D.width*D.height*4),j[H-1].dispose==0?(s(z,N,P,wt.img,D.width,D.height,-D.x,-D.y,0),x(B,N,P,wt.img,D)):s(B,N,P,wt.img,D.width,D.height,-D.x,-D.y,0)}function x(C,N,P,j,H){s(C,N,P,j,H.width,H.height,-H.x,-H.y,2)}function k(C,N,P,j,H,D,J){const it=[];let M,z=[0,1,2,3,4];D!=-1?z=[D]:(N*j>5e5||P==1)&&(z=[0]),J&&(M={level:0});const $=Z3;for(var ot=0;ot<z.length;ot++){for(let lt=0;lt<N;lt++)O(H,C,lt,j,P,z[ot]);it.push($.deflate(H,M))}let B,st=1e9;for(ot=0;ot<it.length;ot++)it[ot].length<st&&(B=ot,st=it[ot].length);return it[B]}function O(C,N,P,j,H,D){const J=P*j;let it=J+P;if(C[it]=D,it++,D==0)if(j<500)for(var M=0;M<j;M++)C[it+M]=N[J+M];else C.set(new Uint8Array(N.buffer,J,j),it);else if(D==1){for(M=0;M<H;M++)C[it+M]=N[J+M];for(M=H;M<j;M++)C[it+M]=N[J+M]-N[J+M-H]+256&255}else if(P==0){for(M=0;M<H;M++)C[it+M]=N[J+M];if(D==2)for(M=H;M<j;M++)C[it+M]=N[J+M];if(D==3)for(M=H;M<j;M++)C[it+M]=N[J+M]-(N[J+M-H]>>1)+256&255;if(D==4)for(M=H;M<j;M++)C[it+M]=N[J+M]-n(N[J+M-H],0,0)+256&255}else{if(D==2)for(M=0;M<j;M++)C[it+M]=N[J+M]+256-N[J+M-j]&255;if(D==3){for(M=0;M<H;M++)C[it+M]=N[J+M]+256-(N[J+M-j]>>1)&255;for(M=H;M<j;M++)C[it+M]=N[J+M]+256-(N[J+M-j]+N[J+M-H]>>1)&255}if(D==4){for(M=0;M<H;M++)C[it+M]=N[J+M]+256-n(0,N[J+M-j],0)&255;for(M=H;M<j;M++)C[it+M]=N[J+M]+256-n(N[J+M-H],N[J+M-j],N[J+M-H-j])&255}}}function G(C,N){const P=new Uint8Array(C),j=P.slice(0),H=new Uint32Array(j.buffer),D=W(j,N),J=D[0],it=D[1],M=P.length,z=new Uint8Array(M>>2);let $;if(P.length<2e7)for(var ot=0;ot<M;ot+=4)$=Z(J,B=P[ot]*(1/255),st=P[ot+1]*(1/255),lt=P[ot+2]*(1/255),ft=P[ot+3]*(1/255)),z[ot>>2]=$.ind,H[ot>>2]=$.est.rgba;else for(ot=0;ot<M;ot+=4){var B=P[ot]*.00392156862745098,st=P[ot+1]*(1/255),lt=P[ot+2]*(1/255),ft=P[ot+3]*(1/255);for($=J;$.left;)$=ct($.est,B,st,lt,ft)<=0?$.left:$.right;z[ot>>2]=$.ind,H[ot>>2]=$.est.rgba}return{abuf:j.buffer,inds:z,plte:it}}function W(C,N,P){P==null&&(P=1e-4);const j=new Uint32Array(C.buffer),H={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};H.bst=nt(C,H.i0,H.i1),H.est=Y(H.bst);const D=[H];for(;D.length<N;){let it=0,M=0;for(var J=0;J<D.length;J++)D[J].est.L>it&&(it=D[J].est.L,M=J);if(it<P)break;const z=D[M],$=et(C,j,z.i0,z.i1,z.est.e,z.est.eMq255);if(z.i0>=$||z.i1<=$){z.est.L=0;continue}const ot={i0:z.i0,i1:$,bst:null,est:null,tdst:0,left:null,right:null};ot.bst=nt(C,ot.i0,ot.i1),ot.est=Y(ot.bst);const B={i0:$,i1:z.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:z.bst.N-ot.bst.N},J=0;J<16;J++)B.bst.R[J]=z.bst.R[J]-ot.bst.R[J];for(J=0;J<4;J++)B.bst.m[J]=z.bst.m[J]-ot.bst.m[J];B.est=Y(B.bst),z.left=ot,z.right=B,D[M]=ot,D.push(B)}for(D.sort(((it,M)=>M.bst.N-it.bst.N)),J=0;J<D.length;J++)D[J].ind=J;return[H,D]}function Z(C,N,P,j,H){if(C.left==null)return C.tdst=(function(ot,B,st,lt,ft){const mt=B-ot[0],rt=st-ot[1],wt=lt-ot[2],Dt=ft-ot[3];return mt*mt+rt*rt+wt*wt+Dt*Dt})(C.est.q,N,P,j,H),C;const D=ct(C.est,N,P,j,H);let J=C.left,it=C.right;D>0&&(J=C.right,it=C.left);const M=Z(J,N,P,j,H);if(M.tdst<=D*D)return M;const z=Z(it,N,P,j,H);return z.tdst<M.tdst?z:M}function ct(C,N,P,j,H){const{e:D}=C;return D[0]*N+D[1]*P+D[2]*j+D[3]*H-C.eMq}function et(C,N,P,j,H,D){for(j-=4;P<j;){for(;Q(C,P,H)<=D;)P+=4;for(;Q(C,j,H)>D;)j-=4;if(P>=j)break;const J=N[P>>2];N[P>>2]=N[j>>2],N[j>>2]=J,P+=4,j-=4}for(;Q(C,P,H)>D;)P-=4;return P+4}function Q(C,N,P){return C[N]*P[0]+C[N+1]*P[1]+C[N+2]*P[2]+C[N+3]*P[3]}function nt(C,N,P){const j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H=[0,0,0,0],D=P-N>>2;for(let J=N;J<P;J+=4){const it=C[J]*.00392156862745098,M=C[J+1]*(1/255),z=C[J+2]*(1/255),$=C[J+3]*(1/255);H[0]+=it,H[1]+=M,H[2]+=z,H[3]+=$,j[0]+=it*it,j[1]+=it*M,j[2]+=it*z,j[3]+=it*$,j[5]+=M*M,j[6]+=M*z,j[7]+=M*$,j[10]+=z*z,j[11]+=z*$,j[15]+=$*$}return j[4]=j[1],j[8]=j[2],j[9]=j[6],j[12]=j[3],j[13]=j[7],j[14]=j[11],{R:j,m:H,N:D}}function Y(C){const{R:N}=C,{m:P}=C,{N:j}=C,H=P[0],D=P[1],J=P[2],it=P[3],M=j==0?0:1/j,z=[N[0]-H*H*M,N[1]-H*D*M,N[2]-H*J*M,N[3]-H*it*M,N[4]-D*H*M,N[5]-D*D*M,N[6]-D*J*M,N[7]-D*it*M,N[8]-J*H*M,N[9]-J*D*M,N[10]-J*J*M,N[11]-J*it*M,N[12]-it*H*M,N[13]-it*D*M,N[14]-it*J*M,N[15]-it*it*M],$=z,ot=q;let B=[Math.random(),Math.random(),Math.random(),Math.random()],st=0,lt=0;if(j!=0)for(let mt=0;mt<16&&(B=ot.multVec($,B),lt=Math.sqrt(ot.dot(B,B)),B=ot.sml(1/lt,B),!(mt!=0&&Math.abs(lt-st)<1e-9));mt++)st=lt;const ft=[H*M,D*M,J*M,it*M];return{Cov:z,q:ft,e:B,L:st,eMq255:ot.dot(ot.sml(255,ft),B),eMq:ot.dot(B,ft),rgba:(Math.round(255*ft[3])<<24|Math.round(255*ft[2])<<16|Math.round(255*ft[1])<<8|Math.round(255*ft[0])<<0)>>>0}}var q={multVec:(C,N)=>[C[0]*N[0]+C[1]*N[1]+C[2]*N[2]+C[3]*N[3],C[4]*N[0]+C[5]*N[1]+C[6]*N[2]+C[7]*N[3],C[8]*N[0]+C[9]*N[1]+C[10]*N[2]+C[11]*N[3],C[12]*N[0]+C[13]*N[1]+C[14]*N[2]+C[15]*N[3]],dot:(C,N)=>C[0]*N[0]+C[1]*N[1]+C[2]*N[2]+C[3]*N[3],sml:(C,N)=>[C*N[0],C*N[1],C*N[2],C*N[3]]};Ds.encode=function(N,P,j,H,D,J,it){H==null&&(H=0),it==null&&(it=!1);const M=E(N,P,j,H,[!1,!1,!1,0,it,!1]);return b(M,-1),y(M,P,j,D,J)},Ds.encodeLL=function(N,P,j,H,D,J,it,M){const z={ctype:0+(H==1?0:2)+(D==0?0:4),depth:J,frames:[]},$=(H+D)*J,ot=$*P;for(let B=0;B<N.length;B++)z.frames.push({rect:{x:0,y:0,width:P,height:j},img:new Uint8Array(N[B]),blend:0,dispose:1,bpp:Math.ceil($/8),bpl:Math.ceil(ot/8)});return b(z,0,!0),y(z,P,j,it,M)},Ds.encode.compress=E,Ds.encode.dither=g,Ds.quantize=G,Ds.quantize.getKDtree=W,Ds.quantize.getNearest=Z})();const q2={toArrayBuffer(s,t){const n=s.width,o=s.height,l=n<<2,h=s.getContext("2d").getImageData(0,0,n,o),m=new Uint32Array(h.data.buffer),g=(32*n+31)/32<<2,y=g*o,b=122+y,E=new ArrayBuffer(b),S=new DataView(E),x=1<<20;let k,O,G,W,Z=x,ct=0,et=0,Q=0;function nt(C){S.setUint16(et,C,!0),et+=2}function Y(C){S.setUint32(et,C,!0),et+=4}function q(C){et+=C}nt(19778),Y(b),q(4),Y(122),Y(108),Y(n),Y(-o>>>0),nt(1),nt(32),Y(3),Y(y),Y(2835),Y(2835),q(8),Y(16711680),Y(65280),Y(255),Y(4278190080),Y(1466527264),(function C(){for(;ct<o&&Z>0;){for(W=122+ct*g,k=0;k<l;)Z--,O=m[Q++],G=O>>>24,S.setUint32(W+k,O<<8|G),k+=4;ct++}Q<m.length?(Z=x,setTimeout(C,q2._dly)):t(E)})()},toBlob(s,t){this.toArrayBuffer(s,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var ki={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},W3={[ki.CHROME]:16384,[ki.FIREFOX]:11180,[ki.DESKTOP_SAFARI]:16384,[ki.IE]:8192,[ki.IOS]:4096,[ki.ETC]:8192};const Lg=typeof window<"u",G2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Mf=Lg&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Y3=(Lg||G2)&&(Mf&&Mf.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Z2=(Lg||G2)&&(Mf&&Mf.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Og(s,t,n=Date.now()){return new Promise((o=>{const l=s.split(","),h=l[0].match(/:(.*?);/)[1],m=globalThis.atob(l[1]);let g=m.length;const y=new Uint8Array(g);for(;g--;)y[g]=m.charCodeAt(g);const b=new Blob([y],{type:h});b.name=t,b.lastModified=n,o(b)}))}function W2(s){return new Promise(((t,n)=>{const o=new Z2;o.onload=()=>t(o.result),o.onerror=l=>n(l),o.readAsDataURL(s)}))}function Y2(s){return new Promise(((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=l=>n(l),o.src=s}))}function Va(){if(Va.cachedResult!==void 0)return Va.cachedResult;let s=ki.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?s=ki.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?s=ki.IOS:/Safari/i.test(t)?s=ki.DESKTOP_SAFARI:/Firefox/i.test(t)?s=ki.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(s=ki.IE),Va.cachedResult=s,Va.cachedResult}function K2(s,t){const n=Va(),o=W3[n];let l=s,h=t,m=l*h;const g=l>h?h/l:l/h;for(;m>o*o;){const y=(o+l)/2,b=(o+h)/2;y<b?(h=b,l=b*g):(h=y*g,l=y),m=l*h}return{width:l,height:h}}function nd(s,t){let n,o;try{if(n=new OffscreenCanvas(s,t),o=n.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),o=n.getContext("2d")}return n.width=s,n.height=t,[n,o]}function X2(s,t){const{width:n,height:o}=K2(s.width,s.height),[l,h]=nd(n,o);return t&&/jpe?g/.test(t)&&(h.fillStyle="white",h.fillRect(0,0,l.width,l.height)),h.drawImage(s,0,0,l.width,l.height),l}function sf(){return sf.cachedResult!==void 0||(sf.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),sf.cachedResult}function Lf(s,t={}){return new Promise((function(n,o){let l,h;var m=function(){try{return h=X2(l,t.fileType||s.type),n([l,h])}catch(y){return o(y)}},g=function(y){try{var b=function(E){try{throw E}catch(S){return o(S)}};try{let E;return W2(s).then((function(S){try{return E=S,Y2(E).then((function(x){try{return l=x,(function(){try{return m()}catch(k){return o(k)}})()}catch(k){return b(k)}}),b)}catch(x){return b(x)}}),b)}catch(E){b(E)}}catch(E){return o(E)}};try{if(sf()||[ki.DESKTOP_SAFARI,ki.MOBILE_SAFARI].includes(Va()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(s).then((function(y){try{return l=y,m()}catch{return g()}}),g)}catch{g()}}))}function Of(s,t,n,o,l=1){return new Promise((function(h,m){let g;if(t==="image/png"){let S,x,k;return S=s.getContext("2d"),{data:x}=S.getImageData(0,0,s.width,s.height),k=Ds.encode([x.buffer],s.width,s.height,4096*l),g=new Blob([k],{type:t}),g.name=n,g.lastModified=o,y.call(this)}{let S=function(){return y.call(this)};var b=S;if(t==="image/bmp")return new Promise((x=>q2.toBlob(s,x))).then((function(x){try{return g=x,g.name=n,g.lastModified=o,S.call(this)}catch(k){return m(k)}}).bind(this),m);{let x=function(){return S.call(this)};var E=x;if(typeof OffscreenCanvas=="function"&&s instanceof OffscreenCanvas)return s.convertToBlob({type:t,quality:l}).then((function(k){try{return g=k,g.name=n,g.lastModified=o,x.call(this)}catch(O){return m(O)}}).bind(this),m);{let k;return k=s.toDataURL(t,l),Og(k,n,o).then((function(O){try{return g=O,x.call(this)}catch(G){return m(G)}}).bind(this),m)}}}function y(){return h(g)}}))}function cr(s){s.width=0,s.height=0}function Fl(){return new Promise((function(s,t){let n,o,l,h;return Fl.cachedResult!==void 0?s(Fl.cachedResult):Og("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(m){try{return n=m,Lf(n).then((function(g){try{return o=g[1],Of(o,n.type,n.name,n.lastModified).then((function(y){try{return l=y,cr(o),Lf(l).then((function(b){try{return h=b[0],Fl.cachedResult=h.width===1&&h.height===2,s(Fl.cachedResult)}catch(E){return t(E)}}),t)}catch(b){return t(b)}}),t)}catch(y){return t(y)}}),t)}catch(g){return t(g)}}),t)}))}function Q2(s){return new Promise(((t,n)=>{const o=new Z2;o.onload=l=>{const h=new DataView(l.target.result);if(h.getUint16(0,!1)!=65496)return t(-2);const m=h.byteLength;let g=2;for(;g<m;){if(h.getUint16(g+2,!1)<=8)return t(-1);const y=h.getUint16(g,!1);if(g+=2,y==65505){if(h.getUint32(g+=2,!1)!=1165519206)return t(-1);const b=h.getUint16(g+=6,!1)==18761;g+=h.getUint32(g+4,b);const E=h.getUint16(g,b);g+=2;for(let S=0;S<E;S++)if(h.getUint16(g+12*S,b)==274)return t(h.getUint16(g+12*S+8,b))}else{if((65280&y)!=65280)break;g+=h.getUint16(g,!1)}}return t(-1)},o.onerror=l=>n(l),o.readAsArrayBuffer(s)}))}function J2(s,t){const{width:n}=s,{height:o}=s,{maxWidthOrHeight:l}=t;let h,m=s;return isFinite(l)&&(n>l||o>l)&&([m,h]=nd(n,o),n>o?(m.width=l,m.height=o/n*l):(m.width=n/o*l,m.height=l),h.drawImage(s,0,0,m.width,m.height),cr(s)),m}function $2(s,t){const{width:n}=s,{height:o}=s,[l,h]=nd(n,o);switch(t>4&&t<9?(l.width=o,l.height=n):(l.width=n,l.height=o),t){case 2:h.transform(-1,0,0,1,n,0);break;case 3:h.transform(-1,0,0,-1,n,o);break;case 4:h.transform(1,0,0,-1,0,o);break;case 5:h.transform(0,1,1,0,0,0);break;case 6:h.transform(0,1,-1,0,o,0);break;case 7:h.transform(0,-1,-1,0,o,n);break;case 8:h.transform(0,-1,1,0,0,n)}return h.drawImage(s,0,0,n,o),cr(s),l}function l1(s,t,n=0){return new Promise((function(o,l){let h,m,g,y,b,E,S,x,k,O,G,W,Z,ct,et,Q,nt,Y,q,C;function N(j=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;h+=j,t.onProgress(Math.min(h,100))}function P(j){if(t.signal&&t.signal.aborted)throw t.signal.reason;h=Math.min(Math.max(j,h),100),t.onProgress(h)}return h=n,m=t.maxIteration||10,g=1024*t.maxSizeMB*1024,N(),Lf(s,t).then((function(j){try{return[,y]=j,N(),b=J2(y,t),N(),new Promise((function(H,D){var J;if(!(J=t.exifOrientation))return Q2(s).then((function(M){try{return J=M,it.call(this)}catch(z){return D(z)}}).bind(this),D);function it(){return H(J)}return it.call(this)})).then((function(H){try{return E=H,N(),Fl().then((function(D){try{return S=D?b:$2(b,E),N(),x=t.initialQuality||1,k=t.fileType||s.type,Of(S,k,s.name,s.lastModified,x).then((function(J){try{{let $=function(){if(m--&&(et>g||et>Z)){let B,st;return B=C?.95*q.width:q.width,st=C?.95*q.height:q.height,[nt,Y]=nd(B,st),Y.drawImage(q,0,0,B,st),x*=k==="image/png"?.85:.95,Of(nt,k,s.name,s.lastModified,x).then((function(lt){try{return Q=lt,cr(q),q=nt,et=Q.size,P(Math.min(99,Math.floor((ct-et)/(ct-g)*100))),$}catch(ft){return l(ft)}}),l)}return[1]},ot=function(){return cr(q),cr(nt),cr(b),cr(S),cr(y),P(100),o(Q)};var M=$,z=ot;if(O=J,N(),G=O.size>g,W=O.size>s.size,!G&&!W)return P(100),o(O);var it;return Z=s.size,ct=O.size,et=ct,q=S,C=!t.alwaysKeepResolution&&G,(it=(function(B){for(;B;){if(B.then)return void B.then(it,l);try{if(B.pop){if(B.length)return B.pop()?ot.call(this):B;B=$}else B=B.call(this)}catch(st){return l(st)}}}).bind(this))($)}}catch($){return l($)}}).bind(this),l)}catch(J){return l(J)}}).bind(this),l)}catch(D){return l(D)}}).bind(this),l)}catch(H){return l(H)}}).bind(this),l)}))}const K3=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let ep;function X3(s,t){return new Promise(((n,o)=>{ep||(ep=(function(m){const g=[];return g.push(m),URL.createObjectURL(new Blob(g))})(K3));const l=new Worker(ep);l.addEventListener("message",(function(m){if(t.signal&&t.signal.aborted)l.terminate();else if(m.data.progress===void 0){if(m.data.error)return o(new Error(m.data.error)),void l.terminate();n(m.data.file),l.terminate()}else t.onProgress(m.data.progress)})),l.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",(()=>{o(t.signal.reason),l.terminate()})),l.postMessage({file:s,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function Xn(s,t){return new Promise((function(n,o){let l,h,m,g,y,b;if(l={...t},m=0,{onProgress:g}=l,l.maxSizeMB=l.maxSizeMB||Number.POSITIVE_INFINITY,y=typeof l.useWebWorker!="boolean"||l.useWebWorker,delete l.useWebWorker,l.onProgress=k=>{m=k,typeof g=="function"&&g(m)},!(s instanceof Blob||s instanceof Y3))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(s.type))return o(new Error("The file given is not an image"));if(b=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!y||typeof Worker!="function"||b)return l1(s,l).then((function(k){try{return h=k,x.call(this)}catch(O){return o(O)}}).bind(this),o);var E=(function(){try{return x.call(this)}catch(k){return o(k)}}).bind(this),S=function(k){try{return l1(s,l).then((function(O){try{return h=O,E()}catch(G){return o(G)}}),o)}catch(O){return o(O)}};try{return l.libURL=l.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",X3(s,l).then((function(k){try{return h=k,E()}catch{return S()}}),S)}catch{S()}function x(){try{h.name=s.name,h.lastModified=s.lastModified}catch{}try{l.preserveExif&&s.type==="image/jpeg"&&(!l.fileType||l.fileType&&l.fileType===s.type)&&(h=V2(s,h))}catch{}return n(h)}}))}Xn.getDataUrlFromFile=W2,Xn.getFilefromDataUrl=Og,Xn.loadImage=Y2,Xn.drawImageInCanvas=X2,Xn.drawFileInCanvas=Lf,Xn.canvasToFile=Of,Xn.getExifOrientation=Q2,Xn.handleMaxWidthOrHeight=J2,Xn.followExifOrientation=$2,Xn.cleanupCanvasMemory=cr,Xn.isAutoOrientationInBrowser=Fl,Xn.approximateBelowMaximumCanvasSizeOfBrowser=K2,Xn.copyExifWithoutOrientation=V2,Xn.getBrowserName=Va,Xn.version="2.0.2";const Q3=la(),J3=Ff();delete ed.Icon.Default.prototype._getIconUrl;ed.Icon.Default.mergeOptions({iconRetinaUrl:B2,iconUrl:H2,shadowUrl:F2});function $3({position:s,setPosition:t}){return P2({click(n){t([n.latlng.lat,n.latlng.lng])}}),s?T.jsx(U2,{position:s}):null}function tR({userData:s,onLogout:t,onGoToMenu:n,onGoToNotifications:o,onGoToProfile:l,onBack:h,onGoToPost:m}){const[g,y]=Tt.useState(null),[b,E]=Tt.useState(null),[S,x]=Tt.useState(""),[k,O]=Tt.useState(""),[G,W]=Tt.useState(""),[Z,ct]=Tt.useState(""),[et,Q]=Tt.useState(""),[nt,Y]=Tt.useState(null),q="c8a3bf6aa8d08d4193a386fcfec78a7a",[C,N]=Tt.useState(!1),[P,j]=Tt.useState({}),H=async it=>{const M=it.target.files[0];if(!M)return;const z={maxSizeMB:.5,maxWidthOrHeight:1024,useWebWorker:!0};try{const $=await Xn(M,z);y(URL.createObjectURL($)),E($)}catch($){console.error("Error compressing image:",$)}},D=()=>{navigator.geolocation.getCurrentPosition(it=>{const{latitude:M,longitude:z}=it.coords;Y([M,z])},it=>{console.error("Error getting location: ",it)})},J=async it=>{if(it.preventDefault(),!S||!G||!Z||!nt){alert("กรุณากรอกข้อมูลให้ครบ!");return}try{const M=J3.currentUser;if(!M){alert("กรุณาเข้าสู่ระบบก่อนโพสต์");return}let z=null;if(b){const ot=new FormData;ot.append("image",b),ot.append("key",q);const st=await(await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:ot})).json();st.success?z=st.data.url:console.error("ImgBB upload failed:",st)}console.log("Selected position:",nt);const $=N2(ui(Q3,"foodPosts"));await $a($,{userId:M.uid,image:z||null,title:S,img:z||null,description:k,productionDate:G,expiryDate:Z,category:et,location:{lat:parseFloat(nt[0]),lng:parseFloat(nt[1])},createdAt:d3(),status:"available"}),N(!0),y(null),E(null),x(""),O(""),W(""),ct(""),Q(""),Y(null),setTimeout(()=>{N(!1),h()},2e3)}catch(M){console.error("Error posting data:",M),alert("เกิดข้อผิดพลาดในการโพสต์ข้อมูล")}};return T.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[T.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("img",{src:gr,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),T.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("img",{src:Xr,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:l})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[T.jsxs("button",{onClick:h,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),T.jsx("span",{className:"text-lg font-semibold",children:"Post"})]}),T.jsxs("label",{className:"block w-full h-40 border-2 border-dashed rounded-xl flex items-center justify-center cursor-pointer bg-gray-100 hover:bg-[#2e2eff10] transition-colors duration-300",children:[g?T.jsx("img",{src:g,alt:"preview",className:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-300"}):T.jsx("span",{className:"text-gray-500 font-bold",children:"ADD IMAGE"}),T.jsx("input",{type:"file",className:"hidden",onChange:H})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Food Name"}),T.jsx("input",{type:"text",placeholder:"ใส่ชื่ออาหาร...",value:S,onChange:it=>x(it.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description"}),T.jsx("textarea",{placeholder:"รายละเอียดเพิ่มเติม...",value:k,onChange:it=>O(it.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Production Date"}),T.jsx("input",{type:"date",value:G,onChange:it=>W(it.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Expiration Date"}),T.jsx("input",{type:"date",value:Z,onChange:it=>ct(it.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Categories"}),T.jsxs("select",{value:et,onChange:it=>Q(it.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",children:[T.jsx("option",{value:"",children:"เลือกประเภท"}),T.jsx("option",{value:"Lunch Boxes",children:"Lunch Boxes"}),T.jsx("option",{value:"Snacks",children:"Snacks"}),T.jsx("option",{value:"Beverages",children:"Beverages"})]})]}),T.jsxs(j2,{center:[13.736717,100.523186],zoom:13,style:{height:"300px",width:"100%",borderRadius:"12px"},className:"transition-shadow duration-300 hover:shadow-lg",children:[T.jsx(z2,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://www.openstreetmap.org/">OSM</a>',subdomains:"abcd"}),T.jsx($3,{position:nt,setPosition:Y})]}),T.jsx("div",{className:"flex justify-center mt-3",children:T.jsx("button",{onClick:D,className:"px-4 py-2 border border-[#2e2eff] text-[#2e2eff] rounded-lg hover:bg-[#2e2eff] hover:text-white transition duration-300",children:"Use Current Location"})}),T.jsx("button",{onClick:J,className:"w-full bg-[#2e2eff] text-white py-3 rounded-lg font-bold hover:bg-[#1d1dcc] transition duration-300 transform hover:scale-105",children:"POST"}),C&&T.jsx("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-40 flex items-center justify-center",children:T.jsxs("div",{className:"bg-white rounded-2xl p-8 w-64 h-64 flex flex-col items-center justify-center transform scale-75 animate-popup shadow-2xl relative",children:[T.jsx("div",{className:"checkmark mb-4",children:T.jsxs("svg",{className:"w-20 h-20 text-green-500",viewBox:"0 0 52 52",children:[T.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"24",fill:"none",stroke:"currentColor",strokeWidth:"2"}),T.jsx("path",{className:"checkmark__check",fill:"none",stroke:"currentColor",strokeWidth:"3",d:"M14 27l7 7 16-16"})]})}),T.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 text-center",children:"โพสต์สำเร็จ!"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"ระบบได้บันทึกการ Post ของคุณเรียบร้อย"})]})}),T.jsx("style",{children:`
          @keyframes popup {
            0% { transform: scale(0.5); opacity: 0; }
            60% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); }
          }
          .animate-popup { animation: popup 0.35s ease-out forwards; }

          /* วงกลมติ๊กถูก */
          .checkmark__circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-linecap: round;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
          }

          .checkmark__check {
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            stroke-linecap: round;
            animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.6s forwards;
          }

          @keyframes stroke {
            to {
              stroke-dashoffset: 0;
            }
          }
        `}),T.jsxs("div",{className:"hidden md:block",children:[T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{})]}),T.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-[1000] max-w-3xl mx-auto w-full",children:[T.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:T.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:m,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),T.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>h("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>n()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>o()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>l()}].map((it,M)=>it.empty?T.jsx("div",{className:"w-16"},M):T.jsxs("button",{onClick:it.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${it.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{d:it.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),T.jsx("span",{className:"text-xs md:text-sm mt-1",children:it.name})]},M))})]})]})]})}function eR({foodItem:s,onBack:t,onGoToProfile:n,userData:o,setCurrentPage:l}){const[h,m]=Tt.useState(!1);if(!s)return T.jsx("p",{className:"text-center mt-8 text-gray-500",children:"Loading..."});const{title:g,img:y,description:b,productionDate:E,expiryDate:S,location:x,category:k,id:O}=s;Tt.useEffect(()=>{if(y){const W=new Image;W.src=y}},[y]);const G=async()=>{if(!o){alert("กรุณาเข้าสู่ระบบก่อน Claim");return}try{const W=la(),Z=N2(ui(W,"claims"));await $a(Z,{foodId:O,userId:o.uid,claimedAt:new Date().toISOString(),foodData:{title:g,img:y,description:b,productionDate:E,expiryDate:S,category:k,location:x}});const ct=ui(W,`foodPosts/${O}`);await $a(ct,{...s,status:"claimed"}),m(!0),setTimeout(()=>{m(!1),l("home")},2e3)}catch(W){console.error("Error claiming food:",W),alert("เกิดข้อผิดพลาดในการ Claim")}};return T.jsxs("div",{className:"relative flex flex-col min-h-screen bg-white font-sans",children:[T.jsxs("header",{className:"p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl md:px-12 md:py-6",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("img",{src:gr,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),T.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("img",{src:Xr,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300",onClick:n})})]}),T.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[T.jsxs("button",{onClick:t,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),T.jsx("span",{className:"text-lg font-semibold",children:"Go Back"})]}),T.jsx("div",{className:"w-full h-64 md:h-80 rounded-xl overflow-hidden shadow-md bg-gray-100",children:T.jsx("img",{src:y||"/default-food.png",alt:g,className:"w-full h-full object-cover",onError:W=>{W.target.src="/default-food.png"},loading:"lazy"})}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:g}),k&&T.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full
                ${k==="Lunch Boxes"?"bg-yellow-100 text-yellow-800":k==="Snacks"?"bg-pink-100 text-pink-800":k==="Beverages"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:k}),T.jsxs("div",{className:"mt-3",children:[T.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Description"}),T.jsx("div",{className:"bg-gray-100 rounded-lg p-3 min-h-[80px] max-h-64 overflow-y-auto text-gray-700 text-sm",children:b||"ไม่มีคำอธิบาย"})]}),T.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-500 text-sm mt-2",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),T.jsxs("span",{children:["ผลิต: ",E||"-"]})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsxs("span",{children:["หมดอายุ: ",S||"-"]})]})]}),x?T.jsx("div",{className:"mt-4 h-64 w-full border rounded-xl overflow-hidden shadow-md",children:T.jsx("iframe",{src:`https://www.google.com/maps?q=${x.lat},${x.lng}&hl=th&z=15&output=embed`,width:"100%",height:"100%",allowFullScreen:!0,loading:"lazy",title:"Food Location"})}):T.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"ไม่พบพิกัดสำหรับรายการนี้"}),T.jsx("div",{className:"mt-6 flex justify-center",children:T.jsx("button",{onClick:G,className:"px-6 py-3 bg-green-500 text-white font-semibold rounded-xl shadow-md hover:bg-green-600 transition",children:"Claim This Food"})})]})]}),h&&T.jsx("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-40 flex items-center justify-center",children:T.jsxs("div",{className:"bg-white rounded-2xl p-8 w-64 h-64 flex flex-col items-center justify-center transform scale-75 animate-popup shadow-2xl relative",children:[T.jsx("div",{className:"checkmark mb-4",children:T.jsxs("svg",{className:"w-20 h-20 text-green-500",viewBox:"0 0 52 52",children:[T.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"24",fill:"none",stroke:"currentColor",strokeWidth:"2"}),T.jsx("path",{className:"checkmark__check",fill:"none",stroke:"currentColor",strokeWidth:"3",d:"M14 27l7 7 16-16"})]})}),T.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 text-center",children:"Claim อาหารสำเร็จ!"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"ระบบได้บันทึกการ Claim ของคุณเรียบร้อย"})]})}),T.jsx("style",{children:`
          @keyframes popup {
            0% { transform: scale(0.5); opacity: 0; }
            60% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); }
          }
          .animate-popup { animation: popup 0.35s ease-out forwards; }

          /* วงกลมติ๊กถูก */
          .checkmark__circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-linecap: round;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
          }

          .checkmark__check {
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            stroke-linecap: round;
            animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.6s forwards;
          }

          @keyframes stroke {
            to {
              stroke-dashoffset: 0;
            }
          }
        `})]})}const nR=Ff();delete ed.Icon.Default.prototype._getIconUrl;ed.Icon.Default.mergeOptions({iconRetinaUrl:B2,iconUrl:H2,shadowUrl:F2});function iR({position:s,setPosition:t}){return P2({click(n){t([n.latlng.lat,n.latlng.lng])}}),s?T.jsx(U2,{position:s}):null}function sR({post:s,onBack:t,onGoToProfile:n}){const o=s||{},[l,h]=Tt.useState(o.title||""),[m,g]=Tt.useState(o.description||""),[y,b]=Tt.useState(o.img||""),[E,S]=Tt.useState(null),[x,k]=Tt.useState(o.productionDate||""),[O,G]=Tt.useState(o.expiryDate||""),[W,Z]=Tt.useState(o.category||""),[ct,et]=Tt.useState(o.location?[o.location.lat,o.location.lng]:null),[Q,nt]=Tt.useState(!1);Tt.useEffect(()=>{s&&(h(s.title||""),g(s.description||""),b(s.img||""),k(s.productionDate||""),G(s.expiryDate||""),Z(s.category||""),et(s.location?[s.location.lat,s.location.lng]:null))},[s]);const Y=async N=>{const P=N.target.files[0];if(P)try{const j=await Xn(P,{maxSizeMB:.5,maxWidthOrHeight:1024});b(URL.createObjectURL(j)),S(j)}catch(j){console.error("Error compressing image:",j)}},q=()=>{navigator.geolocation.getCurrentPosition(N=>et([N.coords.latitude,N.coords.longitude]),N=>console.error("Error getting location:",N))},C=async N=>{if(N.preventDefault(),!l||!x||!O||!ct){alert("กรุณากรอกข้อมูลให้ครบ!");return}try{if(!nR.currentUser)return alert("กรุณาเข้าสู่ระบบ");const j=la(),H=ui(j,`foodPosts/${o.id}`);await R2(H,{title:l,description:m,img:y,productionDate:x,expiryDate:O,category:W,location:{lat:ct[0],lng:ct[1]}}),nt(!0),setTimeout(()=>{nt(!1),t()},1500)}catch(P){console.error(P),alert("เกิดข้อผิดพลาดในการแก้ไขโพสต์")}};return T.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[T.jsxs("header",{className:"p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl md:px-12 md:py-6",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("img",{src:gr,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),T.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("img",{src:Xr,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300",onClick:n})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[T.jsxs("button",{onClick:t,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),T.jsx("span",{className:"text-lg font-semibold",children:"Notifications"})]}),T.jsxs("label",{className:"block w-full h-40 border-2 border-dashed rounded-xl flex items-center justify-center cursor-pointer bg-gray-100 hover:bg-[#2e2eff10] transition-colors duration-300",children:[y?T.jsx("img",{src:y,alt:"preview",className:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-300"}):T.jsx("span",{className:"text-gray-500 font-bold",children:"ADD IMAGE"}),T.jsx("input",{type:"file",className:"hidden",onChange:Y})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Food Name"}),T.jsx("input",{type:"text",value:l,onChange:N=>h(N.target.value),placeholder:"ใส่ชื่ออาหาร...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description"}),T.jsx("textarea",{value:m,onChange:N=>g(N.target.value),placeholder:"รายละเอียดเพิ่มเติม...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Production Date"}),T.jsx("input",{type:"date",value:x,onChange:N=>k(N.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Expiration Date"}),T.jsx("input",{type:"date",value:O,onChange:N=>G(N.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Categories"}),T.jsxs("select",{value:W,onChange:N=>Z(N.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",children:[T.jsx("option",{value:"",children:"เลือกประเภท"}),T.jsx("option",{value:"Lunch Boxes",children:"Lunch Boxes"}),T.jsx("option",{value:"Snacks",children:"Snacks"}),T.jsx("option",{value:"Beverages",children:"Beverages"})]})]}),T.jsxs(j2,{center:ct||[13.736717,100.523186],zoom:13,style:{height:"300px",width:"100%",borderRadius:"12px"},className:"transition-shadow duration-300 hover:shadow-lg",children:[T.jsx(z2,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://www.openstreetmap.org/">OSM</a>',subdomains:"abcd"}),T.jsx(iR,{position:ct,setPosition:et})]}),T.jsx("div",{className:"flex justify-center mt-3",children:T.jsx("button",{onClick:q,className:"px-4 py-2 border border-[#2e2eff] text-[#2e2eff] rounded-lg hover:bg-[#2e2eff] hover:text-white transition duration-300",children:"Use Current Location"})}),T.jsx("button",{onClick:C,className:"w-full bg-[#2e2eff] text-white py-3 rounded-lg font-bold hover:bg-[#1d1dcc] transition duration-300 transform hover:scale-105",children:"UPDATE"}),Q&&T.jsx("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-40 flex items-center justify-center",children:T.jsxs("div",{className:"bg-white rounded-2xl p-8 w-64 h-64 flex flex-col items-center justify-center transform scale-75 animate-popup shadow-2xl relative",children:[T.jsx("div",{className:"checkmark mb-4",children:T.jsxs("svg",{className:"w-20 h-20 text-green-500",viewBox:"0 0 52 52",children:[T.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"24",fill:"none",stroke:"currentColor",strokeWidth:"2"}),T.jsx("path",{className:"checkmark__check",fill:"none",stroke:"currentColor",strokeWidth:"3",d:"M14 27l7 7 16-16"})]})}),T.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 text-center",children:"อัปเดตข้อมูลสำเร็จ!"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"ระบบได้บันทึกการอัปเดต Post ของคุณเรียบร้อย"})]})}),T.jsx("style",{children:`
          @keyframes popup {
            0% { transform: scale(0.5); opacity: 0; }
            60% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); }
          }
          .animate-popup { animation: popup 0.35s ease-out forwards; }

          /* วงกลมติ๊กถูก */
          .checkmark__circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-linecap: round;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
          }

          .checkmark__check {
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            stroke-linecap: round;
            animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.6s forwards;
          }

          @keyframes stroke {
            to {
              stroke-dashoffset: 0;
            }
          }
        `}),T.jsxs("div",{className:"hidden md:block",children:[T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("br",{})]})]})]})}function rR({ClaimItem:s,onBack:t,onGoToProfile:n,userData:o,setCurrentPage:l}){const[h,m]=Tt.useState(!1);if(!s)return T.jsx("p",{className:"text-center mt-8 text-gray-500",children:"Loading..."});const{title:g,img:y,description:b,productionDate:E,expiryDate:S,location:x,category:k,foodId:O,id:G}=s;Tt.useEffect(()=>{if(y){const Z=new Image;Z.src=y}},[y]);const W=async()=>{if(!o){alert("กรุณาเข้าสู่ระบบก่อนยกเลิก");return}if(!s.claimId){alert("ไม่พบ Claim ID ของรายการนี้");return}try{const Z=la();await e3(ui(Z,`claims/${s.claimId}`));const ct=s.foodId||s.id;ct&&await R2(ui(Z,`foodPosts/${ct}`),{...s,status:"available"}),m(!0),setTimeout(()=>{m(!1),l("home")},2e3)}catch(Z){console.error("Error cancelling claim:",Z),alert("เกิดข้อผิดพลาดในการยกเลิก Claim")}};return T.jsxs("div",{className:"relative flex flex-col min-h-screen bg-white font-sans",children:[T.jsxs("header",{className:"p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl md:px-12 md:py-6",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("img",{src:gr,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),T.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("img",{src:Xr,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300",onClick:n})})]}),T.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[T.jsxs("button",{onClick:t,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),T.jsx("span",{className:"text-lg font-semibold",children:"Go Back"})]}),T.jsx("div",{className:"w-full h-64 md:h-80 rounded-xl overflow-hidden shadow-md bg-gray-100",children:T.jsx("img",{src:y||"/default-food.png",alt:g,className:"w-full h-full object-cover",onError:Z=>{Z.target.src="/default-food.png"},loading:"lazy"})}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:g}),k&&T.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full
                ${k==="Lunch Boxes"?"bg-yellow-100 text-yellow-800":k==="Snacks"?"bg-pink-100 text-pink-800":k==="Beverages"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:k}),T.jsxs("div",{className:"mt-3",children:[T.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Description"}),T.jsx("div",{className:"bg-gray-100 rounded-lg p-3 min-h-[80px] max-h-64 overflow-y-auto text-gray-700 text-sm",children:b||"ไม่มีคำอธิบาย"})]}),T.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-500 text-sm mt-2",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),T.jsxs("span",{children:["ผลิต: ",E||"-"]})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsxs("span",{children:["หมดอายุ: ",S||"-"]})]})]}),x?T.jsx("div",{className:"mt-4 h-64 w-full border rounded-xl overflow-hidden shadow-md",children:T.jsx("iframe",{src:`https://www.google.com/maps?q=${x.lat},${x.lng}&hl=th&z=15&output=embed`,width:"100%",height:"100%",allowFullScreen:!0,loading:"lazy",title:"Food Location"})}):T.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"ไม่พบพิกัดสำหรับรายการนี้"}),T.jsx("div",{className:"mt-6 flex justify-center",children:T.jsx("button",{onClick:W,className:"px-6 py-3 bg-red-500 text-white font-semibold rounded-xl shadow-md hover:bg-red-600 transition",children:"Cancel Claim"})})]})]}),h&&T.jsx("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-40 flex items-center justify-center",children:T.jsxs("div",{className:"bg-white rounded-2xl p-8 w-64 h-64 flex flex-col items-center justify-center transform scale-75 animate-popup shadow-2xl relative",children:[T.jsx("div",{className:"checkmark mb-4",children:T.jsxs("svg",{className:"w-20 h-20 text-green-500",viewBox:"0 0 52 52",children:[T.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"24",fill:"none",stroke:"currentColor",strokeWidth:"2"}),T.jsx("path",{className:"checkmark__check",fill:"none",stroke:"currentColor",strokeWidth:"3",d:"M14 27l7 7 16-16"})]})}),T.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 text-center",children:"ยกเลิกรายการสำเร็จ!"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"ระบบได้บันทึกการยกเลิก Claim ของคุณเรียบร้อย"})]})}),T.jsx("style",{children:`
          @keyframes popup {
            0% { transform: scale(0.5); opacity: 0; }
            60% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); }
          }
          .animate-popup { animation: popup 0.35s ease-out forwards; }

          /* วงกลมติ๊กถูก */
          .checkmark__circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-linecap: round;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
          }

          .checkmark__check {
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            stroke-linecap: round;
            animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.6s forwards;
          }

          @keyframes stroke {
            to {
              stroke-dashoffset: 0;
            }
          }
        `})]})}function oR(){const[s,t]=Tt.useState("welcome"),[n,o]=Tt.useState(null),[l,h]=Tt.useState(!1),[m,g]=Tt.useState(null),[y,b]=Tt.useState(null),[E,S]=Tt.useState(null),[x,k]=Tt.useState(""),[O,G]=Tt.useState("ALL");Tt.useEffect(()=>{const Z=uT(Kr,ct=>{ct?(o({email:ct.email,uid:ct.uid}),t("home")):(o(null),t("welcome"))});return()=>Z()},[]);const W=()=>{o(null),t("login")};if(!l)return T.jsx(p3,{onFinish:()=>h(!0)});switch(s){case"welcome":return T.jsx(_3,{onLoginClick:()=>t("login"),onRegisterClick:()=>t("signup")});case"login":return T.jsx(g3,{onLoginSuccess:Z=>{o(Z),t("home")},onSignUpClick:()=>t("signup"),onForgotPasswordClick:()=>t("forgot")});case"signup":return T.jsx(v3,{onBackToLogin:()=>t("login"),onSignUp:()=>{alert("Sign Up Success! Please log in."),t("login")}});case"forgot":return T.jsx(y3,{onBackToLogin:()=>t("login")});case"dashboard":return T.jsx(w3,{userData:n,setCurrentPage:t});case"home":return T.jsx(S3,{userData:n,onGoToDashboard:()=>t("dashboard"),onGoToMenu:()=>{t("menu")},onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post"),searchQuery:x,setSearchQuery:k,onSearch:Z=>{k(Z),G("ALL"),t("menu")},onSelectCategory:Z=>{G(Z),k(""),t("menu")}});case"menu":return T.jsx(T3,{userData:n,currentPage:s,searchQuery:x,setSearchQuery:k,selectedCategoryFromHome:O,onBack:()=>{t("home"),G("ALL")},onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post"),onSelectFood:Z=>{g(Z),t("foodDetail")}});case"post":return T.jsx(tR,{userData:n,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToNotifications:()=>t("notifications"),onGoToProfile:()=>t("profile"),setCurrentPage:t});case"notifications":return T.jsx(A3,{userData:n,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToProfile:()=>t("profile"),onGoToPost:()=>t("post"),onGoToEditPost:()=>t("editPost"),onSelectedPost:Z=>{console.log("เลือกโพสต์:",Z),b(Z),t("editPost")},onSelectClaim:Z=>{S(Z),t("foodDetail_cancel")}});case"profile":return T.jsx(C3,{userData:n,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post"),onLogout:W});case"foodDetail":return T.jsx(eR,{userData:n,foodItem:m,onBack:()=>t("menu"),setCurrentPage:t});case"editPost":return T.jsx(sR,{userData:n,post:y,onBack:()=>t("notifications"),onGoToMenu:()=>t("menu"),onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post")});case"foodDetail_cancel":return console.log("userData.uid:",n.uid),console.log("👉 Claim ที่เลือก:",E),T.jsx(rR,{userData:n,ClaimItem:E,onBack:()=>t("notifications"),setCurrentPage:t});default:return T.jsx("div",{children:"Loading..."})}}xx.createRoot(document.getElementById("root")).render(T.jsx(Tt.StrictMode,{children:T.jsx(oR,{})}));
