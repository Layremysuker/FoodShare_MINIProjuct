(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function s1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Mm={exports:{}},Ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function hE(){if(dy)return Ku;dy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(o,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:s,type:o,key:m,ref:l!==void 0?l:null,props:h}}return Ku.Fragment=t,Ku.jsx=n,Ku.jsxs=n,Ku}var my;function fE(){return my||(my=1,Mm.exports=hE()),Mm.exports}var B=fE(),Om={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function dE(){if(py)return Yt;py=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=S&&z[S]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,G={};function X(z,et,at){this.props=z,this.context=et,this.refs=G,this.updater=at||I}X.prototype.isReactComponent={},X.prototype.setState=function(z,et){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,et,"setState")},X.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function K(){}K.prototype=X.prototype;function gt(z,et,at){this.props=z,this.context=et,this.refs=G,this.updater=at||I}var it=gt.prototype=new K;it.constructor=gt,F(it,X.prototype),it.isPureReactComponent=!0;var J=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function q(z,et,at,ht,dt,nt){return at=nt.ref,{$$typeof:s,type:z,key:et,ref:at!==void 0?at:null,props:nt}}function A(z,et){return q(z.type,et,void 0,void 0,void 0,z.props)}function C(z){return typeof z=="object"&&z!==null&&z.$$typeof===s}function P(z){var et={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(at){return et[at]})}var U=/\/+/g;function k(z,et){return typeof z=="object"&&z!==null&&z.key!=null?P(""+z.key):et.toString(36)}function M(){}function Q(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(M,M):(z.status="pending",z.then(function(et){z.status==="pending"&&(z.status="fulfilled",z.value=et)},function(et){z.status==="pending"&&(z.status="rejected",z.reason=et)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ot(z,et,at,ht,dt){var nt=typeof z;(nt==="undefined"||nt==="boolean")&&(z=null);var wt=!1;if(z===null)wt=!0;else switch(nt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(z.$$typeof){case s:case t:wt=!0;break;case w:return wt=z._init,ot(wt(z._payload),et,at,ht,dt)}}if(wt)return dt=dt(z),wt=ht===""?"."+k(z,0):ht,J(dt)?(at="",wt!=null&&(at=wt.replace(U,"$&/")+"/"),ot(dt,et,at,"",function(Gt){return Gt})):dt!=null&&(C(dt)&&(dt=A(dt,at+(dt.key==null||z&&z.key===dt.key?"":(""+dt.key).replace(U,"$&/")+"/")+wt)),et.push(dt)),1;wt=0;var Dt=ht===""?".":ht+":";if(J(z))for(var Mt=0;Mt<z.length;Mt++)ht=z[Mt],nt=Dt+k(ht,Mt),wt+=ot(ht,et,at,nt,dt);else if(Mt=T(z),typeof Mt=="function")for(z=Mt.call(z),Mt=0;!(ht=z.next()).done;)ht=ht.value,nt=Dt+k(ht,Mt++),wt+=ot(ht,et,at,nt,dt);else if(nt==="object"){if(typeof z.then=="function")return ot(Q(z),et,at,ht,dt);throw et=String(z),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return wt}function O(z,et,at){if(z==null)return z;var ht=[],dt=0;return ot(z,ht,"","",function(nt){return et.call(at,nt,dt++)}),ht}function j(z){if(z._status===-1){var et=z._result;et=et(),et.then(function(at){(z._status===0||z._status===-1)&&(z._status=1,z._result=at)},function(at){(z._status===0||z._status===-1)&&(z._status=2,z._result=at)}),z._status===-1&&(z._status=0,z._result=et)}if(z._status===1)return z._result.default;throw z._result}var $=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function rt(){}return Yt.Children={map:O,forEach:function(z,et,at){O(z,function(){et.apply(this,arguments)},at)},count:function(z){var et=0;return O(z,function(){et++}),et},toArray:function(z){return O(z,function(et){return et})||[]},only:function(z){if(!C(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Yt.Component=X,Yt.Fragment=n,Yt.Profiler=l,Yt.PureComponent=gt,Yt.StrictMode=o,Yt.Suspense=y,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return ct.H.useMemoCache(z)}},Yt.cache=function(z){return function(){return z.apply(null,arguments)}},Yt.cloneElement=function(z,et,at){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ht=F({},z.props),dt=z.key,nt=void 0;if(et!=null)for(wt in et.ref!==void 0&&(nt=void 0),et.key!==void 0&&(dt=""+et.key),et)!Z.call(et,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&et.ref===void 0||(ht[wt]=et[wt]);var wt=arguments.length-2;if(wt===1)ht.children=at;else if(1<wt){for(var Dt=Array(wt),Mt=0;Mt<wt;Mt++)Dt[Mt]=arguments[Mt+2];ht.children=Dt}return q(z.type,dt,void 0,void 0,nt,ht)},Yt.createContext=function(z){return z={$$typeof:m,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},Yt.createElement=function(z,et,at){var ht,dt={},nt=null;if(et!=null)for(ht in et.key!==void 0&&(nt=""+et.key),et)Z.call(et,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(dt[ht]=et[ht]);var wt=arguments.length-2;if(wt===1)dt.children=at;else if(1<wt){for(var Dt=Array(wt),Mt=0;Mt<wt;Mt++)Dt[Mt]=arguments[Mt+2];dt.children=Dt}if(z&&z.defaultProps)for(ht in wt=z.defaultProps,wt)dt[ht]===void 0&&(dt[ht]=wt[ht]);return q(z,nt,void 0,void 0,null,dt)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(z){return{$$typeof:g,render:z}},Yt.isValidElement=C,Yt.lazy=function(z){return{$$typeof:w,_payload:{_status:-1,_result:z},_init:j}},Yt.memo=function(z,et){return{$$typeof:E,type:z,compare:et===void 0?null:et}},Yt.startTransition=function(z){var et=ct.T,at={};ct.T=at;try{var ht=z(),dt=ct.S;dt!==null&&dt(at,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(rt,$)}catch(nt){$(nt)}finally{ct.T=et}},Yt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Yt.use=function(z){return ct.H.use(z)},Yt.useActionState=function(z,et,at){return ct.H.useActionState(z,et,at)},Yt.useCallback=function(z,et){return ct.H.useCallback(z,et)},Yt.useContext=function(z){return ct.H.useContext(z)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(z,et){return ct.H.useDeferredValue(z,et)},Yt.useEffect=function(z,et,at){var ht=ct.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ht.useEffect(z,et)},Yt.useId=function(){return ct.H.useId()},Yt.useImperativeHandle=function(z,et,at){return ct.H.useImperativeHandle(z,et,at)},Yt.useInsertionEffect=function(z,et){return ct.H.useInsertionEffect(z,et)},Yt.useLayoutEffect=function(z,et){return ct.H.useLayoutEffect(z,et)},Yt.useMemo=function(z,et){return ct.H.useMemo(z,et)},Yt.useOptimistic=function(z,et){return ct.H.useOptimistic(z,et)},Yt.useReducer=function(z,et,at){return ct.H.useReducer(z,et,at)},Yt.useRef=function(z){return ct.H.useRef(z)},Yt.useState=function(z){return ct.H.useState(z)},Yt.useSyncExternalStore=function(z,et,at){return ct.H.useSyncExternalStore(z,et,at)},Yt.useTransition=function(){return ct.H.useTransition()},Yt.version="19.1.1",Yt}var gy;function Tp(){return gy||(gy=1,Om.exports=dE()),Om.exports}var Nt=Tp();const ep=s1(Nt);var Lm={exports:{}},Xu={},km={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function mE(){return _y||(_y=1,(function(s){function t(O,j){var $=O.length;O.push(j);t:for(;0<$;){var rt=$-1>>>1,z=O[rt];if(0<l(z,j))O[rt]=j,O[$]=z,$=rt;else break t}}function n(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var j=O[0],$=O.pop();if($!==j){O[0]=$;t:for(var rt=0,z=O.length,et=z>>>1;rt<et;){var at=2*(rt+1)-1,ht=O[at],dt=at+1,nt=O[dt];if(0>l(ht,$))dt<z&&0>l(nt,ht)?(O[rt]=nt,O[dt]=$,rt=dt):(O[rt]=ht,O[at]=$,rt=at);else if(dt<z&&0>l(nt,$))O[rt]=nt,O[dt]=$,rt=dt;else break t}}return j}function l(O,j){var $=O.sortIndex-j.sortIndex;return $!==0?$:O.id-j.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,g=m.now();s.unstable_now=function(){return m.now()-g}}var y=[],E=[],w=1,S=null,T=3,I=!1,F=!1,G=!1,X=!1,K=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function J(O){for(var j=n(E);j!==null;){if(j.callback===null)o(E);else if(j.startTime<=O)o(E),j.sortIndex=j.expirationTime,t(y,j);else break;j=n(E)}}function ct(O){if(G=!1,J(O),!F)if(n(y)!==null)F=!0,Z||(Z=!0,k());else{var j=n(E);j!==null&&ot(ct,j.startTime-O)}}var Z=!1,q=-1,A=5,C=-1;function P(){return X?!0:!(s.unstable_now()-C<A)}function U(){if(X=!1,Z){var O=s.unstable_now();C=O;var j=!0;try{t:{F=!1,G&&(G=!1,gt(q),q=-1),I=!0;var $=T;try{e:{for(J(O),S=n(y);S!==null&&!(S.expirationTime>O&&P());){var rt=S.callback;if(typeof rt=="function"){S.callback=null,T=S.priorityLevel;var z=rt(S.expirationTime<=O);if(O=s.unstable_now(),typeof z=="function"){S.callback=z,J(O),j=!0;break e}S===n(y)&&o(y),J(O)}else o(y);S=n(y)}if(S!==null)j=!0;else{var et=n(E);et!==null&&ot(ct,et.startTime-O),j=!1}}break t}finally{S=null,T=$,I=!1}j=void 0}}finally{j?k():Z=!1}}}var k;if(typeof it=="function")k=function(){it(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Q=M.port2;M.port1.onmessage=U,k=function(){Q.postMessage(null)}}else k=function(){K(U,0)};function ot(O,j){q=K(function(){O(s.unstable_now())},j)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(O){switch(T){case 1:case 2:case 3:var j=3;break;default:j=T}var $=T;T=j;try{return O()}finally{T=$}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=T;T=O;try{return j()}finally{T=$}},s.unstable_scheduleCallback=function(O,j,$){var rt=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?rt+$:rt):$=rt,O){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,O={id:w++,callback:j,priorityLevel:O,startTime:$,expirationTime:z,sortIndex:-1},$>rt?(O.sortIndex=$,t(E,O),n(y)===null&&O===n(E)&&(G?(gt(q),q=-1):G=!0,ot(ct,$-rt))):(O.sortIndex=z,t(y,O),F||I||(F=!0,Z||(Z=!0,k()))),O},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(O){var j=T;return function(){var $=T;T=j;try{return O.apply(this,arguments)}finally{T=$}}}})(Dm)),Dm}var vy;function pE(){return vy||(vy=1,km.exports=mE()),km.exports}var Pm={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function gE(){if(yy)return oi;yy=1;var s=Tp();function t(y){var E="https://react.dev/errors/"+y;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)E+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,E,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:E,implementation:w}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,E){if(y==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,oi.createPortal=function(y,E){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return h(y,E,null,w)},oi.flushSync=function(y){var E=m.T,w=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=E,o.p=w,o.d.f()}},oi.preconnect=function(y,E){typeof y=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,o.d.C(y,E))},oi.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},oi.preinit=function(y,E){if(typeof y=="string"&&E&&typeof E.as=="string"){var w=E.as,S=g(w,E.crossOrigin),T=typeof E.integrity=="string"?E.integrity:void 0,I=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;w==="style"?o.d.S(y,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:I}):w==="script"&&o.d.X(y,{crossOrigin:S,integrity:T,fetchPriority:I,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},oi.preinitModule=function(y,E){if(typeof y=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var w=g(E.as,E.crossOrigin);o.d.M(y,{crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&o.d.M(y)},oi.preload=function(y,E){if(typeof y=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var w=E.as,S=g(w,E.crossOrigin);o.d.L(y,w,{crossOrigin:S,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},oi.preloadModule=function(y,E){if(typeof y=="string")if(E){var w=g(E.as,E.crossOrigin);o.d.m(y,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else o.d.m(y)},oi.requestFormReset=function(y){o.d.r(y)},oi.unstable_batchedUpdates=function(y,E){return y(E)},oi.useFormState=function(y,E,w){return m.H.useFormState(y,E,w)},oi.useFormStatus=function(){return m.H.useHostTransitionStatus()},oi.version="19.1.1",oi}var wy;function r1(){if(wy)return Pm.exports;wy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pm.exports=gE(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function _E(){if(by)return Xu;by=1;var s=pE(),t=Tp(),n=r1();function o(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(o(188))}function y(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(o(188));return i!==e?null:e}for(var a=e,c=i;;){var p=a.return;if(p===null)break;var _=p.alternate;if(_===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===a)return g(p),e;if(_===c)return g(p),i;_=_.sibling}throw Error(o(188))}if(a.return!==c.return)a=p,c=_;else{for(var R=!1,H=p.child;H;){if(H===a){R=!0,a=p,c=_;break}if(H===c){R=!0,c=p,a=_;break}H=H.sibling}if(!R){for(H=_.child;H;){if(H===a){R=!0,a=_,c=p;break}if(H===c){R=!0,c=_,a=p;break}H=H.sibling}if(!R)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case X:return"Profiler";case G:return"StrictMode";case ct:return"Suspense";case Z:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case it:return(e.displayName||"Context")+".Provider";case gt:return(e._context.displayName||"Context")+".Consumer";case J:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return i=e.displayName||null,i!==null?i:Q(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Q(e(i))}catch{}}return null}var ot=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},rt=[],z=-1;function et(e){return{current:e}}function at(e){0>z||(e.current=rt[z],rt[z]=null,z--)}function ht(e,i){z++,rt[z]=e.current,e.current=i}var dt=et(null),nt=et(null),wt=et(null),Dt=et(null);function Mt(e,i){switch(ht(wt,i),ht(nt,e),ht(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Hv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Hv(i),e=Fv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(dt),ht(dt,e)}function Gt(){at(dt),at(nt),at(wt)}function Xt(e){e.memoizedState!==null&&ht(Dt,e);var i=dt.current,a=Fv(i,e.type);i!==a&&(ht(nt,e),ht(dt,a))}function oe(e){nt.current===e&&(at(dt),at(nt)),Dt.current===e&&(at(Dt),qu._currentValue=$)}var me=Object.prototype.hasOwnProperty,En=s.unstable_scheduleCallback,fn=s.unstable_cancelCallback,be=s.unstable_shouldYield,We=s.unstable_requestPaint,Zt=s.unstable_now,le=s.unstable_getCurrentPriorityLevel,Ve=s.unstable_ImmediatePriority,qe=s.unstable_UserBlockingPriority,_e=s.unstable_NormalPriority,dn=s.unstable_LowPriority,Se=s.unstable_IdlePriority,pe=s.log,mn=s.unstable_setDisableYieldValue,ae=null,te=null;function ge(e){if(typeof pe=="function"&&mn(e),te&&typeof te.setStrictMode=="function")try{te.setStrictMode(ae,e)}catch{}}var Pe=Math.clz32?Math.clz32:tn,Xe=Math.log,Rn=Math.LN2;function tn(e){return e>>>=0,e===0?32:31-(Xe(e)/Rn|0)|0}var pn=256,en=4194304;function nn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ji(e,i,a){var c=e.pendingLanes;if(c===0)return 0;var p=0,_=e.suspendedLanes,R=e.pingedLanes;e=e.warmLanes;var H=c&134217727;return H!==0?(c=H&~_,c!==0?p=nn(c):(R&=H,R!==0?p=nn(R):a||(a=H&~e,a!==0&&(p=nn(a))))):(H=c&~_,H!==0?p=nn(H):R!==0?p=nn(R):a||(a=c&~e,a!==0&&(p=nn(a)))),p===0?0:i!==0&&i!==p&&(i&_)===0&&(_=p&-p,a=i&-i,_>=a||_===32&&(a&4194048)!==0)?i:p}function ui(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function _s(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var e=pn;return pn<<=1,(pn&4194048)===0&&(pn=256),e}function Li(){var e=en;return en<<=1,(en&62914560)===0&&(en=4194304),e}function bi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function an(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qn(e,i,a,c,p,_){var R=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var H=e.entanglements,Y=e.expirationTimes,mt=e.hiddenUpdates;for(a=R&~a;0<a;){var bt=31-Pe(a),Tt=1<<bt;H[bt]=0,Y[bt]=-1;var pt=mt[bt];if(pt!==null)for(mt[bt]=null,bt=0;bt<pt.length;bt++){var _t=pt[bt];_t!==null&&(_t.lane&=-536870913)}a&=~Tt}c!==0&&In(e,c,0),_!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=_&~(R&~i))}function In(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Pe(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function ki(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var c=31-Pe(a),p=1<<c;p&i|e[c]&i&&(e[c]|=i),a&=~p}}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mn(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:ay(e.type))}function io(e,i){var a=j.p;try{return j.p=e,i()}finally{j.p=a}}var Ue=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ue,sn="__reactProps$"+Ue,Ei="__reactContainer$"+Ue,$n="__reactEvents$"+Ue,Lt="__reactListeners$"+Ue,vs="__reactHandles$"+Ue,ca="__reactResources$"+Ue,qs="__reactMarker$"+Ue;function Gs(e){delete e[ln],delete e[sn],delete e[$n],delete e[Lt],delete e[vs]}function ts(e){var i=e[ln];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ei]||a[ln]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Zv(e);e!==null;){if(a=e[ln])return a;e=Zv(e)}return i}e=a,a=e.parentNode}return null}function Di(e){if(e=e[ln]||e[Ei]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Vn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(o(33))}function On(e){var i=e[ca];return i||(i=e[ca]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qe(e){e[qs]=!0}var ha=new Set,so={};function Pi(e,i){es(e,i),es(e+"Capture",i)}function es(e,i){for(so[e]=i,e=0;e<i.length;e++)ha.add(i[e])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vr={},yr={};function sl(e){return me.call(yr,e)?!0:me.call(vr,e)?!1:il.test(e)?yr[e]=!0:(vr[e]=!0,!1)}function Zs(e,i,a){if(sl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ns(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Tn(e,i,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+c)}}var ys,Ws;function is(e){if(ys===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ys=i&&i[1]||"",Ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+e+Ws}var wr=!1;function ss(e,i){if(!e||wr)return"";wr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(_t){var pt=_t}Reflect.construct(e,[],Tt)}else{try{Tt.call()}catch(_t){pt=_t}e.call(Tt.prototype)}}else{try{throw Error()}catch(_t){pt=_t}(Tt=e())&&typeof Tt.catch=="function"&&Tt.catch(function(){})}}catch(_t){if(_t&&pt&&typeof _t.stack=="string")return[_t.stack,pt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),R=_[0],H=_[1];if(R&&H){var Y=R.split(`
`),mt=H.split(`
`);for(p=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;p<mt.length&&!mt[p].includes("DetermineComponentFrameRoot");)p++;if(c===Y.length||p===mt.length)for(c=Y.length-1,p=mt.length-1;1<=c&&0<=p&&Y[c]!==mt[p];)p--;for(;1<=c&&0<=p;c--,p--)if(Y[c]!==mt[p]){if(c!==1||p!==1)do if(c--,p--,0>p||Y[c]!==mt[p]){var bt=`
`+Y[c].replace(" at new "," at ");return e.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",e.displayName)),bt}while(1<=c&&0<=p);break}}}finally{wr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?is(a):""}function Qt(e){switch(e.tag){case 26:case 27:case 5:return is(e.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return ss(e.type,!1);case 11:return ss(e.type.render,!1);case 1:return ss(e.type,!0);case 31:return is("Activity");default:return""}}function xe(e){try{var i="";do i+=Qt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ys(e){var i=rs(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,_=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(R){c=""+R,_.call(this,R)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ks(e){e._valueTracker||(e._valueTracker=Ys(e))}function qt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return e&&(c=rs(e)?e.checked?"true":"false":e.value),e=c,e!==a?(i.setValue(e),!0):!1}function Ce(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fa=/[\n"\\]/g;function Ge(e){return e.replace(fa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ze(e,i,a,c,p,_,R,H){e.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.type=R:e.removeAttribute("type"),i!=null?R==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+gn(i)):e.value!==""+gn(i)&&(e.value=""+gn(i)):R!=="submit"&&R!=="reset"||e.removeAttribute("value"),i!=null?Ui(e,R,gn(i)):a!=null?Ui(e,R,gn(a)):c!=null&&e.removeAttribute("value"),p==null&&_!=null&&(e.defaultChecked=!!_),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?e.name=""+gn(H):e.removeAttribute("name")}function br(e,i,a,c,p,_,R,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||i!=null))return;a=a!=null?""+gn(a):"",i=i!=null?""+gn(i):a,H||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=H?e.checked:!!c,e.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(e.name=R)}function Ui(e,i,a){i==="number"&&Ce(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function qn(e,i,a,c){if(e=e.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=i.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&c&&(e[a].defaultSelected=!0)}else{for(a=""+gn(a),i=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Bt(e,i,a){if(i!=null&&(i=""+gn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+gn(a):""}function ci(e,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(o(92));if(ot(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=gn(i),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function Ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ro(e,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,a):typeof a!="number"||a===0||zi.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ws(e,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&a[p]!==c&&ro(e,p,c)}else for(var _ in i)i.hasOwnProperty(_)&&ro(e,_,i[_])}function Er(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return oo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Bi=null;function Gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,ji=null;function ma(e){var i=Di(e);if(i&&(e=i.stateNode)){var a=e[sn]||null;t:switch(e=i.stateNode,i.type){case"input":if(ze(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ge(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==e&&c.form===e.form){var p=c[sn]||null;if(!p)throw Error(o(90));ze(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===e.form&&qt(c)}break t;case"textarea":Bt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&qn(e,!!a.multiple,i,!1)}}}var Pt=!1;function hi(e,i,a){if(Pt)return e(i,a);Pt=!0;try{var c=e(i);return c}finally{if(Pt=!1,(os!==null||ji!==null)&&(Th(),os&&(i=os,e=ji,ji=os=null,ma(i),e)))for(i=0;i<e.length;i++)ma(e[i])}}function ue(e,i){var a=e.stateNode;if(a===null)return null;var c=a[sn]||null;if(c===null)return null;a=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ti=!1;if(Ti)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){ti=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{ti=!1}var Si=null,ei=null,Hi=null;function Es(){if(Hi)return Hi;var e,i=ei,a=i.length,c,p="value"in Si?Si.value:Si.textContent,_=p.length;for(e=0;e<a&&i[e]===p[e];e++);var R=a-e;for(c=1;c<=R&&i[a-c]===p[_-c];c++);return Hi=p.slice(e,1<c?1-c:void 0)}function Ie(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function kn(){return!0}function ao(){return!1}function un(e){function i(a,c,p,_,R){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(a=e[H],this[H]=a?a(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?kn:ao,this.isPropagationStopped=ao,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),i}var Ee={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=un(Ee),Ts=w({},Ee,{view:0,detail:0}),rl=un(Ts),Sr,Wt,as,Sn=w({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(Sr=e.screenX-as.screenX,Wt=e.screenY-as.screenY):Wt=Sr=0,as=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:Wt}}),Dn=un(Sn),pa=w({},Sn,{dataTransfer:0}),au=un(pa),Ss=w({},Ts,{relatedTarget:0}),lo=un(Ss),uo=w({},Ee,{animationName:0,elapsedTime:0,pseudoElement:0}),co=un(uo),ol=w({},Ee,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qs=un(ol),lu=w({},Ee,{data:0}),ni=un(lu),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ho(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Fi[e])?!!i[e]:!1}function Js(){return ho}var fo=w({},Ts,{key:function(e){if(e.key){var i=xr[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ie(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ga[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(e){return e.type==="keypress"?Ie(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ie(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mo=un(fo),_a=w({},Sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=un(_a),xs=w({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),al=un(xs),go=w({},Ee,{propertyName:0,elapsedTime:0,pseudoElement:0}),ll=un(go),va=w({},Sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zn=un(va),Ar=w({},Ee,{newState:0,oldState:0}),ls=un(Ar),$s=[9,13,27,32],f=Ti&&"CompositionEvent"in window,b=null;Ti&&"documentMode"in document&&(b=document.documentMode);var N=Ti&&"TextEvent"in window&&!b,V=Ti&&(!f||b&&8<b&&11>=b),ut=" ",yt=!1;function xt(e,i){switch(e){case"keyup":return $s.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Be=!1;function ee(e,i){switch(e){case"compositionend":return ve(i);case"keypress":return i.which!==32?null:(yt=!0,ut);case"textInput":return e=i.data,e===ut&&yt?null:e;default:return null}}function _n(e,i){if(Be)return e==="compositionend"||!f&&xt(e,i)?(e=Es(),Hi=ei=Si=null,Be=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return V&&i.locale!=="ko"?null:i.data;default:return null}}var Ae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ii(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ae[e.type]:i==="textarea"}function si(e,i,a,c){os?ji?ji.push(c):ji=[c]:os=c,i=Rh(i,"onChange"),0<i.length&&(a=new Tr("onChange","change",null,a,c),e.push({event:a,listeners:i}))}var vn=null,As=null;function _o(e){Pv(e,0)}function ul(e){var i=Vn(e);if(qt(i))return e}function vo(e,i){if(e==="change")return i}var uu=!1;if(Ti){var yo;if(Ti){var cu="oninput"in document;if(!cu){var Cs=document.createElement("div");Cs.setAttribute("oninput","return;"),cu=typeof Cs.oninput=="function"}yo=cu}else yo=!1;uu=yo&&(!document.documentMode||9<document.documentMode)}function ya(){vn&&(vn.detachEvent("onpropertychange",Fc),As=vn=null)}function Fc(e){if(e.propertyName==="value"&&ul(As)){var i=[];si(i,As,e,Gn(e)),hi(_o,i)}}function hu(e,i,a){e==="focusin"?(ya(),vn=i,As=a,vn.attachEvent("onpropertychange",Fc)):e==="focusout"&&ya()}function ed(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(As)}function Ns(e,i){if(e==="click")return ul(i)}function nd(e,i){if(e==="input"||e==="change")return ul(i)}function wo(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var fi=typeof Object.is=="function"?Object.is:wo;function di(e,i){if(fi(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!me.call(i,p)||!fi(e[p],i[p]))return!1}return!0}function wa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fu(e,i){var a=wa(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=i&&c>=i)return{node:a,offset:i-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=wa(a)}}function cl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?cl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ba(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ce(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ce(e.document)}return i}function Ea(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var hl=Ti&&"documentMode"in document&&11>=document.documentMode,Vi=null,bo=null,Cr=null,fl=!1;function Vc(e,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fl||Vi==null||Vi!==Ce(c)||(c=Vi,"selectionStart"in c&&Ea(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Cr&&di(Cr,c)||(Cr=c,c=Rh(bo,"onSelect"),0<c.length&&(i=new Tr("onSelect","select",null,i,a),e.push({event:i,listeners:c}),i.target=Vi)))}function us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Eo={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},dl={},qc={};Ti&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function tr(e){if(dl[e])return dl[e];if(!Eo[e])return e;var i=Eo[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in qc)return dl[e]=i[a];return e}var Gc=tr("animationend"),qi=tr("animationiteration"),Ta=tr("animationstart"),id=tr("transitionrun"),ml=tr("transitionstart"),sd=tr("transitioncancel"),du=tr("transitionend"),Zc=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nr.push("scrollEnd");function Gi(e,i){Zc.set(e,i),Pi(i,[e])}var Rr=new WeakMap;function mi(e,i){if(typeof e=="object"&&e!==null){var a=Rr.get(e);return a!==void 0?a:(i={value:e,source:i,stack:xe(i)},Rr.set(e,i),i)}return{value:e,source:i,stack:xe(i)}}var pi=[],To=0,Zi=0;function Sa(){for(var e=To,i=Zi=To=0;i<e;){var a=pi[i];pi[i++]=null;var c=pi[i];pi[i++]=null;var p=pi[i];pi[i++]=null;var _=pi[i];if(pi[i++]=null,c!==null&&p!==null){var R=c.pending;R===null?p.next=p:(p.next=R.next,R.next=p),c.pending=p}_!==0&&Aa(a,p,_)}}function xa(e,i,a,c){pi[To++]=e,pi[To++]=i,pi[To++]=a,pi[To++]=c,Zi|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Ir(e,i,a,c){return xa(e,i,a,c),er(e)}function So(e,i){return xa(e,null,null,i),er(e)}function Aa(e,i,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var p=!1,_=e.return;_!==null;)_.childLanes|=a,c=_.alternate,c!==null&&(c.childLanes|=a),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(p=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,p&&i!==null&&(p=31-Pe(a),e=_.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=a|536870912),_):null}function er(e){if(50<Pu)throw Pu=0,em=null,Error(o(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Mr={};function Wc(e,i,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(e,i,a,c){return new Wc(e,i,a,c)}function pl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cs(e,i){var a=e.alternate;return a===null?(a=gi(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function mu(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ca(e,i,a,c,p,_){var R=0;if(c=e,typeof e=="function")pl(e)&&(R=1);else if(typeof e=="string")R=J2(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gi(31,a,i,p),e.elementType=C,e.lanes=_,e;case F:return nr(a.children,p,_,i);case G:R=8,p|=24;break;case X:return e=gi(12,a,i,p|2),e.elementType=X,e.lanes=_,e;case ct:return e=gi(13,a,i,p),e.elementType=ct,e.lanes=_,e;case Z:return e=gi(19,a,i,p),e.elementType=Z,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:case it:R=10;break t;case gt:R=9;break t;case J:R=11;break t;case q:R=14;break t;case A:R=16,c=null;break t}R=29,a=Error(o(130,e===null?"null":typeof e,"")),c=null}return i=gi(R,a,i,p),i.elementType=e,i.type=c,i.lanes=_,i}function nr(e,i,a,c){return e=gi(7,e,c,i),e.lanes=a,e}function pu(e,i,a){return e=gi(6,e,null,i),e.lanes=a,e}function gl(e,i,a){return i=gi(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Or=[],xo=0,r=null,u=0,d=[],v=0,x=null,D=1,W="";function lt(e,i){Or[xo++]=u,Or[xo++]=r,r=e,u=i}function vt(e,i,a){d[v++]=D,d[v++]=W,d[v++]=x,x=e;var c=D;e=W;var p=32-Pe(c)-1;c&=~(1<<p),a+=1;var _=32-Pe(i)+p;if(30<_){var R=p-p%5;_=(c&(1<<R)-1).toString(32),c>>=R,p-=R,D=1<<32-Pe(i)+p|a<<p|c,W=_+e}else D=1<<_|a<<p|c,W=e}function St(e){e.return!==null&&(lt(e,1),vt(e,1,0))}function Ct(e){for(;e===r;)r=Or[--xo],Or[xo]=null,u=Or[--xo],Or[xo]=null;for(;e===x;)x=d[--v],d[v]=null,W=d[--v],d[v]=null,D=d[--v],d[v]=null}var Rt=null,Ot=null,Vt=!1,je=null,Je=!1,Pn=Error(o(519));function xi(e){var i=Error(o(418,""));throw Co(mi(i,e)),Pn}function Yc(e){var i=e.stateNode,a=e.type,c=e.memoizedProps;switch(i[ln]=e,i[sn]=c,a){case"dialog":ie("cancel",i),ie("close",i);break;case"iframe":case"object":case"embed":ie("load",i);break;case"video":case"audio":for(a=0;a<zu.length;a++)ie(zu[a],i);break;case"source":ie("error",i);break;case"img":case"image":case"link":ie("error",i),ie("load",i);break;case"details":ie("toggle",i);break;case"input":ie("invalid",i),br(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ks(i);break;case"select":ie("invalid",i);break;case"textarea":ie("invalid",i),ci(i,c.value,c.defaultValue,c.children),Ks(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||jv(i.textContent,a)?(c.popover!=null&&(ie("beforetoggle",i),ie("toggle",i)),c.onScroll!=null&&ie("scroll",i),c.onScrollEnd!=null&&ie("scrollend",i),c.onClick!=null&&(i.onclick=Ih),i=!0):i=!1,i||xi(e)}function Kc(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 13:Je=!1;return;case 27:case 3:Je=!0;return;default:Rt=Rt.return}}function Na(e){if(e!==Rt)return!1;if(!Vt)return Kc(e),Vt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_m(e.type,e.memoizedProps)),a=!a),a&&Ot&&xi(e),Kc(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ot=Os(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ot=null}}else i===27?(i=Ot,Fo(e.type)?(e=bm,bm=null,Ot=e):Ot=i):Ot=Rt?Os(e.stateNode.nextSibling):null;return!0}function Ao(){Ot=Rt=null,Vt=!1}function Xc(){var e=je;return e!==null&&(Ni===null?Ni=e:Ni.push.apply(Ni,e),je=null),e}function Co(e){je===null?je=[e]:je.push(e)}var Ye=et(null),hs=null,Rs=null;function ir(e,i,a){ht(Ye,i._currentValue),i._currentValue=a}function Is(e){e._currentValue=Ye.current,at(Ye)}function Ra(e,i,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===a)break;e=e.return}}function _l(e,i,a,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var _=p.dependencies;if(_!==null){var R=p.child;_=_.firstContext;t:for(;_!==null;){var H=_;_=p;for(var Y=0;Y<i.length;Y++)if(H.context===i[Y]){_.lanes|=a,H=_.alternate,H!==null&&(H.lanes|=a),Ra(_.return,a,e),c||(R=null);break t}_=H.next}}else if(p.tag===18){if(R=p.return,R===null)throw Error(o(341));R.lanes|=a,_=R.alternate,_!==null&&(_.lanes|=a),Ra(R,a,e),R=null}else R=p.child;if(R!==null)R.return=p;else for(R=p;R!==null;){if(R===e){R=null;break}if(p=R.sibling,p!==null){p.return=R.return,R=p;break}R=R.return}p=R}}function Ia(e,i,a,c){e=null;for(var p=i,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var R=p.alternate;if(R===null)throw Error(o(387));if(R=R.memoizedProps,R!==null){var H=p.type;fi(p.pendingProps.value,R.value)||(e!==null?e.push(H):e=[H])}}else if(p===Dt.current){if(R=p.alternate,R===null)throw Error(o(387));R.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(qu):e=[qu])}p=p.return}e!==null&&_l(i,e,a,c),i.flags|=262144}function Qc(e){for(e=e.firstContext;e!==null;){if(!fi(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){hs=e,Rs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ri(e){return Ag(hs,e)}function Jc(e,i){return hs===null&&Ma(e),Ag(e,i)}function Ag(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Rs===null){if(e===null)throw Error(o(308));Rs=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Rs=Rs.next=i;return a}var Qb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Jb=s.unstable_scheduleCallback,$b=s.unstable_NormalPriority,xn={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new Qb,data:new Map,refCount:0}}function gu(e){e.refCount--,e.refCount===0&&Jb($b,function(){e.controller.abort()})}var _u=null,od=0,vl=0,yl=null;function t2(e,i){if(_u===null){var a=_u=[];od=0,vl=lm(),yl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return od++,i.then(Cg,Cg),i}function Cg(){if(--od===0&&_u!==null){yl!==null&&(yl.status="fulfilled");var e=_u;_u=null,vl=0,yl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function e2(e,i){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<a.length;p++)(0,a[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var Ng=O.S;O.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&t2(e,i),Ng!==null&&Ng(e,i)};var Oa=et(null);function ad(){var e=Oa.current;return e!==null?e:He.pooledCache}function $c(e,i){i===null?ht(Oa,Oa.current):ht(Oa,i.pool)}function Rg(){var e=ad();return e===null?null:{parent:xn._currentValue,pool:e}}var vu=Error(o(460)),Ig=Error(o(474)),th=Error(o(542)),ld={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eh(){}function Og(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(eh,eh),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,kg(e),e;default:if(typeof i.status=="string")i.then(eh,eh);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,kg(e),e}throw yu=i,vu}}var yu=null;function Lg(){if(yu===null)throw Error(o(459));var e=yu;return yu=null,e}function kg(e){if(e===vu||e===th)throw Error(o(483))}var No=!1;function ud(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ro(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Io(e,i,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ne&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=er(e),Aa(e,null,a),i}return xa(e,c,i,a),er(e)}function wu(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,ki(e,a)}}function hd(e,i){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var R={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?p=_=R:_=_.next=R,a=a.next}while(a!==null);_===null?p=_=i:_=_.next=i}else p=_=i;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var fd=!1;function bu(){if(fd){var e=yl;if(e!==null)throw e}}function Eu(e,i,a,c){fd=!1;var p=e.updateQueue;No=!1;var _=p.firstBaseUpdate,R=p.lastBaseUpdate,H=p.shared.pending;if(H!==null){p.shared.pending=null;var Y=H,mt=Y.next;Y.next=null,R===null?_=mt:R.next=mt,R=Y;var bt=e.alternate;bt!==null&&(bt=bt.updateQueue,H=bt.lastBaseUpdate,H!==R&&(H===null?bt.firstBaseUpdate=mt:H.next=mt,bt.lastBaseUpdate=Y))}if(_!==null){var Tt=p.baseState;R=0,bt=mt=Y=null,H=_;do{var pt=H.lane&-536870913,_t=pt!==H.lane;if(_t?(ce&pt)===pt:(c&pt)===pt){pt!==0&&pt===vl&&(fd=!0),bt!==null&&(bt=bt.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var Ft=e,Ut=H;pt=i;var Le=a;switch(Ut.tag){case 1:if(Ft=Ut.payload,typeof Ft=="function"){Tt=Ft.call(Le,Tt,pt);break t}Tt=Ft;break t;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Ut.payload,pt=typeof Ft=="function"?Ft.call(Le,Tt,pt):Ft,pt==null)break t;Tt=w({},Tt,pt);break t;case 2:No=!0}}pt=H.callback,pt!==null&&(e.flags|=64,_t&&(e.flags|=8192),_t=p.callbacks,_t===null?p.callbacks=[pt]:_t.push(pt))}else _t={lane:pt,tag:H.tag,payload:H.payload,callback:H.callback,next:null},bt===null?(mt=bt=_t,Y=Tt):bt=bt.next=_t,R|=pt;if(H=H.next,H===null){if(H=p.shared.pending,H===null)break;_t=H,H=_t.next,_t.next=null,p.lastBaseUpdate=_t,p.shared.pending=null}}while(!0);bt===null&&(Y=Tt),p.baseState=Y,p.firstBaseUpdate=mt,p.lastBaseUpdate=bt,_===null&&(p.shared.lanes=0),zo|=R,e.lanes=R,e.memoizedState=Tt}}function Dg(e,i){if(typeof e!="function")throw Error(o(191,e));e.call(i)}function Pg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dg(a[e],i)}var wl=et(null),nh=et(0);function Ug(e,i){e=Br,ht(nh,e),ht(wl,i),Br=e|i.baseLanes}function dd(){ht(nh,Br),ht(wl,wl.current)}function md(){Br=nh.current,at(wl),at(nh)}var Mo=0,Kt=null,Me=null,yn=null,ih=!1,bl=!1,La=!1,sh=0,Tu=0,El=null,n2=0;function cn(){throw Error(o(321))}function pd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!fi(e[a],i[a]))return!1;return!0}function gd(e,i,a,c,p,_){return Mo=_,Kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=e===null||e.memoizedState===null?w_:b_,La=!1,_=a(c,p),La=!1,bl&&(_=Bg(i,a,c,p)),zg(e),_}function zg(e){O.H=ch;var i=Me!==null&&Me.next!==null;if(Mo=0,yn=Me=Kt=null,ih=!1,Tu=0,El=null,i)throw Error(o(300));e===null||Un||(e=e.dependencies,e!==null&&Qc(e)&&(Un=!0))}function Bg(e,i,a,c){Kt=e;var p=0;do{if(bl&&(El=null),Tu=0,bl=!1,25<=p)throw Error(o(301));if(p+=1,yn=Me=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}O.H=u2,_=i(a,c)}while(bl);return _}function i2(){var e=O.H,i=e.useState()[0];return i=typeof i.then=="function"?Su(i):i,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(Kt.flags|=1024),i}function _d(){var e=sh!==0;return sh=0,e}function vd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function yd(e){if(ih){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ih=!1}Mo=0,yn=Me=Kt=null,bl=!1,Tu=sh=0,El=null}function Ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Kt.memoizedState=yn=e:yn=yn.next=e,yn}function wn(){if(Me===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var i=yn===null?Kt.memoizedState:yn.next;if(i!==null)yn=i,Me=e;else{if(e===null)throw Kt.alternate===null?Error(o(467)):Error(o(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},yn===null?Kt.memoizedState=yn=e:yn=yn.next=e}return yn}function wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(e){var i=Tu;return Tu+=1,El===null&&(El=[]),e=Og(El,e,i),i=Kt,(yn===null?i.memoizedState:yn.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?w_:b_),e}function rh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Su(e);if(e.$$typeof===it)return ri(e)}throw Error(o(438,String(e)))}function bd(e){var i=null,a=Kt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wd(),Kt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),c=0;c<e;c++)a[c]=P;return i.index++,a}function Lr(e,i){return typeof i=="function"?i(e):i}function oh(e){var i=wn();return Ed(i,Me,e)}function Ed(e,i,a){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var p=e.baseQueue,_=c.pending;if(_!==null){if(p!==null){var R=p.next;p.next=_.next,_.next=R}i.baseQueue=p=_,c.pending=null}if(_=e.baseState,p===null)e.memoizedState=_;else{i=p.next;var H=R=null,Y=null,mt=i,bt=!1;do{var Tt=mt.lane&-536870913;if(Tt!==mt.lane?(ce&Tt)===Tt:(Mo&Tt)===Tt){var pt=mt.revertLane;if(pt===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),Tt===vl&&(bt=!0);else if((Mo&pt)===pt){mt=mt.next,pt===vl&&(bt=!0);continue}else Tt={lane:0,revertLane:mt.revertLane,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},Y===null?(H=Y=Tt,R=_):Y=Y.next=Tt,Kt.lanes|=pt,zo|=pt;Tt=mt.action,La&&a(_,Tt),_=mt.hasEagerState?mt.eagerState:a(_,Tt)}else pt={lane:Tt,revertLane:mt.revertLane,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},Y===null?(H=Y=pt,R=_):Y=Y.next=pt,Kt.lanes|=Tt,zo|=Tt;mt=mt.next}while(mt!==null&&mt!==i);if(Y===null?R=_:Y.next=H,!fi(_,e.memoizedState)&&(Un=!0,bt&&(a=yl,a!==null)))throw a;e.memoizedState=_,e.baseState=R,e.baseQueue=Y,c.lastRenderedState=_}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Td(e){var i=wn(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var c=a.dispatch,p=a.pending,_=i.memoizedState;if(p!==null){a.pending=null;var R=p=p.next;do _=e(_,R.action),R=R.next;while(R!==p);fi(_,i.memoizedState)||(Un=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),a.lastRenderedState=_}return[_,c]}function jg(e,i,a){var c=Kt,p=wn(),_=Vt;if(_){if(a===void 0)throw Error(o(407));a=a()}else a=i();var R=!fi((Me||p).memoizedState,a);R&&(p.memoizedState=a,Un=!0),p=p.queue;var H=Vg.bind(null,c,p,e);if(xu(2048,8,H,[e]),p.getSnapshot!==i||R||yn!==null&&yn.memoizedState.tag&1){if(c.flags|=2048,Tl(9,ah(),Fg.bind(null,c,p,a,i),null),He===null)throw Error(o(349));_||(Mo&124)!==0||Hg(c,i,a)}return a}function Hg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Kt.updateQueue,i===null?(i=wd(),Kt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Fg(e,i,a,c){i.value=a,i.getSnapshot=c,qg(i)&&Gg(e)}function Vg(e,i,a){return a(function(){qg(i)&&Gg(e)})}function qg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!fi(e,a)}catch{return!0}}function Gg(e){var i=So(e,2);i!==null&&Qi(i,e,2)}function Sd(e){var i=Ai();if(typeof e=="function"){var a=e;if(e=a(),La){ge(!0);try{a()}finally{ge(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},i}function Zg(e,i,a,c){return e.baseState=a,Ed(e,Me,typeof c=="function"?c:Lr)}function s2(e,i,a,c,p){if(uh(e))throw Error(o(485));if(e=i.action,e!==null){var _={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};O.T!==null?a(!0):_.isTransition=!1,c(_),a=i.pending,a===null?(_.next=i.pending=_,Wg(i,_)):(_.next=a.next,i.pending=a.next=_)}}function Wg(e,i){var a=i.action,c=i.payload,p=e.state;if(i.isTransition){var _=O.T,R={};O.T=R;try{var H=a(p,c),Y=O.S;Y!==null&&Y(R,H),Yg(e,i,H)}catch(mt){xd(e,i,mt)}finally{O.T=_}}else try{_=a(p,c),Yg(e,i,_)}catch(mt){xd(e,i,mt)}}function Yg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Kg(e,i,c)},function(c){return xd(e,i,c)}):Kg(e,i,a)}function Kg(e,i,a){i.status="fulfilled",i.value=a,Xg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Wg(e,a)))}function xd(e,i,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,Xg(i),i=i.next;while(i!==c)}e.action=null}function Xg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qg(e,i){return i}function Jg(e,i){if(Vt){var a=He.formState;if(a!==null){t:{var c=Kt;if(Vt){if(Ot){e:{for(var p=Ot,_=Je;p.nodeType!==8;){if(!_){p=null;break e}if(p=Os(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){Ot=Os(p.nextSibling),c=p.data==="F!";break t}}xi(c)}c=!1}c&&(i=a[0])}}return a=Ai(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},a.queue=c,a=__.bind(null,Kt,c),c.dispatch=a,c=Sd(!1),_=Id.bind(null,Kt,!1,c.queue),c=Ai(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,a=s2.bind(null,Kt,p,_,a),p.dispatch=a,c.memoizedState=e,[i,a,!1]}function $g(e){var i=wn();return t_(i,Me,e)}function t_(e,i,a){if(i=Ed(e,i,Qg)[0],e=oh(Lr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Su(i)}catch(R){throw R===vu?th:R}else c=i;i=wn();var p=i.queue,_=p.dispatch;return a!==i.memoizedState&&(Kt.flags|=2048,Tl(9,ah(),r2.bind(null,p,a),null)),[c,_,e]}function r2(e,i){e.action=i}function e_(e){var i=wn(),a=Me;if(a!==null)return t_(i,a,e);wn(),i=i.memoizedState,a=wn();var c=a.queue.dispatch;return a.memoizedState=e,[i,c,!1]}function Tl(e,i,a,c){return e={tag:e,create:a,deps:c,inst:i,next:null},i=Kt.updateQueue,i===null&&(i=wd(),Kt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,i.lastEffect=e),e}function ah(){return{destroy:void 0,resource:void 0}}function n_(){return wn().memoizedState}function lh(e,i,a,c){var p=Ai();c=c===void 0?null:c,Kt.flags|=e,p.memoizedState=Tl(1|i,ah(),a,c)}function xu(e,i,a,c){var p=wn();c=c===void 0?null:c;var _=p.memoizedState.inst;Me!==null&&c!==null&&pd(c,Me.memoizedState.deps)?p.memoizedState=Tl(i,_,a,c):(Kt.flags|=e,p.memoizedState=Tl(1|i,_,a,c))}function i_(e,i){lh(8390656,8,e,i)}function s_(e,i){xu(2048,8,e,i)}function r_(e,i){return xu(4,2,e,i)}function o_(e,i){return xu(4,4,e,i)}function a_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function l_(e,i,a){a=a!=null?a.concat([e]):null,xu(4,4,a_.bind(null,i,e),a)}function Ad(){}function u_(e,i){var a=wn();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&pd(i,c[1])?c[0]:(a.memoizedState=[e,i],e)}function c_(e,i){var a=wn();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&pd(i,c[1]))return c[0];if(c=e(),La){ge(!0);try{e()}finally{ge(!1)}}return a.memoizedState=[c,i],c}function Cd(e,i,a){return a===void 0||(Mo&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=dv(),Kt.lanes|=e,zo|=e,a)}function h_(e,i,a,c){return fi(a,i)?a:wl.current!==null?(e=Cd(e,a,c),fi(e,i)||(Un=!0),e):(Mo&42)===0?(Un=!0,e.memoizedState=a):(e=dv(),Kt.lanes|=e,zo|=e,i)}function f_(e,i,a,c,p){var _=j.p;j.p=_!==0&&8>_?_:8;var R=O.T,H={};O.T=H,Id(e,!1,i,a);try{var Y=p(),mt=O.S;if(mt!==null&&mt(H,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var bt=e2(Y,c);Au(e,i,bt,Xi(e))}else Au(e,i,c,Xi(e))}catch(Tt){Au(e,i,{then:function(){},status:"rejected",reason:Tt},Xi())}finally{j.p=_,O.T=R}}function o2(){}function Nd(e,i,a,c){if(e.tag!==5)throw Error(o(476));var p=d_(e).queue;f_(e,p,i,$,a===null?o2:function(){return m_(e),a(c)})}function d_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:$},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function m_(e){var i=d_(e).next.queue;Au(e,i,{},Xi())}function Rd(){return ri(qu)}function p_(){return wn().memoizedState}function g_(){return wn().memoizedState}function a2(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Xi();e=Ro(a);var c=Io(i,e,a);c!==null&&(Qi(c,i,a),wu(c,i,a)),i={cache:rd()},e.payload=i;return}i=i.return}}function l2(e,i,a){var c=Xi();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uh(e)?v_(i,a):(a=Ir(e,i,a,c),a!==null&&(Qi(a,e,c),y_(a,i,c)))}function __(e,i,a){var c=Xi();Au(e,i,a,c)}function Au(e,i,a,c){var p={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uh(e))v_(i,p);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var R=i.lastRenderedState,H=_(R,a);if(p.hasEagerState=!0,p.eagerState=H,fi(H,R))return xa(e,i,p,0),He===null&&Sa(),!1}catch{}finally{}if(a=Ir(e,i,p,c),a!==null)return Qi(a,e,c),y_(a,i,c),!0}return!1}function Id(e,i,a,c){if(c={lane:2,revertLane:lm(),action:c,hasEagerState:!1,eagerState:null,next:null},uh(e)){if(i)throw Error(o(479))}else i=Ir(e,a,c,2),i!==null&&Qi(i,e,2)}function uh(e){var i=e.alternate;return e===Kt||i!==null&&i===Kt}function v_(e,i){bl=ih=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function y_(e,i,a){if((a&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,ki(e,a)}}var ch={readContext:ri,use:rh,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn},w_={readContext:ri,use:rh,useCallback:function(e,i){return Ai().memoizedState=[e,i===void 0?null:i],e},useContext:ri,useEffect:i_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,lh(4194308,4,a_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return lh(4194308,4,e,i)},useInsertionEffect:function(e,i){lh(4,2,e,i)},useMemo:function(e,i){var a=Ai();i=i===void 0?null:i;var c=e();if(La){ge(!0);try{e()}finally{ge(!1)}}return a.memoizedState=[c,i],c},useReducer:function(e,i,a){var c=Ai();if(a!==void 0){var p=a(i);if(La){ge(!0);try{a(i)}finally{ge(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=l2.bind(null,Kt,e),[c.memoizedState,e]},useRef:function(e){var i=Ai();return e={current:e},i.memoizedState=e},useState:function(e){e=Sd(e);var i=e.queue,a=__.bind(null,Kt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Ad,useDeferredValue:function(e,i){var a=Ai();return Cd(a,e,i)},useTransition:function(){var e=Sd(!1);return e=f_.bind(null,Kt,e.queue,!0,!1),Ai().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var c=Kt,p=Ai();if(Vt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),He===null)throw Error(o(349));(ce&124)!==0||Hg(c,i,a)}p.memoizedState=a;var _={value:a,getSnapshot:i};return p.queue=_,i_(Vg.bind(null,c,_,e),[e]),c.flags|=2048,Tl(9,ah(),Fg.bind(null,c,_,a,i),null),a},useId:function(){var e=Ai(),i=He.identifierPrefix;if(Vt){var a=W,c=D;a=(c&~(1<<32-Pe(c)-1)).toString(32)+a,i="«"+i+"R"+a,a=sh++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=n2++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Rd,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var i=Ai();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Id.bind(null,Kt,!0,a),a.dispatch=i,[e,i]},useMemoCache:bd,useCacheRefresh:function(){return Ai().memoizedState=a2.bind(null,Kt)}},b_={readContext:ri,use:rh,useCallback:u_,useContext:ri,useEffect:s_,useImperativeHandle:l_,useInsertionEffect:r_,useLayoutEffect:o_,useMemo:c_,useReducer:oh,useRef:n_,useState:function(){return oh(Lr)},useDebugValue:Ad,useDeferredValue:function(e,i){var a=wn();return h_(a,Me.memoizedState,e,i)},useTransition:function(){var e=oh(Lr)[0],i=wn().memoizedState;return[typeof e=="boolean"?e:Su(e),i]},useSyncExternalStore:jg,useId:p_,useHostTransitionStatus:Rd,useFormState:$g,useActionState:$g,useOptimistic:function(e,i){var a=wn();return Zg(a,Me,e,i)},useMemoCache:bd,useCacheRefresh:g_},u2={readContext:ri,use:rh,useCallback:u_,useContext:ri,useEffect:s_,useImperativeHandle:l_,useInsertionEffect:r_,useLayoutEffect:o_,useMemo:c_,useReducer:Td,useRef:n_,useState:function(){return Td(Lr)},useDebugValue:Ad,useDeferredValue:function(e,i){var a=wn();return Me===null?Cd(a,e,i):h_(a,Me.memoizedState,e,i)},useTransition:function(){var e=Td(Lr)[0],i=wn().memoizedState;return[typeof e=="boolean"?e:Su(e),i]},useSyncExternalStore:jg,useId:p_,useHostTransitionStatus:Rd,useFormState:e_,useActionState:e_,useOptimistic:function(e,i){var a=wn();return Me!==null?Zg(a,Me,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bd,useCacheRefresh:g_},Sl=null,Cu=0;function hh(e){var i=Cu;return Cu+=1,Sl===null&&(Sl=[]),Og(Sl,e,i)}function Nu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function fh(e,i){throw i.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(i),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function E_(e){var i=e._init;return i(e._payload)}function T_(e){function i(st,tt){if(e){var ft=st.deletions;ft===null?(st.deletions=[tt],st.flags|=16):ft.push(tt)}}function a(st,tt){if(!e)return null;for(;tt!==null;)i(st,tt),tt=tt.sibling;return null}function c(st){for(var tt=new Map;st!==null;)st.key!==null?tt.set(st.key,st):tt.set(st.index,st),st=st.sibling;return tt}function p(st,tt){return st=cs(st,tt),st.index=0,st.sibling=null,st}function _(st,tt,ft){return st.index=ft,e?(ft=st.alternate,ft!==null?(ft=ft.index,ft<tt?(st.flags|=67108866,tt):ft):(st.flags|=67108866,tt)):(st.flags|=1048576,tt)}function R(st){return e&&st.alternate===null&&(st.flags|=67108866),st}function H(st,tt,ft,Et){return tt===null||tt.tag!==6?(tt=pu(ft,st.mode,Et),tt.return=st,tt):(tt=p(tt,ft),tt.return=st,tt)}function Y(st,tt,ft,Et){var It=ft.type;return It===F?bt(st,tt,ft.props.children,Et,ft.key):tt!==null&&(tt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===A&&E_(It)===tt.type)?(tt=p(tt,ft.props),Nu(tt,ft),tt.return=st,tt):(tt=Ca(ft.type,ft.key,ft.props,null,st.mode,Et),Nu(tt,ft),tt.return=st,tt)}function mt(st,tt,ft,Et){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==ft.containerInfo||tt.stateNode.implementation!==ft.implementation?(tt=gl(ft,st.mode,Et),tt.return=st,tt):(tt=p(tt,ft.children||[]),tt.return=st,tt)}function bt(st,tt,ft,Et,It){return tt===null||tt.tag!==7?(tt=nr(ft,st.mode,Et,It),tt.return=st,tt):(tt=p(tt,ft),tt.return=st,tt)}function Tt(st,tt,ft){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=pu(""+tt,st.mode,ft),tt.return=st,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case T:return ft=Ca(tt.type,tt.key,tt.props,null,st.mode,ft),Nu(ft,tt),ft.return=st,ft;case I:return tt=gl(tt,st.mode,ft),tt.return=st,tt;case A:var Et=tt._init;return tt=Et(tt._payload),Tt(st,tt,ft)}if(ot(tt)||k(tt))return tt=nr(tt,st.mode,ft,null),tt.return=st,tt;if(typeof tt.then=="function")return Tt(st,hh(tt),ft);if(tt.$$typeof===it)return Tt(st,Jc(st,tt),ft);fh(st,tt)}return null}function pt(st,tt,ft,Et){var It=tt!==null?tt.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return It!==null?null:H(st,tt,""+ft,Et);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case T:return ft.key===It?Y(st,tt,ft,Et):null;case I:return ft.key===It?mt(st,tt,ft,Et):null;case A:return It=ft._init,ft=It(ft._payload),pt(st,tt,ft,Et)}if(ot(ft)||k(ft))return It!==null?null:bt(st,tt,ft,Et,null);if(typeof ft.then=="function")return pt(st,tt,hh(ft),Et);if(ft.$$typeof===it)return pt(st,tt,Jc(st,ft),Et);fh(st,ft)}return null}function _t(st,tt,ft,Et,It){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return st=st.get(ft)||null,H(tt,st,""+Et,It);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case T:return st=st.get(Et.key===null?ft:Et.key)||null,Y(tt,st,Et,It);case I:return st=st.get(Et.key===null?ft:Et.key)||null,mt(tt,st,Et,It);case A:var Jt=Et._init;return Et=Jt(Et._payload),_t(st,tt,ft,Et,It)}if(ot(Et)||k(Et))return st=st.get(ft)||null,bt(tt,st,Et,It,null);if(typeof Et.then=="function")return _t(st,tt,ft,hh(Et),It);if(Et.$$typeof===it)return _t(st,tt,ft,Jc(tt,Et),It);fh(tt,Et)}return null}function Ft(st,tt,ft,Et){for(var It=null,Jt=null,kt=tt,zt=tt=0,Bn=null;kt!==null&&zt<ft.length;zt++){kt.index>zt?(Bn=kt,kt=null):Bn=kt.sibling;var ye=pt(st,kt,ft[zt],Et);if(ye===null){kt===null&&(kt=Bn);break}e&&kt&&ye.alternate===null&&i(st,kt),tt=_(ye,tt,zt),Jt===null?It=ye:Jt.sibling=ye,Jt=ye,kt=Bn}if(zt===ft.length)return a(st,kt),Vt&&lt(st,zt),It;if(kt===null){for(;zt<ft.length;zt++)kt=Tt(st,ft[zt],Et),kt!==null&&(tt=_(kt,tt,zt),Jt===null?It=kt:Jt.sibling=kt,Jt=kt);return Vt&&lt(st,zt),It}for(kt=c(kt);zt<ft.length;zt++)Bn=_t(kt,st,zt,ft[zt],Et),Bn!==null&&(e&&Bn.alternate!==null&&kt.delete(Bn.key===null?zt:Bn.key),tt=_(Bn,tt,zt),Jt===null?It=Bn:Jt.sibling=Bn,Jt=Bn);return e&&kt.forEach(function(Wo){return i(st,Wo)}),Vt&&lt(st,zt),It}function Ut(st,tt,ft,Et){if(ft==null)throw Error(o(151));for(var It=null,Jt=null,kt=tt,zt=tt=0,Bn=null,ye=ft.next();kt!==null&&!ye.done;zt++,ye=ft.next()){kt.index>zt?(Bn=kt,kt=null):Bn=kt.sibling;var Wo=pt(st,kt,ye.value,Et);if(Wo===null){kt===null&&(kt=Bn);break}e&&kt&&Wo.alternate===null&&i(st,kt),tt=_(Wo,tt,zt),Jt===null?It=Wo:Jt.sibling=Wo,Jt=Wo,kt=Bn}if(ye.done)return a(st,kt),Vt&&lt(st,zt),It;if(kt===null){for(;!ye.done;zt++,ye=ft.next())ye=Tt(st,ye.value,Et),ye!==null&&(tt=_(ye,tt,zt),Jt===null?It=ye:Jt.sibling=ye,Jt=ye);return Vt&&lt(st,zt),It}for(kt=c(kt);!ye.done;zt++,ye=ft.next())ye=_t(kt,st,zt,ye.value,Et),ye!==null&&(e&&ye.alternate!==null&&kt.delete(ye.key===null?zt:ye.key),tt=_(ye,tt,zt),Jt===null?It=ye:Jt.sibling=ye,Jt=ye);return e&&kt.forEach(function(cE){return i(st,cE)}),Vt&&lt(st,zt),It}function Le(st,tt,ft,Et){if(typeof ft=="object"&&ft!==null&&ft.type===F&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case T:t:{for(var It=ft.key;tt!==null;){if(tt.key===It){if(It=ft.type,It===F){if(tt.tag===7){a(st,tt.sibling),Et=p(tt,ft.props.children),Et.return=st,st=Et;break t}}else if(tt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===A&&E_(It)===tt.type){a(st,tt.sibling),Et=p(tt,ft.props),Nu(Et,ft),Et.return=st,st=Et;break t}a(st,tt);break}else i(st,tt);tt=tt.sibling}ft.type===F?(Et=nr(ft.props.children,st.mode,Et,ft.key),Et.return=st,st=Et):(Et=Ca(ft.type,ft.key,ft.props,null,st.mode,Et),Nu(Et,ft),Et.return=st,st=Et)}return R(st);case I:t:{for(It=ft.key;tt!==null;){if(tt.key===It)if(tt.tag===4&&tt.stateNode.containerInfo===ft.containerInfo&&tt.stateNode.implementation===ft.implementation){a(st,tt.sibling),Et=p(tt,ft.children||[]),Et.return=st,st=Et;break t}else{a(st,tt);break}else i(st,tt);tt=tt.sibling}Et=gl(ft,st.mode,Et),Et.return=st,st=Et}return R(st);case A:return It=ft._init,ft=It(ft._payload),Le(st,tt,ft,Et)}if(ot(ft))return Ft(st,tt,ft,Et);if(k(ft)){if(It=k(ft),typeof It!="function")throw Error(o(150));return ft=It.call(ft),Ut(st,tt,ft,Et)}if(typeof ft.then=="function")return Le(st,tt,hh(ft),Et);if(ft.$$typeof===it)return Le(st,tt,Jc(st,ft),Et);fh(st,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,tt!==null&&tt.tag===6?(a(st,tt.sibling),Et=p(tt,ft),Et.return=st,st=Et):(a(st,tt),Et=pu(ft,st.mode,Et),Et.return=st,st=Et),R(st)):a(st,tt)}return function(st,tt,ft,Et){try{Cu=0;var It=Le(st,tt,ft,Et);return Sl=null,It}catch(kt){if(kt===vu||kt===th)throw kt;var Jt=gi(29,kt,null,st.mode);return Jt.lanes=Et,Jt.return=st,Jt}finally{}}}var xl=T_(!0),S_=T_(!1),fs=et(null),sr=null;function Oo(e){var i=e.alternate;ht(An,An.current&1),ht(fs,e),sr===null&&(i===null||wl.current!==null||i.memoizedState!==null)&&(sr=e)}function x_(e){if(e.tag===22){if(ht(An,An.current),ht(fs,e),sr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(sr=e)}}else Lo()}function Lo(){ht(An,An.current),ht(fs,fs.current)}function kr(e){at(fs),sr===e&&(sr=null),at(An)}var An=et(0);function dh(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||wm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Md(e,i,a,c){i=e.memoizedState,a=a(c,i),a=a==null?i:w({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Od={enqueueSetState:function(e,i,a){e=e._reactInternals;var c=Xi(),p=Ro(c);p.payload=i,a!=null&&(p.callback=a),i=Io(e,p,c),i!==null&&(Qi(i,e,c),wu(i,e,c))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var c=Xi(),p=Ro(c);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=Io(e,p,c),i!==null&&(Qi(i,e,c),wu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Xi(),c=Ro(a);c.tag=2,i!=null&&(c.callback=i),i=Io(e,c,a),i!==null&&(Qi(i,e,a),wu(i,e,a))}};function A_(e,i,a,c,p,_,R){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,_,R):i.prototype&&i.prototype.isPureReactComponent?!di(a,c)||!di(p,_):!0}function C_(e,i,a,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==e&&Od.enqueueReplaceState(i,i.state,null)}function ka(e,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(e=e.defaultProps){a===i&&(a=w({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var mh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function N_(e){mh(e)}function R_(e){console.error(e)}function I_(e){mh(e)}function ph(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function M_(e,i,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ld(e,i,a){return a=Ro(a),a.tag=3,a.payload={element:null},a.callback=function(){ph(e,i)},a}function O_(e){return e=Ro(e),e.tag=3,e}function L_(e,i,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var _=c.value;e.payload=function(){return p(_)},e.callback=function(){M_(i,a,c)}}var R=a.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(e.callback=function(){M_(i,a,c),typeof p!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var H=c.stack;this.componentDidCatch(c.value,{componentStack:H!==null?H:""})})}function c2(e,i,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,p,!0),a=fs.current,a!==null){switch(a.tag){case 13:return sr===null?im():a.alternate===null&&rn===0&&(rn=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===ld?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),rm(e,c,p)),!1;case 22:return a.flags|=65536,c===ld?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),rm(e,c,p)),!1}throw Error(o(435,a.tag))}return rm(e,c,p),im(),!1}if(Vt)return i=fs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Pn&&(e=Error(o(422),{cause:c}),Co(mi(e,a)))):(c!==Pn&&(i=Error(o(423),{cause:c}),Co(mi(i,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=mi(c,a),p=Ld(e.stateNode,c,p),hd(e,p),rn!==4&&(rn=2)),!1;var _=Error(o(520),{cause:c});if(_=mi(_,a),Du===null?Du=[_]:Du.push(_),rn!==4&&(rn=2),i===null)return!0;c=mi(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=Ld(a.stateNode,c,e),hd(a,e),!1;case 1:if(i=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bo===null||!Bo.has(_))))return a.flags|=65536,p&=-p,a.lanes|=p,p=O_(p),L_(p,e,a,c),hd(a,p),!1}a=a.return}while(a!==null);return!1}var k_=Error(o(461)),Un=!1;function Wn(e,i,a,c){i.child=e===null?S_(i,null,a,c):xl(i,e.child,a,c)}function D_(e,i,a,c,p){a=a.render;var _=i.ref;if("ref"in c){var R={};for(var H in c)H!=="ref"&&(R[H]=c[H])}else R=c;return Ma(i),c=gd(e,i,a,R,_,p),H=_d(),e!==null&&!Un?(vd(e,i,p),Dr(e,i,p)):(Vt&&H&&St(i),i.flags|=1,Wn(e,i,c,p),i.child)}function P_(e,i,a,c,p){if(e===null){var _=a.type;return typeof _=="function"&&!pl(_)&&_.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=_,U_(e,i,_,c,p)):(e=Ca(a.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!Hd(e,p)){var R=_.memoizedProps;if(a=a.compare,a=a!==null?a:di,a(R,c)&&e.ref===i.ref)return Dr(e,i,p)}return i.flags|=1,e=cs(_,c),e.ref=i.ref,e.return=i,i.child=e}function U_(e,i,a,c,p){if(e!==null){var _=e.memoizedProps;if(di(_,c)&&e.ref===i.ref)if(Un=!1,i.pendingProps=c=_,Hd(e,p))(e.flags&131072)!==0&&(Un=!0);else return i.lanes=e.lanes,Dr(e,i,p)}return kd(e,i,a,c,p)}function z_(e,i,a){var c=i.pendingProps,p=c.children,_=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=_!==null?_.baseLanes|a:a,e!==null){for(p=i.child=e.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;i.childLanes=_&~c}else i.childLanes=0,i.child=null;return B_(e,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&$c(i,_!==null?_.cachePool:null),_!==null?Ug(i,_):dd(),x_(i);else return i.lanes=i.childLanes=536870912,B_(e,i,_!==null?_.baseLanes|a:a,a)}else _!==null?($c(i,_.cachePool),Ug(i,_),Lo(),i.memoizedState=null):(e!==null&&$c(i,null),dd(),Lo());return Wn(e,i,p,a),i.child}function B_(e,i,a,c){var p=ad();return p=p===null?null:{parent:xn._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},e!==null&&$c(i,null),dd(),x_(i),e!==null&&Ia(e,i,c,!0),null}function gh(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function kd(e,i,a,c,p){return Ma(i),a=gd(e,i,a,c,void 0,p),c=_d(),e!==null&&!Un?(vd(e,i,p),Dr(e,i,p)):(Vt&&c&&St(i),i.flags|=1,Wn(e,i,a,p),i.child)}function j_(e,i,a,c,p,_){return Ma(i),i.updateQueue=null,a=Bg(i,c,a,p),zg(e),c=_d(),e!==null&&!Un?(vd(e,i,_),Dr(e,i,_)):(Vt&&c&&St(i),i.flags|=1,Wn(e,i,a,_),i.child)}function H_(e,i,a,c,p){if(Ma(i),i.stateNode===null){var _=Mr,R=a.contextType;typeof R=="object"&&R!==null&&(_=ri(R)),_=new a(c,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Od,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=c,_.state=i.memoizedState,_.refs={},ud(i),R=a.contextType,_.context=typeof R=="object"&&R!==null?ri(R):Mr,_.state=i.memoizedState,R=a.getDerivedStateFromProps,typeof R=="function"&&(Md(i,a,R,c),_.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&Od.enqueueReplaceState(_,_.state,null),Eu(i,c,_,p),bu(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){_=i.stateNode;var H=i.memoizedProps,Y=ka(a,H);_.props=Y;var mt=_.context,bt=a.contextType;R=Mr,typeof bt=="object"&&bt!==null&&(R=ri(bt));var Tt=a.getDerivedStateFromProps;bt=typeof Tt=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=i.pendingProps!==H,bt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||mt!==R)&&C_(i,_,c,R),No=!1;var pt=i.memoizedState;_.state=pt,Eu(i,c,_,p),bu(),mt=i.memoizedState,H||pt!==mt||No?(typeof Tt=="function"&&(Md(i,a,Tt,c),mt=i.memoizedState),(Y=No||A_(i,a,Y,c,pt,mt,R))?(bt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=mt),_.props=c,_.state=mt,_.context=R,c=Y):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,cd(e,i),R=i.memoizedProps,bt=ka(a,R),_.props=bt,Tt=i.pendingProps,pt=_.context,mt=a.contextType,Y=Mr,typeof mt=="object"&&mt!==null&&(Y=ri(mt)),H=a.getDerivedStateFromProps,(mt=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==Tt||pt!==Y)&&C_(i,_,c,Y),No=!1,pt=i.memoizedState,_.state=pt,Eu(i,c,_,p),bu();var _t=i.memoizedState;R!==Tt||pt!==_t||No||e!==null&&e.dependencies!==null&&Qc(e.dependencies)?(typeof H=="function"&&(Md(i,a,H,c),_t=i.memoizedState),(bt=No||A_(i,a,bt,c,pt,_t,Y)||e!==null&&e.dependencies!==null&&Qc(e.dependencies))?(mt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,_t,Y),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,_t,Y)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===e.memoizedProps&&pt===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&pt===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=_t),_.props=c,_.state=_t,_.context=Y,c=bt):(typeof _.componentDidUpdate!="function"||R===e.memoizedProps&&pt===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&pt===e.memoizedState||(i.flags|=1024),c=!1)}return _=c,gh(e,i),c=(i.flags&128)!==0,_||c?(_=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&c?(i.child=xl(i,e.child,null,p),i.child=xl(i,null,a,p)):Wn(e,i,a,p),i.memoizedState=_.state,e=i.child):e=Dr(e,i,p),e}function F_(e,i,a,c){return Ao(),i.flags|=256,Wn(e,i,a,c),i.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(e){return{baseLanes:e,cachePool:Rg()}}function Ud(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=ds),e}function V_(e,i,a){var c=i.pendingProps,p=!1,_=(i.flags&128)!==0,R;if((R=_)||(R=e!==null&&e.memoizedState===null?!1:(An.current&2)!==0),R&&(p=!0,i.flags&=-129),R=(i.flags&32)!==0,i.flags&=-33,e===null){if(Vt){if(p?Oo(i):Lo(),Vt){var H=Ot,Y;if(Y=H){t:{for(Y=H,H=Je;Y.nodeType!==8;){if(!H){H=null;break t}if(Y=Os(Y.nextSibling),Y===null){H=null;break t}}H=Y}H!==null?(i.memoizedState={dehydrated:H,treeContext:x!==null?{id:D,overflow:W}:null,retryLane:536870912,hydrationErrors:null},Y=gi(18,null,null,0),Y.stateNode=H,Y.return=i,i.child=Y,Rt=i,Ot=null,Y=!0):Y=!1}Y||xi(i)}if(H=i.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return wm(H)?i.lanes=32:i.lanes=536870912,null;kr(i)}return H=c.children,c=c.fallback,p?(Lo(),p=i.mode,H=_h({mode:"hidden",children:H},p),c=nr(c,p,a,null),H.return=i,c.return=i,H.sibling=c,i.child=H,p=i.child,p.memoizedState=Pd(a),p.childLanes=Ud(e,R,a),i.memoizedState=Dd,c):(Oo(i),zd(i,H))}if(Y=e.memoizedState,Y!==null&&(H=Y.dehydrated,H!==null)){if(_)i.flags&256?(Oo(i),i.flags&=-257,i=Bd(e,i,a)):i.memoizedState!==null?(Lo(),i.child=e.child,i.flags|=128,i=null):(Lo(),p=c.fallback,H=i.mode,c=_h({mode:"visible",children:c.children},H),p=nr(p,H,a,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,xl(i,e.child,null,a),c=i.child,c.memoizedState=Pd(a),c.childLanes=Ud(e,R,a),i.memoizedState=Dd,i=p);else if(Oo(i),wm(H)){if(R=H.nextSibling&&H.nextSibling.dataset,R)var mt=R.dgst;R=mt,c=Error(o(419)),c.stack="",c.digest=R,Co({value:c,source:null,stack:null}),i=Bd(e,i,a)}else if(Un||Ia(e,i,a,!1),R=(a&e.childLanes)!==0,Un||R){if(R=He,R!==null&&(c=a&-a,c=(c&42)!==0?1:$i(c),c=(c&(R.suspendedLanes|a))!==0?0:c,c!==0&&c!==Y.retryLane))throw Y.retryLane=c,So(e,c),Qi(R,e,c),k_;H.data==="$?"||im(),i=Bd(e,i,a)}else H.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=Y.treeContext,Ot=Os(H.nextSibling),Rt=i,Vt=!0,je=null,Je=!1,e!==null&&(d[v++]=D,d[v++]=W,d[v++]=x,D=e.id,W=e.overflow,x=i),i=zd(i,c.children),i.flags|=4096);return i}return p?(Lo(),p=c.fallback,H=i.mode,Y=e.child,mt=Y.sibling,c=cs(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,mt!==null?p=cs(mt,p):(p=nr(p,H,a,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,H=e.child.memoizedState,H===null?H=Pd(a):(Y=H.cachePool,Y!==null?(mt=xn._currentValue,Y=Y.parent!==mt?{parent:mt,pool:mt}:Y):Y=Rg(),H={baseLanes:H.baseLanes|a,cachePool:Y}),p.memoizedState=H,p.childLanes=Ud(e,R,a),i.memoizedState=Dd,c):(Oo(i),a=e.child,e=a.sibling,a=cs(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,e!==null&&(R=i.deletions,R===null?(i.deletions=[e],i.flags|=16):R.push(e)),i.child=a,i.memoizedState=null,a)}function zd(e,i){return i=_h({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _h(e,i){return e=gi(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Bd(e,i,a){return xl(i,e.child,null,a),e=zd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function q_(e,i,a){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Ra(e.return,i,a)}function jd(e,i,a,c,p){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=a,_.tailMode=p)}function G_(e,i,a){var c=i.pendingProps,p=c.revealOrder,_=c.tail;if(Wn(e,i,c.children,a),c=An.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q_(e,a,i);else if(e.tag===19)q_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(ht(An,c),p){case"forwards":for(a=i.child,p=null;a!==null;)e=a.alternate,e!==null&&dh(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),jd(i,!1,p,a,_);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&dh(e)===null){i.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}jd(i,!0,a,null,_);break;case"together":jd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Dr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),zo|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ia(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(o(153));if(i.child!==null){for(e=i.child,a=cs(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=cs(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Hd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Qc(e)))}function h2(e,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),ir(i,xn,e.memoizedState.cache),Ao();break;case 27:case 5:Xt(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:ir(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Oo(i),i.flags|=128,null):(a&i.child.childLanes)!==0?V_(e,i,a):(Oo(i),e=Dr(e,i,a),e!==null?e.sibling:null);Oo(i);break;case 19:var p=(e.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Ia(e,i,a,!1),c=(a&i.childLanes)!==0),p){if(c)return G_(e,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ht(An,An.current),c)break;return null;case 22:case 23:return i.lanes=0,z_(e,i,a);case 24:ir(i,xn,e.memoizedState.cache)}return Dr(e,i,a)}function Z_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Un=!0;else{if(!Hd(e,a)&&(i.flags&128)===0)return Un=!1,h2(e,i,a);Un=(e.flags&131072)!==0}else Un=!1,Vt&&(i.flags&1048576)!==0&&vt(i,u,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var c=i.elementType,p=c._init;if(c=p(c._payload),i.type=c,typeof c=="function")pl(c)?(e=ka(c,e),i.tag=1,i=H_(null,i,c,e,a)):(i.tag=0,i=kd(null,i,c,e,a));else{if(c!=null){if(p=c.$$typeof,p===J){i.tag=11,i=D_(null,i,c,e,a);break t}else if(p===q){i.tag=14,i=P_(null,i,c,e,a);break t}}throw i=Q(c)||c,Error(o(306,i,""))}}return i;case 0:return kd(e,i,i.type,i.pendingProps,a);case 1:return c=i.type,p=ka(c,i.pendingProps),H_(e,i,c,p,a);case 3:t:{if(Mt(i,i.stateNode.containerInfo),e===null)throw Error(o(387));c=i.pendingProps;var _=i.memoizedState;p=_.element,cd(e,i),Eu(i,c,null,a);var R=i.memoizedState;if(c=R.cache,ir(i,xn,c),c!==_.cache&&_l(i,[xn],a,!0),bu(),c=R.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:R.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=F_(e,i,c,a);break t}else if(c!==p){p=mi(Error(o(424)),i),Co(p),i=F_(e,i,c,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ot=Os(e.firstChild),Rt=i,Vt=!0,je=null,Je=!0,a=S_(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ao(),c===p){i=Dr(e,i,a);break t}Wn(e,i,c,a)}i=i.child}return i;case 26:return gh(e,i),e===null?(a=Xv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Vt||(a=i.type,e=i.pendingProps,c=Mh(wt.current).createElement(a),c[ln]=i,c[sn]=e,Kn(c,a,e),Qe(c),i.stateNode=c):i.memoizedState=Xv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Xt(i),e===null&&Vt&&(c=i.stateNode=Wv(i.type,i.pendingProps,wt.current),Rt=i,Je=!0,p=Ot,Fo(i.type)?(bm=p,Ot=Os(c.firstChild)):Ot=p),Wn(e,i,i.pendingProps.children,a),gh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Vt&&((p=c=Ot)&&(c=B2(c,i.type,i.pendingProps,Je),c!==null?(i.stateNode=c,Rt=i,Ot=Os(c.firstChild),Je=!1,p=!0):p=!1),p||xi(i)),Xt(i),p=i.type,_=i.pendingProps,R=e!==null?e.memoizedProps:null,c=_.children,_m(p,_)?c=null:R!==null&&_m(p,R)&&(i.flags|=32),i.memoizedState!==null&&(p=gd(e,i,i2,null,null,a),qu._currentValue=p),gh(e,i),Wn(e,i,c,a),i.child;case 6:return e===null&&Vt&&((e=a=Ot)&&(a=j2(a,i.pendingProps,Je),a!==null?(i.stateNode=a,Rt=i,Ot=null,e=!0):e=!1),e||xi(i)),null;case 13:return V_(e,i,a);case 4:return Mt(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=xl(i,null,c,a):Wn(e,i,c,a),i.child;case 11:return D_(e,i,i.type,i.pendingProps,a);case 7:return Wn(e,i,i.pendingProps,a),i.child;case 8:return Wn(e,i,i.pendingProps.children,a),i.child;case 12:return Wn(e,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,ir(i,i.type,c.value),Wn(e,i,c.children,a),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Ma(i),p=ri(p),c=c(p),i.flags|=1,Wn(e,i,c,a),i.child;case 14:return P_(e,i,i.type,i.pendingProps,a);case 15:return U_(e,i,i.type,i.pendingProps,a);case 19:return G_(e,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},e===null?(a=_h(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=cs(e.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return z_(e,i,a);case 24:return Ma(i),c=ri(xn),e===null?(p=ad(),p===null&&(p=He,_=rd(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=a),p=_),i.memoizedState={parent:c,cache:p},ud(i),ir(i,xn,p)):((e.lanes&a)!==0&&(cd(e,i),Eu(i,null,null,a),bu()),p=e.memoizedState,_=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),ir(i,xn,c)):(c=_.cache,ir(i,xn,c),c!==p.cache&&_l(i,[xn],a,!0))),Wn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Pr(e){e.flags|=4}function W_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ey(i)){if(i=fs.current,i!==null&&((ce&4194048)===ce?sr!==null:(ce&62914560)!==ce&&(ce&536870912)===0||i!==sr))throw yu=ld,Ig;e.flags|=8192}}function vh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Li():536870912,e.lanes|=i,Rl|=i)}function Ru(e,i){if(!Vt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function $e(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(i)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=a,i}function f2(e,i,a){var c=i.pendingProps;switch(Ct(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(i),null;case 1:return $e(i),null;case 3:return a=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Is(xn),Gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Na(i)?Pr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xc())),$e(i),null;case 26:return a=i.memoizedState,e===null?(Pr(i),a!==null?($e(i),W_(i,a)):($e(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Pr(i),$e(i),W_(i,a)):($e(i),i.flags&=-16777217):(e.memoizedProps!==c&&Pr(i),$e(i),i.flags&=-16777217),null;case 27:oe(i),a=wt.current;var p=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Pr(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return $e(i),null}e=dt.current,Na(i)?Yc(i):(e=Wv(p,c,a),i.stateNode=e,Pr(i))}return $e(i),null;case 5:if(oe(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Pr(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return $e(i),null}if(e=dt.current,Na(i))Yc(i);else{switch(p=Mh(wt.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?p.createElement(a,{is:c.is}):p.createElement(a)}}e[ln]=i,e[sn]=c;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=e;t:switch(Kn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pr(i)}}return $e(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Pr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(e=wt.current,Na(i)){if(e=i.stateNode,a=i.memoizedProps,c=null,p=Rt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[ln]=i,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||jv(e.nodeValue,a)),e||xi(i)}else e=Mh(e).createTextNode(c),e[ln]=i,i.stateNode=e}return $e(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Na(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(o(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[ln]=i}else Ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$e(i),p=!1}else p=Xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(kr(i),i):(kr(i),null)}if(kr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var _=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==p&&(c.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),vh(i,i.updateQueue),$e(i),null;case 4:return Gt(),e===null&&fm(i.stateNode.containerInfo),$e(i),null;case 10:return Is(i.type),$e(i),null;case 19:if(at(An),p=i.memoizedState,p===null)return $e(i),null;if(c=(i.flags&128)!==0,_=p.rendering,_===null)if(c)Ru(p,!1);else{if(rn!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=dh(e),_!==null){for(i.flags|=128,Ru(p,!1),e=_.updateQueue,i.updateQueue=e,vh(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)mu(a,e),a=a.sibling;return ht(An,An.current&1|2),i.child}e=e.sibling}p.tail!==null&&Zt()>bh&&(i.flags|=128,c=!0,Ru(p,!1),i.lanes=4194304)}else{if(!c)if(e=dh(_),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,vh(i,e),Ru(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Vt)return $e(i),null}else 2*Zt()-p.renderingStartTime>bh&&a!==536870912&&(i.flags|=128,c=!0,Ru(p,!1),i.lanes=4194304);p.isBackwards?(_.sibling=i.child,i.child=_):(e=p.last,e!==null?e.sibling=_:i.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Zt(),i.sibling=null,e=An.current,ht(An,c?e&1|2:e&1),i):($e(i),null);case 22:case 23:return kr(i),md(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&($e(i),i.subtreeFlags&6&&(i.flags|=8192)):$e(i),a=i.updateQueue,a!==null&&vh(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),e!==null&&at(Oa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Is(xn),$e(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function d2(e,i){switch(Ct(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Is(xn),Gt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return oe(i),null;case 13:if(kr(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Ao()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return at(An),null;case 4:return Gt(),null;case 10:return Is(i.type),null;case 22:case 23:return kr(i),md(),e!==null&&at(Oa),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Is(xn),null;case 25:return null;default:return null}}function Y_(e,i){switch(Ct(i),i.tag){case 3:Is(xn),Gt();break;case 26:case 27:case 5:oe(i);break;case 4:Gt();break;case 13:kr(i);break;case 19:at(An);break;case 10:Is(i.type);break;case 22:case 23:kr(i),md(),e!==null&&at(Oa);break;case 24:Is(xn)}}function Iu(e,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&e)===e){c=void 0;var _=a.create,R=a.inst;c=_(),R.destroy=c}a=a.next}while(a!==p)}}catch(H){ke(i,i.return,H)}}function ko(e,i,a){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&e)===e){var R=c.inst,H=R.destroy;if(H!==void 0){R.destroy=void 0,p=i;var Y=a,mt=H;try{mt()}catch(bt){ke(p,Y,bt)}}}c=c.next}while(c!==_)}}catch(bt){ke(i,i.return,bt)}}function K_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Pg(i,a)}catch(c){ke(e,e.return,c)}}}function X_(e,i,a){a.props=ka(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){ke(e,i,c)}}function Mu(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(p){ke(e,i,p)}}function rr(e,i){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){ke(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){ke(e,i,p)}else a.current=null}function Q_(e){var i=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){ke(e,e.return,p)}}function Fd(e,i,a){try{var c=e.stateNode;k2(c,e.type,a,i),c[sn]=i}catch(p){ke(e,e.return,p)}}function J_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fo(e.type)||e.tag===4}function Vd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||J_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fo(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qd(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ih));else if(c!==4&&(c===27&&Fo(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(qd(e,i,a),e=e.sibling;e!==null;)qd(e,i,a),e=e.sibling}function yh(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(c!==4&&(c===27&&Fo(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(yh(e,i,a),e=e.sibling;e!==null;)yh(e,i,a),e=e.sibling}function $_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Kn(i,c,a),i[ln]=e,i[sn]=a}catch(_){ke(e,e.return,_)}}var Ur=!1,hn=!1,Gd=!1,tv=typeof WeakSet=="function"?WeakSet:Set,zn=null;function m2(e,i){if(e=e.containerInfo,pm=Uh,e=ba(e),Ea(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break t}var R=0,H=-1,Y=-1,mt=0,bt=0,Tt=e,pt=null;e:for(;;){for(var _t;Tt!==a||p!==0&&Tt.nodeType!==3||(H=R+p),Tt!==_||c!==0&&Tt.nodeType!==3||(Y=R+c),Tt.nodeType===3&&(R+=Tt.nodeValue.length),(_t=Tt.firstChild)!==null;)pt=Tt,Tt=_t;for(;;){if(Tt===e)break e;if(pt===a&&++mt===p&&(H=R),pt===_&&++bt===c&&(Y=R),(_t=Tt.nextSibling)!==null)break;Tt=pt,pt=Tt.parentNode}Tt=_t}a=H===-1||Y===-1?null:{start:H,end:Y}}else a=null}a=a||{start:0,end:0}}else a=null;for(gm={focusedElem:e,selectionRange:a},Uh=!1,zn=i;zn!==null;)if(i=zn,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,zn=e;else for(;zn!==null;){switch(i=zn,_=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,a=i,p=_.memoizedProps,_=_.memoizedState,c=a.stateNode;try{var Ft=ka(a.type,p,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(Ft,_),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ut){ke(a,a.return,Ut)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)ym(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ym(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=i.sibling,e!==null){e.return=i.return,zn=e;break}zn=i.return}}function ev(e,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Do(e,a),c&4&&Iu(5,a);break;case 1:if(Do(e,a),c&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(R){ke(a,a.return,R)}else{var p=ka(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(R){ke(a,a.return,R)}}c&64&&K_(a),c&512&&Mu(a,a.return);break;case 3:if(Do(e,a),c&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Pg(e,i)}catch(R){ke(a,a.return,R)}}break;case 27:i===null&&c&4&&$_(a);case 26:case 5:Do(e,a),i===null&&c&4&&Q_(a),c&512&&Mu(a,a.return);break;case 12:Do(e,a);break;case 13:Do(e,a),c&4&&sv(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=T2.bind(null,a),H2(e,a))));break;case 22:if(c=a.memoizedState!==null||Ur,!c){i=i!==null&&i.memoizedState!==null||hn,p=Ur;var _=hn;Ur=c,(hn=i)&&!_?Po(e,a,(a.subtreeFlags&8772)!==0):Do(e,a),Ur=p,hn=_}break;case 30:break;default:Do(e,a)}}function nv(e){var i=e.alternate;i!==null&&(e.alternate=null,nv(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Gs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Ci=!1;function zr(e,i,a){for(a=a.child;a!==null;)iv(e,i,a),a=a.sibling}function iv(e,i,a){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:hn||rr(a,i),zr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:hn||rr(a,i);var c=Ke,p=Ci;Fo(a.type)&&(Ke=a.stateNode,Ci=!1),zr(e,i,a),ju(a.stateNode),Ke=c,Ci=p;break;case 5:hn||rr(a,i);case 6:if(c=Ke,p=Ci,Ke=null,zr(e,i,a),Ke=c,Ci=p,Ke!==null)if(Ci)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(_){ke(a,i,_)}else try{Ke.removeChild(a.stateNode)}catch(_){ke(a,i,_)}break;case 18:Ke!==null&&(Ci?(e=Ke,Gv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Yu(e)):Gv(Ke,a.stateNode));break;case 4:c=Ke,p=Ci,Ke=a.stateNode.containerInfo,Ci=!0,zr(e,i,a),Ke=c,Ci=p;break;case 0:case 11:case 14:case 15:hn||ko(2,a,i),hn||ko(4,a,i),zr(e,i,a);break;case 1:hn||(rr(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&X_(a,i,c)),zr(e,i,a);break;case 21:zr(e,i,a);break;case 22:hn=(c=hn)||a.memoizedState!==null,zr(e,i,a),hn=c;break;default:zr(e,i,a)}}function sv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yu(e)}catch(a){ke(i,i.return,a)}}function p2(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new tv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new tv),i;default:throw Error(o(435,e.tag))}}function Zd(e,i){var a=p2(e);i.forEach(function(c){var p=S2.bind(null,e,c);a.has(c)||(a.add(c),c.then(p,p))})}function Wi(e,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],_=e,R=i,H=R;t:for(;H!==null;){switch(H.tag){case 27:if(Fo(H.type)){Ke=H.stateNode,Ci=!1;break t}break;case 5:Ke=H.stateNode,Ci=!1;break t;case 3:case 4:Ke=H.stateNode.containerInfo,Ci=!0;break t}H=H.return}if(Ke===null)throw Error(o(160));iv(_,R,p),Ke=null,Ci=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)rv(i,e),i=i.sibling}var Ms=null;function rv(e,i){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wi(i,e),Yi(e),c&4&&(ko(3,e,e.return),Iu(3,e),ko(5,e,e.return));break;case 1:Wi(i,e),Yi(e),c&512&&(hn||a===null||rr(a,a.return)),c&64&&Ur&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=Ms;if(Wi(i,e),Yi(e),c&512&&(hn||a===null||rr(a,a.return)),c&4){var _=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":_=p.getElementsByTagName("title")[0],(!_||_[qs]||_[ln]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(c),p.head.insertBefore(_,p.querySelector("head > title"))),Kn(_,c,a),_[ln]=e,Qe(_),c=_;break t;case"link":var R=$v("link","href",p).get(c+(a.href||""));if(R){for(var H=0;H<R.length;H++)if(_=R[H],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){R.splice(H,1);break e}}_=p.createElement(c),Kn(_,c,a),p.head.appendChild(_);break;case"meta":if(R=$v("meta","content",p).get(c+(a.content||""))){for(H=0;H<R.length;H++)if(_=R[H],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){R.splice(H,1);break e}}_=p.createElement(c),Kn(_,c,a),p.head.appendChild(_);break;default:throw Error(o(468,c))}_[ln]=e,Qe(_),c=_}e.stateNode=c}else ty(p,e.type,e.stateNode);else e.stateNode=Jv(p,c,e.memoizedProps);else _!==c?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,c===null?ty(p,e.type,e.stateNode):Jv(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Fd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Wi(i,e),Yi(e),c&512&&(hn||a===null||rr(a,a.return)),a!==null&&c&4&&Fd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Wi(i,e),Yi(e),c&512&&(hn||a===null||rr(a,a.return)),e.flags&32){p=e.stateNode;try{Ln(p,"")}catch(_t){ke(e,e.return,_t)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,Fd(e,p,a!==null?a.memoizedProps:p)),c&1024&&(Gd=!0);break;case 6:if(Wi(i,e),Yi(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(_t){ke(e,e.return,_t)}}break;case 3:if(kh=null,p=Ms,Ms=Oh(i.containerInfo),Wi(i,e),Ms=p,Yi(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Yu(i.containerInfo)}catch(_t){ke(e,e.return,_t)}Gd&&(Gd=!1,ov(e));break;case 4:c=Ms,Ms=Oh(e.stateNode.containerInfo),Wi(i,e),Yi(e),Ms=c;break;case 12:Wi(i,e),Yi(e);break;case 13:Wi(i,e),Yi(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jd=Zt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Zd(e,c)));break;case 22:p=e.memoizedState!==null;var Y=a!==null&&a.memoizedState!==null,mt=Ur,bt=hn;if(Ur=mt||p,hn=bt||Y,Wi(i,e),hn=bt,Ur=mt,Yi(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(a===null||Y||Ur||hn||Da(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){Y=a=i;try{if(_=Y.stateNode,p)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{H=Y.stateNode;var Tt=Y.memoizedProps.style,pt=Tt!=null&&Tt.hasOwnProperty("display")?Tt.display:null;H.style.display=pt==null||typeof pt=="boolean"?"":(""+pt).trim()}}catch(_t){ke(Y,Y.return,_t)}}}else if(i.tag===6){if(a===null){Y=i;try{Y.stateNode.nodeValue=p?"":Y.memoizedProps}catch(_t){ke(Y,Y.return,_t)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Zd(e,a))));break;case 19:Wi(i,e),Yi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Zd(e,c)));break;case 30:break;case 21:break;default:Wi(i,e),Yi(e)}}function Yi(e){var i=e.flags;if(i&2){try{for(var a,c=e.return;c!==null;){if(J_(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var p=a.stateNode,_=Vd(e);yh(e,_,p);break;case 5:var R=a.stateNode;a.flags&32&&(Ln(R,""),a.flags&=-33);var H=Vd(e);yh(e,H,R);break;case 3:case 4:var Y=a.stateNode.containerInfo,mt=Vd(e);qd(e,mt,Y);break;default:throw Error(o(161))}}catch(bt){ke(e,e.return,bt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ov(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;ov(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Do(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ev(e,i.alternate,i),i=i.sibling}function Da(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ko(4,i,i.return),Da(i);break;case 1:rr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&X_(i,i.return,a),Da(i);break;case 27:ju(i.stateNode);case 26:case 5:rr(i,i.return),Da(i);break;case 22:i.memoizedState===null&&Da(i);break;case 30:Da(i);break;default:Da(i)}e=e.sibling}}function Po(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,_=i,R=_.flags;switch(_.tag){case 0:case 11:case 15:Po(p,_,a),Iu(4,_);break;case 1:if(Po(p,_,a),c=_,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(mt){ke(c,c.return,mt)}if(c=_,p=c.updateQueue,p!==null){var H=c.stateNode;try{var Y=p.shared.hiddenCallbacks;if(Y!==null)for(p.shared.hiddenCallbacks=null,p=0;p<Y.length;p++)Dg(Y[p],H)}catch(mt){ke(c,c.return,mt)}}a&&R&64&&K_(_),Mu(_,_.return);break;case 27:$_(_);case 26:case 5:Po(p,_,a),a&&c===null&&R&4&&Q_(_),Mu(_,_.return);break;case 12:Po(p,_,a);break;case 13:Po(p,_,a),a&&R&4&&sv(p,_);break;case 22:_.memoizedState===null&&Po(p,_,a),Mu(_,_.return);break;case 30:break;default:Po(p,_,a)}i=i.sibling}}function Wd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&gu(a))}function Yd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gu(e))}function or(e,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)av(e,i,a,c),i=i.sibling}function av(e,i,a,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:or(e,i,a,c),p&2048&&Iu(9,i);break;case 1:or(e,i,a,c);break;case 3:or(e,i,a,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gu(e)));break;case 12:if(p&2048){or(e,i,a,c),e=i.stateNode;try{var _=i.memoizedProps,R=_.id,H=_.onPostCommit;typeof H=="function"&&H(R,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Y){ke(i,i.return,Y)}}else or(e,i,a,c);break;case 13:or(e,i,a,c);break;case 23:break;case 22:_=i.stateNode,R=i.alternate,i.memoizedState!==null?_._visibility&2?or(e,i,a,c):Ou(e,i):_._visibility&2?or(e,i,a,c):(_._visibility|=2,Al(e,i,a,c,(i.subtreeFlags&10256)!==0)),p&2048&&Wd(R,i);break;case 24:or(e,i,a,c),p&2048&&Yd(i.alternate,i);break;default:or(e,i,a,c)}}function Al(e,i,a,c,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var _=e,R=i,H=a,Y=c,mt=R.flags;switch(R.tag){case 0:case 11:case 15:Al(_,R,H,Y,p),Iu(8,R);break;case 23:break;case 22:var bt=R.stateNode;R.memoizedState!==null?bt._visibility&2?Al(_,R,H,Y,p):Ou(_,R):(bt._visibility|=2,Al(_,R,H,Y,p)),p&&mt&2048&&Wd(R.alternate,R);break;case 24:Al(_,R,H,Y,p),p&&mt&2048&&Yd(R.alternate,R);break;default:Al(_,R,H,Y,p)}i=i.sibling}}function Ou(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,c=i,p=c.flags;switch(c.tag){case 22:Ou(a,c),p&2048&&Wd(c.alternate,c);break;case 24:Ou(a,c),p&2048&&Yd(c.alternate,c);break;default:Ou(a,c)}i=i.sibling}}var Lu=8192;function Cl(e){if(e.subtreeFlags&Lu)for(e=e.child;e!==null;)lv(e),e=e.sibling}function lv(e){switch(e.tag){case 26:Cl(e),e.flags&Lu&&e.memoizedState!==null&&tE(Ms,e.memoizedState,e.memoizedProps);break;case 5:Cl(e);break;case 3:case 4:var i=Ms;Ms=Oh(e.stateNode.containerInfo),Cl(e),Ms=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Lu,Lu=16777216,Cl(e),Lu=i):Cl(e));break;default:Cl(e)}}function uv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ku(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];zn=c,hv(c,e)}uv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cv(e),e=e.sibling}function cv(e){switch(e.tag){case 0:case 11:case 15:ku(e),e.flags&2048&&ko(9,e,e.return);break;case 3:ku(e);break;case 12:ku(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,wh(e)):ku(e);break;default:ku(e)}}function wh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];zn=c,hv(c,e)}uv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ko(8,i,i.return),wh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,wh(i));break;default:wh(i)}e=e.sibling}}function hv(e,i){for(;zn!==null;){var a=zn;switch(a.tag){case 0:case 11:case 15:ko(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gu(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,zn=c;else t:for(a=e;zn!==null;){c=zn;var p=c.sibling,_=c.return;if(nv(c),c===a){zn=null;break t}if(p!==null){p.return=_,zn=p;break t}zn=_}}}var g2={getCacheForType:function(e){var i=ri(xn),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},_2=typeof WeakMap=="function"?WeakMap:Map,Ne=0,He=null,ne=null,ce=0,Re=0,Ki=null,Uo=!1,Nl=!1,Kd=!1,Br=0,rn=0,zo=0,Pa=0,Xd=0,ds=0,Rl=0,Du=null,Ni=null,Qd=!1,Jd=0,bh=1/0,Eh=null,Bo=null,Yn=0,jo=null,Il=null,Ml=0,$d=0,tm=null,fv=null,Pu=0,em=null;function Xi(){if((Ne&2)!==0&&ce!==0)return ce&-ce;if(O.T!==null){var e=vl;return e!==0?e:lm()}return Mn()}function dv(){ds===0&&(ds=(ce&536870912)===0||Vt?Vs():536870912);var e=fs.current;return e!==null&&(e.flags|=32),ds}function Qi(e,i,a){(e===He&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Ol(e,0),Ho(e,ce,ds,!1)),an(e,a),((Ne&2)===0||e!==He)&&(e===He&&((Ne&2)===0&&(Pa|=a),rn===4&&Ho(e,ce,ds,!1)),ar(e))}function mv(e,i,a){if((Ne&6)!==0)throw Error(o(327));var c=!a&&(i&124)===0&&(i&e.expiredLanes)===0||ui(e,i),p=c?w2(e,i):sm(e,i,!0),_=c;do{if(p===0){Nl&&!c&&Ho(e,i,0,!1);break}else{if(a=e.current.alternate,_&&!v2(a)){p=sm(e,i,!1),_=!1;continue}if(p===2){if(_=i,e.errorRecoveryDisabledLanes&_)var R=0;else R=e.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){i=R;t:{var H=e;p=Du;var Y=H.current.memoizedState.isDehydrated;if(Y&&(Ol(H,R).flags|=256),R=sm(H,R,!1),R!==2){if(Kd&&!Y){H.errorRecoveryDisabledLanes|=_,Pa|=_,p=4;break t}_=Ni,Ni=p,_!==null&&(Ni===null?Ni=_:Ni.push.apply(Ni,_))}p=R}if(_=!1,p!==2)continue}}if(p===1){Ol(e,0),Ho(e,i,0,!0);break}t:{switch(c=e,_=p,_){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Ho(c,i,ds,!Uo);break t;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(p=Jd+300-Zt(),10<p)){if(Ho(c,i,ds,!Uo),Ji(c,0,!0)!==0)break t;c.timeoutHandle=Vv(pv.bind(null,c,a,Ni,Eh,Qd,i,ds,Pa,Rl,Uo,_,2,-0,0),p);break t}pv(c,a,Ni,Eh,Qd,i,ds,Pa,Rl,Uo,_,0,-0,0)}}break}while(!0);ar(e)}function pv(e,i,a,c,p,_,R,H,Y,mt,bt,Tt,pt,_t){if(e.timeoutHandle=-1,Tt=i.subtreeFlags,(Tt&8192||(Tt&16785408)===16785408)&&(Vu={stylesheets:null,count:0,unsuspend:$2},lv(i),Tt=eE(),Tt!==null)){e.cancelPendingCommit=Tt(Ev.bind(null,e,i,_,a,c,p,R,H,Y,bt,1,pt,_t)),Ho(e,_,R,!mt);return}Ev(e,i,_,a,c,p,R,H,Y)}function v2(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],_=p.getSnapshot;p=p.value;try{if(!fi(_(),p))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ho(e,i,a,c){i&=~Xd,i&=~Pa,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var _=31-Pe(p),R=1<<_;c[_]=-1,p&=~R}a!==0&&In(e,a,i)}function Th(){return(Ne&6)===0?(Uu(0),!1):!0}function nm(){if(ne!==null){if(Re===0)var e=ne.return;else e=ne,Rs=hs=null,yd(e),Sl=null,Cu=0,e=ne;for(;e!==null;)Y_(e.alternate,e),e=e.return;ne=null}}function Ol(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,P2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),nm(),He=e,ne=a=cs(e.current,null),ce=i,Re=0,Ki=null,Uo=!1,Nl=ui(e,i),Kd=!1,Rl=ds=Xd=Pa=zo=rn=0,Ni=Du=null,Qd=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-Pe(c),_=1<<p;i|=e[p],c&=~_}return Br=i,Sa(),a}function gv(e,i){Kt=null,O.H=ch,i===vu||i===th?(i=Lg(),Re=3):i===Ig?(i=Lg(),Re=4):Re=i===k_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ki=i,ne===null&&(rn=1,ph(e,mi(i,e.current)))}function _v(){var e=O.H;return O.H=ch,e===null?ch:e}function vv(){var e=O.A;return O.A=g2,e}function im(){rn=4,Uo||(ce&4194048)!==ce&&fs.current!==null||(Nl=!0),(zo&134217727)===0&&(Pa&134217727)===0||He===null||Ho(He,ce,ds,!1)}function sm(e,i,a){var c=Ne;Ne|=2;var p=_v(),_=vv();(He!==e||ce!==i)&&(Eh=null,Ol(e,i)),i=!1;var R=rn;t:do try{if(Re!==0&&ne!==null){var H=ne,Y=Ki;switch(Re){case 8:nm(),R=6;break t;case 3:case 2:case 9:case 6:fs.current===null&&(i=!0);var mt=Re;if(Re=0,Ki=null,Ll(e,H,Y,mt),a&&Nl){R=0;break t}break;default:mt=Re,Re=0,Ki=null,Ll(e,H,Y,mt)}}y2(),R=rn;break}catch(bt){gv(e,bt)}while(!0);return i&&e.shellSuspendCounter++,Rs=hs=null,Ne=c,O.H=p,O.A=_,ne===null&&(He=null,ce=0,Sa()),R}function y2(){for(;ne!==null;)yv(ne)}function w2(e,i){var a=Ne;Ne|=2;var c=_v(),p=vv();He!==e||ce!==i?(Eh=null,bh=Zt()+500,Ol(e,i)):Nl=ui(e,i);t:do try{if(Re!==0&&ne!==null){i=ne;var _=Ki;e:switch(Re){case 1:Re=0,Ki=null,Ll(e,i,_,1);break;case 2:case 9:if(Mg(_)){Re=0,Ki=null,wv(i);break}i=function(){Re!==2&&Re!==9||He!==e||(Re=7),ar(e)},_.then(i,i);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:Mg(_)?(Re=0,Ki=null,wv(i)):(Re=0,Ki=null,Ll(e,i,_,7));break;case 5:var R=null;switch(ne.tag){case 26:R=ne.memoizedState;case 5:case 27:var H=ne;if(!R||ey(R)){Re=0,Ki=null;var Y=H.sibling;if(Y!==null)ne=Y;else{var mt=H.return;mt!==null?(ne=mt,Sh(mt)):ne=null}break e}}Re=0,Ki=null,Ll(e,i,_,5);break;case 6:Re=0,Ki=null,Ll(e,i,_,6);break;case 8:nm(),rn=6;break t;default:throw Error(o(462))}}b2();break}catch(bt){gv(e,bt)}while(!0);return Rs=hs=null,O.H=c,O.A=p,Ne=a,ne!==null?0:(He=null,ce=0,Sa(),rn)}function b2(){for(;ne!==null&&!be();)yv(ne)}function yv(e){var i=Z_(e.alternate,e,Br);e.memoizedProps=e.pendingProps,i===null?Sh(e):ne=i}function wv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=j_(a,i,i.pendingProps,i.type,void 0,ce);break;case 11:i=j_(a,i,i.pendingProps,i.type.render,i.ref,ce);break;case 5:yd(i);default:Y_(a,i),i=ne=mu(i,Br),i=Z_(a,i,Br)}e.memoizedProps=e.pendingProps,i===null?Sh(e):ne=i}function Ll(e,i,a,c){Rs=hs=null,yd(i),Sl=null,Cu=0;var p=i.return;try{if(c2(e,p,i,a,ce)){rn=1,ph(e,mi(a,e.current)),ne=null;return}}catch(_){if(p!==null)throw ne=p,_;rn=1,ph(e,mi(a,e.current)),ne=null;return}i.flags&32768?(Vt||c===1?e=!0:Nl||(ce&536870912)!==0?e=!1:(Uo=e=!0,(c===2||c===9||c===3||c===6)&&(c=fs.current,c!==null&&c.tag===13&&(c.flags|=16384))),bv(i,e)):Sh(i)}function Sh(e){var i=e;do{if((i.flags&32768)!==0){bv(i,Uo);return}e=i.return;var a=f2(i.alternate,i,Br);if(a!==null){ne=a;return}if(i=i.sibling,i!==null){ne=i;return}ne=i=e}while(i!==null);rn===0&&(rn=5)}function bv(e,i){do{var a=d2(e.alternate,e);if(a!==null){a.flags&=32767,ne=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){ne=e;return}ne=e=a}while(e!==null);rn=6,ne=null}function Ev(e,i,a,c,p,_,R,H,Y){e.cancelPendingCommit=null;do xh();while(Yn!==0);if((Ne&6)!==0)throw Error(o(327));if(i!==null){if(i===e.current)throw Error(o(177));if(_=i.lanes|i.childLanes,_|=Zi,Qn(e,a,_,R,H,Y),e===He&&(ne=He=null,ce=0),Il=i,jo=e,Ml=a,$d=_,tm=p,fv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,x2(_e,function(){return Cv(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=O.T,O.T=null,p=j.p,j.p=2,R=Ne,Ne|=4;try{m2(e,i,a)}finally{Ne=R,j.p=p,O.T=c}}Yn=1,Tv(),Sv(),xv()}}function Tv(){if(Yn===1){Yn=0;var e=jo,i=Il,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var c=j.p;j.p=2;var p=Ne;Ne|=4;try{rv(i,e);var _=gm,R=ba(e.containerInfo),H=_.focusedElem,Y=_.selectionRange;if(R!==H&&H&&H.ownerDocument&&cl(H.ownerDocument.documentElement,H)){if(Y!==null&&Ea(H)){var mt=Y.start,bt=Y.end;if(bt===void 0&&(bt=mt),"selectionStart"in H)H.selectionStart=mt,H.selectionEnd=Math.min(bt,H.value.length);else{var Tt=H.ownerDocument||document,pt=Tt&&Tt.defaultView||window;if(pt.getSelection){var _t=pt.getSelection(),Ft=H.textContent.length,Ut=Math.min(Y.start,Ft),Le=Y.end===void 0?Ut:Math.min(Y.end,Ft);!_t.extend&&Ut>Le&&(R=Le,Le=Ut,Ut=R);var st=fu(H,Ut),tt=fu(H,Le);if(st&&tt&&(_t.rangeCount!==1||_t.anchorNode!==st.node||_t.anchorOffset!==st.offset||_t.focusNode!==tt.node||_t.focusOffset!==tt.offset)){var ft=Tt.createRange();ft.setStart(st.node,st.offset),_t.removeAllRanges(),Ut>Le?(_t.addRange(ft),_t.extend(tt.node,tt.offset)):(ft.setEnd(tt.node,tt.offset),_t.addRange(ft))}}}}for(Tt=[],_t=H;_t=_t.parentNode;)_t.nodeType===1&&Tt.push({element:_t,left:_t.scrollLeft,top:_t.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Tt.length;H++){var Et=Tt[H];Et.element.scrollLeft=Et.left,Et.element.scrollTop=Et.top}}Uh=!!pm,gm=pm=null}finally{Ne=p,j.p=c,O.T=a}}e.current=i,Yn=2}}function Sv(){if(Yn===2){Yn=0;var e=jo,i=Il,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var c=j.p;j.p=2;var p=Ne;Ne|=4;try{ev(e,i.alternate,i)}finally{Ne=p,j.p=c,O.T=a}}Yn=3}}function xv(){if(Yn===4||Yn===3){Yn=0,We();var e=jo,i=Il,a=Ml,c=fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yn=5:(Yn=0,Il=jo=null,Av(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Bo=null),Jn(a),i=i.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=O.T,p=j.p,j.p=2,O.T=null;try{for(var _=e.onRecoverableError,R=0;R<c.length;R++){var H=c[R];_(H.value,{componentStack:H.stack})}}finally{O.T=i,j.p=p}}(Ml&3)!==0&&xh(),ar(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===em?Pu++:(Pu=0,em=e):Pu=0,Uu(0)}}function Av(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,gu(i)))}function xh(e){return Tv(),Sv(),xv(),Cv()}function Cv(){if(Yn!==5)return!1;var e=jo,i=$d;$d=0;var a=Jn(Ml),c=O.T,p=j.p;try{j.p=32>a?32:a,O.T=null,a=tm,tm=null;var _=jo,R=Ml;if(Yn=0,Il=jo=null,Ml=0,(Ne&6)!==0)throw Error(o(331));var H=Ne;if(Ne|=4,cv(_.current),av(_,_.current,R,a),Ne=H,Uu(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot(ae,_)}catch{}return!0}finally{j.p=p,O.T=c,Av(e,i)}}function Nv(e,i,a){i=mi(a,i),i=Ld(e.stateNode,i,2),e=Io(e,i,2),e!==null&&(an(e,2),ar(e))}function ke(e,i,a){if(e.tag===3)Nv(e,e,a);else for(;i!==null;){if(i.tag===3){Nv(i,e,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bo===null||!Bo.has(c))){e=mi(a,e),a=O_(2),c=Io(i,a,2),c!==null&&(L_(a,c,i,e),an(c,2),ar(c));break}}i=i.return}}function rm(e,i,a){var c=e.pingCache;if(c===null){c=e.pingCache=new _2;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(a)||(Kd=!0,p.add(a),e=E2.bind(null,e,i,a),i.then(e,e))}function E2(e,i,a){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(ce&a)===a&&(rn===4||rn===3&&(ce&62914560)===ce&&300>Zt()-Jd?(Ne&2)===0&&Ol(e,0):Xd|=a,Rl===ce&&(Rl=0)),ar(e)}function Rv(e,i){i===0&&(i=Li()),e=So(e,i),e!==null&&(an(e,i),ar(e))}function T2(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Rv(e,a)}function S2(e,i){var a=0;switch(e.tag){case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(i),Rv(e,a)}function x2(e,i){return En(e,i)}var Ah=null,kl=null,om=!1,Ch=!1,am=!1,Ua=0;function ar(e){e!==kl&&e.next===null&&(kl===null?Ah=kl=e:kl=kl.next=e),Ch=!0,om||(om=!0,C2())}function Uu(e,i){if(!am&&Ch){am=!0;do for(var a=!1,c=Ah;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var _=0;else{var R=c.suspendedLanes,H=c.pingedLanes;_=(1<<31-Pe(42|e)+1)-1,_&=p&~(R&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,Lv(c,_))}else _=ce,_=Ji(c,c===He?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||ui(c,_)||(a=!0,Lv(c,_));c=c.next}while(a);am=!1}}function A2(){Iv()}function Iv(){Ch=om=!1;var e=0;Ua!==0&&(D2()&&(e=Ua),Ua=0);for(var i=Zt(),a=null,c=Ah;c!==null;){var p=c.next,_=Mv(c,i);_===0?(c.next=null,a===null?Ah=p:a.next=p,p===null&&(kl=a)):(a=c,(e!==0||(_&3)!==0)&&(Ch=!0)),c=p}Uu(e)}function Mv(e,i){for(var a=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var R=31-Pe(_),H=1<<R,Y=p[R];Y===-1?((H&a)===0||(H&c)!==0)&&(p[R]=_s(H,i)):Y<=i&&(e.expiredLanes|=H),_&=~H}if(i=He,a=ce,a=Ji(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===i&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&fn(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ui(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(c!==null&&fn(c),Jn(a)){case 2:case 8:a=qe;break;case 32:a=_e;break;case 268435456:a=Se;break;default:a=_e}return c=Ov.bind(null,e),a=En(a,c),e.callbackPriority=i,e.callbackNode=a,i}return c!==null&&c!==null&&fn(c),e.callbackPriority=2,e.callbackNode=null,2}function Ov(e,i){if(Yn!==0&&Yn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xh()&&e.callbackNode!==a)return null;var c=ce;return c=Ji(e,e===He?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(mv(e,c,i),Mv(e,Zt()),e.callbackNode!=null&&e.callbackNode===a?Ov.bind(null,e):null)}function Lv(e,i){if(xh())return null;mv(e,i,!0)}function C2(){U2(function(){(Ne&6)!==0?En(Ve,A2):Iv()})}function lm(){return Ua===0&&(Ua=Vs()),Ua}function kv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Dv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function N2(e,i,a,c,p){if(i==="submit"&&a&&a.stateNode===p){var _=kv((p[sn]||null).action),R=c.submitter;R&&(i=(i=R[sn]||null)?kv(i.formAction):R.getAttribute("formAction"),i!==null&&(_=i,R=null));var H=new Tr("action","action",null,c,p);e.push({event:H,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ua!==0){var Y=R?Dv(p,R):new FormData(p);Nd(a,{pending:!0,data:Y,method:p.method,action:_},null,Y)}}else typeof _=="function"&&(H.preventDefault(),Y=R?Dv(p,R):new FormData(p),Nd(a,{pending:!0,data:Y,method:p.method,action:_},_,Y))},currentTarget:p}]})}}for(var um=0;um<Nr.length;um++){var cm=Nr[um],R2=cm.toLowerCase(),I2=cm[0].toUpperCase()+cm.slice(1);Gi(R2,"on"+I2)}Gi(Gc,"onAnimationEnd"),Gi(qi,"onAnimationIteration"),Gi(Ta,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(id,"onTransitionRun"),Gi(ml,"onTransitionStart"),Gi(sd,"onTransitionCancel"),Gi(du,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zu));function Pv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],p=c.event;c=c.listeners;t:{var _=void 0;if(i)for(var R=c.length-1;0<=R;R--){var H=c[R],Y=H.instance,mt=H.currentTarget;if(H=H.listener,Y!==_&&p.isPropagationStopped())break t;_=H,p.currentTarget=mt;try{_(p)}catch(bt){mh(bt)}p.currentTarget=null,_=Y}else for(R=0;R<c.length;R++){if(H=c[R],Y=H.instance,mt=H.currentTarget,H=H.listener,Y!==_&&p.isPropagationStopped())break t;_=H,p.currentTarget=mt;try{_(p)}catch(bt){mh(bt)}p.currentTarget=null,_=Y}}}}function ie(e,i){var a=i[$n];a===void 0&&(a=i[$n]=new Set);var c=e+"__bubble";a.has(c)||(Uv(i,e,2,!1),a.add(c))}function hm(e,i,a){var c=0;i&&(c|=4),Uv(a,e,c,i)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function fm(e){if(!e[Nh]){e[Nh]=!0,ha.forEach(function(a){a!=="selectionchange"&&(M2.has(a)||hm(a,!1,e),hm(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nh]||(i[Nh]=!0,hm("selectionchange",!1,i))}}function Uv(e,i,a,c){switch(ay(i)){case 2:var p=sE;break;case 8:p=rE;break;default:p=Am}a=p.bind(null,i,a,e),p=void 0,!ti||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,a,{capture:!0,passive:p}):e.addEventListener(i,a,!0):p!==void 0?e.addEventListener(i,a,{passive:p}):e.addEventListener(i,a,!1)}function dm(e,i,a,c,p){var _=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var H=c.stateNode.containerInfo;if(H===p)break;if(R===4)for(R=c.return;R!==null;){var Y=R.tag;if((Y===3||Y===4)&&R.stateNode.containerInfo===p)return;R=R.return}for(;H!==null;){if(R=ts(H),R===null)return;if(Y=R.tag,Y===5||Y===6||Y===26||Y===27){c=_=R;continue t}H=H.parentNode}}c=c.return}hi(function(){var mt=_,bt=Gn(a),Tt=[];t:{var pt=Zc.get(e);if(pt!==void 0){var _t=Tr,Ft=e;switch(e){case"keypress":if(Ie(a)===0)break t;case"keydown":case"keyup":_t=mo;break;case"focusin":Ft="focus",_t=lo;break;case"focusout":Ft="blur",_t=lo;break;case"beforeblur":case"afterblur":_t=lo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=al;break;case Gc:case qi:case Ta:_t=co;break;case du:_t=ll;break;case"scroll":case"scrollend":_t=rl;break;case"wheel":_t=Zn;break;case"copy":case"cut":case"paste":_t=Qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=po;break;case"toggle":case"beforetoggle":_t=ls}var Ut=(i&4)!==0,Le=!Ut&&(e==="scroll"||e==="scrollend"),st=Ut?pt!==null?pt+"Capture":null:pt;Ut=[];for(var tt=mt,ft;tt!==null;){var Et=tt;if(ft=Et.stateNode,Et=Et.tag,Et!==5&&Et!==26&&Et!==27||ft===null||st===null||(Et=ue(tt,st),Et!=null&&Ut.push(Bu(tt,Et,ft))),Le)break;tt=tt.return}0<Ut.length&&(pt=new _t(pt,Ft,null,a,bt),Tt.push({event:pt,listeners:Ut}))}}if((i&7)===0){t:{if(pt=e==="mouseover"||e==="pointerover",_t=e==="mouseout"||e==="pointerout",pt&&a!==Bi&&(Ft=a.relatedTarget||a.fromElement)&&(ts(Ft)||Ft[Ei]))break t;if((_t||pt)&&(pt=bt.window===bt?bt:(pt=bt.ownerDocument)?pt.defaultView||pt.parentWindow:window,_t?(Ft=a.relatedTarget||a.toElement,_t=mt,Ft=Ft?ts(Ft):null,Ft!==null&&(Le=h(Ft),Ut=Ft.tag,Ft!==Le||Ut!==5&&Ut!==27&&Ut!==6)&&(Ft=null)):(_t=null,Ft=mt),_t!==Ft)){if(Ut=Dn,Et="onMouseLeave",st="onMouseEnter",tt="mouse",(e==="pointerout"||e==="pointerover")&&(Ut=po,Et="onPointerLeave",st="onPointerEnter",tt="pointer"),Le=_t==null?pt:Vn(_t),ft=Ft==null?pt:Vn(Ft),pt=new Ut(Et,tt+"leave",_t,a,bt),pt.target=Le,pt.relatedTarget=ft,Et=null,ts(bt)===mt&&(Ut=new Ut(st,tt+"enter",Ft,a,bt),Ut.target=ft,Ut.relatedTarget=Le,Et=Ut),Le=Et,_t&&Ft)e:{for(Ut=_t,st=Ft,tt=0,ft=Ut;ft;ft=Dl(ft))tt++;for(ft=0,Et=st;Et;Et=Dl(Et))ft++;for(;0<tt-ft;)Ut=Dl(Ut),tt--;for(;0<ft-tt;)st=Dl(st),ft--;for(;tt--;){if(Ut===st||st!==null&&Ut===st.alternate)break e;Ut=Dl(Ut),st=Dl(st)}Ut=null}else Ut=null;_t!==null&&zv(Tt,pt,_t,Ut,!1),Ft!==null&&Le!==null&&zv(Tt,Le,Ft,Ut,!0)}}t:{if(pt=mt?Vn(mt):window,_t=pt.nodeName&&pt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&pt.type==="file")var It=vo;else if(ii(pt))if(uu)It=nd;else{It=ed;var Jt=hu}else _t=pt.nodeName,!_t||_t.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?mt&&Er(mt.elementType)&&(It=vo):It=Ns;if(It&&(It=It(e,mt))){si(Tt,It,a,bt);break t}Jt&&Jt(e,pt,mt),e==="focusout"&&mt&&pt.type==="number"&&mt.memoizedProps.value!=null&&Ui(pt,"number",pt.value)}switch(Jt=mt?Vn(mt):window,e){case"focusin":(ii(Jt)||Jt.contentEditable==="true")&&(Vi=Jt,bo=mt,Cr=null);break;case"focusout":Cr=bo=Vi=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,Vc(Tt,a,bt);break;case"selectionchange":if(hl)break;case"keydown":case"keyup":Vc(Tt,a,bt)}var kt;if(f)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Be?xt(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(V&&a.locale!=="ko"&&(Be||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Be&&(kt=Es()):(Si=bt,ei="value"in Si?Si.value:Si.textContent,Be=!0)),Jt=Rh(mt,zt),0<Jt.length&&(zt=new ni(zt,e,null,a,bt),Tt.push({event:zt,listeners:Jt}),kt?zt.data=kt:(kt=ve(a),kt!==null&&(zt.data=kt)))),(kt=N?ee(e,a):_n(e,a))&&(zt=Rh(mt,"onBeforeInput"),0<zt.length&&(Jt=new ni("onBeforeInput","beforeinput",null,a,bt),Tt.push({event:Jt,listeners:zt}),Jt.data=kt)),N2(Tt,e,mt,a,bt)}Pv(Tt,i)})}function Bu(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Rh(e,i){for(var a=i+"Capture",c=[];e!==null;){var p=e,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=ue(e,a),p!=null&&c.unshift(Bu(e,p,_)),p=ue(e,i),p!=null&&c.push(Bu(e,p,_))),e.tag===3)return c;e=e.return}return[]}function Dl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zv(e,i,a,c,p){for(var _=i._reactName,R=[];a!==null&&a!==c;){var H=a,Y=H.alternate,mt=H.stateNode;if(H=H.tag,Y!==null&&Y===c)break;H!==5&&H!==26&&H!==27||mt===null||(Y=mt,p?(mt=ue(a,_),mt!=null&&R.unshift(Bu(a,mt,Y))):p||(mt=ue(a,_),mt!=null&&R.push(Bu(a,mt,Y)))),a=a.return}R.length!==0&&e.push({event:i,listeners:R})}var O2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function Bv(e){return(typeof e=="string"?e:""+e).replace(O2,`
`).replace(L2,"")}function jv(e,i){return i=Bv(i),Bv(e)===i}function Ih(){}function Oe(e,i,a,c,p,_){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Ln(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Ln(e,""+c);break;case"className":ns(e,"class",c);break;case"tabIndex":ns(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(e,a,c);break;case"style":ws(e,c,_);break;case"data":if(i!=="object"){ns(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Xs(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(i!=="input"&&Oe(e,i,"name",p.name,p,null),Oe(e,i,"formEncType",p.formEncType,p,null),Oe(e,i,"formMethod",p.formMethod,p,null),Oe(e,i,"formTarget",p.formTarget,p,null)):(Oe(e,i,"encType",p.encType,p,null),Oe(e,i,"method",p.method,p,null),Oe(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Xs(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=Ih);break;case"onScroll":c!=null&&ie("scroll",e);break;case"onScrollEnd":c!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=Xs(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":ie("beforetoggle",e),ie("toggle",e),Zs(e,"popover",c);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zs(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=da.get(a)||a,Zs(e,a,c))}}function mm(e,i,a,c,p,_){switch(a){case"style":ws(e,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof c=="string"?Ln(e,c):(typeof c=="number"||typeof c=="bigint")&&Ln(e,""+c);break;case"onScroll":c!=null&&ie("scroll",e);break;case"onScrollEnd":c!=null&&ie("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),i=a.slice(2,p?a.length-7:void 0),_=e[sn]||null,_=_!=null?_[a]:null,typeof _=="function"&&e.removeEventListener(i,_,p),typeof c=="function")){typeof _!="function"&&_!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,c,p);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Zs(e,a,c)}}}function Kn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var c=!1,p=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var R=a[_];if(R!=null)switch(_){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Oe(e,i,_,R,a,null)}}p&&Oe(e,i,"srcSet",a.srcSet,a,null),c&&Oe(e,i,"src",a.src,a,null);return;case"input":ie("invalid",e);var H=_=R=p=null,Y=null,mt=null;for(c in a)if(a.hasOwnProperty(c)){var bt=a[c];if(bt!=null)switch(c){case"name":p=bt;break;case"type":R=bt;break;case"checked":Y=bt;break;case"defaultChecked":mt=bt;break;case"value":_=bt;break;case"defaultValue":H=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(o(137,i));break;default:Oe(e,i,c,bt,a,null)}}br(e,_,H,Y,mt,R,p,!1),Ks(e);return;case"select":ie("invalid",e),c=R=_=null;for(p in a)if(a.hasOwnProperty(p)&&(H=a[p],H!=null))switch(p){case"value":_=H;break;case"defaultValue":R=H;break;case"multiple":c=H;default:Oe(e,i,p,H,a,null)}i=_,a=R,e.multiple=!!c,i!=null?qn(e,!!c,i,!1):a!=null&&qn(e,!!c,a,!0);return;case"textarea":ie("invalid",e),_=p=c=null;for(R in a)if(a.hasOwnProperty(R)&&(H=a[R],H!=null))switch(R){case"value":c=H;break;case"defaultValue":p=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(91));break;default:Oe(e,i,R,H,a,null)}ci(e,c,p,_),Ks(e);return;case"option":for(Y in a)if(a.hasOwnProperty(Y)&&(c=a[Y],c!=null))switch(Y){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Oe(e,i,Y,c,a,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(c=0;c<zu.length;c++)ie(zu[c],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(mt in a)if(a.hasOwnProperty(mt)&&(c=a[mt],c!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Oe(e,i,mt,c,a,null)}return;default:if(Er(i)){for(bt in a)a.hasOwnProperty(bt)&&(c=a[bt],c!==void 0&&mm(e,i,bt,c,a,void 0));return}}for(H in a)a.hasOwnProperty(H)&&(c=a[H],c!=null&&Oe(e,i,H,c,a,null))}function k2(e,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,R=null,H=null,Y=null,mt=null,bt=null;for(_t in a){var Tt=a[_t];if(a.hasOwnProperty(_t)&&Tt!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":Y=Tt;default:c.hasOwnProperty(_t)||Oe(e,i,_t,null,c,Tt)}}for(var pt in c){var _t=c[pt];if(Tt=a[pt],c.hasOwnProperty(pt)&&(_t!=null||Tt!=null))switch(pt){case"type":_=_t;break;case"name":p=_t;break;case"checked":mt=_t;break;case"defaultChecked":bt=_t;break;case"value":R=_t;break;case"defaultValue":H=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(o(137,i));break;default:_t!==Tt&&Oe(e,i,pt,_t,c,Tt)}}ze(e,R,H,Y,mt,bt,_,p);return;case"select":_t=R=H=pt=null;for(_ in a)if(Y=a[_],a.hasOwnProperty(_)&&Y!=null)switch(_){case"value":break;case"multiple":_t=Y;default:c.hasOwnProperty(_)||Oe(e,i,_,null,c,Y)}for(p in c)if(_=c[p],Y=a[p],c.hasOwnProperty(p)&&(_!=null||Y!=null))switch(p){case"value":pt=_;break;case"defaultValue":H=_;break;case"multiple":R=_;default:_!==Y&&Oe(e,i,p,_,c,Y)}i=H,a=R,c=_t,pt!=null?qn(e,!!a,pt,!1):!!c!=!!a&&(i!=null?qn(e,!!a,i,!0):qn(e,!!a,a?[]:"",!1));return;case"textarea":_t=pt=null;for(H in a)if(p=a[H],a.hasOwnProperty(H)&&p!=null&&!c.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Oe(e,i,H,null,c,p)}for(R in c)if(p=c[R],_=a[R],c.hasOwnProperty(R)&&(p!=null||_!=null))switch(R){case"value":pt=p;break;case"defaultValue":_t=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==_&&Oe(e,i,R,p,c,_)}Bt(e,pt,_t);return;case"option":for(var Ft in a)if(pt=a[Ft],a.hasOwnProperty(Ft)&&pt!=null&&!c.hasOwnProperty(Ft))switch(Ft){case"selected":e.selected=!1;break;default:Oe(e,i,Ft,null,c,pt)}for(Y in c)if(pt=c[Y],_t=a[Y],c.hasOwnProperty(Y)&&pt!==_t&&(pt!=null||_t!=null))switch(Y){case"selected":e.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:Oe(e,i,Y,pt,c,_t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in a)pt=a[Ut],a.hasOwnProperty(Ut)&&pt!=null&&!c.hasOwnProperty(Ut)&&Oe(e,i,Ut,null,c,pt);for(mt in c)if(pt=c[mt],_t=a[mt],c.hasOwnProperty(mt)&&pt!==_t&&(pt!=null||_t!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(o(137,i));break;default:Oe(e,i,mt,pt,c,_t)}return;default:if(Er(i)){for(var Le in a)pt=a[Le],a.hasOwnProperty(Le)&&pt!==void 0&&!c.hasOwnProperty(Le)&&mm(e,i,Le,void 0,c,pt);for(bt in c)pt=c[bt],_t=a[bt],!c.hasOwnProperty(bt)||pt===_t||pt===void 0&&_t===void 0||mm(e,i,bt,pt,c,_t);return}}for(var st in a)pt=a[st],a.hasOwnProperty(st)&&pt!=null&&!c.hasOwnProperty(st)&&Oe(e,i,st,null,c,pt);for(Tt in c)pt=c[Tt],_t=a[Tt],!c.hasOwnProperty(Tt)||pt===_t||pt==null&&_t==null||Oe(e,i,Tt,pt,c,_t)}var pm=null,gm=null;function Mh(e){return e.nodeType===9?e:e.ownerDocument}function Hv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function _m(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vm=null;function D2(){var e=window.event;return e&&e.type==="popstate"?e===vm?!1:(vm=e,!0):(vm=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,P2=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(e){return qv.resolve(null).then(e).catch(z2)}:Vv;function z2(e){setTimeout(function(){throw e})}function Fo(e){return e==="head"}function Gv(e,i){var a=i,c=0,p=0;do{var _=a.nextSibling;if(e.removeChild(a),_&&_.nodeType===8)if(a=_.data,a==="/$"){if(0<c&&8>c){a=c;var R=e.ownerDocument;if(a&1&&ju(R.documentElement),a&2&&ju(R.body),a&4)for(a=R.head,ju(a),R=a.firstChild;R;){var H=R.nextSibling,Y=R.nodeName;R[qs]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&R.rel.toLowerCase()==="stylesheet"||a.removeChild(R),R=H}}if(p===0){e.removeChild(_),Yu(i);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:c=a.charCodeAt(0)-48;else c=0;a=_}while(a);Yu(i)}function ym(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),Gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function B2(e,i,a,c){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[qs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=Os(e.nextSibling),e===null)break}return null}function j2(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Os(e.nextSibling),e===null))return null;return e}function wm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function H2(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Os(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var bm=null;function Zv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Wv(e,i,a){switch(i=Mh(a),e){case"html":if(e=i.documentElement,!e)throw Error(o(452));return e;case"head":if(e=i.head,!e)throw Error(o(453));return e;case"body":if(e=i.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ju(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Gs(e)}var ms=new Map,Yv=new Set;function Oh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jr=j.d;j.d={f:F2,r:V2,D:q2,C:G2,L:Z2,m:W2,X:K2,S:Y2,M:X2};function F2(){var e=jr.f(),i=Th();return e||i}function V2(e){var i=Di(e);i!==null&&i.tag===5&&i.type==="form"?m_(i):jr.r(e)}var Pl=typeof document>"u"?null:document;function Kv(e,i,a){var c=Pl;if(c&&typeof i=="string"&&i){var p=Ge(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Yv.has(p)||(Yv.add(p),e={rel:e,crossOrigin:a,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Kn(i,"link",e),Qe(i),c.head.appendChild(i)))}}function q2(e){jr.D(e),Kv("dns-prefetch",e,null)}function G2(e,i){jr.C(e,i),Kv("preconnect",e,i)}function Z2(e,i,a){jr.L(e,i,a);var c=Pl;if(c&&e&&i){var p='link[rel="preload"][as="'+Ge(i)+'"]';i==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Ge(a.imageSizes)+'"]')):p+='[href="'+Ge(e)+'"]';var _=p;switch(i){case"style":_=Ul(e);break;case"script":_=zl(e)}ms.has(_)||(e=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),ms.set(_,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(Hu(_))||i==="script"&&c.querySelector(Fu(_))||(i=c.createElement("link"),Kn(i,"link",e),Qe(i),c.head.appendChild(i)))}}function W2(e,i){jr.m(e,i);var a=Pl;if(a&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ge(c)+'"][href="'+Ge(e)+'"]',_=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=zl(e)}if(!ms.has(_)&&(e=w({rel:"modulepreload",href:e},i),ms.set(_,e),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fu(_)))return}c=a.createElement("link"),Kn(c,"link",e),Qe(c),a.head.appendChild(c)}}}function Y2(e,i,a){jr.S(e,i,a);var c=Pl;if(c&&e){var p=On(c).hoistableStyles,_=Ul(e);i=i||"default";var R=p.get(_);if(!R){var H={loading:0,preload:null};if(R=c.querySelector(Hu(_)))H.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":i},a),(a=ms.get(_))&&Em(e,a);var Y=R=c.createElement("link");Qe(Y),Kn(Y,"link",e),Y._p=new Promise(function(mt,bt){Y.onload=mt,Y.onerror=bt}),Y.addEventListener("load",function(){H.loading|=1}),Y.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Lh(R,i,c)}R={type:"stylesheet",instance:R,count:1,state:H},p.set(_,R)}}}function K2(e,i){jr.X(e,i);var a=Pl;if(a&&e){var c=On(a).hoistableScripts,p=zl(e),_=c.get(p);_||(_=a.querySelector(Fu(p)),_||(e=w({src:e,async:!0},i),(i=ms.get(p))&&Tm(e,i),_=a.createElement("script"),Qe(_),Kn(_,"link",e),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function X2(e,i){jr.M(e,i);var a=Pl;if(a&&e){var c=On(a).hoistableScripts,p=zl(e),_=c.get(p);_||(_=a.querySelector(Fu(p)),_||(e=w({src:e,async:!0,type:"module"},i),(i=ms.get(p))&&Tm(e,i),_=a.createElement("script"),Qe(_),Kn(_,"link",e),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function Xv(e,i,a,c){var p=(p=wt.current)?Oh(p):null;if(!p)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ul(a.href),a=On(p).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ul(a.href);var _=On(p).hoistableStyles,R=_.get(e);if(R||(p=p.ownerDocument||p,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,R),(_=p.querySelector(Hu(e)))&&!_._p&&(R.instance=_,R.state.loading=5),ms.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ms.set(e,a),_||Q2(p,e,a,R.state))),i&&c===null)throw Error(o(528,""));return R}if(i&&c!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=zl(a),a=On(p).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ul(e){return'href="'+Ge(e)+'"'}function Hu(e){return'link[rel="stylesheet"]['+e+"]"}function Qv(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Q2(e,i,a,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Kn(i,"link",a),Qe(i),e.head.appendChild(i))}function zl(e){return'[src="'+Ge(e)+'"]'}function Fu(e){return"script[async]"+e}function Jv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ge(a.href)+'"]');if(c)return i.instance=c,Qe(c),c;var p=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Qe(c),Kn(c,"style",p),Lh(c,a.precedence,e),i.instance=c;case"stylesheet":p=Ul(a.href);var _=e.querySelector(Hu(p));if(_)return i.state.loading|=4,i.instance=_,Qe(_),_;c=Qv(a),(p=ms.get(p))&&Em(c,p),_=(e.ownerDocument||e).createElement("link"),Qe(_);var R=_;return R._p=new Promise(function(H,Y){R.onload=H,R.onerror=Y}),Kn(_,"link",c),i.state.loading|=4,Lh(_,a.precedence,e),i.instance=_;case"script":return _=zl(a.src),(p=e.querySelector(Fu(_)))?(i.instance=p,Qe(p),p):(c=a,(p=ms.get(_))&&(c=w({},a),Tm(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Qe(p),Kn(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Lh(c,a.precedence,e));return i.instance}function Lh(e,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,_=p,R=0;R<c.length;R++){var H=c[R];if(H.dataset.precedence===i)_=H;else if(_!==p)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Em(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Tm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var kh=null;function $v(e,i,a){if(kh===null){var c=new Map,p=kh=new Map;p.set(a,c)}else p=kh,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var _=a[p];if(!(_[qs]||_[ln]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(i)||"";R=e+R;var H=c.get(R);H?H.push(_):c.set(R,[_])}}return c}function ty(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function J2(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ey(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Vu=null;function $2(){}function tE(e,i,a){if(Vu===null)throw Error(o(475));var c=Vu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=Ul(a.href),_=e.querySelector(Hu(p));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Dh.bind(c),e.then(c,c)),i.state.loading|=4,i.instance=_,Qe(_);return}_=e.ownerDocument||e,a=Qv(a),(p=ms.get(p))&&Em(a,p),_=_.createElement("link"),Qe(_);var R=_;R._p=new Promise(function(H,Y){R.onload=H,R.onerror=Y}),Kn(_,"link",a),i.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Dh.bind(c),e.addEventListener("load",i),e.addEventListener("error",i))}}function eE(){if(Vu===null)throw Error(o(475));var e=Vu;return e.stylesheets&&e.count===0&&Sm(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Sm(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Dh(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ph=null;function Sm(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ph=new Map,i.forEach(nE,e),Ph=null,Dh.call(e))}function nE(e,i){if(!(i.state.loading&4)){var a=Ph.get(e);if(a)var c=a.get(null);else{a=new Map,Ph.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var R=p[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(a.set(R.dataset.precedence,R),c=R)}c&&a.set(null,c)}p=i.instance,R=p.getAttribute("data-precedence"),_=a.get(R)||c,_===c&&a.set(null,p),a.set(R,p),this.count++,c=Dh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),_?_.parentNode.insertBefore(p,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var qu={$$typeof:it,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function iE(e,i,a,c,p,_,R,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function ny(e,i,a,c,p,_,R,H,Y,mt,bt,Tt){return e=new iE(e,i,a,R,H,Y,mt,Tt),i=1,_===!0&&(i|=24),_=gi(3,null,null,i),e.current=_,_.stateNode=e,i=rd(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:c,isDehydrated:a,cache:i},ud(_),e}function iy(e){return e?(e=Mr,e):Mr}function sy(e,i,a,c,p,_){p=iy(p),c.context===null?c.context=p:c.pendingContext=p,c=Ro(i),c.payload={element:a},_=_===void 0?null:_,_!==null&&(c.callback=_),a=Io(e,c,i),a!==null&&(Qi(a,e,i),wu(a,e,i))}function ry(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function xm(e,i){ry(e,i),(e=e.alternate)&&ry(e,i)}function oy(e){if(e.tag===13){var i=So(e,67108864);i!==null&&Qi(i,e,67108864),xm(e,67108864)}}var Uh=!0;function sE(e,i,a,c){var p=O.T;O.T=null;var _=j.p;try{j.p=2,Am(e,i,a,c)}finally{j.p=_,O.T=p}}function rE(e,i,a,c){var p=O.T;O.T=null;var _=j.p;try{j.p=8,Am(e,i,a,c)}finally{j.p=_,O.T=p}}function Am(e,i,a,c){if(Uh){var p=Cm(c);if(p===null)dm(e,i,c,zh,a),ly(e,c);else if(aE(p,e,i,a,c))c.stopPropagation();else if(ly(e,c),i&4&&-1<oE.indexOf(e)){for(;p!==null;){var _=Di(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=nn(_.pendingLanes);if(R!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;R;){var Y=1<<31-Pe(R);H.entanglements[1]|=Y,R&=~Y}ar(_),(Ne&6)===0&&(bh=Zt()+500,Uu(0))}}break;case 13:H=So(_,2),H!==null&&Qi(H,_,2),Th(),xm(_,2)}if(_=Cm(c),_===null&&dm(e,i,c,zh,a),_===p)break;p=_}p!==null&&c.stopPropagation()}else dm(e,i,c,null,a)}}function Cm(e){return e=Gn(e),Nm(e)}var zh=null;function Nm(e){if(zh=null,e=ts(e),e!==null){var i=h(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return zh=e,null}function ay(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case Ve:return 2;case qe:return 8;case _e:case dn:return 32;case Se:return 268435456;default:return 32}default:return 32}}var Rm=!1,Vo=null,qo=null,Go=null,Gu=new Map,Zu=new Map,Zo=[],oE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(e,i){switch(e){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":Gu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(i.pointerId)}}function Wu(e,i,a,c,p,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:_,targetContainers:[p]},i!==null&&(i=Di(i),i!==null&&oy(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function aE(e,i,a,c,p){switch(i){case"focusin":return Vo=Wu(Vo,e,i,a,c,p),!0;case"dragenter":return qo=Wu(qo,e,i,a,c,p),!0;case"mouseover":return Go=Wu(Go,e,i,a,c,p),!0;case"pointerover":var _=p.pointerId;return Gu.set(_,Wu(Gu.get(_)||null,e,i,a,c,p)),!0;case"gotpointercapture":return _=p.pointerId,Zu.set(_,Wu(Zu.get(_)||null,e,i,a,c,p)),!0}return!1}function uy(e){var i=ts(e.target);if(i!==null){var a=h(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){e.blockedOn=i,io(e.priority,function(){if(a.tag===13){var c=Xi();c=$i(c);var p=So(a,c);p!==null&&Qi(p,a,c),xm(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Cm(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);Bi=c,a.target.dispatchEvent(c),Bi=null}else return i=Di(a),i!==null&&oy(i),e.blockedOn=a,!1;i.shift()}return!0}function cy(e,i,a){Bh(e)&&a.delete(i)}function lE(){Rm=!1,Vo!==null&&Bh(Vo)&&(Vo=null),qo!==null&&Bh(qo)&&(qo=null),Go!==null&&Bh(Go)&&(Go=null),Gu.forEach(cy),Zu.forEach(cy)}function jh(e,i){e.blockedOn===i&&(e.blockedOn=null,Rm||(Rm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lE)))}var Hh=null;function hy(e){Hh!==e&&(Hh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hh===e&&(Hh=null);for(var i=0;i<e.length;i+=3){var a=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if(Nm(c||a)===null)continue;break}var _=Di(a);_!==null&&(e.splice(i,3),i-=3,Nd(_,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function Yu(e){function i(Y){return jh(Y,e)}Vo!==null&&jh(Vo,e),qo!==null&&jh(qo,e),Go!==null&&jh(Go,e),Gu.forEach(i),Zu.forEach(i);for(var a=0;a<Zo.length;a++){var c=Zo[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Zo.length&&(a=Zo[0],a.blockedOn===null);)uy(a),a.blockedOn===null&&Zo.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],_=a[c+1],R=p[sn]||null;if(typeof _=="function")R||hy(a);else if(R){var H=null;if(_&&_.hasAttribute("formAction")){if(p=_,R=_[sn]||null)H=R.formAction;else if(Nm(p)!==null)continue}else H=R.action;typeof H=="function"?a[c+1]=H:(a.splice(c,3),c-=3),hy(a)}}}function Im(e){this._internalRoot=e}Fh.prototype.render=Im.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,c=Xi();sy(a,c,e,i,null,null)},Fh.prototype.unmount=Im.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;sy(e.current,2,null,e,null,null),Th(),i[Ei]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Mn();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Zo.length&&i!==0&&i<Zo[a].priority;a++);Zo.splice(a,0,e),a===0&&uy(e)}};var fy=t.version;if(fy!=="19.1.1")throw Error(o(527,fy,"19.1.1"));j.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var uE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{ae=Vh.inject(uE),te=Vh}catch{}}return Xu.createRoot=function(e,i){if(!l(e))throw Error(o(299));var a=!1,c="",p=N_,_=R_,R=I_,H=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(H=i.unstable_transitionCallbacks)),i=ny(e,1,!1,null,null,a,c,p,_,R,H,null),e[Ei]=i.current,fm(e),new Im(i)},Xu.hydrateRoot=function(e,i,a){if(!l(e))throw Error(o(299));var c=!1,p="",_=N_,R=R_,H=I_,Y=null,mt=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(R=a.onCaughtError),a.onRecoverableError!==void 0&&(H=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(Y=a.unstable_transitionCallbacks),a.formState!==void 0&&(mt=a.formState)),i=ny(e,1,!0,i,a??null,c,p,_,R,H,Y,mt),i.context=iy(null),a=i.current,c=Xi(),c=$i(c),p=Ro(c),p.callback=null,Io(a,p,c),a=c,i.current.lanes=a,an(i,a),ar(i),e[Ei]=i.current,fm(e),new Fh(i)},Xu.version="19.1.1",Xu}var Ey;function vE(){if(Ey)return Lm.exports;Ey=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Lm.exports=_E(),Lm.exports}var yE=vE();const wE=()=>{};var Ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At=function(s,t){if(!s)throw eu(t)},eu=function(s){return new Error("Firebase Database ("+o1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=function(s){const t=[];let n=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++o)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},bE=function(s){const t=[];let n=0,o=0;for(;n<s.length;){const l=s[n++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[n++];t[o++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[n++],m=s[n++],g=s[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(y>>10)),t[o++]=String.fromCharCode(56320+(y&1023))}else{const h=s[n++],m=s[n++];t[o++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},Sp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<s.length;l+=3){const h=s[l],m=l+1<s.length,g=m?s[l+1]:0,y=l+2<s.length,E=y?s[l+2]:0,w=h>>2,S=(h&3)<<4|g>>4;let T=(g&15)<<2|E>>6,I=E&63;y||(I=64,m||(T=64)),o.push(n[w],n[S],n[T],n[I])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(a1(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):bE(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<s.length;){const h=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const E=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,h==null||g==null||E==null||S==null)throw new EE;const T=h<<2|g>>4;if(o.push(T),E!==64){const I=g<<4&240|E>>2;if(o.push(I),S!==64){const F=E<<6&192|S;o.push(F)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class EE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l1=function(s){const t=a1(s);return Sp.encodeByteArray(t,!0)},sf=function(s){return l1(s).replace(/\./g,"")},rf=function(s){try{return Sp.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(s){return u1(void 0,s)}function u1(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!SE(n)||(s[n]=u1(s[n],t[n]));return s}function SE(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=()=>xE().__FIREBASE_DEFAULTS__,CE=()=>{if(typeof process>"u"||typeof Ty>"u")return;const s=Ty.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},NE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&rf(s[1]);return t&&JSON.parse(t)},xp=()=>{try{return wE()||AE()||CE()||NE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},c1=s=>xp()?.emulatorHosts?.[s],Ap=s=>{const t=c1(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),o]:[t.substring(0,n),o]},h1=()=>xp()?.config,f1=s=>xp()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Df(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sf(JSON.stringify(n)),sf(JSON.stringify(m)),""].join(".")}const sc={};function RE(){const s={prod:[],emulator:[]};for(const t of Object.keys(sc))sc[t]?s.emulator.push(t):s.prod.push(t);return s}function IE(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let Sy=!1;function Pf(s,t){if(typeof window>"u"||typeof document>"u"||!la(window.location.host)||sc[s]===t||sc[s]||Sy)return;sc[s]=t;function n(T){return`__firebase__banner__${T}`}const o="__firebase__banner",h=RE().prod.length>0;function m(){const T=document.getElementById(o);T&&T.remove()}function g(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function y(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function E(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Sy=!0,m()},T}function w(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=IE(o),I=n("text"),F=document.getElementById(I)||document.createElement("span"),G=n("learnmore"),X=document.getElementById(G)||document.createElement("a"),K=n("preprendIcon"),gt=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const it=T.element;g(it),w(X,G);const J=E();y(gt,K),it.append(gt,F,X,J),document.body.appendChild(it)}h?(F.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Np(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wi())}function ME(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function d1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LE(){const s=wi();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function kE(){return o1.NODE_ADMIN===!0}function DE(){try{return typeof indexedDB=="object"}catch{return!1}}function PE(){return new Promise((s,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(o),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="FirebaseError";class gr extends Error{constructor(t,n,o){super(n),this.code=t,this.customData=o,this.name=UE,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(t,n,o){this.service=t,this.serviceName=n,this.errors=o}create(t,...n){const o=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?zE(h,o):"Error",g=`${this.serviceName}: ${m} (${l}).`;return new gr(l,g,o)}}function zE(s,t){return s.replace(BE,(n,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const BE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(s){return JSON.parse(s)}function Cn(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=function(s){let t={},n={},o={},l="";try{const h=s.split(".");t=mc(rf(h[0])||""),n=mc(rf(h[1])||""),l=h[2],o=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:o,signature:l}},jE=function(s){const t=m1(s),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},HE=function(s){const t=m1(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function Kl(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function np(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function of(s,t,n){const o={};for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=t.call(n,s[l],l,s));return o}function na(s,t){if(s===t)return!0;const n=Object.keys(s),o=Object.keys(t);for(const l of n){if(!o.includes(l))return!1;const h=s[l],m=t[l];if(xy(h)&&xy(m)){if(!na(h,m))return!1}else if(h!==m)return!1}for(const l of o)if(!n.includes(l))return!1;return!0}function xy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(s){const t=[];for(const[n,o]of Object.entries(s))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function ec(s){const t={};return s.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[l,h]=o.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function nc(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const o=this.W_;if(typeof t=="string")for(let S=0;S<16;S++)o[S]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let S=0;S<16;S++)o[S]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let S=16;S<80;S++){const T=o[S-3]^o[S-8]^o[S-14]^o[S-16];o[S]=(T<<1|T>>>31)&4294967295}let l=this.chain_[0],h=this.chain_[1],m=this.chain_[2],g=this.chain_[3],y=this.chain_[4],E,w;for(let S=0;S<80;S++){S<40?S<20?(E=g^h&(m^g),w=1518500249):(E=h^m^g,w=1859775393):S<60?(E=h&m|g&(h|m),w=2400959708):(E=h^m^g,w=3395469782);const T=(l<<5|l>>>27)+E+y+w+o[S]&4294967295;y=g,g=m,m=(h<<30|h>>>2)&4294967295,h=l,l=T}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const o=n-this.blockSize;let l=0;const h=this.buf_;let m=this.inbuf_;for(;l<n;){if(m===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(h[m]=t.charCodeAt(l),++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}else for(;l<n;)if(h[m]=t[l],++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}this.inbuf_=m,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let h=24;h>=0;h-=8)t[o]=this.chain_[l]>>h&255,++o;return t}}function VE(s,t){const n=new qE(s,t);return n.subscribe.bind(n)}class qE{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,o){let l;if(t===void 0&&n===void 0&&o===void 0)throw new Error("Missing Observer.");GE(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:o},l.next===void 0&&(l.next=Um),l.error===void 0&&(l.error=Um),l.complete===void 0&&(l.complete=Um);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GE(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Um(){}function Rp(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=function(s){const t=[];let n=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);if(l>=55296&&l<=56319){const h=l-55296;o++,At(o<s.length,"Surrogate pair missing trail surrogate.");const m=s.charCodeAt(o)-56320;l=65536+(h<<10)+m}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},Uf=function(s){let t=0;for(let n=0;n<s.length;n++){const o=s.charCodeAt(n);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(t,n,o){this.name=t,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const o=new kf;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),o=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KE(t))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});o.resolve(h)}catch{}}}}clearInstance(t=za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=za){return this.instances.has(t)}getOptions(t=za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[h,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);o===g&&m.resolve(l)}return l}onInit(t,n){const o=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(o)??new Set;l.add(t),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&t(h,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const o=this.onInitCallbacks.get(n);if(o)for(const l of o)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:YE(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=za){return this.component?this.component.multipleInstances?t:za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YE(s){return s===za?void 0:s}function KE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new WE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Te||(Te={}));const QE={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},JE=Te.INFO,$E={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},tT=(s,t,...n)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),l=$E[t];if(l)console[l](`[${o}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zf{constructor(t){this.name=t,this._logLevel=JE,this._logHandler=tT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const eT=(s,t)=>t.some(n=>s instanceof n);let Ay,Cy;function nT(){return Ay||(Ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iT(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,ip=new WeakMap,g1=new WeakMap,zm=new WeakMap,Ip=new WeakMap;function sT(s){const t=new Promise((n,o)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{n(Jo(s.result)),l()},m=()=>{o(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",m)});return t.then(n=>{n instanceof IDBCursor&&p1.set(n,s)}).catch(()=>{}),Ip.set(t,s),t}function rT(s){if(ip.has(s))return;const t=new Promise((n,o)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{o(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});ip.set(s,t)}let sp={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return ip.get(s);if(t==="objectStoreNames")return s.objectStoreNames||g1.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function oT(s){sp=s(sp)}function aT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=s.call(Bm(this),t,...n);return g1.set(o,t.sort?t.sort():[t]),Jo(o)}:iT().includes(s)?function(...t){return s.apply(Bm(this),t),Jo(p1.get(this))}:function(...t){return Jo(s.apply(Bm(this),t))}}function lT(s){return typeof s=="function"?aT(s):(s instanceof IDBTransaction&&rT(s),eT(s,nT())?new Proxy(s,sp):s)}function Jo(s){if(s instanceof IDBRequest)return sT(s);if(zm.has(s))return zm.get(s);const t=lT(s);return t!==s&&(zm.set(s,t),Ip.set(t,s)),t}const Bm=s=>Ip.get(s);function uT(s,t,{blocked:n,upgrade:o,blocking:l,terminated:h}={}){const m=indexedDB.open(s,t),g=Jo(m);return o&&m.addEventListener("upgradeneeded",y=>{o(Jo(m.result),y.oldVersion,y.newVersion,Jo(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const cT=["get","getKey","getAll","getAllKeys","count"],hT=["put","add","delete","clear"],jm=new Map;function Ny(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(jm.get(t))return jm.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,l=hT.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(l||cT.includes(n)))return;const h=async function(m,...g){const y=this.transaction(m,l?"readwrite":"readonly");let E=y.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[n](...g),l&&y.done]))[0]};return jm.set(t,h),h}oT(s=>({...s,get:(t,n,o)=>Ny(t,n)||s.get(t,n,o),has:(t,n)=>!!Ny(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dT(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function dT(s){return s.getComponent()?.type==="VERSION"}const rp="@firebase/app",Ry="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new zf("@firebase/app"),mT="@firebase/app-compat",pT="@firebase/analytics-compat",gT="@firebase/analytics",_T="@firebase/app-check-compat",vT="@firebase/app-check",yT="@firebase/auth",wT="@firebase/auth-compat",bT="@firebase/database",ET="@firebase/data-connect",TT="@firebase/database-compat",ST="@firebase/functions",xT="@firebase/functions-compat",AT="@firebase/installations",CT="@firebase/installations-compat",NT="@firebase/messaging",RT="@firebase/messaging-compat",IT="@firebase/performance",MT="@firebase/performance-compat",OT="@firebase/remote-config",LT="@firebase/remote-config-compat",kT="@firebase/storage",DT="@firebase/storage-compat",PT="@firebase/firestore",UT="@firebase/ai",zT="@firebase/firestore-compat",BT="firebase",jT="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",HT={[rp]:"fire-core",[mT]:"fire-core-compat",[gT]:"fire-analytics",[pT]:"fire-analytics-compat",[vT]:"fire-app-check",[_T]:"fire-app-check-compat",[yT]:"fire-auth",[wT]:"fire-auth-compat",[bT]:"fire-rtdb",[ET]:"fire-data-connect",[TT]:"fire-rtdb-compat",[ST]:"fire-fn",[xT]:"fire-fn-compat",[AT]:"fire-iid",[CT]:"fire-iid-compat",[NT]:"fire-fcm",[RT]:"fire-fcm-compat",[IT]:"fire-perf",[MT]:"fire-perf-compat",[OT]:"fire-rc",[LT]:"fire-rc-compat",[kT]:"fire-gcs",[DT]:"fire-gcs-compat",[PT]:"fire-fst",[zT]:"fire-fst-compat",[UT]:"fire-vertex","fire-js":"fire-js",[BT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,FT=new Map,ap=new Map;function Iy(s,t){try{s.container.addComponent(t)}catch(n){Yr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function ia(s){const t=s.name;if(ap.has(t))return Yr.debug(`There were multiple attempts to register component ${t}.`),!1;ap.set(t,s);for(const n of af.values())Iy(n,s);for(const n of FT.values())Iy(n,s);return!0}function Rc(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function vi(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new Nc("app","Firebase",VT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,n,o){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=jT;function _1(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const o={name:op,automaticDataCollectionEnabled:!0,...t},l=o.name;if(typeof l!="string"||!l)throw $o.create("bad-app-name",{appName:String(l)});if(n||(n=h1()),!n)throw $o.create("no-options");const h=af.get(l);if(h){if(na(n,h.options)&&na(o,h.config))return h;throw $o.create("duplicate-app",{appName:l})}const m=new XE(l);for(const y of ap.values())m.addComponent(y);const g=new qT(n,o,m);return af.set(l,g),g}function Bf(s=op){const t=af.get(s);if(!t&&s===op&&h1())return _1();if(!t)throw $o.create("no-app",{appName:s});return t}function ps(s,t,n){let o=HT[s]??s;n&&(o+=`-${n}`);const l=o.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${t}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yr.warn(m.join(" "));return}ia(new Wr(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebase-heartbeat-database",ZT=1,pc="firebase-heartbeat-store";let Hm=null;function v1(){return Hm||(Hm=uT(GT,ZT,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(s=>{throw $o.create("idb-open",{originalErrorMessage:s.message})})),Hm}async function WT(s){try{const n=(await v1()).transaction(pc),o=await n.objectStore(pc).get(y1(s));return await n.done,o}catch(t){if(t instanceof gr)Yr.warn(t.message);else{const n=$o.create("idb-get",{originalErrorMessage:t?.message});Yr.warn(n.message)}}}async function My(s,t){try{const o=(await v1()).transaction(pc,"readwrite");await o.objectStore(pc).put(t,y1(s)),await o.done}catch(n){if(n instanceof gr)Yr.warn(n.message);else{const o=$o.create("idb-set",{originalErrorMessage:n?.message});Yr.warn(o.message)}}}function y1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=1024,KT=30;class XT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JT(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Oy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats.length>KT){const l=$T(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Yr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Oy(),{heartbeatsToSend:n,unsentEntries:o}=QT(this._heartbeatsCache.heartbeats),l=sf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Yr.warn(t),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function QT(s,t=YT){const n=[];let o=s.slice();for(const l of s){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),Ly(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Ly(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class JT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DE()?PE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WT(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return My(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return My(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Ly(s){return sf(JSON.stringify({version:2,heartbeats:s})).length}function $T(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let o=1;o<s.length;o++)s[o].date<n&&(n=s[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(s){ia(new Wr("platform-logger",t=>new fT(t),"PRIVATE")),ia(new Wr("heartbeat",t=>new XT(t),"PRIVATE")),ps(rp,Ry,s),ps(rp,Ry,"esm2020"),ps("fire-js","")}tS("");function w1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eS=w1,b1=new Nc("auth","Firebase",w1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new zf("@firebase/auth");function nS(s,...t){lf.logLevel<=Te.WARN&&lf.warn(`Auth (${ua}): ${s}`,...t)}function Xh(s,...t){lf.logLevel<=Te.ERROR&&lf.error(`Auth (${ua}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(s,...t){throw Op(s,...t)}function Hs(s,...t){return Op(s,...t)}function Mp(s,t,n){const o={...eS(),[t]:n};return new Nc("auth","Firebase",o).create(t,{appName:s.name})}function Gr(s){return Mp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iS(s,t,n){const o=n;if(!(t instanceof o))throw o.name!==t.constructor.name&&gs(s,"argument-error"),Mp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Op(s,...t){if(typeof s!="string"){const n=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=s.name),s._errorFactory.create(n,...o)}return b1.create(s,...t)}function jt(s,t,...n){if(!s)throw Op(t,...n)}function Fr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Xh(t),new Error(t)}function Kr(s,t){s||Fr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){return typeof self<"u"&&self.location?.href||""}function sS(){return ky()==="http:"||ky()==="https:"}function ky(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sS()||OE()||"connection"in navigator)?navigator.onLine:!0}function oS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,n){this.shortDelay=t,this.longDelay=n,Kr(n>t,"Short delay should be less than long delay!"),this.isMobile=Np()||d1()}get(){return rS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(s,t){Kr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static initialize(t,n,o){this.fetchImpl=t,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uS=new Ic(3e4,6e4);function $r(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function to(s,t,n,o,l={}){return T1(s,l,async()=>{let h={},m={};o&&(t==="GET"?m=o:h={body:JSON.stringify(o)});const g=nu({key:s.config.apiKey,...m}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const E={method:t,headers:y,...h};return ME()||(E.referrerPolicy="no-referrer"),s.emulatorConfig&&la(s.emulatorConfig.host)&&(E.credentials="include"),E1.fetch()(await S1(s,s.config.apiHost,n,g),E)})}async function T1(s,t,n){s._canInitEmulator=!1;const o={...aS,...t};try{const l=new hS(s),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw qh(s,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const g=h.ok?m.errorMessage:m.error.message,[y,E]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(s,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw qh(s,"email-already-in-use",m);if(y==="USER_DISABLED")throw qh(s,"user-disabled",m);const w=o[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Mp(s,w,E);gs(s,w)}}catch(l){if(l instanceof gr)throw l;gs(s,"network-request-failed",{message:String(l)})}}async function Mc(s,t,n,o,l={}){const h=await to(s,t,n,o,l);return"mfaPendingCredential"in h&&gs(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function S1(s,t,n,o){const l=`${t}${n}?${o}`,h=s,m=h.config.emulator?Lp(s.config,l):`${s.config.apiScheme}://${l}`;return lS.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}function cS(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(Hs(this.auth,"network-request-failed")),uS.get())})}}function qh(s,t,n){const o={appName:s.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const l=Hs(s,t,o);return l.customData._tokenResponse=n,l}function Dy(s){return s!==void 0&&s.enterprise!==void 0}class fS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return cS(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dS(s,t){return to(s,"GET","/v2/recaptchaConfig",$r(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(s,t){return to(s,"POST","/v1/accounts:delete",t)}async function uf(s,t){return to(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pS(s,t=!1){const n=Xn(s),o=await n.getIdToken(t),l=kp(o);jt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h?.sign_in_provider;return{claims:l,token:o,authTime:rc(Fm(l.auth_time)),issuedAtTime:rc(Fm(l.iat)),expirationTime:rc(Fm(l.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Fm(s){return Number(s)*1e3}function kp(s){const[t,n,o]=s.split(".");if(t===void 0||n===void 0||o===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const l=rf(n);return l?JSON.parse(l):(Xh("Failed to decode base64 JWT payload"),null)}catch(l){return Xh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Py(s){const t=kp(s);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(s,t,n=!1){if(n)return t;try{return await t}catch(o){throw o instanceof gr&&gS(o)&&s.auth.currentUser===s&&await s.auth.signOut(),o}}function gS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(s){const t=s.auth,n=await s.getIdToken(),o=await gc(s,uf(t,{idToken:n}));jt(o?.users.length,t,"internal-error");const l=o.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?x1(l.providerUserInfo):[],m=yS(s.providerData,h),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!m?.length,E=g?y:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new up(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(s,w)}async function vS(s){const t=Xn(s);await cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yS(s,t){return[...s.filter(o=>!t.some(l=>l.providerId===o.providerId)),...t]}function x1(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(s,t){const n=await T1(s,{},async()=>{const o=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,m=await S1(s,l,"/v1/token",`key=${h}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:o};return s.emulatorConfig&&la(s.emulatorConfig.host)&&(y.credentials="include"),E1.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bS(s,t){return to(s,"POST","/v2/accounts:revokeToken",$r(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Py(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const n=Py(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:o,refreshToken:l,expiresIn:h}=await wS(t,n);this.updateTokensAndExpiration(o,l,Number(h))}updateTokensAndExpiration(t,n,o){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,n){const{refreshToken:o,accessToken:l,expirationTime:h}=n,m=new Fl;return o&&(jt(typeof o=="string","internal-error",{appName:t}),m.refreshToken=o),l&&(jt(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(jt(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(s,t){jt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ps{constructor({uid:t,auth:n,stsTokenManager:o,...l}){this.providerId="firebase",this.proactiveRefresh=new _S(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new up(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await gc(this,this.stsTokenManager.getToken(this.auth,t));return jt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pS(this,t)}reload(){return vS(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ps({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(Gr(this.auth));const t=await this.getIdToken();return await gc(this,mS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const o=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,m=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,E=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:S,emailVerified:T,isAnonymous:I,providerData:F,stsTokenManager:G}=n;jt(S&&G,t,"internal-error");const X=Fl.fromJSON(this.name,G);jt(typeof S=="string",t,"internal-error"),Yo(o,t.name),Yo(l,t.name),jt(typeof T=="boolean",t,"internal-error"),jt(typeof I=="boolean",t,"internal-error"),Yo(h,t.name),Yo(m,t.name),Yo(g,t.name),Yo(y,t.name),Yo(E,t.name),Yo(w,t.name);const K=new Ps({uid:S,auth:t,email:l,emailVerified:T,displayName:o,isAnonymous:I,photoURL:m,phoneNumber:h,tenantId:g,stsTokenManager:X,createdAt:E,lastLoginAt:w});return F&&Array.isArray(F)&&(K.providerData=F.map(gt=>({...gt}))),y&&(K._redirectEventId=y),K}static async _fromIdTokenResponse(t,n,o=!1){const l=new Fl;l.updateFromServerResponse(n);const h=new Ps({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:o});return await cf(h),h}static async _fromGetAccountInfoResponse(t,n,o){const l=n.users[0];jt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?x1(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!h?.length,g=new Fl;g.updateFromIdToken(o);const y=new Ps({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:m}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new up(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,E),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;function Vr(s){Kr(s instanceof Function,"Expected a class definition");let t=Uy.get(s);return t?(Kr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Uy.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}A1.type="NONE";const zy=A1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(s,t,n){return`firebase:${s}:${t}:${n}`}class Vl{constructor(t,n,o){this.persistence=t,this.auth=n,this.userKey=o;const{config:l,name:h}=this.auth;this.fullUserKey=Qh(this.userKey,l.apiKey,h),this.fullPersistenceKey=Qh("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await uf(this.auth,{idToken:t}).catch(()=>{});return n?Ps._fromGetAccountInfoResponse(this.auth,n,t):null}return Ps._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,o="authUser"){if(!n.length)return new Vl(Vr(zy),t,o);const l=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=l[0]||Vr(zy);const m=Qh(o,t.config.apiKey,t.name);let g=null;for(const E of n)try{const w=await E._get(m);if(w){let S;if(typeof w=="string"){const T=await uf(t,{idToken:w}).catch(()=>{});if(!T)break;S=await Ps._fromGetAccountInfoResponse(t,T,w)}else S=Ps._fromJSON(t,w);E!==h&&(g=S),h=E;break}}catch{}const y=l.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Vl(h,t,o):(h=y[0],g&&await h._set(m,g.toJSON()),await Promise.all(n.map(async E=>{if(E!==h)try{await E._remove(m)}catch{}})),new Vl(h,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(I1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(C1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(O1(t))return"Blackberry";if(L1(t))return"Webos";if(N1(t))return"Safari";if((t.includes("chrome/")||R1(t))&&!t.includes("edge/"))return"Chrome";if(M1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=s.match(n);if(o?.length===2)return o[1]}return"Other"}function C1(s=wi()){return/firefox\//i.test(s)}function N1(s=wi()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function R1(s=wi()){return/crios\//i.test(s)}function I1(s=wi()){return/iemobile/i.test(s)}function M1(s=wi()){return/android/i.test(s)}function O1(s=wi()){return/blackberry/i.test(s)}function L1(s=wi()){return/webos/i.test(s)}function Dp(s=wi()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ES(s=wi()){return Dp(s)&&!!window.navigator?.standalone}function TS(){return LE()&&document.documentMode===10}function k1(s=wi()){return Dp(s)||M1(s)||L1(s)||O1(s)||/windows phone/i.test(s)||I1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(s,t=[]){let n;switch(s){case"Browser":n=By(wi());break;case"Worker":n=`${By(wi())}-${s}`;break;default:n=s}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const o=h=>new Promise((m,g)=>{try{const y=t(h);m(y)}catch(y){g(y)}});o.onAbort=n,this.queue.push(o);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const o of this.queue)await o(t),o.onAbort&&n.push(o.onAbort)}catch(o){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(s,t={}){return to(s,"GET","/v2/passwordPolicy",$r(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=6;class CS{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const o=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=t.length>=o),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let o;for(let l=0;l<t.length;l++)o=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(t,n,o,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,n,o,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jy(this),this.idTokenSubscription=new jy(this),this.beforeStateQueue=new SS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await uf(this,{idToken:t}),o=await Ps._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(o)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(vi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===m)&&g?.user&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await cf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vi(this.app))return Promise.reject(Gr(this));const n=t?Xn(t):null;return n&&jt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vi(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xS(this),n=new CS(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nc("auth","Firebase",t())}onAuthStateChanged(t,n,o){return this.registerStateListener(this.authStateSubscription,t,n,o)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,o){return this.registerStateListener(this.idTokenSubscription,t,n,o)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const o=this.onAuthStateChanged(()=>{o(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(o.tenantId=this.tenantId),await bS(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const o=await this.getOrInitRedirectPersistenceManager(n);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Vr(t)||this._popupRedirectResolver;jt(n,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,o,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(g,this,"internal-error"),g.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,o,l);return()=>{m=!0,y()}}else{const y=t.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=D1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&nS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function eo(s){return Xn(s)}class jy{constructor(t){this.auth=t,this.observer=null,this.addObserver=VE(n=>this.observer=n)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RS(s){jf=s}function P1(s){return jf.loadJS(s)}function IS(){return jf.recaptchaEnterpriseScript}function MS(){return jf.gapiScript}function OS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class LS{constructor(){this.enterprise=new kS}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class kS{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const DS="recaptcha-enterprise",U1="NO_RECAPTCHA";class PS{constructor(t){this.type=DS,this.auth=eo(t)}async verify(t="verify",n=!1){async function o(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(m,g)=>{dS(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const E=new fS(y);return h.tenantId==null?h._agentRecaptchaConfig=E:h._tenantRecaptchaConfigs[h.tenantId]=E,m(E.siteKey)}}).catch(y=>{g(y)})})}function l(h,m,g){const y=window.grecaptcha;Dy(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:t}).then(E=>{m(E)}).catch(()=>{m(U1)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LS().execute("siteKey",{action:"verify"}):new Promise((h,m)=>{o(this.auth).then(g=>{if(!n&&Dy(window.grecaptcha))l(g,h,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}let y=IS();y.length!==0&&(y+=g),P1(y).then(()=>{l(g,h,m)}).catch(E=>{m(E)})}}).catch(g=>{m(g)})})}}async function Hy(s,t,n,o=!1,l=!1){const h=new PS(s);let m;if(l)m=U1;else try{m=await h.verify(n)}catch{m=await h.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,E=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:E,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return o?Object.assign(g,{captchaResp:m}):Object.assign(g,{captchaResponse:m}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function hf(s,t,n,o,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Hy(s,t,n,n==="getOobCode");return o(s,h)}else return o(s,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Hy(s,t,n,n==="getOobCode");return o(s,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(s,t){const n=Rc(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(na(h,t??{}))return l;gs(l,"already-initialized")}return n.initialize({options:t})}function zS(s,t){const n=t?.persistence||[],o=(Array.isArray(n)?n:[n]).map(Vr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(o,t?.popupRedirectResolver)}function BS(s,t,n){const o=eo(s);jt(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const l=!1,h=z1(t),{host:m,port:g}=jS(t),y=g===null?"":`:${g}`,E={url:`${h}//${m}${y}/`},w=Object.freeze({host:m,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!o._canInitEmulator){jt(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),jt(na(E,o.config.emulator)&&na(w,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=E,o.emulatorConfig=w,o.settings.appVerificationDisabledForTesting=!0,la(m)?(Df(`${h}//${m}${y}`),Pf("Auth",!0)):HS()}function z1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function jS(s){const t=z1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const o=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(o);if(l){const h=l[1];return{host:h,port:Fy(o.substr(h.length+1))}}else{const[h,m]=o.split(":");return{host:h,port:Fy(m)}}}function Fy(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function HS(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(t){return Fr("not implemented")}_linkToIdToken(t,n){return Fr("not implemented")}_getReauthenticationResolver(t){return Fr("not implemented")}}async function FS(s,t){return to(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(s,t){return Mc(s,"POST","/v1/accounts:signInWithPassword",$r(s,t))}async function qS(s,t){return to(s,"POST","/v1/accounts:sendOobCode",$r(s,t))}async function GS(s,t){return qS(s,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(s,t){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",$r(s,t))}async function WS(s,t){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",$r(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends Pp{constructor(t,n,o,l=null){super("password",o),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new _c(t,n,"password")}static _fromEmailAndCode(t,n,o=null){return new _c(t,n,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hf(t,n,"signInWithPassword",VS);case"emailLink":return ZS(t,{email:this._email,oobCode:this._password});default:gs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const o={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hf(t,o,"signUpPassword",FS);case"emailLink":return WS(t,{idToken:n,email:this._email,oobCode:this._password});default:gs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(s,t){return Mc(s,"POST","/v1/accounts:signInWithIdp",$r(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="http://localhost";class Ka extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ka(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:l,...h}=n;if(!o||!l)return null;const m=new Ka(o,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const n=this.buildRequest();return ql(t,n)}_linkToIdToken(t,n){const o=this.buildRequest();return o.idToken=n,ql(t,o)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ql(t,n)}buildRequest(){const t={requestUri:YS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XS(s){const t=ec(nc(s)).link,n=t?ec(nc(t)).deep_link_id:null,o=ec(nc(s)).deep_link_id;return(o?ec(nc(o)).link:null)||o||n||t||s}class Up{constructor(t){const n=ec(nc(t)),o=n.apiKey??null,l=n.oobCode??null,h=KS(n.mode??null);jt(o&&l&&h,"argument-error"),this.apiKey=o,this.operation=h,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=XS(t);try{return new Up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.providerId=iu.PROVIDER_ID}static credential(t,n){return _c._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const o=Up.parseLink(n);return jt(o,"argument-error"),_c._fromEmailAndCode(t,o.code,o.tenantId)}}iu.PROVIDER_ID="password";iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Oc{constructor(){super("facebook.com")}static credential(t){return Ka._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ko.credentialFromTaggedObject(t)}static credentialFromError(t){return Ko.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ko.credential(t.oauthAccessToken)}catch{return null}}}Ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ka._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:o}=t;if(!n&&!o)return null;try{return hr.credential(n,o)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Oc{constructor(){super("github.com")}static credential(t){return Ka._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xo.credentialFromTaggedObject(t)}static credentialFromError(t){return Xo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xo.credential(t.oauthAccessToken)}catch{return null}}}Xo.GITHUB_SIGN_IN_METHOD="github.com";Xo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Oc{constructor(){super("twitter.com")}static credential(t,n){return Ka._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qo.credentialFromTaggedObject(t)}static credentialFromError(t){return Qo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=t;if(!n||!o)return null;try{return Qo.credential(n,o)}catch{return null}}}Qo.TWITTER_SIGN_IN_METHOD="twitter.com";Qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(s,t){return Mc(s,"POST","/v1/accounts:signUp",$r(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,o,l=!1){const h=await Ps._fromIdTokenResponse(t,o,l),m=Vy(o);return new Xa({user:h,providerId:m,_tokenResponse:o,operationType:n})}static async _forOperation(t,n,o){await t._updateTokensIfNecessary(o,!0);const l=Vy(o);return new Xa({user:t,providerId:l,_tokenResponse:o,operationType:n})}}function Vy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends gr{constructor(t,n,o,l){super(n.code,n.message),this.operationType=o,this.user=l,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,n,o,l){return new ff(t,n,o,l)}}function B1(s,t,n,o){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(s,h,t,o):h})}async function JS(s,t,n=!1){const o=await gc(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Xa._forOperation(s,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(s,t,n=!1){const{auth:o}=s;if(vi(o.app))return Promise.reject(Gr(o));const l="reauthenticate";try{const h=await gc(s,B1(o,l,t,s),n);jt(h.idToken,o,"internal-error");const m=kp(h.idToken);jt(m,o,"internal-error");const{sub:g}=m;return jt(s.uid===g,o,"user-mismatch"),Xa._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&gs(o,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(s,t,n=!1){if(vi(s.app))return Promise.reject(Gr(s));const o="signIn",l=await B1(s,o,t),h=await Xa._fromIdTokenResponse(s,o,l);return n||await s._updateCurrentUser(h.user),h}async function tx(s,t){return j1(eo(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(s){const t=eo(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ex(s,t,n){const o=eo(s);await hf(o,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",GS)}async function nx(s,t,n){if(vi(s.app))return Promise.reject(Gr(s));const o=eo(s),m=await hf(o,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QS).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&H1(s),y}),g=await Xa._fromIdTokenResponse(o,"signIn",m);return await o._updateCurrentUser(g.user),g}function ix(s,t,n){return vi(s.app)?Promise.reject(Gr(s)):tx(Xn(s),iu.credential(t,n)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&H1(s),o})}function sx(s,t,n,o){return Xn(s).onIdTokenChanged(t,n,o)}function rx(s,t,n){return Xn(s).beforeAuthStateChanged(t,n)}function ox(s,t,n,o){return Xn(s).onAuthStateChanged(t,n,o)}function Bp(s){return Xn(s).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=1e3,lx=10;class V1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const o=this.storage.getItem(n),l=this.localCache[n];o!==l&&t(n,l,o)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((m,g,y)=>{this.notifyListeners(m,y)});return}const o=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(o);!n&&this.localCache[o]===m||this.notifyListeners(o,m)},h=this.storage.getItem(o);TS()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,lx):l()}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:o}),!0)})},ax)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}V1.type="LOCAL";const ux=V1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}q1.type="SESSION";const G1=q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const o=new Hf(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:o,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!m?.size)return;n.ports[0].postMessage({status:"ack",eventId:o,eventType:l});const g=Array.from(m).map(async E=>E(n.origin,h)),y=await cx(g);n.ports[0].postMessage({status:"done",eventId:o,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(s="",t=10){let n="";for(let o=0;o<t;o++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,o=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((g,y)=>{const E=jp("",20);l.port1.start();const w=setTimeout(()=>{y(new Error("unsupported_event"))},o);m={messageChannel:l,onMessage(S){const T=S;if(T.data.eventId===E)switch(T.data.status){case"ack":clearTimeout(w),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(T.data.response);break;default:clearTimeout(w),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function fx(s){dr().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function dx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mx(){return navigator?.serviceWorker?.controller||null}function px(){return Z1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="firebaseLocalStorageDb",gx=1,mf="firebaseLocalStorage",Y1="fbase_key";class Lc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ff(s,t){return s.transaction([mf],t?"readwrite":"readonly").objectStore(mf)}function _x(){const s=indexedDB.deleteDatabase(W1);return new Lc(s).toPromise()}function cp(){const s=indexedDB.open(W1,gx);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const o=s.result;try{o.createObjectStore(mf,{keyPath:Y1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const o=s.result;o.objectStoreNames.contains(mf)?t(o):(o.close(),await _x(),t(await cp()))})})}async function qy(s,t,n){const o=Ff(s,!0).put({[Y1]:t,value:n});return new Lc(o).toPromise()}async function vx(s,t){const n=Ff(s,!1).get(t),o=await new Lc(n).toPromise();return o===void 0?null:o.value}function Gy(s,t){const n=Ff(s,!0).delete(t);return new Lc(n).toPromise()}const yx=800,wx=3;class K1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(n++>wx)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hf._getInstance(px()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dx(),!this.activeServiceWorker)return;this.sender=new hx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cp();return await qy(t,df,"1"),await Gy(t,df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(o=>qy(o,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(o=>vx(o,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Ff(l,!1).getAll();return new Lc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],o=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)o.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!o.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K1.type="LOCAL";const bx=K1;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(s,t){return t?Vr(t):(jt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends Pp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ql(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ql(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ql(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Ex(s){return j1(s.auth,new Hp(s),s.bypassAuthState)}function Tx(s){const{auth:t,user:n}=s;return jt(n,t,"internal-error"),$S(n,new Hp(s),s.bypassAuthState)}async function Sx(s){const{auth:t,user:n}=s;return jt(n,t,"internal-error"),JS(n,new Hp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,n,o,l,h=!1){this.auth=t,this.resolver=o,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:o,postBody:l,tenantId:h,error:m,type:g}=t;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:o,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ex;case"linkViaPopup":case"linkViaRedirect":return Sx;case"reauthViaPopup":case"reauthViaRedirect":return Tx;default:gs(this.auth,"internal-error")}}resolve(t){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new Ic(2e3,1e4);async function J1(s,t,n){if(vi(s.app))return Promise.reject(Hs(s,"operation-not-supported-in-this-environment"));const o=eo(s);iS(s,t,zp);const l=X1(o,n);return new Ha(o,"signInViaPopup",t,l).executeNotNull()}class Ha extends Q1{constructor(t,n,o,l,h){super(t,n,l,h),this.provider=o,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const t=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xx.get())};t()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="pendingRedirect",Jh=new Map;class Cx extends Q1{constructor(t,n,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,o),this.eventId=null}async execute(){let t=Jh.get(this.auth._key());if(!t){try{const o=await Nx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(n){t=()=>Promise.reject(n)}Jh.set(this.auth._key(),t)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nx(s,t){const n=Mx(t),o=Ix(s);if(!await o._isAvailable())return!1;const l=await o._get(n)==="true";return await o._remove(n),l}function Rx(s,t){Jh.set(s._key(),t)}function Ix(s){return Vr(s._redirectPersistence)}function Mx(s){return Qh(Ax,s.config.apiKey,s.name)}async function Ox(s,t,n=!1){if(vi(s.app))return Promise.reject(Gr(s));const o=eo(s),l=X1(o,t),m=await new Cx(o,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await o._persistUserIfCurrent(m.user),await o._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=600*1e3;class kx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(n=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Dx(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!$1(t)){const o=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Hs(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const o=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Lx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(t))}saveEventToCache(t){this.cachedEventUids.add(Zy(t)),this.lastProcessedEventTime=Date.now()}}function Zy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function $1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Dx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(s,t={}){return to(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zx=/^https?/;async function Bx(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Px(s);for(const n of t)try{if(jx(n))return}catch{}gs(s,"unauthorized-domain")}function jx(s){const t=lp(),{protocol:n,hostname:o}=new URL(t);if(s.startsWith("chrome-extension://")){const m=new URL(s);return m.hostname===""&&o===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===o}if(!zx.test(n))return!1;if(Ux.test(s))return o===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Ic(3e4,6e4);function Wy(){const s=dr().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Fx(s){return new Promise((t,n)=>{function o(){Wy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wy(),n(Hs(s,"network-request-failed"))},timeout:Hx.get()})}if(dr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(dr().gapi?.load)o();else{const l=OS("iframefcb");return dr()[l]=()=>{gapi.load?o():n(Hs(s,"network-request-failed"))},P1(`${MS()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw $h=null,t})}let $h=null;function Vx(s){return $h=$h||Fx(s),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=new Ic(5e3,15e3),Gx="__/auth/iframe",Zx="emulator/auth/iframe",Wx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kx(s){const t=s.config;jt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Lp(t,Zx):`https://${s.config.authDomain}/${Gx}`,o={apiKey:t.apiKey,appName:s.name,v:ua},l=Yx.get(s.config.apiHost);l&&(o.eid=l);const h=s._getFrameworks();return h.length&&(o.fw=h.join(",")),`${n}?${nu(o).slice(1)}`}async function Xx(s){const t=await Vx(s),n=dr().gapi;return jt(n,s,"internal-error"),t.open({where:document.body,url:Kx(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wx,dontclear:!0},o=>new Promise(async(l,h)=>{await o.restyle({setHideOnLeave:!1});const m=Hs(s,"network-request-failed"),g=dr().setTimeout(()=>{h(m)},qx.get());function y(){dr().clearTimeout(g),l(o)}o.ping(y).then(y,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jx=500,$x=600,tA="_blank",eA="http://localhost";class Yy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nA(s,t,n,o=Jx,l=$x){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-o)/2,0).toString();let g="";const y={...Qx,width:o.toString(),height:l.toString(),top:h,left:m},E=wi().toLowerCase();n&&(g=R1(E)?tA:n),C1(E)&&(t=t||eA,y.scrollbars="yes");const w=Object.entries(y).reduce((T,[I,F])=>`${T}${I}=${F},`,"");if(ES(E)&&g!=="_self")return iA(t||"",g),new Yy(null);const S=window.open(t||"",g,w);jt(S,s,"popup-blocked");try{S.focus()}catch{}return new Yy(S)}function iA(s,t){const n=document.createElement("a");n.href=s,n.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="__/auth/handler",rA="emulator/auth/handler",oA=encodeURIComponent("fac");async function Ky(s,t,n,o,l,h){jt(s.config.authDomain,s,"auth-domain-config-required"),jt(s.config.apiKey,s,"invalid-api-key");const m={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:o,v:ua,eventId:l};if(t instanceof zp){t.setDefaultLanguage(s.languageCode),m.providerId=t.providerId||"",np(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[w,S]of Object.entries({}))m[w]=S}if(t instanceof Oc){const w=t.getScopes().filter(S=>S!=="");w.length>0&&(m.scopes=w.join(","))}s.tenantId&&(m.tid=s.tenantId);const g=m;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const y=await s._getAppCheckToken(),E=y?`#${oA}=${encodeURIComponent(y)}`:"";return`${aA(s)}?${nu(g).slice(1)}${E}`}function aA({config:s}){return s.emulator?Lp(s,rA):`https://${s.authDomain}/${sA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class lA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=Ox,this._overrideRedirectResult=Rx}async _openPopup(t,n,o,l){Kr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Ky(t,n,o,lp(),l);return nA(t,h,jp())}async _openRedirect(t,n,o,l){await this._originValidation(t);const h=await Ky(t,n,o,lp(),l);return fx(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Kr(h,"If manager is not set, promise should be"),h)}const o=this.initAndGetManager(t);return this.eventManagers[n]={promise:o},o.catch(()=>{delete this.eventManagers[n]}),o}async initAndGetManager(t){const n=await Xx(t),o=new kx(t);return n.register("authEvent",l=>(jt(l?.authEvent,t,"invalid-auth-event"),{status:o.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=n,o}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vm,{type:Vm},l=>{const h=l?.[0]?.[Vm];h!==void 0&&n(!!h),gs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Bx(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return k1()||N1()||Dp()}}const uA=lA;var Xy="@firebase/auth",Qy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(o=>{t(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fA(s){ia(new Wr("auth",(t,{options:n})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:g}=o.options;jt(m&&!m.includes(":"),"invalid-api-key",{appName:o.name});const y={apiKey:m,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D1(s)},E=new NS(o,l,h,y);return zS(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,o)=>{t.getProvider("auth-internal").initialize()})),ia(new Wr("auth-internal",t=>{const n=eo(t.getProvider("auth").getImmediate());return(o=>new cA(o))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Xy,Qy,hA(s)),ps(Xy,Qy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=300,mA=f1("authIdTokenMaxAge")||dA;let Jy=null;const pA=s=>async t=>{const n=t&&await t.getIdTokenResult(),o=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(o&&o>mA)return;const l=n?.token;Jy!==l&&(Jy=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tw(s=Bf()){const t=Rc(s,"auth");if(t.isInitialized())return t.getImmediate();const n=US(s,{popupRedirectResolver:uA,persistence:[bx,ux,G1]}),o=f1("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(o,location.origin);if(location.origin===h.origin){const m=pA(h.toString());rx(n,m,()=>m(n.currentUser)),sx(n,g=>m(g))}}const l=c1("auth");return l&&BS(n,`http://${l}`),n}function gA(){return document.getElementsByTagName("head")?.[0]??document}RS({loadJS(s){return new Promise((t,n)=>{const o=document.createElement("script");o.setAttribute("src",s),o.onload=t,o.onerror=l=>{const h=Hs("internal-error");h.customData=l,n(h)},o.type="text/javascript",o.charset="UTF-8",gA().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fA("Browser");var _A="firebase",vA="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(_A,vA,"app");var $y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(q,A){function C(){}C.prototype=A.prototype,q.D=A.prototype,q.prototype=new C,q.prototype.constructor=q,q.C=function(P,U,k){for(var M=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)M[Q-2]=arguments[Q];return A.prototype[U].apply(P,M)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(q,A,C){C||(C=0);var P=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)P[U]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(U=0;16>U;++U)P[U]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=q.g[0],C=q.g[1],U=q.g[2];var k=q.g[3],M=A+(k^C&(U^k))+P[0]+3614090360&4294967295;A=C+(M<<7&4294967295|M>>>25),M=k+(U^A&(C^U))+P[1]+3905402710&4294967295,k=A+(M<<12&4294967295|M>>>20),M=U+(C^k&(A^C))+P[2]+606105819&4294967295,U=k+(M<<17&4294967295|M>>>15),M=C+(A^U&(k^A))+P[3]+3250441966&4294967295,C=U+(M<<22&4294967295|M>>>10),M=A+(k^C&(U^k))+P[4]+4118548399&4294967295,A=C+(M<<7&4294967295|M>>>25),M=k+(U^A&(C^U))+P[5]+1200080426&4294967295,k=A+(M<<12&4294967295|M>>>20),M=U+(C^k&(A^C))+P[6]+2821735955&4294967295,U=k+(M<<17&4294967295|M>>>15),M=C+(A^U&(k^A))+P[7]+4249261313&4294967295,C=U+(M<<22&4294967295|M>>>10),M=A+(k^C&(U^k))+P[8]+1770035416&4294967295,A=C+(M<<7&4294967295|M>>>25),M=k+(U^A&(C^U))+P[9]+2336552879&4294967295,k=A+(M<<12&4294967295|M>>>20),M=U+(C^k&(A^C))+P[10]+4294925233&4294967295,U=k+(M<<17&4294967295|M>>>15),M=C+(A^U&(k^A))+P[11]+2304563134&4294967295,C=U+(M<<22&4294967295|M>>>10),M=A+(k^C&(U^k))+P[12]+1804603682&4294967295,A=C+(M<<7&4294967295|M>>>25),M=k+(U^A&(C^U))+P[13]+4254626195&4294967295,k=A+(M<<12&4294967295|M>>>20),M=U+(C^k&(A^C))+P[14]+2792965006&4294967295,U=k+(M<<17&4294967295|M>>>15),M=C+(A^U&(k^A))+P[15]+1236535329&4294967295,C=U+(M<<22&4294967295|M>>>10),M=A+(U^k&(C^U))+P[1]+4129170786&4294967295,A=C+(M<<5&4294967295|M>>>27),M=k+(C^U&(A^C))+P[6]+3225465664&4294967295,k=A+(M<<9&4294967295|M>>>23),M=U+(A^C&(k^A))+P[11]+643717713&4294967295,U=k+(M<<14&4294967295|M>>>18),M=C+(k^A&(U^k))+P[0]+3921069994&4294967295,C=U+(M<<20&4294967295|M>>>12),M=A+(U^k&(C^U))+P[5]+3593408605&4294967295,A=C+(M<<5&4294967295|M>>>27),M=k+(C^U&(A^C))+P[10]+38016083&4294967295,k=A+(M<<9&4294967295|M>>>23),M=U+(A^C&(k^A))+P[15]+3634488961&4294967295,U=k+(M<<14&4294967295|M>>>18),M=C+(k^A&(U^k))+P[4]+3889429448&4294967295,C=U+(M<<20&4294967295|M>>>12),M=A+(U^k&(C^U))+P[9]+568446438&4294967295,A=C+(M<<5&4294967295|M>>>27),M=k+(C^U&(A^C))+P[14]+3275163606&4294967295,k=A+(M<<9&4294967295|M>>>23),M=U+(A^C&(k^A))+P[3]+4107603335&4294967295,U=k+(M<<14&4294967295|M>>>18),M=C+(k^A&(U^k))+P[8]+1163531501&4294967295,C=U+(M<<20&4294967295|M>>>12),M=A+(U^k&(C^U))+P[13]+2850285829&4294967295,A=C+(M<<5&4294967295|M>>>27),M=k+(C^U&(A^C))+P[2]+4243563512&4294967295,k=A+(M<<9&4294967295|M>>>23),M=U+(A^C&(k^A))+P[7]+1735328473&4294967295,U=k+(M<<14&4294967295|M>>>18),M=C+(k^A&(U^k))+P[12]+2368359562&4294967295,C=U+(M<<20&4294967295|M>>>12),M=A+(C^U^k)+P[5]+4294588738&4294967295,A=C+(M<<4&4294967295|M>>>28),M=k+(A^C^U)+P[8]+2272392833&4294967295,k=A+(M<<11&4294967295|M>>>21),M=U+(k^A^C)+P[11]+1839030562&4294967295,U=k+(M<<16&4294967295|M>>>16),M=C+(U^k^A)+P[14]+4259657740&4294967295,C=U+(M<<23&4294967295|M>>>9),M=A+(C^U^k)+P[1]+2763975236&4294967295,A=C+(M<<4&4294967295|M>>>28),M=k+(A^C^U)+P[4]+1272893353&4294967295,k=A+(M<<11&4294967295|M>>>21),M=U+(k^A^C)+P[7]+4139469664&4294967295,U=k+(M<<16&4294967295|M>>>16),M=C+(U^k^A)+P[10]+3200236656&4294967295,C=U+(M<<23&4294967295|M>>>9),M=A+(C^U^k)+P[13]+681279174&4294967295,A=C+(M<<4&4294967295|M>>>28),M=k+(A^C^U)+P[0]+3936430074&4294967295,k=A+(M<<11&4294967295|M>>>21),M=U+(k^A^C)+P[3]+3572445317&4294967295,U=k+(M<<16&4294967295|M>>>16),M=C+(U^k^A)+P[6]+76029189&4294967295,C=U+(M<<23&4294967295|M>>>9),M=A+(C^U^k)+P[9]+3654602809&4294967295,A=C+(M<<4&4294967295|M>>>28),M=k+(A^C^U)+P[12]+3873151461&4294967295,k=A+(M<<11&4294967295|M>>>21),M=U+(k^A^C)+P[15]+530742520&4294967295,U=k+(M<<16&4294967295|M>>>16),M=C+(U^k^A)+P[2]+3299628645&4294967295,C=U+(M<<23&4294967295|M>>>9),M=A+(U^(C|~k))+P[0]+4096336452&4294967295,A=C+(M<<6&4294967295|M>>>26),M=k+(C^(A|~U))+P[7]+1126891415&4294967295,k=A+(M<<10&4294967295|M>>>22),M=U+(A^(k|~C))+P[14]+2878612391&4294967295,U=k+(M<<15&4294967295|M>>>17),M=C+(k^(U|~A))+P[5]+4237533241&4294967295,C=U+(M<<21&4294967295|M>>>11),M=A+(U^(C|~k))+P[12]+1700485571&4294967295,A=C+(M<<6&4294967295|M>>>26),M=k+(C^(A|~U))+P[3]+2399980690&4294967295,k=A+(M<<10&4294967295|M>>>22),M=U+(A^(k|~C))+P[10]+4293915773&4294967295,U=k+(M<<15&4294967295|M>>>17),M=C+(k^(U|~A))+P[1]+2240044497&4294967295,C=U+(M<<21&4294967295|M>>>11),M=A+(U^(C|~k))+P[8]+1873313359&4294967295,A=C+(M<<6&4294967295|M>>>26),M=k+(C^(A|~U))+P[15]+4264355552&4294967295,k=A+(M<<10&4294967295|M>>>22),M=U+(A^(k|~C))+P[6]+2734768916&4294967295,U=k+(M<<15&4294967295|M>>>17),M=C+(k^(U|~A))+P[13]+1309151649&4294967295,C=U+(M<<21&4294967295|M>>>11),M=A+(U^(C|~k))+P[4]+4149444226&4294967295,A=C+(M<<6&4294967295|M>>>26),M=k+(C^(A|~U))+P[11]+3174756917&4294967295,k=A+(M<<10&4294967295|M>>>22),M=U+(A^(k|~C))+P[2]+718787259&4294967295,U=k+(M<<15&4294967295|M>>>17),M=C+(k^(U|~A))+P[9]+3951481745&4294967295,q.g[0]=q.g[0]+A&4294967295,q.g[1]=q.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,q.g[2]=q.g[2]+U&4294967295,q.g[3]=q.g[3]+k&4294967295}o.prototype.u=function(q,A){A===void 0&&(A=q.length);for(var C=A-this.blockSize,P=this.B,U=this.h,k=0;k<A;){if(U==0)for(;k<=C;)l(this,q,k),k+=this.blockSize;if(typeof q=="string"){for(;k<A;)if(P[U++]=q.charCodeAt(k++),U==this.blockSize){l(this,P),U=0;break}}else for(;k<A;)if(P[U++]=q[k++],U==this.blockSize){l(this,P),U=0;break}}this.h=U,this.o+=A},o.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var A=1;A<q.length-8;++A)q[A]=0;var C=8*this.o;for(A=q.length-8;A<q.length;++A)q[A]=C&255,C/=256;for(this.u(q),q=Array(16),A=C=0;4>A;++A)for(var P=0;32>P;P+=8)q[C++]=this.g[A]>>>P&255;return q};function h(q,A){var C=g;return Object.prototype.hasOwnProperty.call(C,q)?C[q]:C[q]=A(q)}function m(q,A){this.h=A;for(var C=[],P=!0,U=q.length-1;0<=U;U--){var k=q[U]|0;P&&k==A||(C[U]=k,P=!1)}this.g=C}var g={};function y(q){return-128<=q&&128>q?h(q,function(A){return new m([A|0],0>A?-1:0)}):new m([q|0],0>q?-1:0)}function E(q){if(isNaN(q)||!isFinite(q))return S;if(0>q)return X(E(-q));for(var A=[],C=1,P=0;q>=C;P++)A[P]=q/C|0,C*=4294967296;return new m(A,0)}function w(q,A){if(q.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(q.charAt(0)=="-")return X(w(q.substring(1),A));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=E(Math.pow(A,8)),P=S,U=0;U<q.length;U+=8){var k=Math.min(8,q.length-U),M=parseInt(q.substring(U,U+k),A);8>k?(k=E(Math.pow(A,k)),P=P.j(k).add(E(M))):(P=P.j(C),P=P.add(E(M)))}return P}var S=y(0),T=y(1),I=y(16777216);s=m.prototype,s.m=function(){if(G(this))return-X(this).m();for(var q=0,A=1,C=0;C<this.g.length;C++){var P=this.i(C);q+=(0<=P?P:4294967296+P)*A,A*=4294967296}return q},s.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(F(this))return"0";if(G(this))return"-"+X(this).toString(q);for(var A=E(Math.pow(q,6)),C=this,P="";;){var U=J(C,A).g;C=K(C,U.j(A));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(q);if(C=U,F(C))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},s.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function F(q){if(q.h!=0)return!1;for(var A=0;A<q.g.length;A++)if(q.g[A]!=0)return!1;return!0}function G(q){return q.h==-1}s.l=function(q){return q=K(this,q),G(q)?-1:F(q)?0:1};function X(q){for(var A=q.g.length,C=[],P=0;P<A;P++)C[P]=~q.g[P];return new m(C,~q.h).add(T)}s.abs=function(){return G(this)?X(this):this},s.add=function(q){for(var A=Math.max(this.g.length,q.g.length),C=[],P=0,U=0;U<=A;U++){var k=P+(this.i(U)&65535)+(q.i(U)&65535),M=(k>>>16)+(this.i(U)>>>16)+(q.i(U)>>>16);P=M>>>16,k&=65535,M&=65535,C[U]=M<<16|k}return new m(C,C[C.length-1]&-2147483648?-1:0)};function K(q,A){return q.add(X(A))}s.j=function(q){if(F(this)||F(q))return S;if(G(this))return G(q)?X(this).j(X(q)):X(X(this).j(q));if(G(q))return X(this.j(X(q)));if(0>this.l(I)&&0>q.l(I))return E(this.m()*q.m());for(var A=this.g.length+q.g.length,C=[],P=0;P<2*A;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<q.g.length;U++){var k=this.i(P)>>>16,M=this.i(P)&65535,Q=q.i(U)>>>16,ot=q.i(U)&65535;C[2*P+2*U]+=M*ot,gt(C,2*P+2*U),C[2*P+2*U+1]+=k*ot,gt(C,2*P+2*U+1),C[2*P+2*U+1]+=M*Q,gt(C,2*P+2*U+1),C[2*P+2*U+2]+=k*Q,gt(C,2*P+2*U+2)}for(P=0;P<A;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=A;P<2*A;P++)C[P]=0;return new m(C,0)};function gt(q,A){for(;(q[A]&65535)!=q[A];)q[A+1]+=q[A]>>>16,q[A]&=65535,A++}function it(q,A){this.g=q,this.h=A}function J(q,A){if(F(A))throw Error("division by zero");if(F(q))return new it(S,S);if(G(q))return A=J(X(q),A),new it(X(A.g),X(A.h));if(G(A))return A=J(q,X(A)),new it(X(A.g),A.h);if(30<q.g.length){if(G(q)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var C=T,P=A;0>=P.l(q);)C=ct(C),P=ct(P);var U=Z(C,1),k=Z(P,1);for(P=Z(P,2),C=Z(C,2);!F(P);){var M=k.add(P);0>=M.l(q)&&(U=U.add(C),k=M),P=Z(P,1),C=Z(C,1)}return A=K(q,U.j(A)),new it(U,A)}for(U=S;0<=q.l(A);){for(C=Math.max(1,Math.floor(q.m()/A.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=E(C),M=k.j(A);G(M)||0<M.l(q);)C-=P,k=E(C),M=k.j(A);F(k)&&(k=T),U=U.add(k),q=K(q,M)}return new it(U,q)}s.A=function(q){return J(this,q).h},s.and=function(q){for(var A=Math.max(this.g.length,q.g.length),C=[],P=0;P<A;P++)C[P]=this.i(P)&q.i(P);return new m(C,this.h&q.h)},s.or=function(q){for(var A=Math.max(this.g.length,q.g.length),C=[],P=0;P<A;P++)C[P]=this.i(P)|q.i(P);return new m(C,this.h|q.h)},s.xor=function(q){for(var A=Math.max(this.g.length,q.g.length),C=[],P=0;P<A;P++)C[P]=this.i(P)^q.i(P);return new m(C,this.h^q.h)};function ct(q){for(var A=q.g.length+1,C=[],P=0;P<A;P++)C[P]=q.i(P)<<1|q.i(P-1)>>>31;return new m(C,q.h)}function Z(q,A){var C=A>>5;A%=32;for(var P=q.g.length-C,U=[],k=0;k<P;k++)U[k]=0<A?q.i(k+C)>>>A|q.i(k+C+1)<<32-A:q.i(k+C);return new m(U,q.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=E,m.fromString=w,Fp=m}).apply(typeof $y<"u"?$y:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,N){return f==Array.prototype||f==Object.prototype||(f[b]=N.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var b=0;b<f.length;++b){var N=f[b];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var o=n(this);function l(f,b){if(b)t:{var N=o;f=f.split(".");for(var V=0;V<f.length-1;V++){var ut=f[V];if(!(ut in N))break t;N=N[ut]}f=f[f.length-1],V=N[f],b=b(V),b!=V&&b!=null&&t(N,f,{configurable:!0,writable:!0,value:b})}}function h(f,b){f instanceof String&&(f+="");var N=0,V=!1,ut={next:function(){if(!V&&N<f.length){var yt=N++;return{value:b(yt,f[yt]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ut[Symbol.iterator]=function(){return ut},ut}l("Array.prototype.values",function(f){return f||function(){return h(this,function(b,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},g=this||self;function y(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function E(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function w(f,b,N){return f.call.apply(f.bind,arguments)}function S(f,b,N){if(!f)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ut=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ut,V),f.apply(b,ut)}}return function(){return f.apply(b,arguments)}}function T(f,b,N){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,T.apply(null,arguments)}function I(f,b){var N=Array.prototype.slice.call(arguments,1);return function(){var V=N.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function F(f,b){function N(){}N.prototype=b.prototype,f.aa=b.prototype,f.prototype=new N,f.prototype.constructor=f,f.Qb=function(V,ut,yt){for(var xt=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)xt[ve-2]=arguments[ve];return b.prototype[ut].apply(V,xt)}}function G(f){const b=f.length;if(0<b){const N=Array(b);for(let V=0;V<b;V++)N[V]=f[V];return N}return[]}function X(f,b){for(let N=1;N<arguments.length;N++){const V=arguments[N];if(y(V)){const ut=f.length||0,yt=V.length||0;f.length=ut+yt;for(let xt=0;xt<yt;xt++)f[ut+xt]=V[xt]}else f.push(V)}}class K{constructor(b,N){this.i=b,this.j=N,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function gt(f){return/^[\s\xa0]*$/.test(f)}function it(){var f=g.navigator;return f&&(f=f.userAgent)?f:""}function J(f){return J[" "](f),f}J[" "]=function(){};var ct=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function Z(f,b,N){for(const V in f)b.call(N,f[V],V,f)}function q(f,b){for(const N in f)b.call(void 0,f[N],N,f)}function A(f){const b={};for(const N in f)b[N]=f[N];return b}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,b){let N,V;for(let ut=1;ut<arguments.length;ut++){V=arguments[ut];for(N in V)f[N]=V[N];for(let yt=0;yt<C.length;yt++)N=C[yt],Object.prototype.hasOwnProperty.call(V,N)&&(f[N]=V[N])}}function U(f){var b=1;f=f.split(":");const N=[];for(;0<b&&f.length;)N.push(f.shift()),b--;return f.length&&N.push(f.join(":")),N}function k(f){g.setTimeout(()=>{throw f},0)}function M(){var f=rt;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class Q{constructor(){this.h=this.g=null}add(b,N){const V=ot.get();V.set(b,N),this.h?this.h.next=V:this.g=V,this.h=V}}var ot=new K(()=>new O,f=>f.reset());class O{constructor(){this.next=this.g=this.h=null}set(b,N){this.h=b,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let j,$=!1,rt=new Q,z=()=>{const f=g.Promise.resolve(void 0);j=()=>{f.then(et)}};var et=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(N){k(N)}var b=ot;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}$=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const N=()=>{};g.addEventListener("test",N,b),g.removeEventListener("test",N,b)}catch{}return f})();function nt(f,b){if(ht.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var N=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(ct){t:{try{J(b.nodeName);var ut=!0;break t}catch{}ut=!1}ut||(b=null)}}else N=="mouseover"?b=f.fromElement:N=="mouseout"&&(b=f.toElement);this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:wt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&nt.aa.h.call(this)}}F(nt,ht);var wt={2:"touch",3:"pen",4:"mouse"};nt.prototype.h=function(){nt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function Gt(f,b,N,V,ut){this.listener=f,this.proxy=null,this.src=b,this.type=N,this.capture=!!V,this.ha=ut,this.key=++Mt,this.da=this.fa=!1}function Xt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function oe(f){this.src=f,this.g={},this.h=0}oe.prototype.add=function(f,b,N,V,ut){var yt=f.toString();f=this.g[yt],f||(f=this.g[yt]=[],this.h++);var xt=En(f,b,V,ut);return-1<xt?(b=f[xt],N||(b.fa=!1)):(b=new Gt(b,this.src,yt,!!V,ut),b.fa=N,f.push(b)),b};function me(f,b){var N=b.type;if(N in f.g){var V=f.g[N],ut=Array.prototype.indexOf.call(V,b,void 0),yt;(yt=0<=ut)&&Array.prototype.splice.call(V,ut,1),yt&&(Xt(b),f.g[N].length==0&&(delete f.g[N],f.h--))}}function En(f,b,N,V){for(var ut=0;ut<f.length;++ut){var yt=f[ut];if(!yt.da&&yt.listener==b&&yt.capture==!!N&&yt.ha==V)return ut}return-1}var fn="closure_lm_"+(1e6*Math.random()|0),be={};function We(f,b,N,V,ut){if(Array.isArray(b)){for(var yt=0;yt<b.length;yt++)We(f,b[yt],N,V,ut);return null}return N=mn(N),f&&f[Dt]?f.K(b,N,E(V)?!!V.capture:!1,ut):Zt(f,b,N,!1,V,ut)}function Zt(f,b,N,V,ut,yt){if(!b)throw Error("Invalid event type");var xt=E(ut)?!!ut.capture:!!ut,ve=Se(f);if(ve||(f[fn]=ve=new oe(f)),N=ve.add(b,N,V,xt,yt),N.proxy)return N;if(V=le(),N.proxy=V,V.src=f,V.listener=N,f.addEventListener)dt||(ut=xt),ut===void 0&&(ut=!1),f.addEventListener(b.toString(),V,ut);else if(f.attachEvent)f.attachEvent(_e(b.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return N}function le(){function f(N){return b.call(f.src,f.listener,N)}const b=dn;return f}function Ve(f,b,N,V,ut){if(Array.isArray(b))for(var yt=0;yt<b.length;yt++)Ve(f,b[yt],N,V,ut);else V=E(V)?!!V.capture:!!V,N=mn(N),f&&f[Dt]?(f=f.i,b=String(b).toString(),b in f.g&&(yt=f.g[b],N=En(yt,N,V,ut),-1<N&&(Xt(yt[N]),Array.prototype.splice.call(yt,N,1),yt.length==0&&(delete f.g[b],f.h--)))):f&&(f=Se(f))&&(b=f.g[b.toString()],f=-1,b&&(f=En(b,N,V,ut)),(N=-1<f?b[f]:null)&&qe(N))}function qe(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Dt])me(b.i,f);else{var N=f.type,V=f.proxy;b.removeEventListener?b.removeEventListener(N,V,f.capture):b.detachEvent?b.detachEvent(_e(N),V):b.addListener&&b.removeListener&&b.removeListener(V),(N=Se(b))?(me(N,f),N.h==0&&(N.src=null,b[fn]=null)):Xt(f)}}}function _e(f){return f in be?be[f]:be[f]="on"+f}function dn(f,b){if(f.da)f=!0;else{b=new nt(b,this);var N=f.listener,V=f.ha||f.src;f.fa&&qe(f),f=N.call(V,b)}return f}function Se(f){return f=f[fn],f instanceof oe?f:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(f){return typeof f=="function"?f:(f[pe]||(f[pe]=function(b){return f.handleEvent(b)}),f[pe])}function ae(){at.call(this),this.i=new oe(this),this.M=this,this.F=null}F(ae,at),ae.prototype[Dt]=!0,ae.prototype.removeEventListener=function(f,b,N,V){Ve(this,f,b,N,V)};function te(f,b){var N,V=f.F;if(V)for(N=[];V;V=V.F)N.push(V);if(f=f.M,V=b.type||b,typeof b=="string")b=new ht(b,f);else if(b instanceof ht)b.target=b.target||f;else{var ut=b;b=new ht(V,f),P(b,ut)}if(ut=!0,N)for(var yt=N.length-1;0<=yt;yt--){var xt=b.g=N[yt];ut=ge(xt,V,!0,b)&&ut}if(xt=b.g=f,ut=ge(xt,V,!0,b)&&ut,ut=ge(xt,V,!1,b)&&ut,N)for(yt=0;yt<N.length;yt++)xt=b.g=N[yt],ut=ge(xt,V,!1,b)&&ut}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var N=f.g[b],V=0;V<N.length;V++)Xt(N[V]);delete f.g[b],f.h--}}this.F=null},ae.prototype.K=function(f,b,N,V){return this.i.add(String(f),b,!1,N,V)},ae.prototype.L=function(f,b,N,V){return this.i.add(String(f),b,!0,N,V)};function ge(f,b,N,V){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var ut=!0,yt=0;yt<b.length;++yt){var xt=b[yt];if(xt&&!xt.da&&xt.capture==N){var ve=xt.listener,Be=xt.ha||xt.src;xt.fa&&me(f.i,xt),ut=ve.call(Be,V)!==!1&&ut}}return ut&&!V.defaultPrevented}function Pe(f,b,N){if(typeof f=="function")N&&(f=T(f,N));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:g.setTimeout(f,b||0)}function Xe(f){f.g=Pe(()=>{f.g=null,f.i&&(f.i=!1,Xe(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Rn extends at{constructor(b,N){super(),this.m=b,this.l=N,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(f){at.call(this),this.h=f,this.g={}}F(tn,at);var pn=[];function en(f){Z(f.g,function(b,N){this.g.hasOwnProperty(N)&&qe(b)},f),f.g={}}tn.prototype.N=function(){tn.aa.N.call(this),en(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=g.JSON.stringify,Ji=g.JSON.parse,ui=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function _s(){}_s.prototype.h=null;function Vs(f){return f.h||(f.h=f.i())}function Li(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function an(){ht.call(this,"d")}F(an,ht);function Qn(){ht.call(this,"c")}F(Qn,ht);var In={},ki=null;function $i(){return ki=ki||new ae}In.La="serverreachability";function Jn(f){ht.call(this,In.La,f)}F(Jn,ht);function Mn(f){const b=$i();te(b,new Jn(b))}In.STAT_EVENT="statevent";function io(f,b){ht.call(this,In.STAT_EVENT,f),this.stat=b}F(io,ht);function Ue(f){const b=$i();te(b,new io(b,f))}In.Ma="timingevent";function ln(f,b){ht.call(this,In.Ma,f),this.size=b}F(ln,ht);function sn(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},b)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function $n(f,b,N,V,ut,yt){f.info(function(){if(f.g)if(yt)for(var xt="",ve=yt.split("&"),Be=0;Be<ve.length;Be++){var ee=ve[Be].split("=");if(1<ee.length){var _n=ee[0];ee=ee[1];var Ae=_n.split("_");xt=2<=Ae.length&&Ae[1]=="type"?xt+(_n+"="+ee+"&"):xt+(_n+"=redacted&")}}else xt=null;else xt=yt;return"XMLHTTP REQ ("+V+") [attempt "+ut+"]: "+b+`
`+N+`
`+xt})}function Lt(f,b,N,V,ut,yt,xt){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ut+"]: "+b+`
`+N+`
`+yt+" "+xt})}function vs(f,b,N,V){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+qs(f,N)+(V?" "+V:"")})}function ca(f,b){f.info(function(){return"TIMEOUT: "+b})}Ei.prototype.info=function(){};function qs(f,b){if(!f.g)return b;if(!b)return null;try{var N=JSON.parse(b);if(N){for(f=0;f<N.length;f++)if(Array.isArray(N[f])){var V=N[f];if(!(2>V.length)){var ut=V[1];if(Array.isArray(ut)&&!(1>ut.length)){var yt=ut[0];if(yt!="noop"&&yt!="stop"&&yt!="close")for(var xt=1;xt<ut.length;xt++)ut[xt]=""}}}}return nn(N)}catch{return b}}var Gs={NO_ERROR:0,TIMEOUT:8},ts={},Di;function Vn(){}F(Vn,_s),Vn.prototype.g=function(){return new XMLHttpRequest},Vn.prototype.i=function(){return{}},Di=new Vn;function On(f,b,N,V){this.j=f,this.i=b,this.l=N,this.R=V||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}var ha={},so={};function Pi(f,b,N){f.L=1,f.v=ci(ze(b)),f.m=N,f.P=!0,es(f,null)}function es(f,b){f.F=Date.now(),yr(f),f.A=ze(f.v);var N=f.A,V=f.R;Array.isArray(V)||(V=[String(V)]),ma(N.i,"t",V),f.C=0,N=f.j.J,f.h=new Qe,f.g=ll(f.j,N?b:null,!f.m),0<f.O&&(f.M=new Rn(T(f.Y,f,f.g),f.O)),b=f.U,N=f.g,V=f.ca;var ut="readystatechange";Array.isArray(ut)||(ut&&(pn[0]=ut.toString()),ut=pn);for(var yt=0;yt<ut.length;yt++){var xt=We(N,ut[yt],V||b.handleEvent,!1,b.h||b);if(!xt)break;b.g[xt.key]=xt}b=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Mn(),$n(f.i,f.u,f.A,f.l,f.R,f.m)}On.prototype.ca=function(f){f=f.target;const b=this.M;b&&Dn(f)==3?b.j():this.Y(f)},On.prototype.Y=function(f){try{if(f==this.g)t:{const Ae=Dn(this.g);var b=this.g.Ba();const ii=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||pa(this.g)))){this.J||Ae!=4||b==7||(b==8||0>=ii?Mn(3):Mn(2)),Zs(this);var N=this.g.Z();this.X=N;e:if(il(this)){var V=pa(this.g);f="";var ut=V.length,yt=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),ns(this);var xt="";break e}this.h.i=new g.TextDecoder}for(b=0;b<ut;b++)this.h.h=!0,f+=this.h.i.decode(V[b],{stream:!(yt&&b==ut-1)});V.length=0,this.h.g+=f,this.C=0,xt=this.h.g}else xt=this.g.oa();if(this.o=N==200,Lt(this.i,this.u,this.A,this.l,this.R,Ae,N),this.o){if(this.T&&!this.K){e:{if(this.g){var ve,Be=this.g;if((ve=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(ve)){var ee=ve;break e}}ee=null}if(N=ee)vs(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,N);else{this.o=!1,this.s=3,Ue(12),Tn(this),ns(this);break t}}if(this.P){N=!0;let si;for(;!this.J&&this.C<xt.length;)if(si=vr(this,xt),si==so){Ae==4&&(this.s=4,Ue(14),N=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(si==ha){this.s=4,Ue(15),vs(this.i,this.l,xt,"[Invalid Chunk]"),N=!1;break}else vs(this.i,this.l,si,null),ys(this,si);if(il(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||xt.length!=0||this.h.h||(this.s=1,Ue(16),N=!1),this.o=this.o&&N,!N)vs(this.i,this.l,xt,"[Invalid Chunked Response]"),Tn(this),ns(this);else if(0<xt.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+xt.length),Js(_n),_n.M=!0,Ue(11))}}else vs(this.i,this.l,xt,null),ys(this,xt);Ae==4&&Tn(this),this.o&&!this.J&&(Ae==4?_a(this.j,this):(this.o=!1,yr(this)))}else au(this.g),N==400&&0<xt.indexOf("Unknown SID")?(this.s=3,Ue(12)):(this.s=0,Ue(13)),Tn(this),ns(this)}}}catch{}finally{}};function il(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function vr(f,b){var N=f.C,V=b.indexOf(`
`,N);return V==-1?so:(N=Number(b.substring(N,V)),isNaN(N)?ha:(V+=1,V+N>b.length?so:(b=b.slice(V,V+N),f.C=V+N,b)))}On.prototype.cancel=function(){this.J=!0,Tn(this)};function yr(f){f.S=Date.now()+f.I,sl(f,f.I)}function sl(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=sn(T(f.ba,f),b)}function Zs(f){f.B&&(g.clearTimeout(f.B),f.B=null)}On.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ca(this.i,this.A),this.L!=2&&(Mn(),Ue(17)),Tn(this),this.s=2,ns(this)):sl(this,this.S-f)};function ns(f){f.j.G==0||f.J||_a(f.j,f)}function Tn(f){Zs(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,en(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function ys(f,b){try{var N=f.j;if(N.G!=0&&(N.g==f||Qt(N.h,f))){if(!f.K&&Qt(N.h,f)&&N.G==3){try{var V=N.Da.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ut=V;if(ut[0]==0){t:if(!N.u){if(N.g)if(N.g.F+3e3<f.F)mo(N),co(N);else break t;ho(N),Ue(18)}}else N.za=ut[1],0<N.za-N.T&&37500>ut[2]&&N.F&&N.v==0&&!N.C&&(N.C=sn(T(N.Za,N),6e3));if(1>=ss(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else xs(N,11)}else if((f.K||N.g==f)&&mo(N),!gt(b))for(ut=N.Da.g.parse(b),b=0;b<ut.length;b++){let ee=ut[b];if(N.T=ee[0],ee=ee[1],N.G==2)if(ee[0]=="c"){N.K=ee[1],N.ia=ee[2];const _n=ee[3];_n!=null&&(N.la=_n,N.j.info("VER="+N.la));const Ae=ee[4];Ae!=null&&(N.Aa=Ae,N.j.info("SVER="+N.Aa));const ii=ee[5];ii!=null&&typeof ii=="number"&&0<ii&&(V=1.5*ii,N.L=V,N.j.info("backChannelRequestTimeoutMs_="+V)),V=N;const si=f.g;if(si){const vn=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vn){var yt=V.h;yt.g||vn.indexOf("spdy")==-1&&vn.indexOf("quic")==-1&&vn.indexOf("h2")==-1||(yt.j=yt.l,yt.g=new Set,yt.h&&(xe(yt,yt.h),yt.h=null))}if(V.D){const As=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(V.ya=As,Bt(V.I,V.D,As))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-f.F,N.j.info("Handshake RTT: "+N.R+"ms")),V=N;var xt=f;if(V.qa=go(V,V.J?V.ia:null,V.W),xt.K){gn(V.h,xt);var ve=xt,Be=V.L;Be&&(ve.I=Be),ve.B&&(Zs(ve),yr(ve)),V.g=xt}else Fi(V);0<N.i.length&&Qs(N)}else ee[0]!="stop"&&ee[0]!="close"||xs(N,7);else N.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?xs(N,7):uo(N):ee[0]!="noop"&&N.l&&N.l.ta(ee),N.v=0)}}Mn(4)}catch{}}var Ws=class{constructor(f,b){this.g=f,this.map=b}};function is(f){this.l=f||10,g.PerformanceNavigationTiming?(f=g.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ss(f){return f.h?1:f.g?f.g.size:0}function Qt(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function xe(f,b){f.g?f.g.add(b):f.h=b}function gn(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}is.prototype.cancel=function(){if(this.i=rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function rs(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const N of f.g.values())b=b.concat(N.D);return b}return G(f.i)}function Ys(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var b=[],N=f.length,V=0;V<N;V++)b.push(f[V]);return b}b=[],N=0;for(V in f)b[N++]=f[V];return b}function Ks(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var b=[];f=f.length;for(var N=0;N<f;N++)b.push(N);return b}b=[],N=0;for(const V in f)b[N++]=V;return b}}}function qt(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var N=Ks(f),V=Ys(f),ut=V.length,yt=0;yt<ut;yt++)b.call(void 0,V[yt],N&&N[yt],f)}var Ce=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(f,b){if(f){f=f.split("&");for(var N=0;N<f.length;N++){var V=f[N].indexOf("="),ut=null;if(0<=V){var yt=f[N].substring(0,V);ut=f[N].substring(V+1)}else yt=f[N];b(yt,ut?decodeURIComponent(ut.replace(/\+/g," ")):"")}}}function Ge(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ge){this.h=f.h,br(this,f.j),this.o=f.o,this.g=f.g,Ui(this,f.s),this.l=f.l;var b=f.i,N=new Bi;N.i=b.i,b.g&&(N.g=new Map(b.g),N.h=b.h),qn(this,N),this.m=f.m}else f&&(b=String(f).match(Ce))?(this.h=!1,br(this,b[1]||"",!0),this.o=Ln(b[2]||""),this.g=Ln(b[3]||"",!0),Ui(this,b[4]),this.l=Ln(b[5]||"",!0),qn(this,b[6]||"",!0),this.m=Ln(b[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Ge.prototype.toString=function(){var f=[],b=this.j;b&&f.push(zi(b,ws,!0),":");var N=this.g;return(N||b=="file")&&(f.push("//"),(b=this.o)&&f.push(zi(b,ws,!0),"@"),f.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&f.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(zi(N,N.charAt(0)=="/"?da:Er,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",zi(N,Xs)),f.join("")};function ze(f){return new Ge(f)}function br(f,b,N){f.j=N?Ln(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Ui(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function qn(f,b,N){b instanceof Bi?(f.i=b,hi(f.i,f.h)):(N||(b=zi(b,oo)),f.i=new Bi(b,f.h))}function Bt(f,b,N){f.i.set(b,N)}function ci(f){return Bt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ln(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zi(f,b,N){return typeof f=="string"?(f=encodeURI(f).replace(b,ro),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ro(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ws=/[#\/\?@]/g,Er=/[#\?:]/g,da=/[#\?]/g,oo=/[#\?@]/g,Xs=/#/g;function Bi(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Gn(f){f.g||(f.g=new Map,f.h=0,f.i&&fa(f.i,function(b,N){f.add(decodeURIComponent(b.replace(/\+/g," ")),N)}))}s=Bi.prototype,s.add=function(f,b){Gn(this),this.i=null,f=Pt(this,f);var N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(b),this.h+=1,this};function os(f,b){Gn(f),b=Pt(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function ji(f,b){return Gn(f),b=Pt(f,b),f.g.has(b)}s.forEach=function(f,b){Gn(this),this.g.forEach(function(N,V){N.forEach(function(ut){f.call(b,ut,V,this)},this)},this)},s.na=function(){Gn(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),N=[];for(let V=0;V<b.length;V++){const ut=f[V];for(let yt=0;yt<ut.length;yt++)N.push(b[V])}return N},s.V=function(f){Gn(this);let b=[];if(typeof f=="string")ji(this,f)&&(b=b.concat(this.g.get(Pt(this,f))));else{f=Array.from(this.g.values());for(let N=0;N<f.length;N++)b=b.concat(f[N])}return b},s.set=function(f,b){return Gn(this),this.i=null,f=Pt(this,f),ji(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},s.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function ma(f,b,N){os(f,b),0<N.length&&(f.i=null,f.g.set(Pt(f,b),G(N)),f.h+=N.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var N=0;N<b.length;N++){var V=b[N];const yt=encodeURIComponent(String(V)),xt=this.V(V);for(V=0;V<xt.length;V++){var ut=yt;xt[V]!==""&&(ut+="="+encodeURIComponent(String(xt[V]))),f.push(ut)}}return this.i=f.join("&")};function Pt(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function hi(f,b){b&&!f.j&&(Gn(f),f.i=null,f.g.forEach(function(N,V){var ut=V.toLowerCase();V!=ut&&(os(this,V),ma(this,ut,N))},f)),f.j=b}function ue(f,b){const N=new Ei;if(g.Image){const V=new Image;V.onload=I(ti,N,"TestLoadImage: loaded",!0,b,V),V.onerror=I(ti,N,"TestLoadImage: error",!1,b,V),V.onabort=I(ti,N,"TestLoadImage: abort",!1,b,V),V.ontimeout=I(ti,N,"TestLoadImage: timeout",!1,b,V),g.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else b(!1)}function Ti(f,b){const N=new Ei,V=new AbortController,ut=setTimeout(()=>{V.abort(),ti(N,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:V.signal}).then(yt=>{clearTimeout(ut),yt.ok?ti(N,"TestPingServer: ok",!0,b):ti(N,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(ut),ti(N,"TestPingServer: error",!1,b)})}function ti(f,b,N,V,ut){try{ut&&(ut.onload=null,ut.onerror=null,ut.onabort=null,ut.ontimeout=null),V(N)}catch{}}function bs(){this.g=new ui}function Si(f,b,N){const V=N||"";try{qt(f,function(ut,yt){let xt=ut;E(ut)&&(xt=nn(ut)),b.push(V+yt+"="+encodeURIComponent(xt))})}catch(ut){throw b.push(V+"type="+encodeURIComponent("_badmap")),ut}}function ei(f){this.l=f.Ub||null,this.j=f.eb||!1}F(ei,_s),ei.prototype.g=function(){return new Hi(this.l,this.j)},ei.prototype.i=(function(f){return function(){return f}})({});function Hi(f,b){ae.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Hi,ae),s=Hi.prototype,s.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,kn(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||g).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ie(this)),this.readyState=0},s.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Es(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Es(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}s.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Ie(this):kn(this),this.readyState==3&&Es(this)}},s.Ra=function(f){this.g&&(this.response=this.responseText=f,Ie(this))},s.Qa=function(f){this.g&&(this.response=f,Ie(this))},s.ga=function(){this.g&&Ie(this)};function Ie(f){f.readyState=4,f.l=null,f.j=null,f.v=null,kn(f)}s.setRequestHeader=function(f,b){this.u.append(f,b)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var N=b.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=b.next();return f.join(`\r
`)};function kn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ao(f){let b="";return Z(f,function(N,V){b+=V,b+=":",b+=N,b+=`\r
`}),b}function un(f,b,N){t:{for(V in N){var V=!1;break t}V=!0}V||(N=ao(N),typeof f=="string"?N!=null&&encodeURIComponent(String(N)):Bt(f,b,N))}function Ee(f){ae.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ee,ae);var Tr=/^https?$/i,Ts=["POST","PUT"];s=Ee.prototype,s.Ha=function(f){this.J=f},s.ea=function(f,b,N,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Di.g(),this.v=this.o?Vs(this.o):Vs(Di),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(yt){rl(this,yt);return}if(f=N||"",N=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ut in V)N.set(ut,V[ut]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const yt of V.keys())N.set(yt,V.get(yt));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(N.keys()).find(yt=>yt.toLowerCase()=="content-type"),ut=g.FormData&&f instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ts,b,void 0))||V||ut||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[yt,xt]of N)this.g.setRequestHeader(yt,xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sn(this),this.u=!0,this.g.send(f),this.u=!1}catch(yt){rl(this,yt)}};function rl(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,Sr(f),as(f)}function Sr(f){f.A||(f.A=!0,te(f,"complete"),te(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,te(this,"complete"),te(this,"abort"),as(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),Ee.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Wt(this):this.bb())},s.bb=function(){Wt(this)};function Wt(f){if(f.h&&typeof m<"u"&&(!f.v[1]||Dn(f)!=4||f.Z()!=2)){if(f.u&&Dn(f)==4)Pe(f.Ea,0,f);else if(te(f,"readystatechange"),Dn(f)==4){f.h=!1;try{const xt=f.Z();t:switch(xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var N;if(!(N=b)){var V;if(V=xt===0){var ut=String(f.D).match(Ce)[1]||null;!ut&&g.self&&g.self.location&&(ut=g.self.location.protocol.slice(0,-1)),V=!Tr.test(ut?ut.toLowerCase():"")}N=V}if(N)te(f,"complete"),te(f,"success");else{f.m=6;try{var yt=2<Dn(f)?f.g.statusText:""}catch{yt=""}f.l=yt+" ["+f.Z()+"]",Sr(f)}}finally{as(f)}}}}function as(f,b){if(f.g){Sn(f);const N=f.g,V=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||te(f,"ready");try{N.onreadystatechange=V}catch{}}}function Sn(f){f.I&&(g.clearTimeout(f.I),f.I=null)}s.isActive=function(){return!!this.g};function Dn(f){return f.g?f.g.readyState:0}s.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Ji(b)}};function pa(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function au(f){const b={};f=(f.g&&2<=Dn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(gt(f[V]))continue;var N=U(f[V]);const ut=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const yt=b[ut]||[];b[ut]=yt,yt.push(N)}q(b,function(V){return V.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(f,b,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||b}function lo(f){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,f),this.cb=Ss("retryDelaySeedMs",1e4,f),this.Wa=Ss("forwardChannelMaxRetries",2,f),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new is(f&&f.concurrentRequestLimit),this.Da=new bs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=lo.prototype,s.la=8,s.G=1,s.connect=function(f,b,N,V){Ue(0),this.W=f,this.H=b||{},N&&V!==void 0&&(this.H.OSID=N,this.H.OAID=V),this.F=this.X,this.I=go(this,null,this.W),Qs(this)};function uo(f){if(ol(f),f.G==3){var b=f.U++,N=ze(f.I);if(Bt(N,"SID",f.K),Bt(N,"RID",b),Bt(N,"TYPE","terminate"),xr(f,N),b=new On(f,f.j,b),b.L=2,b.v=ci(ze(N)),N=!1,g.navigator&&g.navigator.sendBeacon)try{N=g.navigator.sendBeacon(b.v.toString(),"")}catch{}!N&&g.Image&&(new Image().src=b.v,N=!0),N||(b.g=ll(b.j,null),b.g.ea(b.v)),b.F=Date.now(),yr(b)}al(f)}function co(f){f.g&&(Js(f),f.g.cancel(),f.g=null)}function ol(f){co(f),f.u&&(g.clearTimeout(f.u),f.u=null),mo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&g.clearTimeout(f.s),f.s=null)}function Qs(f){if(!wr(f.h)&&!f.s){f.s=!0;var b=f.Ga;j||z(),$||(j(),$=!0),rt.add(b,f),f.B=0}}function lu(f,b){return ss(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=sn(T(f.Ga,f,b),po(f,f.B)),f.B++,!0)}s.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ut=new On(this,this.j,f);let yt=this.o;if(this.S&&(yt?(yt=A(yt),P(yt,this.S)):yt=this.S),this.m!==null||this.O||(ut.H=yt,yt=null),this.P)t:{for(var b=0,N=0;N<this.i.length;N++){e:{var V=this.i[N];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break e}V=void 0}if(V===void 0)break;if(b+=V,4096<b){b=N;break t}if(b===4096||N===this.i.length-1){b=N+1;break t}}b=1e3}else b=1e3;b=ga(this,ut,b),N=ze(this.I),Bt(N,"RID",f),Bt(N,"CVER",22),this.D&&Bt(N,"X-HTTP-Session-Id",this.D),xr(this,N),yt&&(this.O?b="headers="+encodeURIComponent(String(ao(yt)))+"&"+b:this.m&&un(N,this.m,yt)),xe(this.h,ut),this.Ua&&Bt(N,"TYPE","init"),this.P?(Bt(N,"$req",b),Bt(N,"SID","null"),ut.T=!0,Pi(ut,N,null)):Pi(ut,N,b),this.G=2}}else this.G==3&&(f?ni(this,f):this.i.length==0||wr(this.h)||ni(this))};function ni(f,b){var N;b?N=b.l:N=f.U++;const V=ze(f.I);Bt(V,"SID",f.K),Bt(V,"RID",N),Bt(V,"AID",f.T),xr(f,V),f.m&&f.o&&un(V,f.m,f.o),N=new On(f,f.j,N,f.B+1),f.m===null&&(N.H=f.o),b&&(f.i=b.D.concat(f.i)),b=ga(f,N,1e3),N.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),xe(f.h,N),Pi(N,V,b)}function xr(f,b){f.H&&Z(f.H,function(N,V){Bt(b,V,N)}),f.l&&qt({},function(N,V){Bt(b,V,N)})}function ga(f,b,N){N=Math.min(f.i.length,N);var V=f.l?T(f.l.Na,f.l,f):null;t:{var ut=f.i;let yt=-1;for(;;){const xt=["count="+N];yt==-1?0<N?(yt=ut[0].g,xt.push("ofs="+yt)):yt=0:xt.push("ofs="+yt);let ve=!0;for(let Be=0;Be<N;Be++){let ee=ut[Be].g;const _n=ut[Be].map;if(ee-=yt,0>ee)yt=Math.max(0,ut[Be].g-100),ve=!1;else try{Si(_n,xt,"req"+ee+"_")}catch{V&&V(_n)}}if(ve){V=xt.join("&");break t}}}return f=f.i.splice(0,N),b.D=f,V}function Fi(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;j||z(),$||(j(),$=!0),rt.add(b,f),f.v=0}}function ho(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=sn(T(f.Fa,f),po(f,f.v)),f.v++,!0)}s.Fa=function(){if(this.u=null,fo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=sn(T(this.ab,this),f)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ue(10),co(this),fo(this))};function Js(f){f.A!=null&&(g.clearTimeout(f.A),f.A=null)}function fo(f){f.g=new On(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=ze(f.qa);Bt(b,"RID","rpc"),Bt(b,"SID",f.K),Bt(b,"AID",f.T),Bt(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&Bt(b,"TO",f.ja),Bt(b,"TYPE","xmlhttp"),xr(f,b),f.m&&f.o&&un(b,f.m,f.o),f.L&&(f.g.I=f.L);var N=f.g;f=f.ia,N.L=1,N.v=ci(ze(b)),N.m=null,N.P=!0,es(N,f)}s.Za=function(){this.C!=null&&(this.C=null,co(this),ho(this),Ue(19))};function mo(f){f.C!=null&&(g.clearTimeout(f.C),f.C=null)}function _a(f,b){var N=null;if(f.g==b){mo(f),Js(f),f.g=null;var V=2}else if(Qt(f.h,b))N=b.D,gn(f.h,b),V=1;else return;if(f.G!=0){if(b.o)if(V==1){N=b.m?b.m.length:0,b=Date.now()-b.F;var ut=f.B;V=$i(),te(V,new ln(V,N)),Qs(f)}else Fi(f);else if(ut=b.s,ut==3||ut==0&&0<b.X||!(V==1&&lu(f,b)||V==2&&ho(f)))switch(N&&0<N.length&&(b=f.h,b.i=b.i.concat(N)),ut){case 1:xs(f,5);break;case 4:xs(f,10);break;case 3:xs(f,6);break;default:xs(f,2)}}}function po(f,b){let N=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(N*=2),N*b}function xs(f,b){if(f.j.info("Error code "+b),b==2){var N=T(f.fb,f),V=f.Xa;const ut=!V;V=new Ge(V||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||br(V,"https"),ci(V),ut?ue(V.toString(),N):Ti(V.toString(),N)}else Ue(2);f.G=0,f.l&&f.l.sa(b),al(f),ol(f)}s.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function al(f){if(f.G=0,f.ka=[],f.l){const b=rs(f.h);(b.length!=0||f.i.length!=0)&&(X(f.ka,b),X(f.ka,f.i),f.h.i.length=0,G(f.i),f.i.length=0),f.l.ra()}}function go(f,b,N){var V=N instanceof Ge?ze(N):new Ge(N);if(V.g!="")b&&(V.g=b+"."+V.g),Ui(V,V.s);else{var ut=g.location;V=ut.protocol,b=b?b+"."+ut.hostname:ut.hostname,ut=+ut.port;var yt=new Ge(null);V&&br(yt,V),b&&(yt.g=b),ut&&Ui(yt,ut),N&&(yt.l=N),V=yt}return N=f.D,b=f.ya,N&&b&&Bt(V,N,b),Bt(V,"VER",f.la),xr(f,V),V}function ll(f,b,N){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new Ee(new ei({eb:N})):new Ee(f.pa),b.Ha(f.J),b}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function va(){}s=va.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Zn(f,b){ae.call(this),this.g=new lo(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!gt(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!gt(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new $s(this)}F(Zn,ae),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){uo(this.g)},Zn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.u&&(N={},N.__data__=nn(f),f=N);b.i.push(new Ws(b.Ya++,f)),b.G==3&&Qs(b)},Zn.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,Zn.aa.N.call(this)};function Ar(f){an.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){t:{for(const N in b){f=N;break t}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}F(Ar,an);function ls(){Qn.call(this),this.status=1}F(ls,Qn);function $s(f){this.g=f}F($s,va),$s.prototype.ua=function(){te(this.g,"a")},$s.prototype.ta=function(f){te(this.g,new Ar(f))},$s.prototype.sa=function(f){te(this.g,new ls)},$s.prototype.ra=function(){te(this.g,"b")},Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,ts.COMPLETE="complete",Li.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});const t0="@firebase/firestore",e0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new zf("@firebase/firestore");function Us(s,...t){if(Xl.logLevel<=Te.DEBUG){const n=t.map(Vp);Xl.debug(`Firestore (${kc}): ${s}`,...n)}}function ew(s,...t){if(Xl.logLevel<=Te.ERROR){const n=t.map(Vp);Xl.error(`Firestore (${kc}): ${s}`,...n)}}function yA(s,...t){if(Xl.logLevel<=Te.WARN){const n=t.map(Vp);Xl.warn(`Firestore (${kc}): ${s}`,...n)}}function Vp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(s,t,n){let o="Unexpected state";typeof t=="string"?o=t:n=t,nw(s,o,n)}function nw(s,t,n){let o=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{o+=" CONTEXT: "+JSON.stringify(n)}catch{o+=" CONTEXT: "+n}throw ew(o),new Error(o)}function oc(s,t,n,o){let l="Unexpected state";typeof n=="string"?l=n:o=n,s||nw(t,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class de extends gr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(_i.UNAUTHENTICATED)))}shutdown(){}}class bA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EA{constructor(t){this.t=t,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){oc(this.o===void 0,42304);let o=this.i;const l=y=>this.i!==o?(o=this.i,n(y)):Promise.resolve();let h=new ac;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ac,t.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{Us("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Us("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ac)}}),0),m()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((o=>this.i!==t?(Us("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(oc(typeof o.accessToken=="string",31837,{l:o}),new iw(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return oc(t===null||typeof t=="string",2055,{h:t}),new _i(t)}}class TA{constructor(t,n,o){this.P=t,this.T=n,this.I=o,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SA{constructor(t,n,o){this.P=t,this.T=n,this.I=o}getToken(){return Promise.resolve(new TA(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(_i.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xA{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){oc(this.o===void 0,3512);const o=h=>{h.error!=null&&Us("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,Us("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>o(h)))};const l=h=>{Us("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Us("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(oc(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let o=0;o<s;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const l=AA(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<n&&(o+=t.charAt(l[h]%62))}return o}}function sa(s,t){return s<t?-1:s>t?1:0}function NA(s,t){const n=Math.min(s.length,t.length);for(let o=0;o<n;o++){const l=s.charAt(o),h=t.charAt(o);if(l!==h)return qm(l)===qm(h)?sa(l,h):qm(l)?1:-1}return sa(s.length,t.length)}const RA=55296,IA=57343;function qm(s){const t=s.charCodeAt(0);return t>=RA&&t<=IA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__name__";class lr{constructor(t,n,o){n===void 0?n=0:n>t.length&&vc(637,{offset:n,range:t.length}),o===void 0?o=t.length-n:o>t.length-n&&vc(1746,{length:o,range:t.length-n}),this.segments=t,this.offset=n,this.len=o}get length(){return this.len}isEqual(t){return lr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof lr?t.forEach((o=>{n.push(o)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,o=this.limit();n<o;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const o=Math.min(t.length,n.length);for(let l=0;l<o;l++){const h=lr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return sa(t.length,n.length)}static compareSegments(t,n){const o=lr.isNumericId(t),l=lr.isNumericId(n);return o&&!l?-1:!o&&l?1:o&&l?lr.extractNumericId(t).compare(lr.extractNumericId(n)):NA(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fp.fromString(t.substring(4,t.length-2))}}class ks extends lr{construct(t,n,o){return new ks(t,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const o of t){if(o.indexOf("//")>=0)throw new de(fe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter((l=>l.length>0)))}return new ks(n)}static emptyPath(){return new ks([])}}const MA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ja extends lr{construct(t,n,o){return new ja(t,n,o)}static isValidIdentifier(t){return MA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ja.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new ja([i0])}static fromServerFormat(t){const n=[];let o="",l=0;const h=()=>{if(o.length===0)throw new de(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let m=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new de(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=y,l+=2}else g==="`"?(m=!m,l++):g!=="."||m?(o+=g,l++):(h(),l++)}if(h(),m)throw new de(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ja(n)}static emptyPath(){return new ja([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.path=t}static fromPath(t){return new Fa(ks.fromString(t))}static fromName(t){return new Fa(ks.fromString(t).popFirst(5))}static empty(){return new Fa(ks.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ks.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ks.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Fa(new ks(t.slice()))}}function OA(s,t,n,o){if(t===!0&&o===!0)throw new de(fe.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function LA(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function kA(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(o){return o.constructor?o.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vc(12329,{type:typeof s})}function DA(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new de(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kA(s);throw new de(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(s,t){const n={typeString:s};return t&&(n.value=t),n}function Dc(s,t){if(!LA(s))throw new de(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const o in t)if(t[o]){const l=t[o].typeString,h="value"in t[o]?{value:t[o].value}:void 0;if(!(o in s)){n=`JSON missing required field: '${o}'`;break}const m=s[o];if(l&&typeof m!==l){n=`JSON field '${o}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${o}' field to equal '${h.value}'`;break}}if(n)throw new de(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=-62135596800,r0=1e6;class ur{static now(){return ur.fromMillis(Date.now())}static fromDate(t){return ur.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),o=Math.floor((t-1e3*n)*r0);return new ur(n,o)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new de(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<s0)throw new de(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new de(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(t){return this.seconds===t.seconds?sa(this.nanoseconds,t.nanoseconds):sa(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ur._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Dc(t,ur._jsonSchema))return new ur(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-s0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ur._jsonSchemaVersion="firestore/timestamp/1.0",ur._jsonSchema={type:bn("string",ur._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};function PA(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new UA("Invalid base64 string: "+h):h}})(t);return new Qa(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h})(t);return new Qa(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return sa(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qa.EMPTY_BYTE_STRING=new Qa("");const hp="(default)";class pf{constructor(t,n){this.projectId=t,this.database=n||hp}static empty(){return new pf("","")}get isDefaultDatabase(){return this.database===hp}isEqual(t){return t instanceof pf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,n=null,o=[],l=[],h=null,m="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=m,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BA(s){return new zA(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o0,he;(he=o0||(o0={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Fp([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1048576;function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t,n,o=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=o,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-o);l>0&&Us("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,n,o,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new ac,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,o,l,h){const m=Date.now()+o,g=new qp(t,n,m,l,h);return g.start(o),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var a0,l0;(l0=a0||(a0={})).Ma="default",l0.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firestore.googleapis.com",c0=!0;class h0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new de(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sw,this.ssl=c0}else this.host=t.host,this.ssl=t.ssl??c0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HA)throw new de(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VA(t.experimentalLongPollingOptions??{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(o,l){return o.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rw{constructor(t,n,o,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new de(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new wA;switch(o.type){case"firstParty":return new SA(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new de(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const o=u0.get(n);o&&(Us("ComponentProvider","Removing Datastore"),u0.delete(n),o.terminate())})(this),Promise.resolve()}}function qA(s,t,n,o={}){s=DA(s,rw);const l=la(t),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;l&&(Df(`https://${g}`),Pf("Firestore",!0)),h.host!==sw&&h.host!==g&&yA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:l,emulatorOptions:o};if(!na(y,m)&&(s._setSettings(y),o.mockUserToken)){let E,w;if(typeof o.mockUserToken=="string")E=o.mockUserToken,w=_i.MOCK_USER;else{E=Cp(o.mockUserToken,s._app?.options.projectId);const S=o.mockUserToken.sub||o.mockUserToken.user_id;if(!S)throw new de(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new _i(S)}s._authCredentials=new bA(new iw(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Gp(this.firestore,t,this._query)}}class fr{constructor(t,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fr(this.firestore,t,this._key)}toJSON(){return{type:fr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,o){if(Dc(n,fr._jsonSchema))return new fr(t,o||null,new Fa(ks.fromString(n.referencePath)))}}fr._jsonSchemaVersion="firestore/documentReference/1.0",fr._jsonSchema={type:bn("string",fr._jsonSchemaVersion),referencePath:bn("string")};class Zp extends Gp{constructor(t,n,o){super(t,n,BA(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fr(this.firestore,null,new Fa(t))}withConverter(t){return new Zp(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="AsyncQueue";class d0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FA(this,"async_queue_retry"),this._c=()=>{const o=Gm();o&&Us(f0,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=t;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ac;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!PA(t))throw t;Us(f0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((o=>{throw this.nc=o,this.rc=!1,ew("INTERNAL UNHANDLED ERROR: ",m0(o)),o})).then((o=>(this.rc=!1,o))))));return this.ac=n,n}enqueueAfterDelay(t,n,o){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=qp.createAndSchedule(this,t,n,o,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&vc(47125,{Pc:m0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,o)=>n.targetTimeMs-o.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function m0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class GA extends rw{constructor(t,n,o,l){super(t,n,o,l),this.type="firestore",this._queue=new d0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new d0(t),this._firestoreClient=void 0,await t}}}function ZA(s,t){const n=typeof s=="object"?s:Bf(),o=typeof s=="string"?s:hp,l=Rc(n,"firestore").getImmediate({identifier:o});if(!l._initialized){const h=Ap("firestore");h&&qA(l,...h)}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hr(Qa.fromBase64String(t))}catch(n){throw new de(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Hr(Qa.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Dc(t,Hr._jsonSchema))return Hr.fromBase64String(t.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:bn("string",Hr._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new de(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ja(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new de(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new de(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return sa(this._lat,t._lat)||sa(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Za._jsonSchemaVersion}}static fromJSON(t){if(Dc(t,Za._jsonSchema))return new Za(t.latitude,t.longitude)}}Za._jsonSchemaVersion="firestore/geoPoint/1.0",Za._jsonSchema={type:bn("string",Za._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(o,l){if(o.length!==l.length)return!1;for(let h=0;h<o.length;++h)if(o[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Dc(t,Wa._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Wa(t.vectorValues);throw new de(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wa._jsonSchemaVersion="firestore/vectorValue/1.0",Wa._jsonSchema={type:bn("string",Wa._jsonSchemaVersion),vectorValues:bn("object")};const WA=new RegExp("[~\\*/\\[\\]]");function YA(s,t,n){if(t.search(WA)>=0)throw p0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new ow(...t.split("."))._internalPath}catch{throw p0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function p0(s,t,n,o,l){let h=`Function ${t}() called with invalid data`;h+=". ";let m="";return new de(fe.INVALID_ARGUMENT,h+s+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,n,o,l,h){this._firestore=t,this._userDataWriter=n,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(lw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KA extends aw{data(){return super.data()}}function lw(s,t){return typeof t=="string"?YA(s,t):t instanceof ow?t._internalPath:t._delegate._internalPath}class Zh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gl extends aw{constructor(t,n,o,l,h,m){super(t,n,o,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const o=this._document.data.field(lw("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gl._jsonSchema={type:bn("string",Gl._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class tf extends Gl{data(t={}){return super.data(t)}}class lc{constructor(t,n,o,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Zh(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((o=>{t.call(n,new tf(this._firestore,this._userDataWriter,o.key,o,new Zh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((g=>{const y=new tf(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zh(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const y=new tf(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zh(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,w=-1;return g.type!==0&&(E=m.indexOf(g.doc.key),m=m.delete(g.doc.key)),g.type!==1&&(m=m.add(g.doc),w=m.indexOf(g.doc.key)),{type:XA(g.type),doc:y,oldIndex:E,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=CA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],o=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),o.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function XA(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vc(61501,{type:s})}}lc._jsonSchemaVersion="firestore/querySnapshot/1.0",lc._jsonSchema={type:bn("string",lc._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};(function(t,n=!0){(function(l){kc=l})(ua),ia(new Wr("firestore",((o,{instanceIdentifier:l,options:h})=>{const m=o.getProvider("app").getImmediate(),g=new GA(new EA(o.getProvider("auth-internal")),new xA(m,o.getProvider("app-check-internal")),(function(E,w){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new de(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pf(E.options.projectId,w)})(m,l),m);return h={useFetchStreams:n,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),ps(t0,e0,t),ps(t0,e0,"esm2020")})();var g0={};const _0="@firebase/database",v0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uw="";function QA(s){uw=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Cn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:mc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Jr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new JA(t)}}catch{}return new $A},Va=cw("localStorage"),tC=cw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new zf("@firebase/database"),eC=(function(){let s=1;return function(){return s++}})(),hw=function(s){const t=ZE(s),n=new FE;n.update(t);const o=n.digest();return Sp.encodeByteArray(o)},Pc=function(...s){let t="";for(let n=0;n<s.length;n++){const o=s[n];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Pc.apply(null,o):typeof o=="object"?t+=Cn(o):t+=o,t+=" "}return t};let uc=null,y0=!0;const nC=function(s,t){At(!0,"Can't turn on custom loggers persistently."),Zl.logLevel=Te.VERBOSE,uc=Zl.log.bind(Zl)},li=function(...s){if(y0===!0&&(y0=!1,uc===null&&tC.get("logging_enabled")===!0&&nC()),uc){const t=Pc.apply(null,s);uc(t)}},Uc=function(s){return function(...t){li(s,...t)}},fp=function(...s){const t="FIREBASE INTERNAL ERROR: "+Pc(...s);Zl.error(t)},Xr=function(...s){const t=`FIREBASE FATAL ERROR: ${Pc(...s)}`;throw Zl.error(t),new Error(t)},Mi=function(...s){const t="FIREBASE WARNING: "+Pc(...s);Zl.warn(t)},iC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fw=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},sC=function(s){if(document.readyState==="complete")s();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ql="[MIN_NAME]",Ja="[MAX_NAME]",su=function(s,t){if(s===t)return 0;if(s===Ql||t===Ja)return-1;if(t===Ql||s===Ja)return 1;{const n=w0(s),o=w0(t);return n!==null?o!==null?n-o===0?s.length-t.length:n-o:-1:o!==null?1:s<t?-1:1}},rC=function(s,t){return s===t?0:s<t?-1:1},Qu=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+Cn(t))},Wp=function(s){if(typeof s!="object"||s===null)return Cn(s);const t=[];for(const o in s)t.push(o);t.sort();let n="{";for(let o=0;o<t.length;o++)o!==0&&(n+=","),n+=Cn(t[o]),n+=":",n+=Wp(s[t[o]]);return n+="}",n},dw=function(s,t){const n=s.length;if(n<=t)return[s];const o=[];for(let l=0;l<n;l+=t)l+t>n?o.push(s.substring(l,n)):o.push(s.substring(l,l+t));return o};function Oi(s,t){for(const n in s)s.hasOwnProperty(n)&&t(n,s[n])}const mw=function(s){At(!fw(s),"Invalid JSON number");const t=11,n=52,o=(1<<t-1)-1;let l,h,m,g,y;s===0?(h=0,m=0,l=1/s===-1/0?1:0):(l=s<0,s=Math.abs(s),s>=Math.pow(2,1-o)?(g=Math.min(Math.floor(Math.log(s)/Math.LN2),o),h=g+o,m=Math.round(s*Math.pow(2,n-g)-Math.pow(2,n))):(h=0,m=Math.round(s/Math.pow(2,1-o-n))));const E=[];for(y=n;y;y-=1)E.push(m%2?1:0),m=Math.floor(m/2);for(y=t;y;y-=1)E.push(h%2?1:0),h=Math.floor(h/2);E.push(l?1:0),E.reverse();const w=E.join("");let S="";for(y=0;y<64;y+=8){let T=parseInt(w.substr(y,8),2).toString(16);T.length===1&&(T="0"+T),S=S+T}return S.toLowerCase()},oC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lC(s,t){let n="Unknown Error";s==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?n="Client doesn't have permission to access the desired data.":s==="unavailable"&&(n="The service is unavailable");const o=new Error(s+" at "+t._path.toString()+": "+n);return o.code=s.toUpperCase(),o}const uC=new RegExp("^-?(0*)\\d{1,10}$"),cC=-2147483648,hC=2147483647,w0=function(s){if(uC.test(s)){const t=Number(s);if(t>=cC&&t<=hC)return t}return null},ru=function(s){try{s()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Mi("Exception was thrown by user callback.",n),t},Math.floor(0))}},fC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},cc=function(s,t){const n=setTimeout(s,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,vi(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(o=>this.appCheck=o)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,o):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Mi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,n,o){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(li("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,o):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mi(t)}}class ef{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ef.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="5",pw="v",gw="s",_w="r",vw="f",yw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ww="ls",bw="p",dp="ac",Ew="websocket",Tw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,n,o,l,h=!1,m="",g=!1,y=!1,E=null){this.secure=n,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=y,this.emulatorOptions=E,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Va.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Va.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function pC(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function xw(s,t,n){At(typeof t=="string","typeof type must == string"),At(typeof n=="object","typeof params must == object");let o;if(t===Ew)o=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Tw)o=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);pC(s)&&(n.ns=s.namespace);const l=[];return Oi(n,(h,m)=>{l.push(h+"="+m)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.counters_={}}incrementCounter(t,n=1){Jr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return TE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm={},Wm={};function Kp(s){const t=s.toString();return Zm[t]||(Zm[t]=new gC),Zm[t]}function _C(s,t){const n=s.toString();return Wm[n]||(Wm[n]=t()),Wm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&ru(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="start",yC="close",wC="pLPCommand",bC="pRTLPCB",Aw="id",Cw="pw",Nw="ser",EC="cb",TC="seg",SC="ts",xC="d",AC="dframe",Rw=1870,Iw=30,CC=Rw-Iw,NC=25e3,RC=3e4;class jl{constructor(t,n,o,l,h,m,g){this.connId=t,this.repoInfo=n,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.transportSessionId=m,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uc(t),this.stats_=Kp(n),this.urlFn=y=>(this.appCheckToken&&(y[dp]=this.appCheckToken),xw(n,Tw,y))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(RC)),sC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xp((...h)=>{const[m,g,y,E,w]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===b0)this.id=g,this.password=y;else if(m===yC)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...h)=>{const[m,g]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,g)},()=>{this.onClosed_()},this.urlFn);const o={};o[b0]="t",o[Nw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[EC]=this.scriptTagHolder.uniqueCallbackIdentifier),o[pw]=Yp,this.transportSessionId&&(o[gw]=this.transportSessionId),this.lastSessionId&&(o[ww]=this.lastSessionId),this.applicationId&&(o[bw]=this.applicationId),this.appCheckToken&&(o[dp]=this.appCheckToken),typeof location<"u"&&location.hostname&&yw.test(location.hostname)&&(o[_w]=vw);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jl.forceAllow_=!0}static forceDisallow(){jl.forceDisallow_=!0}static isAvailable(){return jl.forceAllow_?!0:!jl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oC()&&!aC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Cn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=l1(n),l=dw(o,CC);for(let h=0;h<l.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[h]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const o={};o[AC]="t",o[Aw]=t,o[Cw]=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Cn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xp{constructor(t,n,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eC(),window[wC+this.uniqueCallbackIdentifier]=t,window[bC+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xp.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(g){li("frame writing exception"),g.stack&&li(g.stack),li(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||li("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Aw]=this.myID,t[Cw]=this.myPW,t[Nw]=this.currentSerial;let n=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Iw+o.length<=Rw;){const m=this.pendingSegs.shift();o=o+"&"+TC+l+"="+m.seg+"&"+SC+l+"="+m.ts+"&"+xC+l+"="+m.d,l++}return n=n+o,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,o){this.pendingSegs.push({seg:t,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(o,Math.floor(NC)),h=()=>{clearTimeout(l),o()};this.addTag(t,h)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{li("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=16384,MC=45e3;let gf=null;typeof MozWebSocket<"u"?gf=MozWebSocket:typeof WebSocket<"u"&&(gf=WebSocket);class Ds{constructor(t,n,o,l,h,m,g){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uc(this.connId),this.stats_=Kp(n),this.connURL=Ds.connectionURL_(n,m,g,l,o),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,o,l,h){const m={};return m[pw]=Yp,typeof location<"u"&&location.hostname&&yw.test(location.hostname)&&(m[_w]=vw),n&&(m[gw]=n),o&&(m[ww]=o),l&&(m[dp]=l),h&&(m[bw]=h),xw(t,Ew,m)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Va.set("previous_websocket_failure",!0);try{let o;kE(),this.mySock=new gf(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Ds.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(n);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&gf!==null&&!Ds.forceDisallow_}static previouslyFailed(){return Va.isInMemoryStorage||Va.get("previous_websocket_failure")===!0}markConnectionHealthy(){Va.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const o=mc(n);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(At(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const o=this.extractFrameCount_(n);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const n=Cn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=dw(n,IC);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(MC))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ds.responsesRequiredToBeHealthy=2;Ds.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{static get ALL_TRANSPORTS(){return[jl,Ds]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Ds&&Ds.isAvailable();let o=n&&!Ds.previouslyFailed();if(t.webSocketOnly&&(n||Mi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ds];else{const l=this.transports_=[];for(const h of yc.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);yc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=6e4,LC=5e3,kC=10*1024,DC=100*1024,Ym="t",E0="d",PC="s",T0="r",UC="e",S0="o",x0="a",A0="n",C0="p",zC="h";class BC{constructor(t,n,o,l,h,m,g,y,E,w){this.id=t,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=h,this.onMessage_=m,this.onReady_=g,this.onDisconnect_=y,this.onKill_=E,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uc("c:"+this.id+":"),this.transportManager_=new yc(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=cc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>DC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ym in t){const n=t[Ym];n===x0?this.upgradeIfSecondaryHealthy_():n===T0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===S0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Qu("t",t),o=Qu("d",t);if(n==="c")this.onSecondaryControl_(o);else if(n==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:C0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:x0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:A0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Qu("t",t),o=Qu("d",t);n==="c"?this.onControl_(o):n==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Qu(Ym,t);if(E0 in t){const o=t[E0];if(n===zC){const l={...o};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===A0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===PC?this.onConnectionShutdown_(o):n===T0?this.onReset_(o):n===UC?fp("Server Error: "+o):n===S0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fp("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Yp!==o&&Mi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),cc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(OC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:C0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{put(t,n,o,l){}merge(t,n,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,o){}onDisconnectMerge(t,n,o){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t){this.allowedEvents_=t,this.listeners_={},At(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,n)}}on(t,n,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:o});const l=this.getInitialEvent(t);l&&n.apply(o,l)}off(t,n,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let h=0;h<l.length;h++)if(l[h].callback===n&&(!o||o===l[h].context)){l.splice(h,1);return}}validateEventType_(t){At(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends Ow{static getInstance(){return new _f}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Np()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return At(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=32,R0=768;class De{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function we(){return new De("")}function re(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ra(s){return s.pieces_.length-s.pieceNum_}function Fe(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new De(s.pieces_,t)}function Lw(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function jC(s){let t="";for(let n=s.pieceNum_;n<s.pieces_.length;n++)s.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[n])));return t||"/"}function kw(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Dw(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let n=s.pieceNum_;n<s.pieces_.length-1;n++)t.push(s.pieces_[n]);return new De(t,0)}function Nn(s,t){const n=[];for(let o=s.pieceNum_;o<s.pieces_.length;o++)n.push(s.pieces_[o]);if(t instanceof De)for(let o=t.pieceNum_;o<t.pieces_.length;o++)n.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&n.push(o[l])}return new De(n,0)}function se(s){return s.pieceNum_>=s.pieces_.length}function yi(s,t){const n=re(s),o=re(t);if(n===null)return t;if(n===o)return yi(Fe(s),Fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function Pw(s,t){if(ra(s)!==ra(t))return!1;for(let n=s.pieceNum_,o=t.pieceNum_;n<=s.pieces_.length;n++,o++)if(s.pieces_[n]!==t.pieces_[o])return!1;return!0}function zs(s,t){let n=s.pieceNum_,o=t.pieceNum_;if(ra(s)>ra(t))return!1;for(;n<s.pieces_.length;){if(s.pieces_[n]!==t.pieces_[o])return!1;++n,++o}return!0}class HC{constructor(t,n){this.errorPrefix_=n,this.parts_=kw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Uf(this.parts_[o]);Uw(this)}}function FC(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Uf(t),Uw(s)}function VC(s){const t=s.parts_.pop();s.byteLength_-=Uf(t),s.parts_.length>0&&(s.byteLength_-=1)}function Uw(s){if(s.byteLength_>R0)throw new Error(s.errorPrefix_+"has a key path longer than "+R0+" bytes ("+s.byteLength_+").");if(s.parts_.length>N0)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+N0+") or object contains a cycle "+Ba(s))}function Ba(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Ow{static getInstance(){return new Qp}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return At(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=1e3,qC=300*1e3,I0=30*1e3,GC=1.3,ZC=3e4,WC="server_kill",M0=3;class Zr extends Mw{constructor(t,n,o,l,h,m,g,y){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=g,this.authOverride_=y,this.id=Zr.nextPersistentConnectionId_++,this.log_=Uc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ju,this.maxReconnectDelay_=qC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&_f.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,o){const l=++this.requestNumber_,h={r:l,a:t,b:n};this.log_(Cn(h)),At(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const n=new kf,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:m=>{const g=m.d;m.s==="ok"?n.resolve(g):n.reject(g)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),n.promise}listen(t,n,o,l){this.initConnection_();const h=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),At(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),At(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const g={onComplete:l,hashFn:n,query:t,tag:o};this.listens.get(m).set(h,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(o)})}sendListen_(t){const n=t.query,o=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o},m="q";t.tag&&(h.q=n._queryObject,h.t=t.tag),h.h=t.hashFn(),this.sendRequest(m,h,g=>{const y=g.d,E=g.s;Zr.warnOnListenWarnings_(y,n),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",g),E!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(E,y))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Jr(t,"w")){const o=Kl(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',h=n._path.toString();Mi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||HE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=I0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=jE(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(n,o,l=>{const h=l.s,m=l.d||"error";this.authToken_===t&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,o=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,o)})}unlisten(t,n){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),At(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,n)}sendUnlisten_(t,n,o,l){this.log_("Unlisten on "+t+" for "+n);const h={p:t},m="n";l&&(h.q=o,h.t=l),this.sendRequest(m,h)}onDisconnectPut(t,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:o})}onDisconnectMerge(t,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:o})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,o,l){const h={p:n,d:o};this.log_("onDisconnect "+t,h),this.sendRequest(t,h,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(t,n,o,l){this.putInternal("p",t,n,o,l)}merge(t,n,o,l){this.putInternal("m",t,n,o,l)}putInternal(t,n,o,l,h){this.initConnection_();const m={p:n,d:o};h!==void 0&&(m.h=h),this.outstandingPuts_.push({action:t,request:m,onComplete:l}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,o,h=>{this.log_(n+" response",h),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,o=>{if(o.s!=="ok"){const h=o.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Cn(t));const n=t.r,o=this.requestCBHash_[n];o&&(delete this.requestCBHash_[n],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):fp("Unrecognized action received from server: "+Cn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){At(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZC&&(this.reconnectDelay_=Ju),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Zr.nextConnectionId_++,h=this.lastSessionId;let m=!1,g=null;const y=function(){g?g.close():(m=!0,o())},E=function(S){At(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(S)};this.realtime_={close:y,sendRequest:E};const w=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,T]=await Promise.all([this.authTokenProvider_.getToken(w),this.appCheckTokenProvider_.getToken(w)]);m?li("getToken() completed but was canceled"):(li("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=T&&T.token,g=new BC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,o,I=>{Mi(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(WC)},h))}catch(S){this.log_("Failed to get token: "+S),m||(this.repoInfo_.nodeAdmin&&Mi(S),y())}}}interrupt(t){li("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){li("Resuming connection for reason: "+t),delete this.interruptReasons_[t],np(this.interruptReasons_)&&(this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let o;n?o=n.map(h=>Wp(h)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const o=new De(t).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(n),h.delete(n),h.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,n){li("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=M0&&(this.reconnectDelay_=I0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){li("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=M0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+uw.replace(/\./g,"-")]=1,Np()?t["framework.cordova"]=1:d1()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=_f.getInstance().currentlyOnline();return np(this.interruptReasons_)&&t}}Zr.nextPersistentConnectionId_=0;Zr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new $t(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const o=new $t(Ql,t),l=new $t(Ql,n);return this.compare(o,l)!==0}minPost(){return $t.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh;class zw extends Vf{static get __EMPTY_NODE(){return Wh}static set __EMPTY_NODE(t){Wh=t}compare(t,n){return su(t.name,n.name)}isDefinedOn(t){throw eu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return $t.MIN}maxPost(){return new $t(Ja,Wh)}makePost(t,n){return At(typeof t=="string","KeyIndex indexValue must always be a string."),new $t(t,Wh)}toString(){return".key"}}const Wl=new zw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n,o,l,h=null){this.isReverse_=l,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!t.isEmpty();)if(t=t,m=n?o(t.key,n):1,l&&(m*=-1),m<0)this.isReverse_?t=t.left:t=t.right;else if(m===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Hn{constructor(t,n,o,l,h){this.key=t,this.value=n,this.color=o??Hn.RED,this.left=l??Ii.EMPTY_NODE,this.right=h??Ii.EMPTY_NODE}copy(t,n,o,l,h){return new Hn(t??this.key,n??this.value,o??this.color,l??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,o){let l=this;const h=o(t,l.key);return h<0?l=l.copy(null,null,null,l.left.insert(t,n,o),null):h===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ii.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let o,l;if(o=this,n(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),n(t,o.key)===0){if(o.right.isEmpty())return Ii.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Hn.RED=!0;Hn.BLACK=!1;class YC{copy(t,n,o,l,h){return this}insert(t,n,o){return new Hn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ii{constructor(t,n=Ii.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ii(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Hn.BLACK,null,null))}remove(t){return new Ii(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Hn.BLACK,null,null))}get(t){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(t,o.key),n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(t){let n,o=this.root_,l=null;for(;!o.isEmpty();)if(n=this.comparator_(t,o.key),n===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else n<0?o=o.left:n>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Yh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Yh(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Yh(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Yh(this.root_,null,this.comparator_,!0,t)}}Ii.EMPTY_NODE=new YC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(s,t){return su(s.name,t.name)}function Jp(s,t){return su(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp;function XC(s){mp=s}const Bw=function(s){return typeof s=="number"?"number:"+mw(s):"string:"+s},jw=function(s){if(s.isLeafNode()){const t=s.val();At(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Jr(t,".sv"),"Priority must be a string or number.")}else At(s===mp||s.isEmpty(),"priority of unexpected type.");At(s===mp||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0;class jn{static set __childrenNodeConstructor(t){O0=t}static get __childrenNodeConstructor(){return O0}constructor(t,n=jn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,At(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new jn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:jn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return se(t)?this:re(t)===".priority"?this.priorityNode_:jn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:jn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const o=re(t);return o===null?n:n.isEmpty()&&o!==".priority"?this:(At(o!==".priority"||ra(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,jn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Bw(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=mw(this.value_):t+=this.value_,this.lazyHash_=hw(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===jn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof jn.__childrenNodeConstructor?-1:(At(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,o=typeof this.value_,l=jn.VALUE_TYPE_ORDER.indexOf(n),h=jn.VALUE_TYPE_ORDER.indexOf(o);return At(l>=0,"Unknown leaf type: "+n),At(h>=0,"Unknown leaf type: "+o),l===h?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}jn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hw,Fw;function QC(s){Hw=s}function JC(s){Fw=s}class $C extends Vf{compare(t,n){const o=t.node.getPriority(),l=n.node.getPriority(),h=o.compareTo(l);return h===0?su(t.name,n.name):h}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return $t.MIN}maxPost(){return new $t(Ja,new jn("[PRIORITY-POST]",Fw))}makePost(t,n){const o=Hw(t);return new $t(n,new jn("[PRIORITY-POST]",o))}toString(){return".priority"}}const on=new $C;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=Math.log(2);class eN{constructor(t){const n=h=>parseInt(Math.log(h)/tN,10),o=h=>parseInt(Array(h+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const vf=function(s,t,n,o){s.sort(t);const l=function(y,E){const w=E-y;let S,T;if(w===0)return null;if(w===1)return S=s[y],T=n?n(S):S,new Hn(T,S.node,Hn.BLACK,null,null);{const I=parseInt(w/2,10)+y,F=l(y,I),G=l(I+1,E);return S=s[I],T=n?n(S):S,new Hn(T,S.node,Hn.BLACK,F,G)}},h=function(y){let E=null,w=null,S=s.length;const T=function(F,G){const X=S-F,K=S;S-=F;const gt=l(X+1,K),it=s[X],J=n?n(it):it;I(new Hn(J,it.node,G,null,gt))},I=function(F){E?(E.left=F,E=F):(w=F,E=F)};for(let F=0;F<y.count;++F){const G=y.nextBitIsOne(),X=Math.pow(2,y.count-(F+1));G?T(X,Hn.BLACK):(T(X,Hn.BLACK),T(X,Hn.RED))}return w},m=new eN(s.length),g=h(m);return new Ii(o||t,g)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km;const Bl={};class qr{static get Default(){return At(Bl&&on,"ChildrenNode.ts has not been loaded"),Km=Km||new qr({".priority":Bl},{".priority":on}),Km}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Kl(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ii?n:null}hasIndex(t){return Jr(this.indexSet_,t.toString())}addIndex(t,n){At(t!==Wl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const h=n.getIterator($t.Wrap);let m=h.getNext();for(;m;)l=l||t.isDefinedOn(m.node),o.push(m),m=h.getNext();let g;l?g=vf(o,t.getCompare()):g=Bl;const y=t.toString(),E={...this.indexSet_};E[y]=t;const w={...this.indexes_};return w[y]=g,new qr(w,E)}addToIndexes(t,n){const o=of(this.indexes_,(l,h)=>{const m=Kl(this.indexSet_,h);if(At(m,"Missing index implementation for "+h),l===Bl)if(m.isDefinedOn(t.node)){const g=[],y=n.getIterator($t.Wrap);let E=y.getNext();for(;E;)E.name!==t.name&&g.push(E),E=y.getNext();return g.push(t),vf(g,m.getCompare())}else return Bl;else{const g=n.get(t.name);let y=l;return g&&(y=y.remove(new $t(t.name,g))),y.insert(t,t.node)}});return new qr(o,this.indexSet_)}removeFromIndexes(t,n){const o=of(this.indexes_,l=>{if(l===Bl)return l;{const h=n.get(t.name);return h?l.remove(new $t(t.name,h)):l}});return new qr(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;class Ht{static get EMPTY_NODE(){return $u||($u=new Ht(new Ii(Jp),null,qr.Default))}constructor(t,n,o){this.children_=t,this.priorityNode_=n,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&jw(this.priorityNode_),this.children_.isEmpty()&&At(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$u}updatePriority(t){return this.children_.isEmpty()?this:new Ht(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?$u:n}}getChild(t){const n=re(t);return n===null?this:this.getImmediateChild(n).getChild(Fe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(At(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const o=new $t(t,n);let l,h;n.isEmpty()?(l=this.children_.remove(t),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,n),h=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?$u:this.priorityNode_;return new Ht(l,m,h)}}updateChild(t,n){const o=re(t);if(o===null)return n;{At(re(t)!==".priority"||ra(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Fe(t),n);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let o=0,l=0,h=!0;if(this.forEachChild(on,(m,g)=>{n[m]=g.val(t),o++,h&&Ht.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):h=!1}),!t&&h&&l<2*o){const m=[];for(const g in n)m[g]=n[g];return m}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Bw(this.getPriority().val())+":"),this.forEachChild(on,(n,o)=>{const l=o.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":hw(t)}return this.lazyHash_}getPredecessorChildName(t,n,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new $t(t,n));return h?h.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const o=n.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new $t(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const o=n.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new $t(n,this.children_.get(n)):null}forEachChild(t,n){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const o=this.resolveIndex_(n);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,$t.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,t)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const o=this.resolveIndex_(n);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,$t.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,t)>0;)l.getNext(),h=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zc?-1:0}withIndex(t){if(t===Wl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Ht(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Wl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const o=this.getIterator(on),l=n.getIterator(on);let h=o.getNext(),m=l.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=o.getNext(),m=l.getNext()}return h===null&&m===null}else return!1;else return!1}}resolveIndex_(t){return t===Wl?null:this.indexMap_.get(t.toString())}}Ht.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class nN extends Ht{constructor(){super(new Ii(Jp),Ht.EMPTY_NODE,qr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ht.EMPTY_NODE}isEmpty(){return!1}}const zc=new nN;Object.defineProperties($t,{MIN:{value:new $t(Ql,Ht.EMPTY_NODE)},MAX:{value:new $t(Ja,zc)}});zw.__EMPTY_NODE=Ht.EMPTY_NODE;jn.__childrenNodeConstructor=Ht;XC(zc);JC(zc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=!0;function Fn(s,t=null){if(s===null)return Ht.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),At(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const n=s;return new jn(n,Fn(t))}if(!(s instanceof Array)&&iN){const n=[];let o=!1;if(Oi(s,(m,g)=>{if(m.substring(0,1)!=="."){const y=Fn(g);y.isEmpty()||(o=o||!y.getPriority().isEmpty(),n.push(new $t(m,y)))}}),n.length===0)return Ht.EMPTY_NODE;const h=vf(n,KC,m=>m.name,Jp);if(o){const m=vf(n,on.getCompare());return new Ht(h,Fn(t),new qr({".priority":m},{".priority":on}))}else return new Ht(h,Fn(t),qr.Default)}else{let n=Ht.EMPTY_NODE;return Oi(s,(o,l)=>{if(Jr(s,o)&&o.substring(0,1)!=="."){const h=Fn(l);(h.isLeafNode()||!h.isEmpty())&&(n=n.updateImmediateChild(o,h))}}),n.updatePriority(Fn(t))}}QC(Fn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN extends Vf{constructor(t){super(),this.indexPath_=t,At(!se(t)&&re(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const o=this.extractChild(t.node),l=this.extractChild(n.node),h=o.compareTo(l);return h===0?su(t.name,n.name):h}makePost(t,n){const o=Fn(t),l=Ht.EMPTY_NODE.updateChild(this.indexPath_,o);return new $t(n,l)}maxPost(){const t=Ht.EMPTY_NODE.updateChild(this.indexPath_,zc);return new $t(Ja,t)}toString(){return kw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends Vf{compare(t,n){const o=t.node.compareTo(n.node);return o===0?su(t.name,n.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return $t.MIN}maxPost(){return $t.MAX}makePost(t,n){const o=Fn(t);return new $t(n,o)}toString(){return".value"}}const oN=new rN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(s){return{type:"value",snapshotNode:s}}function Jl(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function wc(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function bc(s,t,n){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:n}}function aN(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t){this.index_=t}updateChild(t,n,o,l,h,m){At(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(n);return g.getChild(l).equals(o.getChild(l))&&g.isEmpty()===o.isEmpty()||(m!=null&&(o.isEmpty()?t.hasChild(n)?m.trackChildChange(wc(n,g)):At(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?m.trackChildChange(Jl(n,o)):m.trackChildChange(bc(n,o,g))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(t,n,o){return o!=null&&(t.isLeafNode()||t.forEachChild(on,(l,h)=>{n.hasChild(l)||o.trackChildChange(wc(l,h))}),n.isLeafNode()||n.forEachChild(on,(l,h)=>{if(t.hasChild(l)){const m=t.getImmediateChild(l);m.equals(h)||o.trackChildChange(bc(l,h,m))}else o.trackChildChange(Jl(l,h))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Ht.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t){this.indexedFilter_=new $p(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ec.getStartPost_(t),this.endPost_=Ec.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&o}updateChild(t,n,o,l,h,m){return this.matches(new $t(n,o))||(o=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,o,l,h,m)}updateFullNode(t,n,o){n.isLeafNode()&&(n=Ht.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(Ht.EMPTY_NODE);const h=this;return n.forEachChild(on,(m,g)=>{h.matches(new $t(m,g))||(l=l.updateImmediateChild(m,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Ec(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,o,l,h,m){return this.rangedFilter_.matches(new $t(n,o))||(o=Ht.EMPTY_NODE),t.getImmediateChild(n).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,o,l,h,m):this.fullLimitUpdateChild_(t,n,o,h,m)}updateFullNode(t,n,o){let l;if(n.isLeafNode()||n.isEmpty())l=Ht.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=Ht.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const g=h.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))l=l.updateImmediateChild(g.name,g.node),m++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(Ht.EMPTY_NODE);let h;this.reverse_?h=l.getReverseIterator(this.index_):h=l.getIterator(this.index_);let m=0;for(;h.hasNext();){const g=h.getNext();m<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?m++:l=l.updateImmediateChild(g.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,o,l,h){let m;if(this.reverse_){const S=this.index_.getCompare();m=(T,I)=>S(I,T)}else m=this.index_.getCompare();const g=t;At(g.numChildren()===this.limit_,"");const y=new $t(n,o),E=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),w=this.rangedFilter_.matches(y);if(g.hasChild(n)){const S=g.getImmediateChild(n);let T=l.getChildAfterChild(this.index_,E,this.reverse_);for(;T!=null&&(T.name===n||g.hasChild(T.name));)T=l.getChildAfterChild(this.index_,T,this.reverse_);const I=T==null?1:m(T,y);if(w&&!o.isEmpty()&&I>=0)return h?.trackChildChange(bc(n,o,S)),g.updateImmediateChild(n,o);{h?.trackChildChange(wc(n,S));const G=g.updateImmediateChild(n,Ht.EMPTY_NODE);return T!=null&&this.rangedFilter_.matches(T)?(h?.trackChildChange(Jl(T.name,T.node)),G.updateImmediateChild(T.name,T.node)):G}}else return o.isEmpty()?t:w&&m(E,y)>=0?(h!=null&&(h.trackChildChange(wc(E.name,E.node)),h.trackChildChange(Jl(n,o))),g.updateImmediateChild(n,o).updateImmediateChild(E.name,Ht.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=on}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return At(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return At(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ql}hasEnd(){return this.endSet_}getIndexEndValue(){return At(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return At(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ja}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return At(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===on}copy(){const t=new tg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function uN(s){return s.loadsAllData()?new $p(s.getIndex()):s.hasLimit()?new lN(s):new Ec(s)}function L0(s){const t={};if(s.isDefault())return t;let n;if(s.index_===on?n="$priority":s.index_===oN?n="$value":s.index_===Wl?n="$key":(At(s.index_ instanceof sN,"Unrecognized index type!"),n=s.index_.toString()),t.orderBy=Cn(n),s.startSet_){const o=s.startAfterSet_?"startAfter":"startAt";t[o]=Cn(s.indexStartValue_),s.startNameSet_&&(t[o]+=","+Cn(s.indexStartName_))}if(s.endSet_){const o=s.endBeforeSet_?"endBefore":"endAt";t[o]=Cn(s.indexEndValue_),s.endNameSet_&&(t[o]+=","+Cn(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function k0(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let n=s.viewFrom_;n===""&&(s.isViewFromLeft()?n="l":n="r"),t.vf=n}return s.index_!==on&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Mw{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(At(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=Uc("p:rest:"),this.listens_={}}listen(t,n,o,l){const h=t._path.toString();this.log_("Listen called for "+h+" "+t._queryIdentifier);const m=yf.getListenId_(t,o),g={};this.listens_[m]=g;const y=L0(t._queryParams);this.restRequest_(h+".json",y,(E,w)=>{let S=w;if(E===404&&(S=null,E=null),E===null&&this.onDataUpdate_(h,S,!1,o),Kl(this.listens_,m)===g){let T;E?E===401?T="permission_denied":T="rest_error:"+E:T="ok",l(T,null)}})}unlisten(t,n){const o=yf.getListenId_(t,n);delete this.listens_[o]}get(t){const n=L0(t._queryParams),o=t._path.toString(),l=new kf;return this.restRequest_(o+".json",n,(h,m)=>{let g=m;h===404&&(g=null,h=null),h===null?(this.onDataUpdate_(o,g,!1,null),l.resolve(g)):l.reject(new Error(g))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,h])=>{l&&l.accessToken&&(n.auth=l.accessToken),h&&h.token&&(n.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+nu(n);this.log_("Sending REST request for "+m);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(o&&g.readyState===4){this.log_("REST Response for "+m+" received. status:",g.status,"response:",g.responseText);let y=null;if(g.status>=200&&g.status<300){try{y=mc(g.responseText)}catch{Mi("Failed to parse JSON response for "+m+": "+g.responseText)}o(null,y)}else g.status!==401&&g.status!==404&&Mi("Got unsuccessful REST response for "+m+" Status: "+g.status),o(g.status);o=null}},g.open("GET",m,!0),g.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(){return{value:null,children:new Map}}function qw(s,t,n){if(se(t))s.value=n,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,n);else{const o=re(t);s.children.has(o)||s.children.set(o,wf());const l=s.children.get(o);t=Fe(t),qw(l,t,n)}}function pp(s,t,n){s.value!==null?n(t,s.value):hN(s,(o,l)=>{const h=new De(t.toString()+"/"+o);pp(l,h,n)})}function hN(s,t){s.children.forEach((n,o)=>{t(o,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&Oi(this.last_,(o,l)=>{n[o]=n[o]-l}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=10*1e3,dN=30*1e3,mN=300*1e3;class pN{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fN(t);const o=D0+(dN-D0)*Math.random();cc(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),n={};let o=!1;Oi(t,(l,h)=>{h>0&&Jr(this.statsToReport_,l)&&(n[l]=h,o=!0)}),o&&this.server_.reportStats(n),cc(this.reportStats_.bind(this),Math.floor(Math.random()*2*mN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bs;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bs||(Bs={}));function Gw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function eg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ng(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n,o){this.path=t,this.affectedTree=n,this.revert=o,this.type=Bs.ACK_USER_WRITE,this.source=Gw()}operationForChild(t){if(se(this.path)){if(this.affectedTree.value!=null)return At(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new De(t));return new bf(we(),n,this.revert)}}else return At(re(this.path)===t,"operationForChild called for unrelated child."),new bf(Fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n){this.source=t,this.path=n,this.type=Bs.LISTEN_COMPLETE}operationForChild(t){return se(this.path)?new Tc(this.source,we()):new Tc(this.source,Fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,n,o){this.source=t,this.path=n,this.snap=o,this.type=Bs.OVERWRITE}operationForChild(t){return se(this.path)?new $a(this.source,we(),this.snap.getImmediateChild(t)):new $a(this.source,Fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,n,o){this.source=t,this.path=n,this.children=o,this.type=Bs.MERGE}operationForChild(t){if(se(this.path)){const n=this.children.subtree(new De(t));return n.isEmpty()?null:n.value?new $a(this.source,we(),n.value):new Sc(this.source,we(),n)}else return At(re(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Sc(this.source,Fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,n,o){this.node_=t,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(se(t))return this.isFullyInitialized()&&!this.filtered_;const n=re(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function _N(s,t,n,o){const l=[],h=[];return t.forEach(m=>{m.type==="child_changed"&&s.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(aN(m.childName,m.snapshotNode))}),tc(s,l,"child_removed",t,o,n),tc(s,l,"child_added",t,o,n),tc(s,l,"child_moved",h,o,n),tc(s,l,"child_changed",t,o,n),tc(s,l,"value",t,o,n),l}function tc(s,t,n,o,l,h){const m=o.filter(g=>g.type===n);m.sort((g,y)=>yN(s,g,y)),m.forEach(g=>{const y=vN(s,g,h);l.forEach(E=>{E.respondsTo(g.type)&&t.push(E.createEvent(y,s.query_))})})}function vN(s,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function yN(s,t,n){if(t.childName==null||n.childName==null)throw eu("Should only compare child_ events.");const o=new $t(t.childName,t.snapshotNode),l=new $t(n.childName,n.snapshotNode);return s.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(s,t){return{eventCache:s,serverCache:t}}function hc(s,t,n,o){return qf(new oa(t,n,o),s.serverCache)}function Zw(s,t,n,o){return qf(s.eventCache,new oa(t,n,o))}function Ef(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function tl(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm;const wN=()=>(Xm||(Xm=new Ii(rC)),Xm);class Ze{static fromObject(t){let n=new Ze(null);return Oi(t,(o,l)=>{n=n.set(new De(o),l)}),n}constructor(t,n=wN()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(se(t))return null;{const o=re(t),l=this.children.get(o);if(l!==null){const h=l.findRootMostMatchingPathAndValue(Fe(t),n);return h!=null?{path:Nn(new De(o),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(se(t))return this;{const n=re(t),o=this.children.get(n);return o!==null?o.subtree(Fe(t)):new Ze(null)}}set(t,n){if(se(t))return new Ze(n,this.children);{const o=re(t),h=(this.children.get(o)||new Ze(null)).set(Fe(t),n),m=this.children.insert(o,h);return new Ze(this.value,m)}}remove(t){if(se(t))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const n=re(t),o=this.children.get(n);if(o){const l=o.remove(Fe(t));let h;return l.isEmpty()?h=this.children.remove(n):h=this.children.insert(n,l),this.value===null&&h.isEmpty()?new Ze(null):new Ze(this.value,h)}else return this}}get(t){if(se(t))return this.value;{const n=re(t),o=this.children.get(n);return o?o.get(Fe(t)):null}}setTree(t,n){if(se(t))return n;{const o=re(t),h=(this.children.get(o)||new Ze(null)).setTree(Fe(t),n);let m;return h.isEmpty()?m=this.children.remove(o):m=this.children.insert(o,h),new Ze(this.value,m)}}fold(t){return this.fold_(we(),t)}fold_(t,n){const o={};return this.children.inorderTraversal((l,h)=>{o[l]=h.fold_(Nn(t,l),n)}),n(t,this.value,o)}findOnPath(t,n){return this.findOnPath_(t,we(),n)}findOnPath_(t,n,o){const l=this.value?o(n,this.value):!1;if(l)return l;if(se(t))return null;{const h=re(t),m=this.children.get(h);return m?m.findOnPath_(Fe(t),Nn(n,h),o):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,we(),n)}foreachOnPath_(t,n,o){if(se(t))return this;{this.value&&o(n,this.value);const l=re(t),h=this.children.get(l);return h?h.foreachOnPath_(Fe(t),Nn(n,l),o):new Ze(null)}}foreach(t){this.foreach_(we(),t)}foreach_(t,n){this.children.inorderTraversal((o,l)=>{l.foreach_(Nn(t,o),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,o)=>{o.value&&t(n,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.writeTree_=t}static empty(){return new Fs(new Ze(null))}}function fc(s,t,n){if(se(t))return new Fs(new Ze(n));{const o=s.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let h=o.value;const m=yi(l,t);return h=h.updateChild(m,n),new Fs(s.writeTree_.set(l,h))}else{const l=new Ze(n),h=s.writeTree_.setTree(t,l);return new Fs(h)}}}function P0(s,t,n){let o=s;return Oi(n,(l,h)=>{o=fc(o,Nn(t,l),h)}),o}function U0(s,t){if(se(t))return Fs.empty();{const n=s.writeTree_.setTree(t,new Ze(null));return new Fs(n)}}function gp(s,t){return el(s,t)!=null}function el(s,t){const n=s.writeTree_.findRootMostValueAndPath(t);return n!=null?s.writeTree_.get(n.path).getChild(yi(n.path,t)):null}function z0(s){const t=[],n=s.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(on,(o,l)=>{t.push(new $t(o,l))}):s.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new $t(o,l.value))}),t}function ta(s,t){if(se(t))return s;{const n=el(s,t);return n!=null?new Fs(new Ze(n)):new Fs(s.writeTree_.subtree(t))}}function _p(s){return s.writeTree_.isEmpty()}function $l(s,t){return Ww(we(),s.writeTree_,t)}function Ww(s,t,n){if(t.value!=null)return n.updateChild(s,t.value);{let o=null;return t.children.inorderTraversal((l,h)=>{l===".priority"?(At(h.value!==null,"Priority writes must always be leaf nodes"),o=h.value):n=Ww(Nn(s,l),h,n)}),!n.getChild(s).isEmpty()&&o!==null&&(n=n.updateChild(Nn(s,".priority"),o)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(s,t){return Qw(t,s)}function bN(s,t,n,o,l){At(o>s.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),s.allWrites.push({path:t,snap:n,writeId:o,visible:l}),l&&(s.visibleWrites=fc(s.visibleWrites,t,n)),s.lastWriteId=o}function EN(s,t){for(let n=0;n<s.allWrites.length;n++){const o=s.allWrites[n];if(o.writeId===t)return o}return null}function TN(s,t){const n=s.allWrites.findIndex(g=>g.writeId===t);At(n>=0,"removeWrite called with nonexistent writeId.");const o=s.allWrites[n];s.allWrites.splice(n,1);let l=o.visible,h=!1,m=s.allWrites.length-1;for(;l&&m>=0;){const g=s.allWrites[m];g.visible&&(m>=n&&SN(g,o.path)?l=!1:zs(o.path,g.path)&&(h=!0)),m--}if(l){if(h)return xN(s),!0;if(o.snap)s.visibleWrites=U0(s.visibleWrites,o.path);else{const g=o.children;Oi(g,y=>{s.visibleWrites=U0(s.visibleWrites,Nn(o.path,y))})}return!0}else return!1}function SN(s,t){if(s.snap)return zs(s.path,t);for(const n in s.children)if(s.children.hasOwnProperty(n)&&zs(Nn(s.path,n),t))return!0;return!1}function xN(s){s.visibleWrites=Yw(s.allWrites,AN,we()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function AN(s){return s.visible}function Yw(s,t,n){let o=Fs.empty();for(let l=0;l<s.length;++l){const h=s[l];if(t(h)){const m=h.path;let g;if(h.snap)zs(n,m)?(g=yi(n,m),o=fc(o,g,h.snap)):zs(m,n)&&(g=yi(m,n),o=fc(o,we(),h.snap.getChild(g)));else if(h.children){if(zs(n,m))g=yi(n,m),o=P0(o,g,h.children);else if(zs(m,n))if(g=yi(m,n),se(g))o=P0(o,we(),h.children);else{const y=Kl(h.children,re(g));if(y){const E=y.getChild(Fe(g));o=fc(o,we(),E)}}}else throw eu("WriteRecord should have .snap or .children")}}return o}function Kw(s,t,n,o,l){if(!o&&!l){const h=el(s.visibleWrites,t);if(h!=null)return h;{const m=ta(s.visibleWrites,t);if(_p(m))return n;if(n==null&&!gp(m,we()))return null;{const g=n||Ht.EMPTY_NODE;return $l(m,g)}}}else{const h=ta(s.visibleWrites,t);if(!l&&_p(h))return n;if(!l&&n==null&&!gp(h,we()))return null;{const m=function(E){return(E.visible||l)&&(!o||!~o.indexOf(E.writeId))&&(zs(E.path,t)||zs(t,E.path))},g=Yw(s.allWrites,m,t),y=n||Ht.EMPTY_NODE;return $l(g,y)}}}function CN(s,t,n){let o=Ht.EMPTY_NODE;const l=el(s.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(on,(h,m)=>{o=o.updateImmediateChild(h,m)}),o;if(n){const h=ta(s.visibleWrites,t);return n.forEachChild(on,(m,g)=>{const y=$l(ta(h,new De(m)),g);o=o.updateImmediateChild(m,y)}),z0(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}else{const h=ta(s.visibleWrites,t);return z0(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}}function NN(s,t,n,o,l){At(o||l,"Either existingEventSnap or existingServerSnap must exist");const h=Nn(t,n);if(gp(s.visibleWrites,h))return null;{const m=ta(s.visibleWrites,h);return _p(m)?l.getChild(n):$l(m,l.getChild(n))}}function RN(s,t,n,o){const l=Nn(t,n),h=el(s.visibleWrites,l);if(h!=null)return h;if(o.isCompleteForChild(n)){const m=ta(s.visibleWrites,l);return $l(m,o.getNode().getImmediateChild(n))}else return null}function IN(s,t){return el(s.visibleWrites,t)}function MN(s,t,n,o,l,h,m){let g;const y=ta(s.visibleWrites,t),E=el(y,we());if(E!=null)g=E;else if(n!=null)g=$l(y,n);else return[];if(g=g.withIndex(m),!g.isEmpty()&&!g.isLeafNode()){const w=[],S=m.getCompare(),T=h?g.getReverseIteratorFrom(o,m):g.getIteratorFrom(o,m);let I=T.getNext();for(;I&&w.length<l;)S(I,o)!==0&&w.push(I),I=T.getNext();return w}else return[]}function ON(){return{visibleWrites:Fs.empty(),allWrites:[],lastWriteId:-1}}function Tf(s,t,n,o){return Kw(s.writeTree,s.treePath,t,n,o)}function ig(s,t){return CN(s.writeTree,s.treePath,t)}function B0(s,t,n,o){return NN(s.writeTree,s.treePath,t,n,o)}function Sf(s,t){return IN(s.writeTree,Nn(s.treePath,t))}function LN(s,t,n,o,l,h){return MN(s.writeTree,s.treePath,t,n,o,l,h)}function sg(s,t,n){return RN(s.writeTree,s.treePath,t,n)}function Xw(s,t){return Qw(Nn(s.treePath,t),s.writeTree)}function Qw(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,o=t.childName;At(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),At(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const h=l.type;if(n==="child_added"&&h==="child_removed")this.changeMap.set(o,bc(o,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&h==="child_added")this.changeMap.delete(o);else if(n==="child_removed"&&h==="child_changed")this.changeMap.set(o,wc(o,l.oldSnap));else if(n==="child_changed"&&h==="child_added")this.changeMap.set(o,Jl(o,t.snapshotNode));else if(n==="child_changed"&&h==="child_changed")this.changeMap.set(o,bc(o,t.snapshotNode,l.oldSnap));else throw eu("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{getCompleteChild(t){return null}getChildAfterChild(t,n,o){return null}}const Jw=new DN;class rg{constructor(t,n,o=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new oa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sg(this.writes_,t,o)}}getChildAfterChild(t,n,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:tl(this.viewCache_),h=LN(this.writes_,l,n,1,o,t);return h.length===0?null:h[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(s){return{filter:s}}function UN(s,t){At(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),At(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function zN(s,t,n,o,l){const h=new kN;let m,g;if(n.type===Bs.OVERWRITE){const E=n;E.source.fromUser?m=vp(s,t,E.path,E.snap,o,l,h):(At(E.source.fromServer,"Unknown source."),g=E.source.tagged||t.serverCache.isFiltered()&&!se(E.path),m=xf(s,t,E.path,E.snap,o,l,g,h))}else if(n.type===Bs.MERGE){const E=n;E.source.fromUser?m=jN(s,t,E.path,E.children,o,l,h):(At(E.source.fromServer,"Unknown source."),g=E.source.tagged||t.serverCache.isFiltered(),m=yp(s,t,E.path,E.children,o,l,g,h))}else if(n.type===Bs.ACK_USER_WRITE){const E=n;E.revert?m=VN(s,t,E.path,o,l,h):m=HN(s,t,E.path,E.affectedTree,o,l,h)}else if(n.type===Bs.LISTEN_COMPLETE)m=FN(s,t,n.path,o,h);else throw eu("Unknown operation type: "+n.type);const y=h.getChanges();return BN(t,m,y),{viewCache:m,changes:y}}function BN(s,t,n){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),h=Ef(s);(n.length>0||!s.eventCache.isFullyInitialized()||l&&!o.getNode().equals(h)||!o.getNode().getPriority().equals(h.getPriority()))&&n.push(Vw(Ef(t)))}}function $w(s,t,n,o,l,h){const m=t.eventCache;if(Sf(o,n)!=null)return t;{let g,y;if(se(n))if(At(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const E=tl(t),w=E instanceof Ht?E:Ht.EMPTY_NODE,S=ig(o,w);g=s.filter.updateFullNode(t.eventCache.getNode(),S,h)}else{const E=Tf(o,tl(t));g=s.filter.updateFullNode(t.eventCache.getNode(),E,h)}else{const E=re(n);if(E===".priority"){At(ra(n)===1,"Can't have a priority with additional path components");const w=m.getNode();y=t.serverCache.getNode();const S=B0(o,n,w,y);S!=null?g=s.filter.updatePriority(w,S):g=m.getNode()}else{const w=Fe(n);let S;if(m.isCompleteForChild(E)){y=t.serverCache.getNode();const T=B0(o,n,m.getNode(),y);T!=null?S=m.getNode().getImmediateChild(E).updateChild(w,T):S=m.getNode().getImmediateChild(E)}else S=sg(o,E,t.serverCache);S!=null?g=s.filter.updateChild(m.getNode(),E,S,w,l,h):g=m.getNode()}}return hc(t,g,m.isFullyInitialized()||se(n),s.filter.filtersNodes())}}function xf(s,t,n,o,l,h,m,g){const y=t.serverCache;let E;const w=m?s.filter:s.filter.getIndexedFilter();if(se(n))E=w.updateFullNode(y.getNode(),o,null);else if(w.filtersNodes()&&!y.isFiltered()){const I=y.getNode().updateChild(n,o);E=w.updateFullNode(y.getNode(),I,null)}else{const I=re(n);if(!y.isCompleteForPath(n)&&ra(n)>1)return t;const F=Fe(n),X=y.getNode().getImmediateChild(I).updateChild(F,o);I===".priority"?E=w.updatePriority(y.getNode(),X):E=w.updateChild(y.getNode(),I,X,F,Jw,null)}const S=Zw(t,E,y.isFullyInitialized()||se(n),w.filtersNodes()),T=new rg(l,S,h);return $w(s,S,n,l,T,g)}function vp(s,t,n,o,l,h,m){const g=t.eventCache;let y,E;const w=new rg(l,t,h);if(se(n))E=s.filter.updateFullNode(t.eventCache.getNode(),o,m),y=hc(t,E,!0,s.filter.filtersNodes());else{const S=re(n);if(S===".priority")E=s.filter.updatePriority(t.eventCache.getNode(),o),y=hc(t,E,g.isFullyInitialized(),g.isFiltered());else{const T=Fe(n),I=g.getNode().getImmediateChild(S);let F;if(se(T))F=o;else{const G=w.getCompleteChild(S);G!=null?Lw(T)===".priority"&&G.getChild(Dw(T)).isEmpty()?F=G:F=G.updateChild(T,o):F=Ht.EMPTY_NODE}if(I.equals(F))y=t;else{const G=s.filter.updateChild(g.getNode(),S,F,T,w,m);y=hc(t,G,g.isFullyInitialized(),s.filter.filtersNodes())}}}return y}function j0(s,t){return s.eventCache.isCompleteForChild(t)}function jN(s,t,n,o,l,h,m){let g=t;return o.foreach((y,E)=>{const w=Nn(n,y);j0(t,re(w))&&(g=vp(s,g,w,E,l,h,m))}),o.foreach((y,E)=>{const w=Nn(n,y);j0(t,re(w))||(g=vp(s,g,w,E,l,h,m))}),g}function H0(s,t,n){return n.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function yp(s,t,n,o,l,h,m,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y=t,E;se(n)?E=o:E=new Ze(null).setTree(n,o);const w=t.serverCache.getNode();return E.children.inorderTraversal((S,T)=>{if(w.hasChild(S)){const I=t.serverCache.getNode().getImmediateChild(S),F=H0(s,I,T);y=xf(s,y,new De(S),F,l,h,m,g)}}),E.children.inorderTraversal((S,T)=>{const I=!t.serverCache.isCompleteForChild(S)&&T.value===null;if(!w.hasChild(S)&&!I){const F=t.serverCache.getNode().getImmediateChild(S),G=H0(s,F,T);y=xf(s,y,new De(S),G,l,h,m,g)}}),y}function HN(s,t,n,o,l,h,m){if(Sf(l,n)!=null)return t;const g=t.serverCache.isFiltered(),y=t.serverCache;if(o.value!=null){if(se(n)&&y.isFullyInitialized()||y.isCompleteForPath(n))return xf(s,t,n,y.getNode().getChild(n),l,h,g,m);if(se(n)){let E=new Ze(null);return y.getNode().forEachChild(Wl,(w,S)=>{E=E.set(new De(w),S)}),yp(s,t,n,E,l,h,g,m)}else return t}else{let E=new Ze(null);return o.foreach((w,S)=>{const T=Nn(n,w);y.isCompleteForPath(T)&&(E=E.set(w,y.getNode().getChild(T)))}),yp(s,t,n,E,l,h,g,m)}}function FN(s,t,n,o,l){const h=t.serverCache,m=Zw(t,h.getNode(),h.isFullyInitialized()||se(n),h.isFiltered());return $w(s,m,n,o,Jw,l)}function VN(s,t,n,o,l,h){let m;if(Sf(o,n)!=null)return t;{const g=new rg(o,t,l),y=t.eventCache.getNode();let E;if(se(n)||re(n)===".priority"){let w;if(t.serverCache.isFullyInitialized())w=Tf(o,tl(t));else{const S=t.serverCache.getNode();At(S instanceof Ht,"serverChildren would be complete if leaf node"),w=ig(o,S)}w=w,E=s.filter.updateFullNode(y,w,h)}else{const w=re(n);let S=sg(o,w,t.serverCache);S==null&&t.serverCache.isCompleteForChild(w)&&(S=y.getImmediateChild(w)),S!=null?E=s.filter.updateChild(y,w,S,Fe(n),g,h):t.eventCache.getNode().hasChild(w)?E=s.filter.updateChild(y,w,Ht.EMPTY_NODE,Fe(n),g,h):E=y,E.isEmpty()&&t.serverCache.isFullyInitialized()&&(m=Tf(o,tl(t)),m.isLeafNode()&&(E=s.filter.updateFullNode(E,m,h)))}return m=t.serverCache.isFullyInitialized()||Sf(o,we())!=null,hc(t,E,m,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new $p(o.getIndex()),h=uN(o);this.processor_=PN(h);const m=n.serverCache,g=n.eventCache,y=l.updateFullNode(Ht.EMPTY_NODE,m.getNode(),null),E=h.updateFullNode(Ht.EMPTY_NODE,g.getNode(),null),w=new oa(y,m.isFullyInitialized(),l.filtersNodes()),S=new oa(E,g.isFullyInitialized(),h.filtersNodes());this.viewCache_=qf(S,w),this.eventGenerator_=new gN(this.query_)}get query(){return this.query_}}function GN(s){return s.viewCache_.serverCache.getNode()}function ZN(s){return Ef(s.viewCache_)}function WN(s,t){const n=tl(s.viewCache_);return n&&(s.query._queryParams.loadsAllData()||!se(t)&&!n.getImmediateChild(re(t)).isEmpty())?n.getChild(t):null}function F0(s){return s.eventRegistrations_.length===0}function YN(s,t){s.eventRegistrations_.push(t)}function V0(s,t,n){const o=[];if(n){At(t==null,"A cancel should cancel all event registrations.");const l=s.query._path;s.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(n,l);m&&o.push(m)})}if(t){let l=[];for(let h=0;h<s.eventRegistrations_.length;++h){const m=s.eventRegistrations_[h];if(!m.matches(t))l.push(m);else if(t.hasAnyCallback()){l=l.concat(s.eventRegistrations_.slice(h+1));break}}s.eventRegistrations_=l}else s.eventRegistrations_=[];return o}function q0(s,t,n,o){t.type===Bs.MERGE&&t.source.queryId!==null&&(At(tl(s.viewCache_),"We should always have a full cache before handling merges"),At(Ef(s.viewCache_),"Missing event cache, even though we have a server cache"));const l=s.viewCache_,h=zN(s.processor_,l,t,n,o);return UN(s.processor_,h.viewCache),At(h.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=h.viewCache,tb(s,h.changes,h.viewCache.eventCache.getNode(),null)}function KN(s,t){const n=s.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(on,(h,m)=>{o.push(Jl(h,m))}),n.isFullyInitialized()&&o.push(Vw(n.getNode())),tb(s,o,n.getNode(),t)}function tb(s,t,n,o){const l=o?[o]:s.eventRegistrations_;return _N(s.eventGenerator_,t,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;class eb{constructor(){this.views=new Map}}function XN(s){At(!Af,"__referenceConstructor has already been defined"),Af=s}function QN(){return At(Af,"Reference.ts has not been loaded"),Af}function JN(s){return s.views.size===0}function og(s,t,n,o){const l=t.source.queryId;if(l!==null){const h=s.views.get(l);return At(h!=null,"SyncTree gave us an op for an invalid query."),q0(h,t,n,o)}else{let h=[];for(const m of s.views.values())h=h.concat(q0(m,t,n,o));return h}}function nb(s,t,n,o,l){const h=t._queryIdentifier,m=s.views.get(h);if(!m){let g=Tf(n,l?o:null),y=!1;g?y=!0:o instanceof Ht?(g=ig(n,o),y=!1):(g=Ht.EMPTY_NODE,y=!1);const E=qf(new oa(g,y,!1),new oa(o,l,!1));return new qN(t,E)}return m}function $N(s,t,n,o,l,h){const m=nb(s,t,o,l,h);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,m),YN(m,n),KN(m,n)}function tR(s,t,n,o){const l=t._queryIdentifier,h=[];let m=[];const g=aa(s);if(l==="default")for(const[y,E]of s.views.entries())m=m.concat(V0(E,n,o)),F0(E)&&(s.views.delete(y),E.query._queryParams.loadsAllData()||h.push(E.query));else{const y=s.views.get(l);y&&(m=m.concat(V0(y,n,o)),F0(y)&&(s.views.delete(l),y.query._queryParams.loadsAllData()||h.push(y.query)))}return g&&!aa(s)&&h.push(new(QN())(t._repo,t._path)),{removed:h,events:m}}function ib(s){const t=[];for(const n of s.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ea(s,t){let n=null;for(const o of s.views.values())n=n||WN(o,t);return n}function sb(s,t){if(t._queryParams.loadsAllData())return Zf(s);{const o=t._queryIdentifier;return s.views.get(o)}}function rb(s,t){return sb(s,t)!=null}function aa(s){return Zf(s)!=null}function Zf(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;function eR(s){At(!Cf,"__referenceConstructor has already been defined"),Cf=s}function nR(){return At(Cf,"Reference.ts has not been loaded"),Cf}let iR=1;class G0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=ON(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ob(s,t,n,o,l){return bN(s.pendingWriteTree_,t,n,o,l),l?jc(s,new $a(Gw(),t,n)):[]}function qa(s,t,n=!1){const o=EN(s.pendingWriteTree_,t);if(TN(s.pendingWriteTree_,t)){let h=new Ze(null);return o.snap!=null?h=h.set(we(),!0):Oi(o.children,m=>{h=h.set(new De(m),!0)}),jc(s,new bf(o.path,h,n))}else return[]}function Bc(s,t,n){return jc(s,new $a(eg(),t,n))}function sR(s,t,n){const o=Ze.fromObject(n);return jc(s,new Sc(eg(),t,o))}function rR(s,t){return jc(s,new Tc(eg(),t))}function oR(s,t,n){const o=lg(s,n);if(o){const l=ug(o),h=l.path,m=l.queryId,g=yi(h,t),y=new Tc(ng(m),g);return cg(s,h,y)}else return[]}function ab(s,t,n,o,l=!1){const h=t._path,m=s.syncPointTree_.get(h);let g=[];if(m&&(t._queryIdentifier==="default"||rb(m,t))){const y=tR(m,t,n,o);JN(m)&&(s.syncPointTree_=s.syncPointTree_.remove(h));const E=y.removed;if(g=y.events,!l){const w=E.findIndex(T=>T._queryParams.loadsAllData())!==-1,S=s.syncPointTree_.findOnPath(h,(T,I)=>aa(I));if(w&&!S){const T=s.syncPointTree_.subtree(h);if(!T.isEmpty()){const I=cR(T);for(let F=0;F<I.length;++F){const G=I[F],X=G.query,K=hb(s,G);s.listenProvider_.startListening(dc(X),xc(s,X),K.hashFn,K.onComplete)}}}!S&&E.length>0&&!o&&(w?s.listenProvider_.stopListening(dc(t),null):E.forEach(T=>{const I=s.queryToTagMap.get(Wf(T));s.listenProvider_.stopListening(dc(T),I)}))}hR(s,E)}return g}function lb(s,t,n,o){const l=lg(s,o);if(l!=null){const h=ug(l),m=h.path,g=h.queryId,y=yi(m,t),E=new $a(ng(g),y,n);return cg(s,m,E)}else return[]}function aR(s,t,n,o){const l=lg(s,o);if(l){const h=ug(l),m=h.path,g=h.queryId,y=yi(m,t),E=Ze.fromObject(n),w=new Sc(ng(g),y,E);return cg(s,m,w)}else return[]}function lR(s,t,n,o=!1){const l=t._path;let h=null,m=!1;s.syncPointTree_.foreachOnPath(l,(T,I)=>{const F=yi(T,l);h=h||ea(I,F),m=m||aa(I)});let g=s.syncPointTree_.get(l);g?(m=m||aa(g),h=h||ea(g,we())):(g=new eb,s.syncPointTree_=s.syncPointTree_.set(l,g));let y;h!=null?y=!0:(y=!1,h=Ht.EMPTY_NODE,s.syncPointTree_.subtree(l).foreachChild((I,F)=>{const G=ea(F,we());G&&(h=h.updateImmediateChild(I,G))}));const E=rb(g,t);if(!E&&!t._queryParams.loadsAllData()){const T=Wf(t);At(!s.queryToTagMap.has(T),"View does not exist, but we have a tag");const I=fR();s.queryToTagMap.set(T,I),s.tagToQueryMap.set(I,T)}const w=Gf(s.pendingWriteTree_,l);let S=$N(g,t,n,w,h,y);if(!E&&!m&&!o){const T=sb(g,t);S=S.concat(dR(s,t,T))}return S}function ag(s,t,n){const l=s.pendingWriteTree_,h=s.syncPointTree_.findOnPath(t,(m,g)=>{const y=yi(m,t),E=ea(g,y);if(E)return E});return Kw(l,t,h,n,!0)}function uR(s,t){const n=t._path;let o=null;s.syncPointTree_.foreachOnPath(n,(E,w)=>{const S=yi(E,n);o=o||ea(w,S)});let l=s.syncPointTree_.get(n);l?o=o||ea(l,we()):(l=new eb,s.syncPointTree_=s.syncPointTree_.set(n,l));const h=o!=null,m=h?new oa(o,!0,!1):null,g=Gf(s.pendingWriteTree_,t._path),y=nb(l,t,g,h?m.getNode():Ht.EMPTY_NODE,h);return ZN(y)}function jc(s,t){return ub(t,s.syncPointTree_,null,Gf(s.pendingWriteTree_,we()))}function ub(s,t,n,o){if(se(s.path))return cb(s,t,n,o);{const l=t.get(we());n==null&&l!=null&&(n=ea(l,we()));let h=[];const m=re(s.path),g=s.operationForChild(m),y=t.children.get(m);if(y&&g){const E=n?n.getImmediateChild(m):null,w=Xw(o,m);h=h.concat(ub(g,y,E,w))}return l&&(h=h.concat(og(l,s,o,n))),h}}function cb(s,t,n,o){const l=t.get(we());n==null&&l!=null&&(n=ea(l,we()));let h=[];return t.children.inorderTraversal((m,g)=>{const y=n?n.getImmediateChild(m):null,E=Xw(o,m),w=s.operationForChild(m);w&&(h=h.concat(cb(w,g,y,E)))}),l&&(h=h.concat(og(l,s,o,n))),h}function hb(s,t){const n=t.query,o=xc(s,n);return{hashFn:()=>(GN(t)||Ht.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?oR(s,n._path,o):rR(s,n._path);{const h=lC(l,n);return ab(s,n,null,h)}}}}function xc(s,t){const n=Wf(t);return s.queryToTagMap.get(n)}function Wf(s){return s._path.toString()+"$"+s._queryIdentifier}function lg(s,t){return s.tagToQueryMap.get(t)}function ug(s){const t=s.indexOf("$");return At(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new De(s.substr(0,t))}}function cg(s,t,n){const o=s.syncPointTree_.get(t);At(o,"Missing sync point for query tag that we're tracking");const l=Gf(s.pendingWriteTree_,t);return og(o,n,l,null)}function cR(s){return s.fold((t,n,o)=>{if(n&&aa(n))return[Zf(n)];{let l=[];return n&&(l=ib(n)),Oi(o,(h,m)=>{l=l.concat(m)}),l}})}function dc(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(nR())(s._repo,s._path):s}function hR(s,t){for(let n=0;n<t.length;++n){const o=t[n];if(!o._queryParams.loadsAllData()){const l=Wf(o),h=s.queryToTagMap.get(l);s.queryToTagMap.delete(l),s.tagToQueryMap.delete(h)}}}function fR(){return iR++}function dR(s,t,n){const o=t._path,l=xc(s,t),h=hb(s,n),m=s.listenProvider_.startListening(dc(t),l,h.hashFn,h.onComplete),g=s.syncPointTree_.subtree(o);if(l)At(!aa(g.value),"If we're adding a query, it shouldn't be shadowed");else{const y=g.fold((E,w,S)=>{if(!se(E)&&w&&aa(w))return[Zf(w).query];{let T=[];return w&&(T=T.concat(ib(w).map(I=>I.query))),Oi(S,(I,F)=>{T=T.concat(F)}),T}});for(let E=0;E<y.length;++E){const w=y[E];s.listenProvider_.stopListening(dc(w),xc(s,w))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new hg(n)}node(){return this.node_}}class fg{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Nn(this.path_,t);return new fg(this.syncTree_,n)}node(){return ag(this.syncTree_,this.path_)}}const mR=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Z0=function(s,t,n){if(!s||typeof s!="object")return s;if(At(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return pR(s[".sv"],t,n);if(typeof s[".sv"]=="object")return gR(s[".sv"],t);At(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},pR=function(s,t,n){switch(s){case"timestamp":return n.timestamp;default:At(!1,"Unexpected server value: "+s)}},gR=function(s,t,n){s.hasOwnProperty("increment")||At(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const o=s.increment;typeof o!="number"&&At(!1,"Unexpected increment value: "+o);const l=t.node();if(At(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const m=l.getValue();return typeof m!="number"?o:m+o},_R=function(s,t,n,o){return dg(t,new fg(n,s),o)},fb=function(s,t,n){return dg(s,new hg(t),n)};function dg(s,t,n){const o=s.getPriority().val(),l=Z0(o,t.getImmediateChild(".priority"),n);let h;if(s.isLeafNode()){const m=s,g=Z0(m.getValue(),t,n);return g!==m.getValue()||l!==m.getPriority().val()?new jn(g,Fn(l)):s}else{const m=s;return h=m,l!==m.getPriority().val()&&(h=h.updatePriority(new jn(l))),m.forEachChild(on,(g,y)=>{const E=dg(y,t.getImmediateChild(g),n);E!==y&&(h=h.updateImmediateChild(g,E))}),h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t="",n=null,o={children:{},childCount:0}){this.name=t,this.parent=n,this.node=o}}function pg(s,t){let n=t instanceof De?t:new De(t),o=s,l=re(n);for(;l!==null;){const h=Kl(o.node.children,l)||{children:{},childCount:0};o=new mg(l,o,h),n=Fe(n),l=re(n)}return o}function ou(s){return s.node.value}function db(s,t){s.node.value=t,wp(s)}function mb(s){return s.node.childCount>0}function vR(s){return ou(s)===void 0&&!mb(s)}function Yf(s,t){Oi(s.node.children,(n,o)=>{t(new mg(n,s,o))})}function pb(s,t,n,o){n&&t(s),Yf(s,l=>{pb(l,t,!0)})}function yR(s,t,n){let o=s.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Hc(s){return new De(s.parent===null?s.name:Hc(s.parent)+"/"+s.name)}function wp(s){s.parent!==null&&wR(s.parent,s.name,s)}function wR(s,t,n){const o=vR(n),l=Jr(s.node.children,t);o&&l?(delete s.node.children[t],s.node.childCount--,wp(s)):!o&&!l&&(s.node.children[t]=n.node,s.node.childCount++,wp(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/[\[\].#$\/\u0000-\u001F\u007F]/,ER=/[\[\].#$\u0000-\u001F\u007F]/,Qm=10*1024*1024,gb=function(s){return typeof s=="string"&&s.length!==0&&!bR.test(s)},_b=function(s){return typeof s=="string"&&s.length!==0&&!ER.test(s)},TR=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),_b(s)},vb=function(s,t,n,o){o&&t===void 0||gg(Rp(s,"value"),t,n)},gg=function(s,t,n){const o=n instanceof De?new HC(n,s):n;if(t===void 0)throw new Error(s+"contains undefined "+Ba(o));if(typeof t=="function")throw new Error(s+"contains a function "+Ba(o)+" with contents = "+t.toString());if(fw(t))throw new Error(s+"contains "+t.toString()+" "+Ba(o));if(typeof t=="string"&&t.length>Qm/3&&Uf(t)>Qm)throw new Error(s+"contains a string greater than "+Qm+" utf8 bytes "+Ba(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,h=!1;if(Oi(t,(m,g)=>{if(m===".value")l=!0;else if(m!==".priority"&&m!==".sv"&&(h=!0,!gb(m)))throw new Error(s+" contains an invalid key ("+m+") "+Ba(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FC(o,m),gg(s,g,o),VC(o)}),l&&h)throw new Error(s+' contains ".value" child '+Ba(o)+" in addition to actual children.")}},yb=function(s,t,n,o){if(!_b(n))throw new Error(Rp(s,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},SR=function(s,t,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yb(s,t,n)},wb=function(s,t){if(re(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},xR=function(s,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!gb(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!TR(n))throw new Error(Rp(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bb(s,t){let n=null;for(let o=0;o<t.length;o++){const l=t[o],h=l.getPath();n!==null&&!Pw(h,n.path)&&(s.eventLists_.push(n),n=null),n===null&&(n={events:[],path:h}),n.events.push(l)}n&&s.eventLists_.push(n)}function mr(s,t,n){bb(s,n),CR(s,o=>zs(o,t)||zs(t,o))}function CR(s,t){s.recursionDepth_++;let n=!0;for(let o=0;o<s.eventLists_.length;o++){const l=s.eventLists_[o];if(l){const h=l.path;t(h)?(NR(s.eventLists_[o]),s.eventLists_[o]=null):n=!1}}n&&(s.eventLists_=[]),s.recursionDepth_--}function NR(s){for(let t=0;t<s.events.length;t++){const n=s.events[t];if(n!==null){s.events[t]=null;const o=n.getEventRunner();uc&&li("event: "+n.toString()),ru(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="repo_interrupt",IR=25;class MR{constructor(t,n,o,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wf(),this.transactionQueueTree_=new mg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OR(s,t,n){if(s.stats_=Kp(s.repoInfo_),s.forceRestClient_||fC())s.server_=new yf(s.repoInfo_,(o,l,h,m)=>{W0(s,o,l,h,m)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Y0(s,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Cn(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}s.persistentConnection_=new Zr(s.repoInfo_,t,(o,l,h,m)=>{W0(s,o,l,h,m)},o=>{Y0(s,o)},o=>{LR(s,o)},s.authTokenProvider_,s.appCheckProvider_,n),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(o=>{s.server_.refreshAuthToken(o)}),s.appCheckProvider_.addTokenChangeListener(o=>{s.server_.refreshAppCheckToken(o.token)}),s.statsReporter_=_C(s.repoInfo_,()=>new pN(s.stats_,s.server_)),s.infoData_=new cN,s.infoSyncTree_=new G0({startListening:(o,l,h,m)=>{let g=[];const y=s.infoData_.getNode(o._path);return y.isEmpty()||(g=Bc(s.infoSyncTree_,o._path,y),setTimeout(()=>{m("ok")},0)),g},stopListening:()=>{}}),vg(s,"connected",!1),s.serverSyncTree_=new G0({startListening:(o,l,h,m)=>(s.server_.listen(o,h,l,(g,y)=>{const E=m(g,y);mr(s.eventQueue_,o._path,E)}),[]),stopListening:(o,l)=>{s.server_.unlisten(o,l)}})}function Eb(s){const n=s.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _g(s){return mR({timestamp:Eb(s)})}function W0(s,t,n,o,l){s.dataUpdateCount++;const h=new De(t);n=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,n):n;let m=[];if(l)if(o){const y=of(n,E=>Fn(E));m=aR(s.serverSyncTree_,h,y,l)}else{const y=Fn(n);m=lb(s.serverSyncTree_,h,y,l)}else if(o){const y=of(n,E=>Fn(E));m=sR(s.serverSyncTree_,h,y)}else{const y=Fn(n);m=Bc(s.serverSyncTree_,h,y)}let g=h;m.length>0&&(g=Xf(s,h)),mr(s.eventQueue_,g,m)}function Y0(s,t){vg(s,"connected",t),t===!1&&PR(s)}function LR(s,t){Oi(t,(n,o)=>{vg(s,n,o)})}function vg(s,t,n){const o=new De("/.info/"+t),l=Fn(n);s.infoData_.updateSnapshot(o,l);const h=Bc(s.infoSyncTree_,o,l);mr(s.eventQueue_,o,h)}function Tb(s){return s.nextWriteId_++}function kR(s,t,n){const o=uR(s.serverSyncTree_,t);return o!=null?Promise.resolve(o):s.server_.get(t).then(l=>{const h=Fn(l).withIndex(t._queryParams.getIndex());lR(s.serverSyncTree_,t,n,!0);let m;if(t._queryParams.loadsAllData())m=Bc(s.serverSyncTree_,t._path,h);else{const g=xc(s.serverSyncTree_,t);m=lb(s.serverSyncTree_,t._path,h,g)}return mr(s.eventQueue_,t._path,m),ab(s.serverSyncTree_,t,n,null,!0),h},l=>(Kf(s,"get for query "+Cn(t)+" failed: "+l),Promise.reject(new Error(l))))}function DR(s,t,n,o,l){Kf(s,"set",{path:t.toString(),value:n,priority:o});const h=_g(s),m=Fn(n,o),g=ag(s.serverSyncTree_,t),y=fb(m,g,h),E=Tb(s),w=ob(s.serverSyncTree_,t,y,E,!0);bb(s.eventQueue_,w),s.server_.put(t.toString(),m.val(!0),(T,I)=>{const F=T==="ok";F||Mi("set at "+t+" failed: "+T);const G=qa(s.serverSyncTree_,E,!F);mr(s.eventQueue_,t,G),zR(s,l,T,I)});const S=Nb(s,t);Xf(s,S),mr(s.eventQueue_,S,[])}function PR(s){Kf(s,"onDisconnectEvents");const t=_g(s),n=wf();pp(s.onDisconnect_,we(),(l,h)=>{const m=_R(l,h,s.serverSyncTree_,t);qw(n,l,m)});let o=[];pp(n,we(),(l,h)=>{o=o.concat(Bc(s.serverSyncTree_,l,h));const m=Nb(s,l);Xf(s,m)}),s.onDisconnect_=wf(),mr(s.eventQueue_,we(),o)}function UR(s){s.persistentConnection_&&s.persistentConnection_.interrupt(RR)}function Kf(s,...t){let n="";s.persistentConnection_&&(n=s.persistentConnection_.id+":"),li(n,...t)}function zR(s,t,n,o){t&&ru(()=>{if(n==="ok")t(null);else{const l=(n||"error").toUpperCase();let h=l;o&&(h+=": "+o);const m=new Error(h);m.code=l,t(m)}})}function Sb(s,t,n){return ag(s.serverSyncTree_,t,n)||Ht.EMPTY_NODE}function yg(s,t=s.transactionQueueTree_){if(t||Qf(s,t),ou(t)){const n=Ab(s,t);At(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&BR(s,Hc(t),n)}else mb(t)&&Yf(t,n=>{yg(s,n)})}function BR(s,t,n){const o=n.map(E=>E.currentWriteId),l=Sb(s,t,o);let h=l;const m=l.hash();for(let E=0;E<n.length;E++){const w=n[E];At(w.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const S=yi(t,w.path);h=h.updateChild(S,w.currentOutputSnapshotRaw)}const g=h.val(!0),y=t;s.server_.put(y.toString(),g,E=>{Kf(s,"transaction put response",{path:y.toString(),status:E});let w=[];if(E==="ok"){const S=[];for(let T=0;T<n.length;T++)n[T].status=2,w=w.concat(qa(s.serverSyncTree_,n[T].currentWriteId)),n[T].onComplete&&S.push(()=>n[T].onComplete(null,!0,n[T].currentOutputSnapshotResolved)),n[T].unwatcher();Qf(s,pg(s.transactionQueueTree_,t)),yg(s,s.transactionQueueTree_),mr(s.eventQueue_,t,w);for(let T=0;T<S.length;T++)ru(S[T])}else{if(E==="datastale")for(let S=0;S<n.length;S++)n[S].status===3?n[S].status=4:n[S].status=0;else{Mi("transaction at "+y.toString()+" failed: "+E);for(let S=0;S<n.length;S++)n[S].status=4,n[S].abortReason=E}Xf(s,t)}},m)}function Xf(s,t){const n=xb(s,t),o=Hc(n),l=Ab(s,n);return jR(s,l,o),o}function jR(s,t,n){if(t.length===0)return;const o=[];let l=[];const m=t.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const y=t[g],E=yi(n,y.path);let w=!1,S;if(At(E!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)w=!0,S=y.abortReason,l=l.concat(qa(s.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=IR)w=!0,S="maxretry",l=l.concat(qa(s.serverSyncTree_,y.currentWriteId,!0));else{const T=Sb(s,y.path,m);y.currentInputSnapshot=T;const I=t[g].update(T.val());if(I!==void 0){gg("transaction failed: Data returned ",I,y.path);let F=Fn(I);typeof I=="object"&&I!=null&&Jr(I,".priority")||(F=F.updatePriority(T.getPriority()));const X=y.currentWriteId,K=_g(s),gt=fb(F,T,K);y.currentOutputSnapshotRaw=F,y.currentOutputSnapshotResolved=gt,y.currentWriteId=Tb(s),m.splice(m.indexOf(X),1),l=l.concat(ob(s.serverSyncTree_,y.path,gt,y.currentWriteId,y.applyLocally)),l=l.concat(qa(s.serverSyncTree_,X,!0))}else w=!0,S="nodata",l=l.concat(qa(s.serverSyncTree_,y.currentWriteId,!0))}mr(s.eventQueue_,n,l),l=[],w&&(t[g].status=2,(function(T){setTimeout(T,Math.floor(0))})(t[g].unwatcher),t[g].onComplete&&(S==="nodata"?o.push(()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot)):o.push(()=>t[g].onComplete(new Error(S),!1,null))))}Qf(s,s.transactionQueueTree_);for(let g=0;g<o.length;g++)ru(o[g]);yg(s,s.transactionQueueTree_)}function xb(s,t){let n,o=s.transactionQueueTree_;for(n=re(t);n!==null&&ou(o)===void 0;)o=pg(o,n),t=Fe(t),n=re(t);return o}function Ab(s,t){const n=[];return Cb(s,t,n),n.sort((o,l)=>o.order-l.order),n}function Cb(s,t,n){const o=ou(t);if(o)for(let l=0;l<o.length;l++)n.push(o[l]);Yf(t,l=>{Cb(s,l,n)})}function Qf(s,t){const n=ou(t);if(n){let o=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[o]=n[l],o++);n.length=o,db(t,n.length>0?n:void 0)}Yf(t,o=>{Qf(s,o)})}function Nb(s,t){const n=Hc(xb(s,t)),o=pg(s.transactionQueueTree_,t);return yR(o,l=>{Jm(s,l)}),Jm(s,o),pb(o,l=>{Jm(s,l)}),n}function Jm(s,t){const n=ou(t);if(n){const o=[];let l=[],h=-1;for(let m=0;m<n.length;m++)n[m].status===3||(n[m].status===1?(At(h===m-1,"All SENT items should be at beginning of queue."),h=m,n[m].status=3,n[m].abortReason="set"):(At(n[m].status===0,"Unexpected transaction status in abort"),n[m].unwatcher(),l=l.concat(qa(s.serverSyncTree_,n[m].currentWriteId,!0)),n[m].onComplete&&o.push(n[m].onComplete.bind(null,new Error("set"),!1,null))));h===-1?db(t,void 0):n.length=h+1,mr(s.eventQueue_,Hc(t),l);for(let m=0;m<o.length;m++)ru(o[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(s){let t="";const n=s.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let l=n[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function FR(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const n of s.split("&")){if(n.length===0)continue;const o=n.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Mi(`Invalid query segment '${n}' in query '${s}'`)}return t}const K0=function(s,t){const n=VR(s),o=n.namespace;n.domain==="firebase.com"&&Xr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&n.domain!=="localhost"&&Xr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||iC();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Sw(n.host,n.secure,o,l,t,"",o!==n.subdomain),path:new De(n.pathString)}},VR=function(s){let t="",n="",o="",l="",h="",m=!0,g="https",y=443;if(typeof s=="string"){let E=s.indexOf("//");E>=0&&(g=s.substring(0,E-1),s=s.substring(E+2));let w=s.indexOf("/");w===-1&&(w=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),t=s.substring(0,Math.min(w,S)),w<S&&(l=HR(s.substring(w,S)));const T=FR(s.substring(Math.min(s.length,S)));E=t.indexOf(":"),E>=0?(m=g==="https"||g==="wss",y=parseInt(t.substring(E+1),10)):E=t.length;const I=t.slice(0,E);if(I.toLowerCase()==="localhost")n="localhost";else if(I.split(".").length<=2)n=I;else{const F=t.indexOf(".");o=t.substring(0,F).toLowerCase(),n=t.substring(F+1),h=o}"ns"in T&&(h=T.ns)}return{host:t,port:y,domain:n,subdomain:o,secure:m,scheme:g,pathString:l,namespace:h}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qR=(function(){let s=0;const t=[];return function(n){const o=n===s;s=n;let l;const h=new Array(8);for(l=7;l>=0;l--)h[l]=X0.charAt(n%64),n=Math.floor(n/64);At(n===0,"Cannot push at time == 0");let m=h.join("");if(o){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)m+=X0.charAt(t[l]);return At(m.length===20,"nextPushId: Length should be 20."),m}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t,n,o,l){this.eventType=t,this.eventRegistration=n,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Cn(this.snapshot.exportVal())}}class ZR{constructor(t,n,o){this.eventRegistration=t,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return At(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,n,o,l){this._repo=t,this._path=n,this._queryParams=o,this._orderByCalled=l}get key(){return se(this._path)?null:Lw(this._path)}get ref(){return new no(this._repo,this._path)}get _queryIdentifier(){const t=k0(this._queryParams),n=Wp(t);return n==="{}"?"default":n}get _queryObject(){return k0(this._queryParams)}isEqual(t){if(t=Xn(t),!(t instanceof wg))return!1;const n=this._repo===t._repo,o=Pw(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+jC(this._path)}}class no extends wg{constructor(t,n){super(t,n,new tg,!1)}get parent(){const t=Dw(this._path);return t===null?null:new no(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ac{constructor(t,n,o){this._node=t,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new De(t),o=Cc(this.ref,t);return new Ac(this._node.getChild(n),o,on)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new Ac(l,Cc(this.ref,o),on)))}hasChild(t){const n=new De(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ya(s,t){return s=Xn(s),s._checkNotDeleted("ref"),t!==void 0?Cc(s._root,t):s._root}function Cc(s,t){return s=Xn(s),re(s._path)===null?SR("child","path",t):yb("child","path",t),new no(s._repo,Nn(s._path,t))}function YR(s,t){s=Xn(s),wb("push",s._path),vb("push",t,s._path,!0);const n=Eb(s._repo),o=qR(n),l=Cc(s,o),h=Cc(s,o);let m;return m=Promise.resolve(h),l.then=m.then.bind(m),l.catch=m.then.bind(m,void 0),l}function Jf(s,t){s=Xn(s),wb("set",s._path),vb("set",t,s._path,!1);const n=new kf;return DR(s._repo,s._path,t,null,n.wrapCallback(()=>{})),n.promise}function bp(s){s=Xn(s);const t=new WR(()=>{}),n=new bg(t);return kR(s._repo,s,n).then(o=>new Ac(o,new no(s._repo,s._path),s._queryParams.getIndex()))}class bg{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const o=n._queryParams.getIndex();return new GR("value",this,new Ac(t.snapshotNode,new no(n._repo,n._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new ZR(this,t,n):null}matches(t){return t instanceof bg?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}XN(no);eR(no);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="FIREBASE_DATABASE_EMULATOR_HOST",Ep={};let XR=!1;function QR(s,t,n,o){const l=t.lastIndexOf(":"),h=t.substring(0,l),m=la(h);s.repoInfo_=new Sw(t,m,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,n),o&&(s.authTokenProvider_=o)}function JR(s,t,n,o,l){let h=o||s.options.databaseURL;h===void 0&&(s.options.projectId||Xr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),li("Using default host for project ",s.options.projectId),h=`${s.options.projectId}-default-rtdb.firebaseio.com`);let m=K0(h,l),g=m.repoInfo,y;typeof process<"u"&&g0&&(y=g0[KR]),y?(h=`http://${y}?ns=${g.namespace}`,m=K0(h,l),g=m.repoInfo):m.repoInfo.secure;const E=new mC(s.name,s.options,t);xR("Invalid Firebase Database URL",m),se(m.path)||Xr("Database URL must point to the root of a Firebase Database (not including a child path).");const w=t4(g,s,E,new dC(s,n));return new e4(w,s)}function $R(s,t){const n=Ep[t];(!n||n[s.key]!==s)&&Xr(`Database ${t}(${s.repoInfo_}) has already been deleted.`),UR(s),delete n[s.key]}function t4(s,t,n,o){let l=Ep[t.name];l||(l={},Ep[t.name]=l);let h=l[s.toURLString()];return h&&Xr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new MR(s,XR,n,o),l[s.toURLString()]=h,h}class e4{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(OR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new no(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&($R(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xr("Cannot call "+t+" on a deleted database.")}}function Rb(s=Bf(),t){const n=Rc(s,"database").getImmediate({identifier:t});if(!n._instanceStarted){const o=Ap("database");o&&n4(n,...o)}return n}function n4(s,t,n,o={}){s=Xn(s),s._checkNotDeleted("useEmulator");const l=`${t}:${n}`,h=s._repoInternal;if(s._instanceStarted){if(l===s._repoInternal.repoInfo_.host&&na(o,h.repoInfo_.emulatorOptions))return;Xr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(h.repoInfo_.nodeAdmin)o.mockUserToken&&Xr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new ef(ef.OWNER);else if(o.mockUserToken){const g=typeof o.mockUserToken=="string"?o.mockUserToken:Cp(o.mockUserToken,s.app.options.projectId);m=new ef(g)}la(t)&&(Df(t),Pf("Database",!0)),QR(h,l,o,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(s){QA(ua),ia(new Wr("database",(t,{instanceIdentifier:n})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),h=t.getProvider("app-check-internal");return JR(o,l,h,n)},"PUBLIC").setMultipleInstances(!0)),ps(_0,v0,s),ps(_0,v0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={".sv":"timestamp"};function r4(){return s4}Zr.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Zr.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};i4();const o4={apiKey:"AIzaSyD_b9wrt2arX4Kn4lVpamW4CCvjRzh4HfQ",authDomain:"foodshare-6b9cd.firebaseapp.com",projectId:"foodshare-6b9cd",storageBucket:"foodshare-6b9cd.firebasestorage.app",messagingSenderId:"915356278039",appId:"1:915356278039:web:0bf110f0398bcc34bf2b52",databaseURL:"https://foodshare-6b9cd-default-rtdb.asia-southeast1.firebasedatabase.app",measurementId:"G-V2DB7H8229"},Eg=_1(o4),Qr=tw(Eg);ZA(Eg);const Yl=Rb(Eg),nl="/FoodShare_MINIProjuct/assets/Logo-Km2Q-M3Q.png";function a4({onFinish:s}){const[t,n]=Nt.useState(!0),[o,l]=Nt.useState(!1);return Nt.useEffect(()=>{const h=setTimeout(()=>l(!0),1800),m=setTimeout(()=>{n(!1),s()},2e3);return()=>{clearTimeout(h),clearTimeout(m)}},[s]),t?B.jsx("div",{className:"w-full h-screen bg-[#2e2eff] font-sans text-white flex justify-center ",children:B.jsxs("div",{className:`text-center mt-[250px] transition-all duration-500 ${o?"animate-slide-up-fade":""}`,children:[B.jsx("img",{src:nl,alt:"Logo",className:"w-24 h-auto mx-auto mb-3"}),B.jsx("h1",{className:"text-2xl font-bold tracking-widest",children:"MA THAN"})]})}):null}const Ib="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMaSURBVHgBrVRdSFRBFP5m5m676UplBkU/mhWVRj9G9EOmQj30EoJFRUQQVC/RDz0EQbBBRFRQTxEEBRUWWyEJgfWi2C+oqVSi66qtf6WVrZard70z09zrdblua/XggcO9M3POd8535pwBJlnIBPtUqTTVtxoZiGIlU4tBhg8X36PVYSP+B1DLzwf8LhTPSkIR+pWjtOFN62lAG4c/8yl2m7ZKjb8B0pICrCn0opp/g2CadR5vIwWHoKlgLw0U5JahIp5aLLNH+cgpZKgW/eAmmBAqLzMHr9JkpYo3V5lyM2cVpjSIjviA1PE1iryoEjo4kaBSOY7MRsPpbizLDsF9rgzsWC+yh2ajzjUD2oFmpF0OImQX4w8hoefum3wb4TJHUdoC0bkd5xOwsP5PZGC6Xb+JRXZ6hAx4hHFWE5GtqB0LNFYO/FtozNB3GAsQVs7fJdhBDWe6jCKMbwtj45W3gWg4/DMBDGFJqW5Wfjn3zbOHfRagB9qC2OUrmGu30Ia42rTrS5cYelfC1LiYhRTBNqvfUguQMoM4WY21nFMkiduz1qMEBBUmqoxRHuEIWi2hTFhEx8k9nnQ8GG53UEaG+1NAd/f+ssApYVE9il6euYpRA4y5lDtpgDMR+cWjo2XYdejrNqnPTGu8m3s/2z6XSDARa32V5V2RmXlUpeGdM48ETqYSu2KjBJpq2N113Xtlp0ihfRG+fN+9ggs2GHWAWfYrjz+5FIpm5hHVsobqWtbRXOKohG2YD3rw+oGRnsawQQmlfKqLzp8Wra+6VLt3kRYKtLaCkrkLM7ecyXpcH9yYVfX6CLzJ7cKTvoa1HqXEDiacdWa7fYtXiR2ba4bafnDlzszRc6clkaRkNWtqdCKDEtG+IU5dQ9Q97OWVTX4tPXBqffWdq+/GWMRfJtl1dllO8p4N1T2NA5wxYU/tuPuWOtfk3CwvJf5Xa2/7gnXOy0v4fJnRdvrz/ClL5+8KDxgw9NFiTlEvxvQ0RetjyN9y48X+igprm4/LCIklNiWbClcsinoHszWdQXcN1tcWfw7ZfgQJHthJl9/L/jKeg65HLwAAAABJRU5ErkJggg==";function l4({onSignUpClick:s,onForgotPasswordClick:t,onLoginSuccess:n}){const[o,l]=Nt.useState(!1),[h,m]=Nt.useState(!1),[g,y]=Nt.useState(""),[E,w]=Nt.useState("");Nt.useEffect(()=>{const G=setTimeout(()=>l(!0),100);return()=>clearTimeout(G)},[]);const S=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
      <circle cx="12" cy="12" r="3"/>
    </svg>
  `),T=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 
      a18.2 18.2 0 0 1 2.53-3.69"/>
      <path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/>
      <path d="M3 3l18 18"/>
    </svg>
  `),I=async G=>{G.preventDefault();try{const K=(await ix(Qr,g,E)).user,gt=await bp(Ya(Yl,"users/"+K.uid));let it={};gt.exists()&&(it=gt.val()),console.log("Login success!",K.email),n&&n({email:K.email,uid:K.uid,...it})}catch(X){console.error("Login error:",X.code,X.message),X.code==="auth/user-not-found"?alert("ไม่พบบัญชีนี้ กรุณาสมัครก่อน ❌"):X.code==="auth/wrong-password"?alert("รหัสผ่านไม่ถูกต้อง ❌"):X.code==="auth/invalid-credential"?alert("อีเมลหรือรหัสผ่านไม่ถูกต้อง ❌"):alert("เกิดข้อผิดพลาด: "+X.message)}},F=async()=>{const G=new hr;try{const K=(await J1(Qr,G)).user;(await bp(Ya(Yl,"users/"+K.uid))).exists()||await Jf(Ya(Yl,"users/"+K.uid),{email:K.email,name:K.displayName||"",uid:K.uid}),n&&n({email:K.email,name:K.displayName,uid:K.uid})}catch(X){console.error(X),alert(X.message)}};return B.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[B.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[B.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Log In"}),B.jsx("p",{className:"text-white text-sm",children:"Please sign in to your existing account"})]}),B.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:B.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[B.jsxs("form",{onSubmit:I,children:[B.jsxs("div",{className:"mt-6 mb-4",children:[B.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),B.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:g,onChange:G=>y(G.target.value)})]}),B.jsxs("div",{className:"mb-4 relative",children:[B.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),B.jsx("input",{type:h?"text":"password",id:"password",placeholder:"Enter your password",className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:E,onChange:G=>w(G.target.value)}),B.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${h?T:S}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>m(!h)})]}),B.jsxs("div",{className:"flex justify-between items-center mb-6 text-sm",children:[B.jsxs("div",{className:"flex items-center",children:[B.jsx("input",{type:"checkbox",id:"remember-me",className:"form-checkbox text-[#2e2eff] rounded border-gray-300 focus:ring-[#2e2eff]"}),B.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-gray-700",children:"Remember me"})]}),B.jsx("button",{type:"button",onClick:t,className:"text-[#2e2eff] font-medium",children:"Forgot Password"})]}),B.jsx("div",{className:"flex flex-col items-center mt-16",children:B.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"LOG IN"})})]}),B.jsxs("div",{className:"relative flex items-center justify-center my-4",children:[B.jsx("span",{className:"absolute text-gray-400 bg-white px-2",children:"or"}),B.jsx("hr",{className:"w-full border-t border-gray-300"})]}),B.jsx("div",{className:"flex justify-center mt-4",children:B.jsxs("button",{onClick:F,className:"flex items-center justify-center w-[200px] py-3 bg-white text-gray-600 font-medium rounded-[4vw] border border-gray-300 shadow transition hover:bg-gray-100",children:[B.jsx("img",{src:Ib,alt:"Google",className:"h-5 w-5 mr-2"}),"Google"]})}),B.jsx("div",{className:"flex justify-center mt-6 text-sm",children:B.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",B.jsx("button",{onClick:s,className:"text-[#2e2eff] font-medium",children:"SIGN UP"})]})})]})})]})}function u4({onLoginClick:s,onGoogleClick:t,onRegisterClick:n,onLoginSuccess:o}){const[l,h]=Nt.useState(!1);Nt.useEffect(()=>{const g=setTimeout(()=>h(!0),100);return()=>clearTimeout(g)},[]);const m=async()=>{const g=new hr;try{const E=(await J1(Qr,g)).user;console.log("Google login user:",E),alert("Google Login Success!"),o&&o(E)}catch(y){console.error(y),alert(y.message)}};return B.jsxs("div",{className:"w-full h-screen bg-[#2e2eff] font-sans flex flex-col justify-between items-center px-6 py-8",children:[B.jsxs("div",{className:`flex flex-col items-center mt-12 transition-all duration-700 ease-out 
                       ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[B.jsx("img",{src:nl,alt:"MA THAN Logo",className:"w-20 h-20 mb-2"}),B.jsx("div",{className:"text-white text-base font-bold",children:"MA THAN"})]}),B.jsxs("div",{className:`flex flex-col items-center w-full max-w-sm mt-[-180px] transition-all duration-700 ease-out delay-200
                       ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[B.jsx("h1",{className:"text-white text-3xl font-bold mb-2",children:"Log In"}),B.jsx("p",{className:"text-white text-center mb-6",children:"Please sign in with your student email to continue."}),B.jsx("button",{onClick:s,className:"w-[300px] h-[70px] py-3 bg-white text-[#2e2eff] rounded-[4vw] text-lg font-medium mb-4 shadow hover:bg-gray-100 transition",children:"Sign in with Email"}),B.jsxs("button",{onClick:m,className:"w-[150px] py-3 bg-white text-[#2e2eff] flex items-center justify-center rounded-[4vw] text-sm font-medium shadow hover:bg-gray-100 transition",children:[B.jsx("img",{src:Ib,alt:"Google",className:"w-5 h-5 mr-2"}),"Google"]})]}),B.jsx("button",{onClick:n,className:`text-white text-sm hover:underline mb-4 transition-all duration-700 ease-out delay-400
                    ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:"Create an Account"})]})}function c4({onBackToLogin:s}){const[t,n]=Nt.useState(!1),[o,l]=Nt.useState(!1),[h,m]=Nt.useState(!1),[g,y]=Nt.useState(""),[E,w]=Nt.useState(""),[S,T]=Nt.useState(""),[I,F]=Nt.useState(""),[G,X]=Nt.useState(!1);Nt.useEffect(()=>{const J=setTimeout(()=>n(!0),100);return()=>clearTimeout(J)},[]);const K=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none"  stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>'),gt=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 a18.2 18.2 0 0 1 2.53-3.69"/><path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/><path d="M3 3l18 18"/></svg>'),it=async J=>{if(J.preventDefault(),S!==I){alert("Passwords do not match!");return}try{X(!0);const Z=(await nx(Qr,E,S)).user;await Jf(Ya(Yl,"users/"+Z.uid),{name:g,email:E,uid:Z.uid,createdAt:new Date().toISOString()}),await Bp(Qr),setTimeout(()=>{X(!1),alert("Sign Up Success! Please login."),s()},1e3)}catch(ct){console.error(ct),X(!1),alert(ct.message)}};return G?B.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-[#2e2eff] text-white",children:[B.jsx("div",{className:"loader border-t-4 border-b-4 border-white rounded-full w-12 h-12 animate-spin mb-4"}),B.jsx("p",{className:"text-lg font-medium",children:"Signing up, please wait..."})]}):B.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[B.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[B.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Sign Up"}),B.jsx("p",{className:"text-white text-sm",children:"Create an account to get started"})]}),B.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:B.jsx("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:B.jsxs("form",{onSubmit:it,children:[B.jsxs("div",{className:"mt-6 mb-4",children:[B.jsx("label",{htmlFor:"name",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"NAME"}),B.jsx("input",{type:"text",id:"name",placeholder:"John Doe",value:g,onChange:J=>y(J.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),B.jsxs("div",{className:"mb-4",children:[B.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),B.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:E,onChange:J=>w(J.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),B.jsxs("div",{className:"mb-4 relative",children:[B.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),B.jsx("input",{type:o?"text":"password",id:"password",placeholder:"Enter your password",value:S,onChange:J=>T(J.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),B.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${o?gt:K}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>l(!o)})]}),B.jsxs("div",{className:"mb-6 relative",children:[B.jsx("label",{htmlFor:"retype-password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"RE-TYPE PASSWORD"}),B.jsx("input",{type:h?"text":"password",id:"retype-password",placeholder:"Re-enter your password",value:I,onChange:J=>F(J.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),B.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${h?gt:K}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>m(!h)})]}),B.jsxs("div",{className:"flex flex-col items-center mt-8",children:[B.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SIGN UP"}),B.jsx("button",{type:"button",onClick:s,className:"w-[250px] flex justify-center py-3 text-[#2e2eff] font-medium rounded-[4vw] border border-[#2e2eff] hover:bg-white hover:text-[#2e2eff] transition",children:"Back to Login"})]})]})})})]})}function h4({onBackToLogin:s}){const[t,n]=Nt.useState(!1),[o,l]=Nt.useState("");Nt.useEffect(()=>{const m=setTimeout(()=>n(!0),100);return()=>clearTimeout(m)},[]);const h=async m=>{if(m.preventDefault(),!o)return alert("Please enter your email!");try{await ex(Qr,o),alert("Password reset email sent! Check your inbox."),s()}catch(g){console.error(g),alert(g.message)}};return B.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[B.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[B.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Forgot Password"}),B.jsx("p",{className:"text-white text-sm",children:"Enter your email to reset your password"})]}),B.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:B.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[B.jsxs("form",{onSubmit:h,children:[B.jsxs("div",{className:"mt-6 mb-4",children:[B.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),B.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:o,onChange:m=>l(m.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),B.jsx("div",{className:"flex flex-col items-center mt-8",children:B.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SEND RESET EMAIL"})})]}),B.jsx("div",{className:"flex justify-center mt-6 text-sm",children:B.jsx("button",{onClick:s,className:"text-[#2e2eff] font-medium",children:"Back to Login"})})]})})]})}function f4({userData:s,onLogout:t}){const n=async()=>{try{await Bp(Qr),t()}catch(o){console.error(o),alert("Logout failed: "+o.message)}};return B.jsxs("div",{className:"min-h-screen bg-[#2e2eff] flex flex-col items-center justify-start p-8",children:[B.jsxs("div",{className:"text-center mt-12 text-white",children:[B.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome, ",s.name||s.email]}),B.jsx("p",{className:"text-lg text-gray-200",children:"Your account details"})]}),B.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-10 w-full max-w-md",children:[B.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Profile Information"}),B.jsxs("div",{className:"space-y-2 text-gray-700",children:[B.jsxs("p",{children:[B.jsx("span",{className:"font-bold",children:"UID:"})," ",s.uid]}),B.jsxs("p",{children:[B.jsx("span",{className:"font-bold",children:"Name:"})," ",s.name||"-"]}),B.jsxs("p",{children:[B.jsx("span",{className:"font-bold",children:"Email:"})," ",s.email]}),B.jsxs("p",{children:[B.jsx("span",{className:"font-bold",children:"Created At:"})," ",s.createdAt||"-"]})]})]}),B.jsx("button",{onClick:n,className:"mt-10 px-6 py-3 bg-white text-[#2e2eff] font-bold rounded-lg shadow hover:bg-gray-100 transition",children:"Logout"})]})}const tu="/FoodShare_MINIProjuct/assets/profile-CN0Wr-CP.jpg",d4="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87-Dk8nk2Qa.png",m4="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B8%99%E0%B8%A1-DDcJMfBx.png",p4="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%94%E0%B8%B7%E0%B9%88%E0%B8%A1-skj4bCgd.png",g4="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A3%E0%B8%B0%E0%B9%80%E0%B8%9E%E0%B8%A3%E0%B8%B2-CxgV-7-f.png";function _4({userData:s,onLogout:t,onGoToDashboard:n,onGoToMenu:o,onGoToNotifications:l,onGoToProfile:h,onBack:m,onGoToPost:g}){return B.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[B.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[B.jsxs("div",{className:"flex items-center space-x-2",children:[B.jsx("img",{src:nl,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),B.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),B.jsx("div",{className:"flex items-center space-x-4",children:B.jsx("img",{src:tu,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:h})})]}),B.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[B.jsx("div",{className:"my-4 animate-fadeIn",children:B.jsxs("h1",{className:"text-[16px] md:text-2xl font-bold text-gray-800",children:["HEY! HELLO,"," ",B.jsx("span",{className:"text-[#2e2eff]",children:"Good Afternoon!"})]})}),B.jsxs("div",{className:"relative my-4 w-full  mx-auto",children:[B.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] transition-shadow duration-300 hover:shadow-md text-base md:text-lg"}),B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),B.jsxs("section",{className:"my-6",children:[B.jsxs("div",{className:"flex justify-between items-center mb-4",children:[B.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"All Categories"}),B.jsx("a",{href:"#",className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),B.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 gap-6",children:[{name:"Lunch Boxes",img:d4},{name:"Snacks",img:m4},{name:"Beverages",img:p4}].map((y,E)=>B.jsxs("div",{className:"flex flex-col items-center bg-white w-full cursor-pointer transform transition duration-300 shadow-md hover:scale-105 hover:shadow-xl rounded-xl p-4",children:[B.jsx("img",{src:y.img,alt:y.name,className:"w-20 h-20 md:w-28 md:h-28 object-contain rounded-lg"}),B.jsx("span",{className:"mt-2 text-sm md:text-base text-center font-medium",children:y.name})]},E))})]}),B.jsxs("section",{className:"my-6",children:[B.jsxs("div",{className:"flex justify-between items-center mb-4",children:[B.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"What's Being Shared Nearby?"}),B.jsx("a",{href:"#",className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map((y,E)=>B.jsxs("div",{className:"bg-gray-100 rounded-xl overflow-hidden shadow-md hover:shadow-xl transform transition duration-300 hover:-translate-y-1",children:[B.jsx("img",{src:g4,alt:"Post",className:"w-full h-48 md:h-56 object-cover"}),B.jsxs("div",{className:"p-4",children:[B.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800",children:"ข้าวหมูทอด - ข้าวกล่องจากกิจกรรม"}),B.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📍 หอพักชาย - หอตาหลา - ใต้หอพัก"}),B.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📅 วันผลิต - 22/2/2222 หมดอายุ - 24/2/2222"})]})]},E))})]})]}),B.jsxs("div",{className:"hidden md:block",children:[B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{})]}),B.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full ",children:[B.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:B.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:g,children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),B.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!0,action:()=>m("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>o()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>l()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>h()}].map((y,E)=>y.empty?B.jsx("div",{className:"w-16"},E):B.jsxs("button",{onClick:y.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${y.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{d:y.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),B.jsx("span",{className:"text-xs md:text-sm mt-1",children:y.name})]},E))})]})]})}const v4="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%AB%E0%B8%A1%E0%B8%B9%E0%B8%81%E0%B8%A3%E0%B8%AD%E0%B8%9A-Cfm-dgeg.png",y4="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%A1%E0%B8%B1%E0%B8%99%E0%B9%84%E0%B8%81%E0%B9%88-SFj_wRX3.png",w4="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%A5%E0%B8%A2%E0%B9%8C-srr38ati.png";function b4({onBack:s,onGoToDashboard:t,onGoToMenu:n,onGoToNotifications:o,onGoToProfile:l,onGoToPost:h}){const[m,g]=Nt.useState("ALL"),y=[{img:v4,title:"ข้าวหมูกรอบ",category:"Lunch Boxes",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`},{img:y4,title:"ข้าวมันไก่",category:"Lunch Boxes",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`},{img:w4,title:"ขนมเลย์ถุงลมเข้า",category:"Snacks",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`}],E=["ALL","Lunch Boxes","Snacks","Beverages"];return B.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[B.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[B.jsxs("div",{className:"flex items-center space-x-2",children:[B.jsx("img",{src:nl,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),B.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),B.jsx("div",{className:"flex items-center space-x-4",children:B.jsx("img",{src:tu,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:l})})]}),B.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[B.jsxs("button",{onClick:s,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),B.jsx("span",{className:"text-lg font-semibold",children:"Shared Food Board"})]}),B.jsxs("div",{className:"relative mb-4",children:[B.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-100 placeholder-gray-400 shadow transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] hover:shadow-md"}),B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),B.jsx("div",{className:"flex space-x-4 overflow-x-auto text-gray-600 mb-4",children:E.map((w,S)=>B.jsx("span",{onClick:()=>g(w),className:`whitespace-nowrap px-4 py-2 border-b-2 cursor-pointer transition-colors duration-300 ease-in-out
                ${m===w?"border-[#2e2eff] text-[#2e2eff]":"border-transparent hover:border-gray-300 hover:text-[#2e2eff]"}`,children:w},S))}),B.jsx("section",{className:"space-y-4",children:y.filter(w=>m==="ALL"||w.category===m).map((w,S)=>B.jsxs("div",{className:"flex bg-white rounded-xl shadow p-3 space-x-4 items-center transform transition duration-300 hover:scale-105 hover:shadow-lg",children:[B.jsx("img",{src:w.img,alt:w.title,className:"w-24 h-24 object-cover rounded-lg"}),B.jsxs("div",{className:"flex-1",children:[B.jsx("h3",{className:"font-semibold text-gray-800",children:w.title}),B.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a2 2 0 01-2.828 0L6.343 16.657a8 8 0 1111.314 0z"}),B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),B.jsx("span",{children:w.location})]}),B.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1 whitespace-pre-line",children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),B.jsx("span",{children:w.date})]})]})]},S))})]}),B.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[B.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:B.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:h,children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),B.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!0,action:()=>n()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>o()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>l()}].map((w,S)=>w.empty?B.jsx("div",{className:"w-16"},S):B.jsxs("button",{onClick:w.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${w.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{d:w.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),B.jsx("span",{className:"text-xs md:text-sm mt-1",children:w.name})]},S))})]})]})}function E4({onBack:s,onGoToDashboard:t,onGoToMenu:n,onGoToNotifications:o,userData:l,onGoToProfile:h,onGoToPost:m}){const[g,y]=Nt.useState("shares"),E={shares:[{title:"“ข้าวหมูกรอบ” has been successfully claimed.",status:"Claimed by Natcha",date:"July 29, 2025 at 12:45 PM"},{title:"“ข้าวมันไก่” has been posted and is now visible to others.",status:"Active",date:"July 29, 2025 at 11:03 AM"},{title:"“ขนมเลย์ถุงลมเข้า” was removed due to inactivity.",status:"Auto-expired",date:"July 29, 2025 at 9:41 AM"}],pickups:[{title:"Pickup: ข้าวหมูกรอบ is ready.",status:"Pending",date:"July 29, 2025 at 1:00 PM"}]};return B.jsxs("div",{className:"font-sans flex flex-col min-h-screen bg-gray-50",children:[B.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[B.jsxs("div",{className:"flex items-center space-x-2",children:[B.jsx("img",{src:nl,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),B.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),B.jsx("div",{className:"flex items-center space-x-4",children:B.jsx("img",{src:tu,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:h})})]}),B.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[B.jsxs("button",{onClick:s,className:"flex items-center text-gray-700 mb-4",children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),B.jsx("span",{className:"text-lg font-semibold",children:"Notifications"})]}),B.jsxs("div",{className:"relative border-b mb-4 flex",children:[B.jsx("button",{onClick:()=>y("shares"),className:`flex-1 text-center pb-2 ${g==="shares"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Shares"}),B.jsx("button",{onClick:()=>y("pickups"),className:`flex-1 text-center pb-2 ${g==="pickups"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Pickups"}),B.jsx("span",{className:"absolute bottom-0 left-0 w-1/2 h-0.5 bg-[#2e2eff] transition-transform duration-300",style:{transform:g==="shares"?"translateX(0%)":"translateX(100%)"}})]}),B.jsx("section",{className:"space-y-4",children:E[g].map((w,S)=>B.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[B.jsx("h3",{className:"font-semibold text-gray-800",children:w.title}),B.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),B.jsx("span",{children:w.status})]}),B.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),B.jsx("span",{children:w.date})]})]},S))})]}),B.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[B.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:B.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:m,children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),B.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>n()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>o(),active:!0},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>h()}].map((w,S)=>w.empty?B.jsx("div",{className:"w-16"},S):B.jsxs("button",{onClick:w.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${w.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{d:w.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),B.jsx("span",{className:"text-xs md:text-sm mt-1",children:w.name})]},S))})]})]})}function T4({onBack:s,onLogout:t,userData:n,onGoToDashboard:o,onGoToMenu:l,onGoToNotifications:h,onGoToProfile:m,onGoToPost:g}){const[y,E]=Nt.useState(null),[w,S]=Nt.useState(!1),[T,I]=Nt.useState(!0),[F,G]=Nt.useState({name:"",fullName:"",studentId:"",phone:"",email:""}),X=[{key:"name",label:"ชื่อในระบบ",placeholder:"No Name"},{key:"fullName",label:"ชื่อเต็ม",placeholder:"No Full Name"},{key:"studentId",label:"รหัสนักศึกษา",placeholder:"00000000"},{key:"phone",label:"เบอร์โทร",placeholder:"000-000-0000"},{key:"email",label:"Email",placeholder:"No Email"}];Nt.useEffect(()=>{async function J(){if(n?.uid)try{const ct=await bp(Ya(Yl,`users/${n.uid}`)),Z=ct.exists()?ct.val():{},q={name:Z.name||"",fullName:Z.fullName||"",studentId:Z.studentId||"00000000",phone:Z.phone||"000-000-0000",email:Z.email||""};E(q),G(q),await new Promise(A=>setTimeout(A,700))}catch(ct){console.error("Error fetching user:",ct)}finally{I(!1)}}J()},[n]);const K=J=>{const{name:ct,value:Z}=J.target;G(q=>({...q,[ct]:Z}))},gt=async()=>{if(n?.uid)try{await Jf(Ya(Yl,`users/${n.uid}`),F),E(F),S(!1),alert("บันทึกข้อมูลเรียบร้อย ✅")}catch(J){console.error("Error saving data:",J),alert("เกิดข้อผิดพลาด ❌")}},it=()=>{Bp(Qr).then(()=>t()).catch(console.error)};return T?B.jsx("div",{className:"flex-1 flex items-center justify-center h-screen bg-gray-100",children:B.jsxs("div",{className:"text-center",children:[B.jsx("div",{className:"loader border-4 border-blue-500 border-t-transparent rounded-full w-16 h-16 animate-spin mx-auto"}),B.jsx("p",{className:"mt-4 text-gray-700",children:"Loading user data..."})]})}):T?B.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[B.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[B.jsxs("div",{className:"flex items-center space-x-2",children:[B.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"}),B.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded animate-pulse"})]}),B.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"})]}),B.jsxs("main",{className:"flex-1 overflow-y-auto p-6 flex flex-col items-center space-y-4 animate-pulse",children:[B.jsx("div",{className:"w-28 h-28 bg-gray-300 rounded-full"}),B.jsx("div",{className:"w-full max-w-md space-y-3",children:X.map((J,ct)=>B.jsx("div",{className:"h-12 bg-gray-200 rounded-lg"},ct))})]})]}):B.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[B.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[B.jsxs("div",{className:"flex items-center space-x-2",children:[B.jsx("img",{src:nl,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),B.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),B.jsx("div",{className:"flex items-center space-x-4",children:B.jsx("img",{src:tu,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:m})})]}),B.jsxs("main",{className:`flex-1 p-4 md:p-8 flex flex-col items-center bg-gradient-to-b from-white to-gray-100\r
        max-w-2xl mx-auto w-full space-y-6 pb-36 transition-all duration-300`,children:[B.jsxs("button",{onClick:s,className:"flex items-center self-start text-gray-700 mb-4 hover:text-[#2e2eff] transition",children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),B.jsx("span",{className:"text-lg font-semibold",children:"Profile"})]}),B.jsx("img",{src:tu,alt:"User Avatar",className:"w-28 h-28 md:w-36 md:h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-white"}),B.jsxs("div",{className:"w-full max-w-md space-y-4",children:[X.map(({key:J,placeholder:ct})=>B.jsxs("div",{className:"flex flex-col bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition",children:[B.jsx("label",{className:"text-gray-500 text-xs mb-1",children:J==="name"?"UserName":J==="fullName"?"Full Name":J==="studentId"?"Student ID":J==="phone"?"Phone":"Email"}),B.jsxs("div",{className:"flex items-center justify-between",children:[w?B.jsx("input",{type:J==="email"?"email":"text",name:J,value:F[J],onChange:K,className:"flex-1 text-gray-800 text-sm focus:outline-none bg-gray-50 rounded px-2 py-1 border border-gray-200"}):B.jsx("span",{className:"text-gray-700 text-sm break-all",children:y[J]||ct}),!w&&B.jsx("button",{onClick:()=>S(!0),className:"ml-3 px-3 py-1 text-blue-500 text-xs font-semibold rounded-md hover:bg-blue-50 transition",children:"Edit"})]})]},J)),w&&B.jsx("button",{onClick:gt,className:"w-full py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition mt-2",children:"Save"})]}),B.jsx("button",{onClick:it,className:"px-5 py-2 mt-5 bg-red-500 text-white rounded-md hover:bg-red-600 transition text-sm font-medium shadow",children:"Logout"})]}),B.jsxs("div",{className:"hidden md:block",children:[B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{})]}),B.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[B.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:B.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:g,children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),B.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>l()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>h()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>m(),active:!0}].map((J,ct)=>J.empty?B.jsx("div",{className:"w-16"},ct):B.jsxs("button",{onClick:J.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${J.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{d:J.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),B.jsx("span",{className:"text-xs md:text-sm mt-1",children:J.name})]},ct))})]})]})}function S4(s,t){const n=Nt.useRef(t);Nt.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}r1();const x4=1;function A4(s){return Object.freeze({__version:x4,map:s})}function C4(s,t){return Object.freeze({...s,...t})}const Tg=Nt.createContext(null);function Mb(){const s=Nt.use(Tg);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function N4(s){function t(n,o){const{instance:l,context:h}=s(n).current;Nt.useImperativeHandle(o,()=>l);const{children:m}=n;return m==null?null:ep.createElement(Tg,{value:h},m)}return Nt.forwardRef(t)}function R4(s){function t(n,o){const{instance:l}=s(n).current;return Nt.useImperativeHandle(o,()=>l),null}return Nt.forwardRef(t)}function I4(s,t){const n=Nt.useRef(void 0);Nt.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function Ob(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}var ic={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var M4=ic.exports,Q0;function O4(){return Q0||(Q0=1,(function(s,t){(function(n,o){o(t)})(M4,(function(n){var o="1.9.4";function l(r){var u,d,v,x;for(d=1,v=arguments.length;d<v;d++){x=arguments[d];for(u in x)r[u]=x[u]}return r}var h=Object.create||(function(){function r(){}return function(u){return r.prototype=u,new r}})();function m(r,u){var d=Array.prototype.slice;if(r.bind)return r.bind.apply(r,d.call(arguments,1));var v=d.call(arguments,2);return function(){return r.apply(u,v.length?v.concat(d.call(arguments)):arguments)}}var g=0;function y(r){return"_leaflet_id"in r||(r._leaflet_id=++g),r._leaflet_id}function E(r,u,d){var v,x,D,W;return W=function(){v=!1,x&&(D.apply(d,x),x=!1)},D=function(){v?x=arguments:(r.apply(d,arguments),setTimeout(W,u),v=!0)},D}function w(r,u,d){var v=u[1],x=u[0],D=v-x;return r===v&&d?r:((r-x)%D+D)%D+x}function S(){return!1}function T(r,u){if(u===!1)return r;var d=Math.pow(10,u===void 0?6:u);return Math.round(r*d)/d}function I(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function F(r){return I(r).split(/\s+/)}function G(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?h(r.options):{});for(var d in u)r.options[d]=u[d];return r.options}function X(r,u,d){var v=[];for(var x in r)v.push(encodeURIComponent(d?x.toUpperCase():x)+"="+encodeURIComponent(r[x]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function gt(r,u){return r.replace(K,function(d,v){var x=u[v];if(x===void 0)throw new Error("No value provided for variable "+d);return typeof x=="function"&&(x=x(u)),x})}var it=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function J(r,u){for(var d=0;d<r.length;d++)if(r[d]===u)return d;return-1}var ct="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var q=0;function A(r){var u=+new Date,d=Math.max(0,16-(u-q));return q=u+d,window.setTimeout(r,d)}var C=window.requestAnimationFrame||Z("RequestAnimationFrame")||A,P=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function U(r,u,d){if(d&&C===A)r.call(u);else return C.call(window,m(r,u))}function k(r){r&&P.call(window,r)}var M={__proto__:null,extend:l,create:h,bind:m,get lastId(){return g},stamp:y,throttle:E,wrapNum:w,falseFn:S,formatNum:T,trim:I,splitWords:F,setOptions:G,getParamString:X,template:gt,isArray:it,indexOf:J,emptyImageUrl:ct,requestFn:C,cancelFn:P,requestAnimFrame:U,cancelAnimFrame:k};function Q(){}Q.extend=function(r){var u=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,v=h(d);v.constructor=u,u.prototype=v;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(u[x]=this[x]);return r.statics&&l(u,r.statics),r.includes&&(ot(r.includes),l.apply(null,[v].concat(r.includes))),l(v,r),delete v.statics,delete v.includes,v.options&&(v.options=d.options?h(d.options):{},l(v.options,r.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,W=v._initHooks.length;D<W;D++)v._initHooks[D].call(this)}},u},Q.include=function(r){var u=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},Q.mergeOptions=function(r){return l(this.prototype.options,r),this},Q.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),d=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function ot(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=it(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var O={on:function(r,u,d){if(typeof r=="object")for(var v in r)this._on(v,r[v],u);else{r=F(r);for(var x=0,D=r.length;x<D;x++)this._on(r[x],u,d)}return this},off:function(r,u,d){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var v in r)this._off(v,r[v],u);else{r=F(r);for(var x=arguments.length===1,D=0,W=r.length;D<W;D++)x?this._off(r[D]):this._off(r[D],u,d)}return this},_on:function(r,u,d,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,d)===!1){d===this&&(d=void 0);var x={fn:u,ctx:d};v&&(x.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(x)}},_off:function(r,u,d){var v,x,D;if(this._events&&(v=this._events[r],!!v)){if(arguments.length===1){if(this._firingCount)for(x=0,D=v.length;x<D;x++)v[x].fn=S;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var W=this._listens(r,u,d);if(W!==!1){var lt=v[W];this._firingCount&&(lt.fn=S,this._events[r]=v=v.slice()),v.splice(W,1)}}},fire:function(r,u,d){if(!this.listens(r,d))return this;var v=l({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var x=this._events[r];if(x){this._firingCount=this._firingCount+1||1;for(var D=0,W=x.length;D<W;D++){var lt=x[D],vt=lt.fn;lt.once&&this.off(r,vt,lt.ctx),vt.call(lt.ctx||this,v)}this._firingCount--}}return d&&this._propagateEvent(v),this},listens:function(r,u,d,v){typeof r!="string"&&console.warn('"string" type argument expected');var x=u;typeof u!="function"&&(v=!!u,x=void 0,d=void 0);var D=this._events&&this._events[r];if(D&&D.length&&this._listens(r,x,d)!==!1)return!0;if(v){for(var W in this._eventParents)if(this._eventParents[W].listens(r,u,d,v))return!0}return!1},_listens:function(r,u,d){if(!this._events)return!1;var v=this._events[r]||[];if(!u)return!!v.length;d===this&&(d=void 0);for(var x=0,D=v.length;x<D;x++)if(v[x].fn===u&&v[x].ctx===d)return x;return!1},once:function(r,u,d){if(typeof r=="object")for(var v in r)this._on(v,r[v],u,!0);else{r=F(r);for(var x=0,D=r.length;x<D;x++)this._on(r[x],u,d,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[y(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[y(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var j=Q.extend(O);function $(r,u,d){this.x=d?Math.round(r):r,this.y=d?Math.round(u):u}var rt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(r){return this.clone()._add(z(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(z(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new $(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new $(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=rt(this.x),this.y=rt(this.y),this},distanceTo:function(r){r=z(r);var u=r.x-this.x,d=r.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(r){return r=z(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=z(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function z(r,u,d){return r instanceof $?r:it(r)?new $(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new $(r.x,r.y):new $(r,u,d)}function et(r,u){if(r)for(var d=u?[r,u]:r,v=0,x=d.length;v<x;v++)this.extend(d[v])}et.prototype={extend:function(r){var u,d;if(!r)return this;if(r instanceof $||typeof r[0]=="number"||"x"in r)u=d=z(r);else if(r=at(r),u=r.min,d=r.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(r){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,d;return typeof r[0]=="number"||r instanceof $?r=z(r):r=at(r),r instanceof et?(u=r.min,d=r.max):u=d=r,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(r){r=at(r);var u=this.min,d=this.max,v=r.min,x=r.max,D=x.x>=u.x&&v.x<=d.x,W=x.y>=u.y&&v.y<=d.y;return D&&W},overlaps:function(r){r=at(r);var u=this.min,d=this.max,v=r.min,x=r.max,D=x.x>u.x&&v.x<d.x,W=x.y>u.y&&v.y<d.y;return D&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,d=this.max,v=Math.abs(u.x-d.x)*r,x=Math.abs(u.y-d.y)*r;return at(z(u.x-v,u.y-x),z(d.x+v,d.y+x))},equals:function(r){return r?(r=at(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function at(r,u){return!r||r instanceof et?r:new et(r,u)}function ht(r,u){if(r)for(var d=u?[r,u]:r,v=0,x=d.length;v<x;v++)this.extend(d[v])}ht.prototype={extend:function(r){var u=this._southWest,d=this._northEast,v,x;if(r instanceof nt)v=r,x=r;else if(r instanceof ht){if(v=r._southWest,x=r._northEast,!v||!x)return this}else return r?this.extend(wt(r)||dt(r)):this;return!u&&!d?(this._southWest=new nt(v.lat,v.lng),this._northEast=new nt(x.lat,x.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),d.lat=Math.max(x.lat,d.lat),d.lng=Math.max(x.lng,d.lng)),this},pad:function(r){var u=this._southWest,d=this._northEast,v=Math.abs(u.lat-d.lat)*r,x=Math.abs(u.lng-d.lng)*r;return new ht(new nt(u.lat-v,u.lng-x),new nt(d.lat+v,d.lng+x))},getCenter:function(){return new nt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new nt(this.getNorth(),this.getWest())},getSouthEast:function(){return new nt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof nt||"lat"in r?r=wt(r):r=dt(r);var u=this._southWest,d=this._northEast,v,x;return r instanceof ht?(v=r.getSouthWest(),x=r.getNorthEast()):v=x=r,v.lat>=u.lat&&x.lat<=d.lat&&v.lng>=u.lng&&x.lng<=d.lng},intersects:function(r){r=dt(r);var u=this._southWest,d=this._northEast,v=r.getSouthWest(),x=r.getNorthEast(),D=x.lat>=u.lat&&v.lat<=d.lat,W=x.lng>=u.lng&&v.lng<=d.lng;return D&&W},overlaps:function(r){r=dt(r);var u=this._southWest,d=this._northEast,v=r.getSouthWest(),x=r.getNorthEast(),D=x.lat>u.lat&&v.lat<d.lat,W=x.lng>u.lng&&v.lng<d.lng;return D&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=dt(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function dt(r,u){return r instanceof ht?r:new ht(r,u)}function nt(r,u,d){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,d!==void 0&&(this.alt=+d)}nt.prototype={equals:function(r,u){if(!r)return!1;r=wt(r);var d=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return d<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+T(this.lat,r)+", "+T(this.lng,r)+")"},distanceTo:function(r){return Mt.distance(this,wt(r))},wrap:function(){return Mt.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,d=u/Math.cos(Math.PI/180*this.lat);return dt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new nt(this.lat,this.lng,this.alt)}};function wt(r,u,d){return r instanceof nt?r:it(r)&&typeof r[0]!="object"?r.length===3?new nt(r[0],r[1],r[2]):r.length===2?new nt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new nt(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new nt(r,u,d)}var Dt={latLngToPoint:function(r,u){var d=this.projection.project(r),v=this.scale(u);return this.transformation._transform(d,v)},pointToLatLng:function(r,u){var d=this.scale(u),v=this.transformation.untransform(r,d);return this.projection.unproject(v)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(r),v=this.transformation.transform(u.min,d),x=this.transformation.transform(u.max,d);return new et(v,x)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?w(r.lng,this.wrapLng,!0):r.lng,d=this.wrapLat?w(r.lat,this.wrapLat,!0):r.lat,v=r.alt;return new nt(d,u,v)},wrapLatLngBounds:function(r){var u=r.getCenter(),d=this.wrapLatLng(u),v=u.lat-d.lat,x=u.lng-d.lng;if(v===0&&x===0)return r;var D=r.getSouthWest(),W=r.getNorthEast(),lt=new nt(D.lat-v,D.lng-x),vt=new nt(W.lat-v,W.lng-x);return new ht(lt,vt)}},Mt=l({},Dt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var d=Math.PI/180,v=r.lat*d,x=u.lat*d,D=Math.sin((u.lat-r.lat)*d/2),W=Math.sin((u.lng-r.lng)*d/2),lt=D*D+Math.cos(v)*Math.cos(x)*W*W,vt=2*Math.atan2(Math.sqrt(lt),Math.sqrt(1-lt));return this.R*vt}}),Gt=6378137,Xt={R:Gt,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,d=this.MAX_LATITUDE,v=Math.max(Math.min(d,r.lat),-d),x=Math.sin(v*u);return new $(this.R*r.lng*u,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(r){var u=180/Math.PI;return new nt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:(function(){var r=Gt*Math.PI;return new et([-r,-r],[r,r])})()};function oe(r,u,d,v){if(it(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=d,this._d=v}oe.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new $((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function me(r,u,d,v){return new oe(r,u,d,v)}var En=l({},Mt,{code:"EPSG:3857",projection:Xt,transformation:(function(){var r=.5/(Math.PI*Xt.R);return me(r,.5,-r,.5)})()}),fn=l({},En,{code:"EPSG:900913"});function be(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function We(r,u){var d="",v,x,D,W,lt,vt;for(v=0,D=r.length;v<D;v++){for(lt=r[v],x=0,W=lt.length;x<W;x++)vt=lt[x],d+=(x?"L":"M")+vt.x+" "+vt.y;d+=u?Lt.svg?"z":"x":""}return d||"M0 0"}var Zt=document.documentElement.style,le="ActiveXObject"in window,Ve=le&&!document.addEventListener,qe="msLaunchUri"in navigator&&!("documentMode"in document),_e=$n("webkit"),dn=$n("android"),Se=$n("android 2")||$n("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mn=dn&&$n("Google")&&pe<537&&!("AudioNode"in window),ae=!!window.opera,te=!qe&&$n("chrome"),ge=$n("gecko")&&!_e&&!ae&&!le,Pe=!te&&$n("safari"),Xe=$n("phantom"),Rn="OTransition"in Zt,tn=navigator.platform.indexOf("Win")===0,pn=le&&"transition"in Zt,en="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Se,nn="MozPerspective"in Zt,Ji=!window.L_DISABLE_3D&&(pn||en||nn)&&!Rn&&!Xe,ui=typeof orientation<"u"||$n("mobile"),_s=ui&&_e,Vs=ui&&en,Li=!window.PointerEvent&&window.MSPointerEvent,bi=!!(window.PointerEvent||Li),an="ontouchstart"in window||!!window.TouchEvent,Qn=!window.L_NO_TOUCH&&(an||bi),In=ui&&ae,ki=ui&&ge,$i=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jn=(function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",S,u),window.removeEventListener("testPassiveEventSupport",S,u)}catch{}return r})(),Mn=(function(){return!!document.createElement("canvas").getContext})(),io=!!(document.createElementNS&&be("svg").createSVGRect),Ue=!!io&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ln=!io&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),sn=navigator.platform.indexOf("Mac")===0,Ei=navigator.platform.indexOf("Linux")===0;function $n(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Lt={ie:le,ielt9:Ve,edge:qe,webkit:_e,android:dn,android23:Se,androidStock:mn,opera:ae,chrome:te,gecko:ge,safari:Pe,phantom:Xe,opera12:Rn,win:tn,ie3d:pn,webkit3d:en,gecko3d:nn,any3d:Ji,mobile:ui,mobileWebkit:_s,mobileWebkit3d:Vs,msPointer:Li,pointer:bi,touch:Qn,touchNative:an,mobileOpera:In,mobileGecko:ki,retina:$i,passiveEvents:Jn,canvas:Mn,svg:io,vml:ln,inlineSvg:Ue,mac:sn,linux:Ei},vs=Lt.msPointer?"MSPointerDown":"pointerdown",ca=Lt.msPointer?"MSPointerMove":"pointermove",qs=Lt.msPointer?"MSPointerUp":"pointerup",Gs=Lt.msPointer?"MSPointerCancel":"pointercancel",ts={touchstart:vs,touchmove:ca,touchend:qs,touchcancel:Gs},Di={touchstart:yr,touchmove:vr,touchend:vr,touchcancel:vr},Vn={},On=!1;function Qe(r,u,d){return u==="touchstart"&&il(),Di[u]?(d=Di[u].bind(this,d),r.addEventListener(ts[u],d,!1),d):(console.warn("wrong event specified:",u),S)}function ha(r,u,d){if(!ts[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(ts[u],d,!1)}function so(r){Vn[r.pointerId]=r}function Pi(r){Vn[r.pointerId]&&(Vn[r.pointerId]=r)}function es(r){delete Vn[r.pointerId]}function il(){On||(document.addEventListener(vs,so,!0),document.addEventListener(ca,Pi,!0),document.addEventListener(qs,es,!0),document.addEventListener(Gs,es,!0),On=!0)}function vr(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Vn)u.touches.push(Vn[d]);u.changedTouches=[u],r(u)}}function yr(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ie(u),vr(r,u)}function sl(r){var u={},d,v;for(v in r)d=r[v],u[v]=d&&d.bind?d.bind(r):d;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Zs=200;function ns(r,u){r.addEventListener("dblclick",u);var d=0,v;function x(D){if(D.detail!==1){v=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var W=ao(D);if(!(W.some(function(vt){return vt instanceof HTMLLabelElement&&vt.attributes.for})&&!W.some(function(vt){return vt instanceof HTMLInputElement||vt instanceof HTMLSelectElement}))){var lt=Date.now();lt-d<=Zs?(v++,v===2&&u(sl(D))):v=1,d=lt}}}return r.addEventListener("click",x),{dblclick:u,simDblclick:x}}function Tn(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var ys=Ui(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ws=Ui(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),is=Ws==="webkitTransition"||Ws==="OTransition"?Ws+"End":"transitionend";function wr(r){return typeof r=="string"?document.getElementById(r):r}function ss(r,u){var d=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(r,null);d=v?v[u]:null}return d==="auto"?null:d}function Qt(r,u,d){var v=document.createElement(r);return v.className=u||"",d&&d.appendChild(v),v}function xe(r){var u=r.parentNode;u&&u.removeChild(r)}function gn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function rs(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Ys(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function Ks(r,u){if(r.classList!==void 0)return r.classList.contains(u);var d=Ge(r);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function qt(r,u){if(r.classList!==void 0)for(var d=F(u),v=0,x=d.length;v<x;v++)r.classList.add(d[v]);else if(!Ks(r,u)){var D=Ge(r);fa(r,(D?D+" ":"")+u)}}function Ce(r,u){r.classList!==void 0?r.classList.remove(u):fa(r,I((" "+Ge(r)+" ").replace(" "+u+" "," ")))}function fa(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function Ge(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function ze(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&br(r,u)}function br(r,u){var d=!1,v="DXImageTransform.Microsoft.Alpha";try{d=r.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):r.style.filter+=" progid:"+v+"(opacity="+u+")"}function Ui(r){for(var u=document.documentElement.style,d=0;d<r.length;d++)if(r[d]in u)return r[d];return!1}function qn(r,u,d){var v=u||new $(0,0);r.style[ys]=(Lt.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(d?" scale("+d+")":"")}function Bt(r,u){r._leaflet_pos=u,Lt.any3d?qn(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function ci(r){return r._leaflet_pos||new $(0,0)}var Ln,zi,ro;if("onselectstart"in document)Ln=function(){Pt(window,"selectstart",Ie)},zi=function(){ue(window,"selectstart",Ie)};else{var ws=Ui(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ln=function(){if(ws){var r=document.documentElement.style;ro=r[ws],r[ws]="none"}},zi=function(){ws&&(document.documentElement.style[ws]=ro,ro=void 0)}}function Er(){Pt(window,"dragstart",Ie)}function da(){ue(window,"dragstart",Ie)}var oo,Xs;function Bi(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Gn(),oo=r,Xs=r.style.outlineStyle,r.style.outlineStyle="none",Pt(window,"keydown",Gn))}function Gn(){oo&&(oo.style.outlineStyle=Xs,oo=void 0,Xs=void 0,ue(window,"keydown",Gn))}function os(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function ji(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var ma={__proto__:null,TRANSFORM:ys,TRANSITION:Ws,TRANSITION_END:is,get:wr,getStyle:ss,create:Qt,remove:xe,empty:gn,toFront:rs,toBack:Ys,hasClass:Ks,addClass:qt,removeClass:Ce,setClass:fa,getClass:Ge,setOpacity:ze,testProp:Ui,setTransform:qn,setPosition:Bt,getPosition:ci,get disableTextSelection(){return Ln},get enableTextSelection(){return zi},disableImageDrag:Er,enableImageDrag:da,preventOutline:Bi,restoreOutline:Gn,getSizedParentNode:os,getScale:ji};function Pt(r,u,d,v){if(u&&typeof u=="object")for(var x in u)bs(r,x,u[x],d);else{u=F(u);for(var D=0,W=u.length;D<W;D++)bs(r,u[D],d,v)}return this}var hi="_leaflet_events";function ue(r,u,d,v){if(arguments.length===1)Ti(r),delete r[hi];else if(u&&typeof u=="object")for(var x in u)Si(r,x,u[x],d);else if(u=F(u),arguments.length===2)Ti(r,function(lt){return J(u,lt)!==-1});else for(var D=0,W=u.length;D<W;D++)Si(r,u[D],d,v);return this}function Ti(r,u){for(var d in r[hi]){var v=d.split(/\d/)[0];(!u||u(v))&&Si(r,v,null,null,d)}}var ti={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bs(r,u,d,v){var x=u+y(d)+(v?"_"+y(v):"");if(r[hi]&&r[hi][x])return this;var D=function(lt){return d.call(v||r,lt||window.event)},W=D;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?D=Qe(r,u,D):Lt.touch&&u==="dblclick"?D=ns(r,D):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(ti[u]||u,D,Lt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(D=function(lt){lt=lt||window.event,Ts(r,lt)&&W(lt)},r.addEventListener(ti[u],D,!1)):r.addEventListener(u,W,!1):r.attachEvent("on"+u,D),r[hi]=r[hi]||{},r[hi][x]=D}function Si(r,u,d,v,x){x=x||u+y(d)+(v?"_"+y(v):"");var D=r[hi]&&r[hi][x];if(!D)return this;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?ha(r,u,D):Lt.touch&&u==="dblclick"?Tn(r,D):"removeEventListener"in r?r.removeEventListener(ti[u]||u,D,!1):r.detachEvent("on"+u,D),r[hi][x]=null}function ei(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Hi(r){return bs(r,"wheel",ei),this}function Es(r){return Pt(r,"mousedown touchstart dblclick contextmenu",ei),r._leaflet_disable_click=!0,this}function Ie(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function kn(r){return Ie(r),ei(r),this}function ao(r){if(r.composedPath)return r.composedPath();for(var u=[],d=r.target;d;)u.push(d),d=d.parentNode;return u}function un(r,u){if(!u)return new $(r.clientX,r.clientY);var d=ji(u),v=d.boundingClientRect;return new $((r.clientX-v.left)/d.x-u.clientLeft,(r.clientY-v.top)/d.y-u.clientTop)}var Ee=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tr(r){return Lt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ee:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ts(r,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==r;)d=d.parentNode}catch{return!1}return d!==r}var rl={__proto__:null,on:Pt,off:ue,stopPropagation:ei,disableScrollPropagation:Hi,disableClickPropagation:Es,preventDefault:Ie,stop:kn,getPropagationPath:ao,getMousePosition:un,getWheelDelta:Tr,isExternalTarget:Ts,addListener:Pt,removeListener:ue},Sr=j.extend({run:function(r,u,d,v){this.stop(),this._el=r,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=ci(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var d=this._startPos.add(this._offset.multiplyBy(r));u&&d._round(),Bt(this._el,d),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Wt=j.extend({options:{crs:En,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=G(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(wt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ws&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,is,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(wt(r),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,d.zoom):this._tryAnimatedPan(r,d.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,d){var v=this.getZoomScale(u),x=this.getSize().divideBy(2),D=r instanceof $?r:this.latLngToContainerPoint(r),W=D.subtract(x).multiplyBy(1-1/v),lt=this.containerPointToLatLng(x.add(W));return this.setView(lt,u,{zoom:d})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():dt(r);var d=z(u.paddingTopLeft||u.padding||[0,0]),v=z(u.paddingBottomRight||u.padding||[0,0]),x=this.getBoundsZoom(r,!1,d.add(v));if(x=typeof u.maxZoom=="number"?Math.min(u.maxZoom,x):x,x===1/0)return{center:r.getCenter(),zoom:x};var D=v.subtract(d).divideBy(2),W=this.project(r.getSouthWest(),x),lt=this.project(r.getNorthEast(),x),vt=this.unproject(W.add(lt).divideBy(2).add(D),x);return{center:vt,zoom:x}},fitBounds:function(r,u){if(r=dt(r),!r.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(r,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=z(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Sr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,d){if(d=d||{},d.animate===!1||!Lt.any3d)return this.setView(r,u,d);this._stop();var v=this.project(this.getCenter()),x=this.project(r),D=this.getSize(),W=this._zoom;r=wt(r),u=u===void 0?W:u;var lt=Math.max(D.x,D.y),vt=lt*this.getZoomScale(W,u),St=x.distanceTo(v)||1,Ct=1.42,Rt=Ct*Ct;function Ot(Ye){var hs=Ye?-1:1,Rs=Ye?vt:lt,ir=vt*vt-lt*lt+hs*Rt*Rt*St*St,Is=2*Rs*Rt*St,Ra=ir/Is,_l=Math.sqrt(Ra*Ra+1)-Ra,Ia=_l<1e-9?-18:Math.log(_l);return Ia}function Vt(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function je(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}function Je(Ye){return Vt(Ye)/je(Ye)}var Pn=Ot(0);function xi(Ye){return lt*(je(Pn)/je(Pn+Ct*Ye))}function Yc(Ye){return lt*(je(Pn)*Je(Pn+Ct*Ye)-Vt(Pn))/Rt}function Kc(Ye){return 1-Math.pow(1-Ye,1.5)}var Na=Date.now(),Ao=(Ot(1)-Pn)/Ct,Xc=d.duration?1e3*d.duration:1e3*Ao*.8;function Co(){var Ye=(Date.now()-Na)/Xc,hs=Kc(Ye)*Ao;Ye<=1?(this._flyToFrame=U(Co,this),this._move(this.unproject(v.add(x.subtract(v).multiplyBy(Yc(hs)/St)),W),this.getScaleZoom(lt/xi(hs),W),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Co.call(this),this},flyToBounds:function(r,u){var d=this._getBoundsCenterZoom(r,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(r){return r=dt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var d=this.getCenter(),v=this._limitCenter(d,this._zoom,dt(r));return d.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var d=z(u.paddingTopLeft||u.padding||[0,0]),v=z(u.paddingBottomRight||u.padding||[0,0]),x=this.project(this.getCenter()),D=this.project(r),W=this.getPixelBounds(),lt=at([W.min.add(d),W.max.subtract(v)]),vt=lt.getSize();if(!lt.contains(D)){this._enforcingBounds=!0;var St=D.subtract(lt.getCenter()),Ct=lt.extend(D).getSize().subtract(vt);x.x+=St.x<0?-Ct.x:Ct.x,x.y+=St.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(x),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),v=u.divideBy(2).round(),x=d.divideBy(2).round(),D=v.subtract(x);return!D.x&&!D.y?this:(r.animate&&r.pan?this.panBy(D):(r.pan&&this._rawPanBy(D),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,r):navigator.geolocation.getCurrentPosition(u,d,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,d=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,d=r.coords.longitude,v=new nt(u,d),x=v.toBounds(r.coords.accuracy*2),D=this._locateOptions;if(D.setView){var W=this.getBoundsZoom(x);this.setView(v,D.maxZoom?Math.min(W,D.maxZoom):W)}var lt={latlng:v,bounds:x,timestamp:r.timestamp};for(var vt in r.coords)typeof r.coords[vt]=="number"&&(lt[vt]=r.coords[vt]);this.fire("locationfound",lt)}},addHandler:function(r,u){if(!u)return this;var d=this[r]=new u(this);return this._handlers.push(d),this.options[r]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)xe(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var d="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),v=Qt("div",d,u||this._mapPane);return r&&(this._panes[r]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),d=this.unproject(r.getTopRight());return new ht(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,d){r=dt(r),d=z(d||[0,0]);var v=this.getZoom()||0,x=this.getMinZoom(),D=this.getMaxZoom(),W=r.getNorthWest(),lt=r.getSouthEast(),vt=this.getSize().subtract(d),St=at(this.project(lt,v),this.project(W,v)).getSize(),Ct=Lt.any3d?this.options.zoomSnap:1,Rt=vt.x/St.x,Ot=vt.y/St.y,Vt=u?Math.max(Rt,Ot):Math.min(Rt,Ot);return v=this.getScaleZoom(Vt,v),Ct&&(v=Math.round(v/(Ct/100))*(Ct/100),v=u?Math.ceil(v/Ct)*Ct:Math.floor(v/Ct)*Ct),Math.max(x,Math.min(D,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var d=this._getTopLeftPoint(r,u);return new et(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(r)/d.scale(u)},getScaleZoom:function(r,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var v=d.zoom(r*d.scale(u));return isNaN(v)?1/0:v},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(wt(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(z(r),u)},layerPointToLatLng:function(r){var u=z(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(wt(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(wt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(dt(r))},distance:function(r,u){return this.options.crs.distance(wt(r),wt(u))},containerPointToLayerPoint:function(r){return z(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return z(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(z(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(r)))},mouseEventToContainerPoint:function(r){return un(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=wr(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,qt(r,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ss(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Bt(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(r.markerPane,"leaflet-zoom-hide"),qt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,d){Bt(this._mapPane,new $(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var x=this._zoom!==u;this._moveStart(x,d)._move(r,u)._moveEnd(x),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,d,v){u===void 0&&(u=this._zoom);var x=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),v?d&&d.pinch&&this.fire("zoom",d):((x||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Bt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[y(this._container)]=this;var u=r?ue:Pt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var d=[],v,x=u==="mouseout"||u==="mouseover",D=r.target||r.srcElement,W=!1;D;){if(v=this._targets[y(D)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){W=!0;break}if(v&&v.listens(u,!0)&&(x&&!Ts(D,r)||(d.push(v),x))||D===this._container)break;D=D.parentNode}return!d.length&&!W&&!x&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var d=r.type;d==="mousedown"&&Bi(u),this._fireDOMEvent(r,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,d){if(r.type==="click"){var v=l({},r);v.type="preclick",this._fireDOMEvent(v,v.type,d)}var x=this._findEventTargets(r,u);if(d){for(var D=[],W=0;W<d.length;W++)d[W].listens(u,!0)&&D.push(d[W]);x=D.concat(x)}if(x.length){u==="contextmenu"&&Ie(r);var lt=x[0],vt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var St=lt.getLatLng&&(!lt._radius||lt._radius<=10);vt.containerPoint=St?this.latLngToContainerPoint(lt.getLatLng()):this.mouseEventToContainerPoint(r),vt.layerPoint=this.containerPointToLayerPoint(vt.containerPoint),vt.latlng=St?lt.getLatLng():this.layerPointToLatLng(vt.layerPoint)}for(W=0;W<x.length;W++)if(x[W].fire(u,vt,!0),vt.originalEvent._stopped||x[W].options.bubblingMouseEvents===!1&&J(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return ci(this._mapPane)||new $(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var d=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var d=this.getSize()._divideBy(2);return this.project(r,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,d){var v=this._getNewPixelOrigin(d,u);return this.project(r,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(r,u,d){var v=this._getNewPixelOrigin(d,u);return at([this.project(r.getSouthWest(),u)._subtract(v),this.project(r.getNorthWest(),u)._subtract(v),this.project(r.getSouthEast(),u)._subtract(v),this.project(r.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,d){if(!d)return r;var v=this.project(r,u),x=this.getSize().divideBy(2),D=new et(v.subtract(x),v.add(x)),W=this._getBoundsOffset(D,d,u);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?r:this.unproject(v.add(W),u)},_limitOffset:function(r,u){if(!u)return r;var d=this.getPixelBounds(),v=new et(d.min.add(r),d.max.add(r));return r.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(r,u,d){var v=at(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),x=v.min.subtract(r.min),D=v.max.subtract(r.max),W=this._rebound(x.x,-D.x),lt=this._rebound(x.y,-D.y);return new $(W,lt)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),d=this.getMaxZoom(),v=Lt.any3d?this.options.zoomSnap:1;return v&&(r=Math.round(r/v)*v),Math.max(u,Math.min(d,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var d=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var r=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var d=ys,v=this._proxy.style[d];qn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();qn(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),x=this._getCenterOffset(r)._divideBy(1-1/v);return d.animate!==!0&&!this.getSize().contains(x)?!1:(U(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,d,v){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function as(r,u){return new Wt(r,u)}var Sn=Q.extend({options:{position:"topright"},initialize:function(r){G(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),d=this.getPosition(),v=r._controlCorners[d];return qt(u,"leaflet-control"),d.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Dn=function(r){return new Sn(r)};Wt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",d=this._controlContainer=Qt("div",u+"control-container",this._container);function v(x,D){var W=u+x+" "+u+D;r[x+D]=Qt("div",W,d)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)xe(this._controlCorners[r]);xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pa=Sn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,d,v){return d<v?-1:v<d?1:0}},initialize:function(r,u,d){G(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in r)this._addLayer(r[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Sn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Qt("div",r),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Es(u),Hi(u);var v=this._section=Qt("section",r+"-list");d&&(this._map.on("click",this.collapse,this),Pt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=Qt("a",r+"-toggle",u);x.href="#",x.title="Layers",x.setAttribute("role","button"),Pt(x,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){Ie(D),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Qt("div",r+"-base",v),this._separator=Qt("div",r+"-separator",v),this._overlaysList=Qt("div",r+"-overlays",v),u.appendChild(v)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,d){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(v,x){return this.options.sortFunction(v.layer,x.layer,v.name,x.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gn(this._baseLayersList),gn(this._overlaysList),this._layerControlInputs=[];var r,u,d,v,x=0;for(d=0;d<this._layers.length;d++)v=this._layers[d],this._addItem(v),u=u||v.overlay,r=r||!v.overlay,x+=v.overlay?0:1;return this.options.hideSingleBase&&(r=r&&x>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(y(r.target)),d=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(r,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=d,v.firstChild},_addItem:function(r){var u=document.createElement("label"),d=this._map.hasLayer(r.layer),v;r.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=d):v=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(v),v.layerId=y(r.layer),Pt(v,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+r.name;var D=document.createElement("span");u.appendChild(D),D.appendChild(v),D.appendChild(x);var W=r.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,d,v=[],x=[];this._handlingClick=!0;for(var D=r.length-1;D>=0;D--)u=r[D],d=this._getLayer(u.layerId).layer,u.checked?v.push(d):u.checked||x.push(d);for(D=0;D<x.length;D++)this._map.hasLayer(x[D])&&this._map.removeLayer(x[D]);for(D=0;D<v.length;D++)this._map.hasLayer(v[D])||this._map.addLayer(v[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,d,v=this._map.getZoom(),x=r.length-1;x>=0;x--)u=r[x],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&v<d.options.minZoom||d.options.maxZoom!==void 0&&v>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Pt(r,"click",Ie),this.expand();var u=this;setTimeout(function(){ue(r,"click",Ie),u._preventClick=!1})}}),au=function(r,u,d){return new pa(r,u,d)},Ss=Sn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",d=Qt("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,d,v,x){var D=Qt("a",d,v);return D.innerHTML=r,D.href="#",D.title=u,D.setAttribute("role","button"),D.setAttribute("aria-label",u),Es(D),Pt(D,"click",kn),Pt(D,"click",x,this),Pt(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";Ce(this._zoomInButton,u),Ce(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(qt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(qt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ss,this.addControl(this.zoomControl))});var lo=function(r){return new Ss(r)},uo=Sn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",d=Qt("div",u),v=this.options;return this._addScales(v,u+"-line",d),r.on(v.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),d},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,d){r.metric&&(this._mScale=Qt("div",u,d)),r.imperial&&(this._iScale=Qt("div",u,d))},_update:function(){var r=this._map,u=r.getSize().y/2,d=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/r)},_updateImperial:function(r){var u=r*3.2808399,d,v,x;u>5280?(d=u/5280,v=this._getRoundNum(d),this._updateScale(this._iScale,v+" mi",v/d)):(x=this._getRoundNum(u),this._updateScale(this._iScale,x+" ft",x/u))},_updateScale:function(r,u,d){r.style.width=Math.round(this.options.maxWidth*d)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),d=r/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),co=function(r){return new uo(r)},ol='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qs=Sn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?ol+" ":"")+"Leaflet</a>"},initialize:function(r){G(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),Es(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),r.length&&d.push(r.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new Qs().addTo(this)});var lu=function(r){return new Qs(r)};Sn.Layers=pa,Sn.Zoom=Ss,Sn.Scale=uo,Sn.Attribution=Qs,Dn.layers=au,Dn.zoom=lo,Dn.scale=co,Dn.attribution=lu;var ni=Q.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ni.addTo=function(r,u){return r.addHandler(u,this),this};var xr={Events:O},ga=Lt.touch?"touchstart mousedown":"mousedown",Fi=j.extend({options:{clickTolerance:3},initialize:function(r,u,d,v){G(this,v),this._element=r,this._dragStartTarget=u||r,this._preventOutline=d},enable:function(){this._enabled||(Pt(this._dragStartTarget,ga,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fi._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,ga,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ks(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Fi._dragging===this&&this.finishDrag();return}if(!(Fi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Fi._dragging=this,this._preventOutline&&Bi(this._element),Er(),Ln(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,d=os(this._element);this._startPoint=new $(u.clientX,u.clientY),this._startPos=ci(this._element),this._parentScale=ji(d);var v=r.type==="mousedown";Pt(document,v?"mousemove":"touchmove",this._onMove,this),Pt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,d=new $(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Ie(r),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Bt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),da(),zi();var u=this._moved&&this._moving;this._moving=!1,Fi._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function ho(r,u,d){var v,x=[1,4,2,8],D,W,lt,vt,St,Ct,Rt,Ot;for(D=0,Ct=r.length;D<Ct;D++)r[D]._code=ls(r[D],u);for(lt=0;lt<4;lt++){for(Rt=x[lt],v=[],D=0,Ct=r.length,W=Ct-1;D<Ct;W=D++)vt=r[D],St=r[W],vt._code&Rt?St._code&Rt||(Ot=Ar(St,vt,Rt,u,d),Ot._code=ls(Ot,u),v.push(Ot)):(St._code&Rt&&(Ot=Ar(St,vt,Rt,u,d),Ot._code=ls(Ot,u),v.push(Ot)),v.push(vt));r=v}return r}function Js(r,u){var d,v,x,D,W,lt,vt,St,Ct;if(!r||r.length===0)throw new Error("latlngs not passed");b(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Rt=wt([0,0]),Ot=dt(r),Vt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Vt<1700&&(Rt=fo(r));var je=r.length,Je=[];for(d=0;d<je;d++){var Pn=wt(r[d]);Je.push(u.project(wt([Pn.lat-Rt.lat,Pn.lng-Rt.lng])))}for(lt=vt=St=0,d=0,v=je-1;d<je;v=d++)x=Je[d],D=Je[v],W=x.y*D.x-D.y*x.x,vt+=(x.x+D.x)*W,St+=(x.y+D.y)*W,lt+=W*3;lt===0?Ct=Je[0]:Ct=[vt/lt,St/lt];var xi=u.unproject(z(Ct));return wt([xi.lat+Rt.lat,xi.lng+Rt.lng])}function fo(r){for(var u=0,d=0,v=0,x=0;x<r.length;x++){var D=wt(r[x]);u+=D.lat,d+=D.lng,v++}return wt([u/v,d/v])}var mo={__proto__:null,clipPolygon:ho,polygonCenter:Js,centroid:fo};function _a(r,u){if(!u||!r.length)return r.slice();var d=u*u;return r=ll(r,d),r=al(r,d),r}function po(r,u,d){return Math.sqrt(f(r,u,d,!0))}function xs(r,u,d){return f(r,u,d)}function al(r,u){var d=r.length,v=typeof Uint8Array<"u"?Uint8Array:Array,x=new v(d);x[0]=x[d-1]=1,go(r,x,u,0,d-1);var D,W=[];for(D=0;D<d;D++)x[D]&&W.push(r[D]);return W}function go(r,u,d,v,x){var D=0,W,lt,vt;for(lt=v+1;lt<=x-1;lt++)vt=f(r[lt],r[v],r[x],!0),vt>D&&(W=lt,D=vt);D>d&&(u[W]=1,go(r,u,d,v,W),go(r,u,d,W,x))}function ll(r,u){for(var d=[r[0]],v=1,x=0,D=r.length;v<D;v++)$s(r[v],r[x])>u&&(d.push(r[v]),x=v);return x<D-1&&d.push(r[D-1]),d}var va;function Zn(r,u,d,v,x){var D=v?va:ls(r,d),W=ls(u,d),lt,vt,St;for(va=W;;){if(!(D|W))return[r,u];if(D&W)return!1;lt=D||W,vt=Ar(r,u,lt,d,x),St=ls(vt,d),lt===D?(r=vt,D=St):(u=vt,W=St)}}function Ar(r,u,d,v,x){var D=u.x-r.x,W=u.y-r.y,lt=v.min,vt=v.max,St,Ct;return d&8?(St=r.x+D*(vt.y-r.y)/W,Ct=vt.y):d&4?(St=r.x+D*(lt.y-r.y)/W,Ct=lt.y):d&2?(St=vt.x,Ct=r.y+W*(vt.x-r.x)/D):d&1&&(St=lt.x,Ct=r.y+W*(lt.x-r.x)/D),new $(St,Ct,x)}function ls(r,u){var d=0;return r.x<u.min.x?d|=1:r.x>u.max.x&&(d|=2),r.y<u.min.y?d|=4:r.y>u.max.y&&(d|=8),d}function $s(r,u){var d=u.x-r.x,v=u.y-r.y;return d*d+v*v}function f(r,u,d,v){var x=u.x,D=u.y,W=d.x-x,lt=d.y-D,vt=W*W+lt*lt,St;return vt>0&&(St=((r.x-x)*W+(r.y-D)*lt)/vt,St>1?(x=d.x,D=d.y):St>0&&(x+=W*St,D+=lt*St)),W=r.x-x,lt=r.y-D,v?W*W+lt*lt:new $(x,D)}function b(r){return!it(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function N(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),b(r)}function V(r,u){var d,v,x,D,W,lt,vt,St;if(!r||r.length===0)throw new Error("latlngs not passed");b(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ct=wt([0,0]),Rt=dt(r),Ot=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());Ot<1700&&(Ct=fo(r));var Vt=r.length,je=[];for(d=0;d<Vt;d++){var Je=wt(r[d]);je.push(u.project(wt([Je.lat-Ct.lat,Je.lng-Ct.lng])))}for(d=0,v=0;d<Vt-1;d++)v+=je[d].distanceTo(je[d+1])/2;if(v===0)St=je[0];else for(d=0,D=0;d<Vt-1;d++)if(W=je[d],lt=je[d+1],x=W.distanceTo(lt),D+=x,D>v){vt=(D-v)/x,St=[lt.x-vt*(lt.x-W.x),lt.y-vt*(lt.y-W.y)];break}var Pn=u.unproject(z(St));return wt([Pn.lat+Ct.lat,Pn.lng+Ct.lng])}var ut={__proto__:null,simplify:_a,pointToSegmentDistance:po,closestPointOnSegment:xs,clipSegment:Zn,_getEdgeIntersection:Ar,_getBitCode:ls,_sqClosestPointOnSegment:f,isFlat:b,_flat:N,polylineCenter:V},yt={project:function(r){return new $(r.lng,r.lat)},unproject:function(r){return new nt(r.y,r.x)},bounds:new et([-180,-90],[180,90])},xt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new et([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,d=this.R,v=r.lat*u,x=this.R_MINOR/d,D=Math.sqrt(1-x*x),W=D*Math.sin(v),lt=Math.tan(Math.PI/4-v/2)/Math.pow((1-W)/(1+W),D/2);return v=-d*Math.log(Math.max(lt,1e-10)),new $(r.lng*u*d,v)},unproject:function(r){for(var u=180/Math.PI,d=this.R,v=this.R_MINOR/d,x=Math.sqrt(1-v*v),D=Math.exp(-r.y/d),W=Math.PI/2-2*Math.atan(D),lt=0,vt=.1,St;lt<15&&Math.abs(vt)>1e-7;lt++)St=x*Math.sin(W),St=Math.pow((1-St)/(1+St),x/2),vt=Math.PI/2-2*Math.atan(D*St)-W,W+=vt;return new nt(W*u,r.x*u/d)}},ve={__proto__:null,LonLat:yt,Mercator:xt,SphericalMercator:Xt},Be=l({},Mt,{code:"EPSG:3395",projection:xt,transformation:(function(){var r=.5/(Math.PI*xt.R);return me(r,.5,-r,.5)})()}),ee=l({},Mt,{code:"EPSG:4326",projection:yt,transformation:me(1/180,1,-1/180,.5)}),_n=l({},Dt,{projection:yt,transformation:me(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var d=u.lng-r.lng,v=u.lat-r.lat;return Math.sqrt(d*d+v*v)},infinite:!0});Dt.Earth=Mt,Dt.EPSG3395=Be,Dt.EPSG3857=En,Dt.EPSG900913=fn,Dt.EPSG4326=ee,Dt.Simple=_n;var Ae=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[y(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[y(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=y(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return y(r)in this._layers},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},_addLayers:function(r){r=r?it(r)?r:[r]:[];for(var u=0,d=r.length;u<d;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[y(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=y(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,d=this._getZoomSpan();for(var v in this._zoomBoundLayers){var x=this._zoomBoundLayers[v].options;r=x.minZoom===void 0?r:Math.min(r,x.minZoom),u=x.maxZoom===void 0?u:Math.max(u,x.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ii=Ae.extend({initialize:function(r,u){G(this,u),this._layers={};var d,v;if(r)for(d=0,v=r.length;d<v;d++)this.addLayer(r[d])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),d,v;for(d in this._layers)v=this._layers[d],v[r]&&v[r].apply(v,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return y(r)}}),si=function(r,u){return new ii(r,u)},vn=ii.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ii.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ii.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ht;for(var u in this._layers){var d=this._layers[u];r.extend(d.getBounds?d.getBounds():d.getLatLng())}return r}}),As=function(r,u){return new vn(r,u)},_o=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){G(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var d=this._getIconUrl(r);if(!d){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(r,u){var d=this.options,v=d[u+"Size"];typeof v=="number"&&(v=[v,v]);var x=z(v),D=z(u==="shadow"&&d.shadowAnchor||d.iconAnchor||x&&x.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(d.className||""),D&&(r.style.marginLeft=-D.x+"px",r.style.marginTop=-D.y+"px"),x&&(r.style.width=x.x+"px",r.style.height=x.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Lt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function ul(r){return new _o(r)}var vo=_o.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof vo.imagePath!="string"&&(vo.imagePath=this._detectIconPath()),(this.options.imagePath||vo.imagePath)+_o.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(d,v,x){var D=v.exec(d);return D&&D[x]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Qt("div","leaflet-default-icon-path",document.body),u=ss(r,"background-image")||ss(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),uu=ni.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Fi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,d=u._map,v=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,D=ci(u._icon),W=d.getPixelBounds(),lt=d.getPixelOrigin(),vt=at(W.min._subtract(lt).add(x),W.max._subtract(lt).subtract(x));if(!vt.contains(D)){var St=z((Math.max(vt.max.x,D.x)-vt.max.x)/(W.max.x-vt.max.x)-(Math.min(vt.min.x,D.x)-vt.min.x)/(W.min.x-vt.min.x),(Math.max(vt.max.y,D.y)-vt.max.y)/(W.max.y-vt.max.y)-(Math.min(vt.min.y,D.y)-vt.min.y)/(W.min.y-vt.min.y)).multiplyBy(v);d.panBy(St,{animate:!1}),this._draggable._newPos._add(St),this._draggable._startPos._add(St),Bt(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=U(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,d=u._shadow,v=ci(u._icon),x=u._map.layerPointToLatLng(v);d&&Bt(d,v),u._latlng=x,r.latlng=x,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),yo=Ae.extend({options:{icon:new vo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){G(this,u),this._latlng=wt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=wt(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=r.icon.createIcon(this._icon),v=!1;d!==this._icon&&(this._icon&&this._removeIcon(),v=!0,r.title&&(d.title=r.title),d.tagName==="IMG"&&(d.alt=r.alt||"")),qt(d,u),r.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(d,"focus",this._panOnFocus,this);var x=r.icon.createShadow(this._shadow),D=!1;x!==this._shadow&&(this._removeShadow(),D=!0),x&&(qt(x,u),x.alt=""),this._shadow=x,r.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&D&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xe(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Bt(this._icon,r),this._shadow&&Bt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uu)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uu(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&ze(this._icon,r),this._shadow&&ze(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,d=u.iconSize?z(u.iconSize):z(0,0),v=u.iconAnchor?z(u.iconAnchor):z(0,0);r.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:d.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cu(r,u){return new yo(r,u)}var Cs=Ae.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return G(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ya=Cs.extend({options:{fill:!0,radius:10},initialize:function(r,u){G(this,u),this._latlng=wt(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=wt(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return Cs.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,d=this._clickTolerance(),v=[r+d,u+d];this._pxBounds=new et(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fc(r,u){return new ya(r,u)}var hu=ya.extend({initialize:function(r,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),G(this,u),this._latlng=wt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ht(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Cs.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,d=this._map,v=d.options.crs;if(v.distance===Mt.distance){var x=Math.PI/180,D=this._mRadius/Mt.R/x,W=d.project([u+D,r]),lt=d.project([u-D,r]),vt=W.add(lt).divideBy(2),St=d.unproject(vt).lat,Ct=Math.acos((Math.cos(D*x)-Math.sin(u*x)*Math.sin(St*x))/(Math.cos(u*x)*Math.cos(St*x)))/x;(isNaN(Ct)||Ct===0)&&(Ct=D/Math.cos(Math.PI/180*u)),this._point=vt.subtract(d.getPixelOrigin()),this._radius=isNaN(Ct)?0:vt.x-d.project([St,r-Ct]).x,this._radiusY=vt.y-W.y}else{var Rt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Rt).x}this._updateBounds()}});function ed(r,u,d){return new hu(r,u,d)}var Ns=Cs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){G(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,d=null,v=f,x,D,W=0,lt=this._parts.length;W<lt;W++)for(var vt=this._parts[W],St=1,Ct=vt.length;St<Ct;St++){x=vt[St-1],D=vt[St];var Rt=v(r,x,D,!0);Rt<u&&(u=Rt,d=v(r,x,D))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return V(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=wt(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ht,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return b(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],d=b(r),v=0,x=r.length;v<x;v++)d?(u[v]=wt(r[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(r[v]);return u},_project:function(){var r=new et;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new $(r,r);this._rawPxBounds&&(this._pxBounds=new et([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,d){var v=r[0]instanceof nt,x=r.length,D,W;if(v){for(W=[],D=0;D<x;D++)W[D]=this._map.latLngToLayerPoint(r[D]),d.extend(W[D]);u.push(W)}else for(D=0;D<x;D++)this._projectLatlngs(r[D],u,d)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,v,x,D,W,lt,vt;for(d=0,x=0,D=this._rings.length;d<D;d++)for(vt=this._rings[d],v=0,W=vt.length;v<W-1;v++)lt=Zn(vt[v],vt[v+1],r,v,!0),lt&&(u[x]=u[x]||[],u[x].push(lt[0]),(lt[1]!==vt[v+1]||v===W-2)&&(u[x].push(lt[1]),x++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,d=0,v=r.length;d<v;d++)r[d]=_a(r[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var d,v,x,D,W,lt,vt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(d=0,D=this._parts.length;d<D;d++)for(lt=this._parts[d],v=0,W=lt.length,x=W-1;v<W;x=v++)if(!(!u&&v===0)&&po(r,lt[x],lt[v])<=vt)return!0;return!1}});function nd(r,u){return new Ns(r,u)}Ns._flat=N;var wo=Ns.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Js(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=Ns.prototype._convertLatLngs.call(this,r),d=u.length;return d>=2&&u[0]instanceof nt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(r){Ns.prototype._setLatLngs.call(this,r),b(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return b(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,d=new $(u,u);if(r=new et(r.min.subtract(d),r.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,x=this._rings.length,D;v<x;v++)D=ho(this._rings[v],r,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,d,v,x,D,W,lt,vt,St;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(D=0,vt=this._parts.length;D<vt;D++)for(d=this._parts[D],W=0,St=d.length,lt=St-1;W<St;lt=W++)v=d[W],x=d[lt],v.y>r.y!=x.y>r.y&&r.x<(x.x-v.x)*(r.y-v.y)/(x.y-v.y)+v.x&&(u=!u);return u||Ns.prototype._containsPoint.call(this,r,!0)}});function fi(r,u){return new wo(r,u)}var di=vn.extend({initialize:function(r,u){G(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=it(r)?r:r.features,d,v,x;if(u){for(d=0,v=u.length;d<v;d++)x=u[d],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var D=this.options;if(D.filter&&!D.filter(r))return this;var W=wa(r,D);return W?(W.feature=bo(r),W.defaultOptions=W.options,this.resetStyle(W),D.onEachFeature&&D.onEachFeature(r,W),this.addLayer(W)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function wa(r,u){var d=r.type==="Feature"?r.geometry:r,v=d?d.coordinates:null,x=[],D=u&&u.pointToLayer,W=u&&u.coordsToLatLng||cl,lt,vt,St,Ct;if(!v&&!d)return null;switch(d.type){case"Point":return lt=W(v),fu(D,r,lt,u);case"MultiPoint":for(St=0,Ct=v.length;St<Ct;St++)lt=W(v[St]),x.push(fu(D,r,lt,u));return new vn(x);case"LineString":case"MultiLineString":return vt=ba(v,d.type==="LineString"?0:1,W),new Ns(vt,u);case"Polygon":case"MultiPolygon":return vt=ba(v,d.type==="Polygon"?1:2,W),new wo(vt,u);case"GeometryCollection":for(St=0,Ct=d.geometries.length;St<Ct;St++){var Rt=wa({geometry:d.geometries[St],type:"Feature",properties:r.properties},u);Rt&&x.push(Rt)}return new vn(x);case"FeatureCollection":for(St=0,Ct=d.features.length;St<Ct;St++){var Ot=wa(d.features[St],u);Ot&&x.push(Ot)}return new vn(x);default:throw new Error("Invalid GeoJSON object.")}}function fu(r,u,d,v){return r?r(u,d):new yo(d,v&&v.markersInheritOptions&&v)}function cl(r){return new nt(r[1],r[0],r[2])}function ba(r,u,d){for(var v=[],x=0,D=r.length,W;x<D;x++)W=u?ba(r[x],u-1,d):(d||cl)(r[x]),v.push(W);return v}function Ea(r,u){return r=wt(r),r.alt!==void 0?[T(r.lng,u),T(r.lat,u),T(r.alt,u)]:[T(r.lng,u),T(r.lat,u)]}function hl(r,u,d,v){for(var x=[],D=0,W=r.length;D<W;D++)x.push(u?hl(r[D],b(r[D])?0:u-1,d,v):Ea(r[D],v));return!u&&d&&x.length>0&&x.push(x[0].slice()),x}function Vi(r,u){return r.feature?l({},r.feature,{geometry:u}):bo(u)}function bo(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Cr={toGeoJSON:function(r){return Vi(this,{type:"Point",coordinates:Ea(this.getLatLng(),r)})}};yo.include(Cr),hu.include(Cr),ya.include(Cr),Ns.include({toGeoJSON:function(r){var u=!b(this._latlngs),d=hl(this._latlngs,u?1:0,!1,r);return Vi(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),wo.include({toGeoJSON:function(r){var u=!b(this._latlngs),d=u&&!b(this._latlngs[0]),v=hl(this._latlngs,d?2:u?1:0,!0,r);return u||(v=[v]),Vi(this,{type:(d?"Multi":"")+"Polygon",coordinates:v})}}),ii.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(r).geometry.coordinates)}),Vi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var d=u==="GeometryCollection",v=[];return this.eachLayer(function(x){if(x.toGeoJSON){var D=x.toGeoJSON(r);if(d)v.push(D.geometry);else{var W=bo(D);W.type==="FeatureCollection"?v.push.apply(v,W.features):v.push(W)}}}),d?Vi(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function fl(r,u){return new di(r,u)}var Vc=fl,us=Ae.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,d){this._url=r,this._bounds=dt(u),G(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&rs(this._image),this},bringToBack:function(){return this._map&&Ys(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=dt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:Qt("img");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=S,u.onmousemove=S,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;qn(this._image,d,u)},_reset:function(){var r=this._image,u=new et(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Bt(r,u.min),r.style.width=d.x+"px",r.style.height=d.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Eo=function(r,u,d){return new us(r,u,d)},dl=us.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:Qt("video");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=S,u.onmousemove=S,u.onloadeddata=m(this.fire,this,"load"),r){for(var d=u.getElementsByTagName("source"),v=[],x=0;x<d.length;x++)v.push(d[x].src);this._url=d.length>0?v:[u.src];return}it(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var W=Qt("source");W.src=this._url[D],u.appendChild(W)}}});function qc(r,u,d){return new dl(r,u,d)}var tr=us.extend({_initImage:function(){var r=this._image=this._url;qt(r,"leaflet-image-layer"),this._zoomAnimated&&qt(r,"leaflet-zoom-animated"),this.options.className&&qt(r,this.options.className),r.onselectstart=S,r.onmousemove=S}});function Gc(r,u,d){return new tr(r,u,d)}var qi=Ae.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof nt||it(r))?(this._latlng=wt(r),G(this,u)):(G(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(m(xe,void 0,this._container),200)):xe(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=wt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rs(this._container),this},bringToBack:function(){return this._map&&Ys(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof vn){u=null;var d=this._source._layers;for(var v in d)if(d[v]._map){u=d[v];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=z(this.options.offset),d=this._getAnchor();this._zoomAnimated?Bt(this._container,r.add(d)):u=u.add(r).add(d);var v=this._containerBottom=-u.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(r,u,d,v){var x=u;return x instanceof r||(x=new r(v).setContent(u)),d&&x.setLatLng(d),x}}),Ae.include({_initOverlay:function(r,u,d,v){var x=d;return x instanceof r?(G(x,v),x._source=this):(x=u&&!v?u:new r(v,this),x.setContent(d)),x}});var Ta=qi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,qi.prototype.openOn.call(this,r)},onAdd:function(r){qi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cs||this._source.on("preclick",ei))},onRemove:function(r){qi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cs||this._source.off("preclick",ei))},getEvents:function(){var r=qi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Qt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Qt("div",r+"-content-wrapper",u);if(this._contentNode=Qt("div",r+"-content",d),Es(u),Hi(this._contentNode),Pt(u,"contextmenu",ei),this._tipContainer=Qt("div",r+"-tip-container",u),this._tip=Qt("div",r+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Qt("a",r+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(v,"click",function(x){Ie(x),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var d=r.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var v=r.offsetHeight,x=this.options.maxHeight,D="leaflet-popup-scrolled";x&&v>x?(u.height=x+"px",qt(r,D)):Ce(r,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),d=this._getAnchor();Bt(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(ss(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,v=this._containerWidth,x=new $(this._containerLeft,-d-this._containerBottom);x._add(ci(this._container));var D=r.layerPointToContainerPoint(x),W=z(this.options.autoPanPadding),lt=z(this.options.autoPanPaddingTopLeft||W),vt=z(this.options.autoPanPaddingBottomRight||W),St=r.getSize(),Ct=0,Rt=0;D.x+v+vt.x>St.x&&(Ct=D.x+v-St.x+vt.x),D.x-Ct-lt.x<0&&(Ct=D.x-lt.x),D.y+d+vt.y>St.y&&(Rt=D.y+d-St.y+vt.y),D.y-Rt-lt.y<0&&(Rt=D.y-lt.y),(Ct||Rt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Ct,Rt]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),id=function(r,u){return new Ta(r,u)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(r,u,d){return this._initOverlay(Ta,r,u,d).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Ae.include({bindPopup:function(r,u){return this._popup=this._initOverlay(Ta,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof vn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){kn(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof Cs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ml=qi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){qi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){qi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=qi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,d,v=this._map,x=this._container,D=v.latLngToContainerPoint(v.getCenter()),W=v.layerPointToContainerPoint(r),lt=this.options.direction,vt=x.offsetWidth,St=x.offsetHeight,Ct=z(this.options.offset),Rt=this._getAnchor();lt==="top"?(u=vt/2,d=St):lt==="bottom"?(u=vt/2,d=0):lt==="center"?(u=vt/2,d=St/2):lt==="right"?(u=0,d=St/2):lt==="left"?(u=vt,d=St/2):W.x<D.x?(lt="right",u=0,d=St/2):(lt="left",u=vt+(Ct.x+Rt.x)*2,d=St/2),r=r.subtract(z(u,d,!0)).add(Ct).add(Rt),Ce(x,"leaflet-tooltip-right"),Ce(x,"leaflet-tooltip-left"),Ce(x,"leaflet-tooltip-top"),Ce(x,"leaflet-tooltip-bottom"),qt(x,"leaflet-tooltip-"+lt),Bt(x,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&ze(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sd=function(r,u){return new ml(r,u)};Wt.include({openTooltip:function(r,u,d){return this._initOverlay(ml,r,u,d).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Ae.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ml,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof vn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(Pt(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Pt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,d,v;this._tooltip.options.sticky&&r.originalEvent&&(d=this._map.mouseEventToContainerPoint(r.originalEvent),v=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var du=_o.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),d=this.options;if(d.html instanceof Element?(gn(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var v=z(d.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Zc(r){return new du(r)}_o.Default=vo;var Nr=Ae.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){G(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),xe(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ys(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=E(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof $?r:new $(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,d=-r(-1/0,1/0),v=0,x=u.length,D;v<x;v++)D=u[v].style.zIndex,u[v]!==this._container&&D&&(d=r(d,+D));isFinite(d)&&(this.options.zIndex=d+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){ze(this._container,this.options.opacity);var r=+new Date,u=!1,d=!1;for(var v in this._tiles){var x=this._tiles[v];if(!(!x.current||!x.loaded)){var D=Math.min(1,(r-x.loaded)/200);ze(x.el,D),D<1?u=!0:(x.active?d=!0:this._onOpaqueTile(x),x.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(k(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===r?(this._levels[d].el.style.zIndex=u-Math.abs(r-d),this._onUpdateLevel(d)):(xe(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var v=this._levels[r],x=this._map;return v||(v=this._levels[r]={},v.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=x.project(x.unproject(x.getPixelOrigin()),r).round(),v.zoom=r,this._setZoomTransform(v,x.getCenter(),x.getZoom()),S(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var r,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)xe(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,d,v){var x=Math.floor(r/2),D=Math.floor(u/2),W=d-1,lt=new $(+x,+D);lt.z=+W;var vt=this._tileCoordsToKey(lt),St=this._tiles[vt];return St&&St.active?(St.retain=!0,!0):(St&&St.loaded&&(St.retain=!0),W>v?this._retainParent(x,D,W,v):!1)},_retainChildren:function(r,u,d,v){for(var x=2*r;x<2*r+2;x++)for(var D=2*u;D<2*u+2;D++){var W=new $(x,D);W.z=d+1;var lt=this._tileCoordsToKey(W),vt=this._tiles[lt];if(vt&&vt.active){vt.retain=!0;continue}else vt&&vt.loaded&&(vt.retain=!0);d+1<v&&this._retainChildren(x,D,d+1,v)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,d,v){var x=Math.round(u);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var D=this.options.updateWhenZooming&&x!==this._tileZoom;(!v||D)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(r),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],r,u)},_setZoomTransform:function(r,u,d){var v=this._map.getZoomScale(d,r.zoom),x=r.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,d)).round();Lt.any3d?qn(r.el,x,v):Bt(r.el,x)},_resetGrid:function(){var r=this._map,u=r.options.crs,d=this._tileSize=this.getTileSize(),v=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],v).x/d.x),Math.ceil(r.project([0,u.wrapLng[1]],v).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],v).y/d.x),Math.ceil(r.project([u.wrapLat[1],0],v).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(d,this._tileZoom),x=u.project(r,this._tileZoom).floor(),D=u.getSize().divideBy(v*2);return new et(x.subtract(D),x.add(D))},_update:function(r){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(r),x=this._pxBoundsToTileRange(v),D=x.getCenter(),W=[],lt=this.options.keepBuffer,vt=new et(x.getBottomLeft().subtract([lt,-lt]),x.getTopRight().add([lt,-lt]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var St in this._tiles){var Ct=this._tiles[St].coords;(Ct.z!==this._tileZoom||!vt.contains(new $(Ct.x,Ct.y)))&&(this._tiles[St].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(r,d);return}for(var Rt=x.min.y;Rt<=x.max.y;Rt++)for(var Ot=x.min.x;Ot<=x.max.x;Ot++){var Vt=new $(Ot,Rt);if(Vt.z=this._tileZoom,!!this._isValidTile(Vt)){var je=this._tiles[this._tileCoordsToKey(Vt)];je?je.current=!0:W.push(Vt)}}if(W.sort(function(Pn,xi){return Pn.distanceTo(D)-xi.distanceTo(D)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Je=document.createDocumentFragment();for(Ot=0;Ot<W.length;Ot++)this._addTile(W[Ot],Je);this._level.el.appendChild(Je)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(r.x<d.min.x||r.x>d.max.x)||!u.wrapLat&&(r.y<d.min.y||r.y>d.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(r);return dt(this.options.bounds).overlaps(v)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,d=this.getTileSize(),v=r.scaleBy(d),x=v.add(d),D=u.unproject(v,r.z),W=u.unproject(x,r.z);return[D,W]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),d=new ht(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),d=new $(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(r){var u=this._tiles[r];u&&(xe(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){qt(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=S,r.onmousemove=S,Lt.ielt9&&this.options.opacity<1&&ze(r,this.options.opacity)},_addTile:function(r,u){var d=this._getTilePos(r),v=this._tileCoordsToKey(r),x=this.createTile(this._wrapCoords(r),m(this._tileReady,this,r));this._initTile(x),this.createTile.length<2&&U(m(this._tileReady,this,r,null,x)),Bt(x,d),this._tiles[v]={el:x,coords:r,current:!0},u.appendChild(x),this.fire("tileloadstart",{tile:x,coords:r})},_tileReady:function(r,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:r});var v=this._tileCoordsToKey(r);d=this._tiles[v],d&&(d.loaded=+new Date,this._map._fadeAnimated?(ze(d.el,0),k(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(qt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new $(this._wrapX?w(r.x,this._wrapX):r.x,this._wrapY?w(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new et(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Gi(r){return new Nr(r)}var Rr=Nr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=G(this,u),u.detectRetina&&Lt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var d=document.createElement("img");return Pt(d,"load",m(this._tileOnLoad,this,u,d)),Pt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(r),d},getTileUrl:function(r){var u={r:Lt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=d),u["-y"]=d}return gt(this._url,l(u,this.options))},_tileOnLoad:function(r,u){Lt.ielt9?setTimeout(m(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,d){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),r(d,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,v=this.options.zoomOffset;return d&&(r=u-r),r+v},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=S,u.onerror=S,!u.complete)){u.src=ct;var d=this._tiles[r].coords;xe(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",ct),Nr.prototype._removeTile.call(this,r)},_tileReady:function(r,u,d){if(!(!this._map||d&&d.getAttribute("src")===ct))return Nr.prototype._tileReady.call(this,r,u,d)}});function mi(r,u){return new Rr(r,u)}var pi=Rr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var d=l({},this.defaultWmsParams);for(var v in u)v in this.options||(d[v]=u[v]);u=G(this,u);var x=u.detectRetina&&Lt.retina?2:1,D=this.getTileSize();d.width=D.x*x,d.height=D.y*x,this.wmsParams=d},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Rr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),d=this._crs,v=at(d.project(u[0]),d.project(u[1])),x=v.min,D=v.max,W=(this._wmsVersion>=1.3&&this._crs===ee?[x.y,x.x,D.y,D.x]:[x.x,x.y,D.x,D.y]).join(","),lt=Rr.prototype.getTileUrl.call(this,r);return lt+X(this.wmsParams,lt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(r,u){return l(this.wmsParams,r),u||this.redraw(),this}});function To(r,u){return new pi(r,u)}Rr.WMS=pi,mi.wms=To;var Zi=Ae.extend({options:{padding:.1},initialize:function(r){G(this,r),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var d=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,u),D=v.multiplyBy(-d).add(x).subtract(this._map._getNewPixelOrigin(r,u));Lt.any3d?qn(this._container,D,d):Bt(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new et(d,d.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sa=Zi.extend({options:{tolerance:0},getEvents:function(){var r=Zi.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Pt(r,"mousemove",this._onMouseMove,this),Pt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,xe(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var r=this._bounds,u=this._container,d=r.getSize(),v=Lt.retina?2:1;Bt(u,r.min),u.width=v*d.x,u.height=v*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[y(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,d=u.next,v=u.prev;d?d.prev=v:this._drawLast=v,v?v.next=d:this._drawFirst=d,delete r._order,delete this._layers[y(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),d=[],v,x;for(x=0;x<u.length;x++){if(v=Number(u[x]),isNaN(v))return;d.push(v)}r.options._dashArray=d}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new et,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)r=v.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var d,v,x,D,W=r._parts,lt=W.length,vt=this._ctx;if(lt){for(vt.beginPath(),d=0;d<lt;d++){for(v=0,x=W[d].length;v<x;v++)D=W[d][v],vt[v?"lineTo":"moveTo"](D.x,D.y);u&&vt.closePath()}this._fillStroke(vt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,d=this._ctx,v=Math.max(Math.round(r._radius),1),x=(Math.max(Math.round(r._radiusY),1)||v)/v;x!==1&&(d.save(),d.scale(1,x)),d.beginPath(),d.arc(u.x,u.y/x,v,0,Math.PI*2,!1),x!==1&&d.restore(),this._fillStroke(d,r)}},_fillStroke:function(r,u){var d=u.options;d.fill&&(r.globalAlpha=d.fillOpacity,r.fillStyle=d.fillColor||d.color,r.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=d.opacity,r.lineWidth=d.weight,r.strokeStyle=d.color,r.lineCap=d.lineCap,r.lineJoin=d.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),d,v,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(d))&&(v=d);this._fireEvent(v?[v]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var d,v,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(u)&&(v=d);v!==this._hoveredLayer&&(this._handleMouseOut(r),v&&(qt(this._container,"leaflet-interactive"),this._fireEvent([v],r,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,d){this._map._fireDOMEvent(u,d||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var d=u.next,v=u.prev;if(d)d.prev=v;else return;v?v.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var d=u.next,v=u.prev;if(v)v.next=d;else return;d?d.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function xa(r){return Lt.canvas?new Sa(r):null}var Ir=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),So={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zi.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=Ir("shape");qt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=Ir("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;xe(u),r.removeInteractiveTarget(u),delete this._layers[y(r)]},_updateStyle:function(r){var u=r._stroke,d=r._fill,v=r.options,x=r._container;x.stroked=!!v.stroke,x.filled=!!v.fill,v.stroke?(u||(u=r._stroke=Ir("stroke")),x.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=it(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(x.removeChild(u),r._stroke=null),v.fill?(d||(d=r._fill=Ir("fill")),x.appendChild(d),d.color=v.fillColor||v.color,d.opacity=v.fillOpacity):d&&(x.removeChild(d),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),d=Math.round(r._radius),v=Math.round(r._radiusY||d);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+v+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){rs(r._container)},_bringToBack:function(r){Ys(r._container)}},Aa=Lt.vml?Ir:be,er=Zi.extend({_initContainer:function(){this._container=Aa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Aa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xe(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var r=this._bounds,u=r.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Bt(d,r.min),d.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=Aa("path");r.options.className&&qt(u,r.options.className),r.options.interactive&&qt(u,"leaflet-interactive"),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){xe(r._path),r.removeInteractiveTarget(r._path),delete this._layers[y(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,d=r.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,We(r._parts,u))},_updateCircle:function(r){var u=r._point,d=Math.max(Math.round(r._radius),1),v=Math.max(Math.round(r._radiusY),1)||d,x="a"+d+","+v+" 0 1,0 ",D=r._empty()?"M0 0":"M"+(u.x-d)+","+u.y+x+d*2+",0 "+x+-d*2+",0 ";this._setPath(r,D)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){rs(r._path)},_bringToBack:function(r){Ys(r._path)}});Lt.vml&&er.include(So);function Mr(r){return Lt.svg||Lt.vml?new er(r):null}Wt.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&xa(r)||Mr(r)}});var Wc=wo.extend({initialize:function(r,u){wo.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=dt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function gi(r,u){return new Wc(r,u)}er.create=Aa,er.pointsToPath=We,di.geometryToLayer=wa,di.coordsToLatLng=cl,di.coordsToLatLngs=ba,di.latLngToCoords=Ea,di.latLngsToCoords=hl,di.getFeature=Vi,di.asFeature=bo,Wt.mergeOptions({boxZoom:!0});var pl=ni.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ln(),Er(),this._startPoint=this._map.mouseEventToContainerPoint(r),Pt(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new et(this._point,this._startPoint),d=u.getSize();Bt(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(xe(this._box),Ce(this._container,"leaflet-crosshair")),zi(),da(),ue(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",pl),Wt.mergeOptions({doubleClickZoom:!0});var cs=ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,d=u.getZoom(),v=u.options.zoomDelta,x=r.originalEvent.shiftKey?d-v:d+v;u.options.doubleClickZoom==="center"?u.setZoom(x):u.setZoomAround(r.containerPoint,x)}});Wt.addInitHook("addHandler","doubleClickZoom",cs),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mu=ni.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Fi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=dt(this._map.options.maxBounds);this._offsetLimit=at(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),d=this._initialWorldOffset,v=this._draggable._newPos.x,x=(v-u+d)%r+u-d,D=(v+u+d)%r-u-d,W=Math.abs(x+d)<Math.abs(D+d)?x:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(r){var u=this._map,d=u.options,v=!d.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),v)u.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,W=d.easeLinearity,lt=x.multiplyBy(W/D),vt=lt.distanceTo([0,0]),St=Math.min(d.inertiaMaxSpeed,vt),Ct=lt.multiplyBy(St/vt),Rt=St/(d.inertiaDeceleration*W),Ot=Ct.multiplyBy(-Rt/2).round();!Ot.x&&!Ot.y?u.fire("moveend"):(Ot=u._limitOffset(Ot,u.options.maxBounds),U(function(){u.panBy(Ot,{duration:Rt,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",mu),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ca=ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Pt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,d=r.scrollTop||u.scrollTop,v=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},d=this.keyCodes,v,x;for(v=0,x=d.left.length;v<x;v++)u[d.left[v]]=[-1*r,0];for(v=0,x=d.right.length;v<x;v++)u[d.right[v]]=[r,0];for(v=0,x=d.down.length;v<x;v++)u[d.down[v]]=[0,r];for(v=0,x=d.up.length;v<x;v++)u[d.up[v]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},d=this.keyCodes,v,x;for(v=0,x=d.zoomIn.length;v<x;v++)u[d.zoomIn[v]]=r;for(v=0,x=d.zoomOut.length;v<x;v++)u[d.zoomOut[v]]=-r},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,d=this._map,v;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(v=this._panKeys[u],r.shiftKey&&(v=z(v).multiplyBy(3)),d.options.maxBounds&&(v=d._limitOffset(z(v),d.options.maxBounds)),d.options.worldCopyJump){var x=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(v)));d.panTo(x)}else d.panBy(v)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;kn(r)}}});Wt.addInitHook("addHandler","keyboard",Ca),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nr=ni.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=Tr(r),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var v=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),v),kn(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),d=this._map.options.zoomSnap||0;r._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,D=d?Math.ceil(x/d)*d:x,W=r._limitZoom(u+(this._delta>0?D:-D))-u;this._delta=0,this._startTime=null,W&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+W):r.setZoomAround(this._lastMousePos,u+W))}});Wt.addInitHook("addHandler","scrollWheelZoom",nr);var pu=600;Wt.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var gl=ni.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new $(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",Ie),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),pu),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ue(document,"touchend",Ie),ue(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new $(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var d=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Wt.addInitHook("addHandler","tapHold",gl),Wt.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var Or=ni.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(r.touches[0]),v=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(v)._divideBy(2))),this._startDist=d.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),Ie(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(r.touches[0]),v=u.mouseEventToContainerPoint(r.touches[1]),x=d.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(x,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&x<1||this._zoom>u.getMaxZoom()&&x>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var D=d._add(v)._divideBy(2)._subtract(this._centerPoint);if(x===1&&D.x===0&&D.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var W=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(W,this,!0),Ie(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,k(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",Or),Wt.BoxZoom=pl,Wt.DoubleClickZoom=cs,Wt.Drag=mu,Wt.Keyboard=Ca,Wt.ScrollWheelZoom=nr,Wt.TapHold=gl,Wt.TouchZoom=Or,n.Bounds=et,n.Browser=Lt,n.CRS=Dt,n.Canvas=Sa,n.Circle=hu,n.CircleMarker=ya,n.Class=Q,n.Control=Sn,n.DivIcon=du,n.DivOverlay=qi,n.DomEvent=rl,n.DomUtil=ma,n.Draggable=Fi,n.Evented=j,n.FeatureGroup=vn,n.GeoJSON=di,n.GridLayer=Nr,n.Handler=ni,n.Icon=_o,n.ImageOverlay=us,n.LatLng=nt,n.LatLngBounds=ht,n.Layer=Ae,n.LayerGroup=ii,n.LineUtil=ut,n.Map=Wt,n.Marker=yo,n.Mixin=xr,n.Path=Cs,n.Point=$,n.PolyUtil=mo,n.Polygon=wo,n.Polyline=Ns,n.Popup=Ta,n.PosAnimation=Sr,n.Projection=ve,n.Rectangle=Wc,n.Renderer=Zi,n.SVG=er,n.SVGOverlay=tr,n.TileLayer=Rr,n.Tooltip=ml,n.Transformation=oe,n.Util=M,n.VideoOverlay=dl,n.bind=m,n.bounds=at,n.canvas=xa,n.circle=ed,n.circleMarker=Fc,n.control=Dn,n.divIcon=Zc,n.extend=l,n.featureGroup=As,n.geoJSON=fl,n.geoJson=Vc,n.gridLayer=Gi,n.icon=ul,n.imageOverlay=Eo,n.latLng=wt,n.latLngBounds=dt,n.layerGroup=si,n.map=as,n.marker=cu,n.point=z,n.polygon=fi,n.polyline=nd,n.popup=id,n.rectangle=gi,n.setOptions=G,n.stamp=y,n.svg=Mr,n.svgOverlay=Gc,n.tileLayer=mi,n.tooltip=sd,n.transformation=me,n.version=o,n.videoOverlay=qc;var xo=window.L;n.noConflict=function(){return window.L=xo,this},window.L=n}))})(ic,ic.exports)),ic.exports}var $f=O4();const Lb=s1($f);function kb(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function Db(s,t){return t==null?function(o,l){const h=Nt.useRef(void 0);return h.current||(h.current=s(o,l)),h}:function(o,l){const h=Nt.useRef(void 0);h.current||(h.current=s(o,l));const m=Nt.useRef(o),{instance:g}=h.current;return Nt.useEffect(function(){m.current!==o&&(t(g,o,m.current),m.current=o)},[g,o,t]),h}}function L4(s,t){Nt.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function Pb(s){return function(n){const o=Mb(),l=s(Ob(n,o),o);return S4(o.map,n.attribution),I4(l.current,n.eventHandlers),L4(l.current,o),l}}function k4(s,t){const n=Db(s,t),o=Pb(n);return N4(o)}function D4(s,t){const n=Db(s,t),o=Pb(n);return R4(o)}function P4(s,t,n){const{opacity:o,zIndex:l}=t;o!=null&&o!==n.opacity&&s.setOpacity(o),l!=null&&l!==n.zIndex&&s.setZIndex(l)}function U4(){return Mb().map}function z4(s){const t=U4();return Nt.useEffect(function(){return t.on(s),function(){t.off(s)}},[t,s]),t}function B4({bounds:s,boundsOptions:t,center:n,children:o,className:l,id:h,placeholder:m,style:g,whenReady:y,zoom:E,...w},S){const[T]=Nt.useState({className:l,id:h,style:g}),[I,F]=Nt.useState(null),G=Nt.useRef(void 0);Nt.useImperativeHandle(S,()=>I?.map??null,[I]);const X=Nt.useCallback(gt=>{if(gt!==null&&!G.current){const it=new $f.Map(gt,w);G.current=it,n!=null&&E!=null?it.setView(n,E):s!=null&&it.fitBounds(s,t),y!=null&&it.whenReady(y),F(A4(it))}},[]);Nt.useEffect(()=>()=>{I?.map.remove()},[I]);const K=I?ep.createElement(Tg,{value:I},o):m??null;return ep.createElement("div",{...T,ref:X},K)}const j4=Nt.forwardRef(B4),H4=k4(function({position:t,...n},o){const l=new $f.Marker(t,n);return kb(l,C4(o,{overlayContainer:l}))},function(t,n,o){n.position!==o.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==o.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==o.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==o.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),F4=D4(function({url:t,...n},o){const l=new $f.TileLayer(t,Ob(n,o));return kb(l,o)},function(t,n,o){P4(t,n,o);const{url:l}=n;l!=null&&l!==o.url&&t.setUrl(l)}),V4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",q4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",G4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firebasestorage.googleapis.com",Z4="storageBucket",W4=120*1e3,Y4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends gr{constructor(t,n,o=0){super($m(t),`Firebase Storage: ${n} (${$m(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $m(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pr;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pr||(pr={}));function $m(s){return"storage/"+s}function K4(){const s="An unknown error occurred, please check the error payload for server response.";return new _r(pr.UNKNOWN,s)}function X4(){return new _r(pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Q4(){return new _r(pr.CANCELED,"User canceled the upload/download.")}function J4(s){return new _r(pr.INVALID_URL,"Invalid URL '"+s+"'.")}function $4(s){return new _r(pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function J0(s){return new _r(pr.INVALID_ARGUMENT,s)}function zb(){return new _r(pr.APP_DELETED,"The Firebase app was deleted.")}function tI(s){return new _r(pr.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let o;try{o=js.makeFromUrl(t,n)}catch{return new js(t,"")}if(o.path==="")return o;throw $4(t)}static makeFromUrl(t,n){let o=null;const l="([A-Za-z0-9.\\-_]+)";function h(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const m="(/(.*))?$",g=new RegExp("^gs://"+l+m,"i"),y={bucket:1,path:3};function E(J){J.path_=decodeURIComponent(J.path)}const w="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",I=new RegExp(`^https?://${S}/${w}/b/${l}/o${T}`,"i"),F={bucket:1,path:3},G=n===Ub?"(?:storage.googleapis.com|storage.cloud.google.com)":n,X="([^?#]*)",K=new RegExp(`^https?://${G}/${l}/${X}`,"i"),it=[{regex:g,indices:y,postModify:h},{regex:I,indices:F,postModify:E},{regex:K,indices:{bucket:1,path:2},postModify:E}];for(let J=0;J<it.length;J++){const ct=it[J],Z=ct.regex.exec(t);if(Z){const q=Z[ct.indices.bucket];let A=Z[ct.indices.path];A||(A=""),o=new js(q,A),ct.postModify(o);break}}if(o==null)throw J4(t);return o}}class eI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(s,t,n){let o=1,l=null,h=null,m=!1,g=0;function y(){return g===2}let E=!1;function w(...X){E||(E=!0,t.apply(null,X))}function S(X){l=setTimeout(()=>{l=null,s(I,y())},X)}function T(){h&&clearTimeout(h)}function I(X,...K){if(E){T();return}if(X){T(),w.call(null,X,...K);return}if(y()||m){T(),w.call(null,X,...K);return}o<64&&(o*=2);let it;g===1?(g=2,it=0):it=(o+Math.random())*1e3,S(it)}let F=!1;function G(X){F||(F=!0,T(),!E&&(l!==null?(X||(g=2),clearTimeout(l),S(0)):X||(g=1)))}return S(0),h=setTimeout(()=>{m=!0,G(!0)},n),G}function iI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(s){return s!==void 0}function $0(s,t,n,o){if(o<t)throw J0(`Invalid value for '${s}'. Expected ${t} or greater.`);if(o>n)throw J0(`Invalid value for '${s}'. Expected ${n} or less.`)}function rI(s){const t=encodeURIComponent;let n="?";for(const o in s)if(s.hasOwnProperty(o)){const l=t(o)+"="+t(s[o]);n=n+l+"&"}return n=n.slice(0,-1),n}var Nf;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Nf||(Nf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(s,t){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,h=t.indexOf(s)!==-1;return n||l||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n,o,l,h,m,g,y,E,w,S,T=!0,I=!1){this.url_=t,this.method_=n,this.headers_=o,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=m,this.callback_=g,this.errorCallback_=y,this.timeout_=E,this.progressCallback_=w,this.connectionFactory_=S,this.retry=T,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,G)=>{this.resolve_=F,this.reject_=G,this.start_()})}start_(){const t=(o,l)=>{if(l){o(!1,new Kh(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const m=g=>{const y=g.loaded,E=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,E)};this.progressCallback_!==null&&h.addUploadProgressListener(m),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(m),this.pendingConnection_=null;const g=h.getErrorCode()===Nf.NO_ERROR,y=h.getStatus();if(!g||oI(y,this.additionalRetryCodes_)&&this.retry){const w=h.getErrorCode()===Nf.ABORT;o(!1,new Kh(!1,null,w));return}const E=this.successCodes_.indexOf(y)!==-1;o(!0,new Kh(E,h))})},n=(o,l)=>{const h=this.resolve_,m=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());sI(y)?h(y):h()}catch(y){m(y)}else if(g!==null){const y=K4();y.serverResponse=g.getErrorText(),this.errorCallback_?m(this.errorCallback_(g,y)):m(y)}else if(l.canceled){const y=this.appDelete_?zb():Q4();m(y)}else{const y=X4();m(y)}};this.canceled_?n(!1,new Kh(!1,null,!0)):this.backoffId_=nI(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&iI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kh{constructor(t,n,o){this.wasSuccessCode=t,this.connection=n,this.canceled=!!o}}function lI(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function uI(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function cI(s,t){t&&(s["X-Firebase-GMPID"]=t)}function hI(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function fI(s,t,n,o,l,h,m=!0,g=!1){const y=rI(s.urlParams),E=s.url+y,w=Object.assign({},s.headers);return cI(w,t),lI(w,n),uI(w,h),hI(w,o),new aI(E,s.method,w,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,m,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function mI(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,n){this._service=t,n instanceof js?this._location=n:this._location=js.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Rf(t,n)}get root(){const t=new js(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mI(this._location.path)}get storage(){return this._service}get parent(){const t=dI(this._location.path);if(t===null)return null;const n=new js(this._location.bucket,t);return new Rf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw tI(t)}}function t1(s,t){const n=t?.[Z4];return n==null?null:js.makeFromBucketSpec(n,s)}function pI(s,t,n,o={}){s.host=`${t}:${n}`;const l=la(t);l&&(Df(`https://${s.host}/b`),Pf("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:h}=o;h&&(s._overrideAuthToken=typeof h=="string"?h:Cp(h,s.app.options.projectId))}class gI{constructor(t,n,o,l,h,m=!1){this.app=t,this._authProvider=n,this._appCheckProvider=o,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=m,this._bucket=null,this._host=Ub,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W4,this._maxUploadRetryTime=Y4,this._requests=new Set,l!=null?this._bucket=js.makeFromBucketSpec(l,this._host):this._bucket=t1(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=js.makeFromBucketSpec(this._url,t):this._bucket=t1(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){$0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){$0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Rf(this,t)}_makeRequest(t,n,o,l,h=!0){if(this._deleted)return new eI(zb());{const m=fI(t,this._appId,o,l,n,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(t,n){const[o,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,o,l).getPromise()}}const e1="@firebase/storage",n1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="storage";function _I(s=Bf(),t){s=Xn(s);const o=Rc(s,Bb).getImmediate({identifier:t}),l=Ap("storage");return l&&vI(o,...l),o}function vI(s,t,n,o={}){pI(s,t,n,o)}function yI(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),o=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new gI(n,o,l,t,ua)}function wI(){ia(new Wr(Bb,yI,"PUBLIC").setMultipleInstances(!0)),ps(e1,n1,""),ps(e1,n1,"esm2020")}wI();function bI(s,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(o){if(o!=="default"&&!(o in s)){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}}))})),Object.freeze(s)}function jb(s,t){return new Promise((function(n,o){let l;return EI(s).then((function(h){try{return l=h,n(new Blob([t.slice(0,2),l,t.slice(2)],{type:"image/jpeg"}))}catch(m){return o(m)}}),o)}))}const EI=s=>new Promise(((t,n)=>{const o=new FileReader;o.addEventListener("load",(({target:{result:l}})=>{const h=new DataView(l);let m=0;if(h.getUint16(m)!==65496)return n("not a valid JPEG");for(m+=2;;){const g=h.getUint16(m);if(g===65498)break;const y=h.getUint16(m+2);if(g===65505&&h.getUint32(m+4)===1165519206){const E=m+10;let w;switch(h.getUint16(E)){case 18761:w=!0;break;case 19789:w=!1;break;default:return n("TIFF header contains invalid endian")}if(h.getUint16(E+2,w)!==42)return n("TIFF header contains invalid version");const S=h.getUint32(E+4,w),T=E+S+2+12*h.getUint16(E+S,w);for(let I=E+S+2;I<T;I+=12)if(h.getUint16(I,w)==274){if(h.getUint16(I+2,w)!==3)return n("Orientation data type is invalid");if(h.getUint32(I+4,w)!==1)return n("Orientation data count is invalid");h.setUint16(I+8,1,w);break}return t(l.slice(m,m+2+y))}m+=2+y}return t(new Blob)})),o.readAsArrayBuffer(s)}));var If={},TI={get exports(){return If},set exports(s){If=s}};(function(s){var t,n,o={};TI.exports=o,o.parse=function(l,h){for(var m=o.bin.readUshort,g=o.bin.readUint,y=0,E={},w=new Uint8Array(l),S=w.length-4;g(w,S)!=101010256;)S--;y=S,y+=4;var T=m(w,y+=4);m(w,y+=2);var I=g(w,y+=2),F=g(w,y+=4);y+=4,y=F;for(var G=0;G<T;G++){g(w,y),y+=4,y+=4,y+=4,g(w,y+=4),I=g(w,y+=4);var X=g(w,y+=4),K=m(w,y+=4),gt=m(w,y+2),it=m(w,y+4);y+=6;var J=g(w,y+=8);y+=4,y+=K+gt+it,o._readLocal(w,J,E,I,X,h)}return E},o._readLocal=function(l,h,m,g,y,E){var w=o.bin.readUshort,S=o.bin.readUint;S(l,h),w(l,h+=4),w(l,h+=2);var T=w(l,h+=2);S(l,h+=2),S(l,h+=4),h+=4;var I=w(l,h+=8),F=w(l,h+=2);h+=2;var G=o.bin.readUTF8(l,h,I);if(h+=I,h+=F,E)m[G]={size:y,csize:g};else{var X=new Uint8Array(l.buffer,h);if(T==0)m[G]=new Uint8Array(X.buffer.slice(h,h+g));else{if(T!=8)throw"unknown compression method: "+T;var K=new Uint8Array(y);o.inflateRaw(X,K),m[G]=K}}},o.inflateRaw=function(l,h){return o.F.inflate(l,h)},o.inflate=function(l,h){return l[0],l[1],o.inflateRaw(new Uint8Array(l.buffer,l.byteOffset+2,l.length-6),h)},o.deflate=function(l,h){h==null&&(h={level:6});var m=0,g=new Uint8Array(50+Math.floor(1.1*l.length));g[m]=120,g[m+1]=156,m+=2,m=o.F.deflateRaw(l,g,m,h.level);var y=o.adler(l,0,l.length);return g[m+0]=y>>>24&255,g[m+1]=y>>>16&255,g[m+2]=y>>>8&255,g[m+3]=y>>>0&255,new Uint8Array(g.buffer,0,m+4)},o.deflateRaw=function(l,h){h==null&&(h={level:6});var m=new Uint8Array(50+Math.floor(1.1*l.length)),g=o.F.deflateRaw(l,m,g,h.level);return new Uint8Array(m.buffer,0,g)},o.encode=function(l,h){h==null&&(h=!1);var m=0,g=o.bin.writeUint,y=o.bin.writeUshort,E={};for(var w in l){var S=!o._noNeed(w)&&!h,T=l[w],I=o.crc.crc(T,0,T.length);E[w]={cpr:S,usize:T.length,crc:I,file:S?o.deflateRaw(T):T}}for(var w in E)m+=E[w].file.length+30+46+2*o.bin.sizeUTF8(w);m+=22;var F=new Uint8Array(m),G=0,X=[];for(var w in E){var K=E[w];X.push(G),G=o._writeHeader(F,G,w,K,0)}var gt=0,it=G;for(var w in E)K=E[w],X.push(G),G=o._writeHeader(F,G,w,K,1,X[gt++]);var J=G-it;return g(F,G,101010256),G+=4,y(F,G+=4,gt),y(F,G+=2,gt),g(F,G+=2,J),g(F,G+=4,it),G+=4,G+=2,F.buffer},o._noNeed=function(l){var h=l.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(h)!=-1},o._writeHeader=function(l,h,m,g,y,E){var w=o.bin.writeUint,S=o.bin.writeUshort,T=g.file;return w(l,h,y==0?67324752:33639248),h+=4,y==1&&(h+=2),S(l,h,20),S(l,h+=2,0),S(l,h+=2,g.cpr?8:0),w(l,h+=2,0),w(l,h+=4,g.crc),w(l,h+=4,T.length),w(l,h+=4,g.usize),S(l,h+=4,o.bin.sizeUTF8(m)),S(l,h+=2,0),h+=2,y==1&&(h+=2,h+=2,w(l,h+=6,E),h+=4),h+=o.bin.writeUTF8(l,h,m),y==0&&(l.set(T,h),h+=T.length),h},o.crc={table:(function(){for(var l=new Uint32Array(256),h=0;h<256;h++){for(var m=h,g=0;g<8;g++)1&m?m=3988292384^m>>>1:m>>>=1;l[h]=m}return l})(),update:function(l,h,m,g){for(var y=0;y<g;y++)l=o.crc.table[255&(l^h[m+y])]^l>>>8;return l},crc:function(l,h,m){return 4294967295^o.crc.update(4294967295,l,h,m)}},o.adler=function(l,h,m){for(var g=1,y=0,E=h,w=h+m;E<w;){for(var S=Math.min(E+5552,w);E<S;)y+=g+=l[E++];g%=65521,y%=65521}return y<<16|g},o.bin={readUshort:function(l,h){return l[h]|l[h+1]<<8},writeUshort:function(l,h,m){l[h]=255&m,l[h+1]=m>>8&255},readUint:function(l,h){return 16777216*l[h+3]+(l[h+2]<<16|l[h+1]<<8|l[h])},writeUint:function(l,h,m){l[h]=255&m,l[h+1]=m>>8&255,l[h+2]=m>>16&255,l[h+3]=m>>24&255},readASCII:function(l,h,m){for(var g="",y=0;y<m;y++)g+=String.fromCharCode(l[h+y]);return g},writeASCII:function(l,h,m){for(var g=0;g<m.length;g++)l[h+g]=m.charCodeAt(g)},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,h,m){for(var g,y="",E=0;E<m;E++)y+="%"+o.bin.pad(l[h+E].toString(16));try{g=decodeURIComponent(y)}catch{return o.bin.readASCII(l,h,m)}return g},writeUTF8:function(l,h,m){for(var g=m.length,y=0,E=0;E<g;E++){var w=m.charCodeAt(E);if((4294967168&w)==0)l[h+y]=w,y++;else if((4294965248&w)==0)l[h+y]=192|w>>6,l[h+y+1]=128|w>>0&63,y+=2;else if((4294901760&w)==0)l[h+y]=224|w>>12,l[h+y+1]=128|w>>6&63,l[h+y+2]=128|w>>0&63,y+=3;else{if((4292870144&w)!=0)throw"e";l[h+y]=240|w>>18,l[h+y+1]=128|w>>12&63,l[h+y+2]=128|w>>6&63,l[h+y+3]=128|w>>0&63,y+=4}}return y},sizeUTF8:function(l){for(var h=l.length,m=0,g=0;g<h;g++){var y=l.charCodeAt(g);if((4294967168&y)==0)m++;else if((4294965248&y)==0)m+=2;else if((4294901760&y)==0)m+=3;else{if((4292870144&y)!=0)throw"e";m+=4}}return m}},o.F={},o.F.deflateRaw=function(l,h,m,g){var y=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][g],E=o.F.U,w=o.F._goodIndex;o.F._hash;var S=o.F._putsE,T=0,I=m<<3,F=0,G=l.length;if(g==0){for(;T<G;)S(h,I,T+(U=Math.min(65535,G-T))==G?1:0),I=o.F._copyExact(l,T,U,h,I+8),T+=U;return I>>>3}var X=E.lits,K=E.strt,gt=E.prev,it=0,J=0,ct=0,Z=0,q=0,A=0;for(G>2&&(K[A=o.F._hash(l,0)]=0),T=0;T<G;T++){if(q=A,T+1<G-2){A=o.F._hash(l,T+1);var C=T+1&32767;gt[C]=K[A],K[A]=C}if(F<=T){(it>14e3||J>26697)&&G-T>100&&(F<T&&(X[it]=T-F,it+=2,F=T),I=o.F._writeBlock(T==G-1||F==G?1:0,X,it,Z,l,ct,T-ct,h,I),it=J=Z=0,ct=T);var P=0;T<G-2&&(P=o.F._bestMatch(l,T,gt,q,Math.min(y[2],G-T),y[3]));var U=P>>>16,k=65535&P;if(P!=0){k=65535&P;var M=w(U=P>>>16,E.of0);E.lhst[257+M]++;var Q=w(k,E.df0);E.dhst[Q]++,Z+=E.exb[M]+E.dxb[Q],X[it]=U<<23|T-F,X[it+1]=k<<16|M<<8|Q,it+=2,F=T+U}else E.lhst[l[T]]++;J++}}for(ct==T&&l.length!=0||(F<T&&(X[it]=T-F,it+=2,F=T),I=o.F._writeBlock(1,X,it,Z,l,ct,T-ct,h,I),it=0,J=0,it=J=Z=0,ct=T);(7&I)!=0;)I++;return I>>>3},o.F._bestMatch=function(l,h,m,g,y,E){var w=32767&h,S=m[w],T=w-S+32768&32767;if(S==w||g!=o.F._hash(l,h-T))return 0;for(var I=0,F=0,G=Math.min(32767,h);T<=G&&--E!=0&&S!=w;){if(I==0||l[h+I]==l[h+I-T]){var X=o.F._howLong(l,h,T);if(X>I){if(F=T,(I=X)>=y)break;T+2<X&&(X=T+2);for(var K=0,gt=0;gt<X-2;gt++){var it=h-T+gt+32768&32767,J=it-m[it]+32768&32767;J>K&&(K=J,S=it)}}}T+=(w=S)-(S=m[w])+32768&32767}return I<<16|F},o.F._howLong=function(l,h,m){if(l[h]!=l[h-m]||l[h+1]!=l[h+1-m]||l[h+2]!=l[h+2-m])return 0;var g=h,y=Math.min(l.length,h+258);for(h+=3;h<y&&l[h]==l[h-m];)h++;return h-g},o.F._hash=function(l,h){return(l[h]<<8|l[h+1])+(l[h+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(l,h,m,g,y,E,w,S,T){var I,F,G,X,K,gt,it,J,ct,Z=o.F.U,q=o.F._putsF,A=o.F._putsE;Z.lhst[256]++,F=(I=o.F.getTrees())[0],G=I[1],X=I[2],K=I[3],gt=I[4],it=I[5],J=I[6],ct=I[7];var C=32+((T+3&7)==0?0:8-(T+3&7))+(w<<3),P=g+o.F.contSize(Z.fltree,Z.lhst)+o.F.contSize(Z.fdtree,Z.dhst),U=g+o.F.contSize(Z.ltree,Z.lhst)+o.F.contSize(Z.dtree,Z.dhst);U+=14+3*it+o.F.contSize(Z.itree,Z.ihst)+(2*Z.ihst[16]+3*Z.ihst[17]+7*Z.ihst[18]);for(var k=0;k<286;k++)Z.lhst[k]=0;for(k=0;k<30;k++)Z.dhst[k]=0;for(k=0;k<19;k++)Z.ihst[k]=0;var M=C<P&&C<U?0:P<U?1:2;if(q(S,T,l),q(S,T+1,M),T+=3,M==0){for(;(7&T)!=0;)T++;T=o.F._copyExact(y,E,w,S,T)}else{var Q,ot;if(M==1&&(Q=Z.fltree,ot=Z.fdtree),M==2){o.F.makeCodes(Z.ltree,F),o.F.revCodes(Z.ltree,F),o.F.makeCodes(Z.dtree,G),o.F.revCodes(Z.dtree,G),o.F.makeCodes(Z.itree,X),o.F.revCodes(Z.itree,X),Q=Z.ltree,ot=Z.dtree,A(S,T,K-257),A(S,T+=5,gt-1),A(S,T+=5,it-4),T+=4;for(var O=0;O<it;O++)A(S,T+3*O,Z.itree[1+(Z.ordr[O]<<1)]);T+=3*it,T=o.F._codeTiny(J,Z.itree,S,T),T=o.F._codeTiny(ct,Z.itree,S,T)}for(var j=E,$=0;$<m;$+=2){for(var rt=h[$],z=rt>>>23,et=j+(8388607&rt);j<et;)T=o.F._writeLit(y[j++],Q,S,T);if(z!=0){var at=h[$+1],ht=at>>16,dt=at>>8&255,nt=255&at;A(S,T=o.F._writeLit(257+dt,Q,S,T),z-Z.of0[dt]),T+=Z.exb[dt],q(S,T=o.F._writeLit(nt,ot,S,T),ht-Z.df0[nt]),T+=Z.dxb[nt],j+=z}}T=o.F._writeLit(256,Q,S,T)}return T},o.F._copyExact=function(l,h,m,g,y){var E=y>>>3;return g[E]=m,g[E+1]=m>>>8,g[E+2]=255-g[E],g[E+3]=255-g[E+1],E+=4,g.set(new Uint8Array(l.buffer,h,m),E),y+(m+4<<3)},o.F.getTrees=function(){for(var l=o.F.U,h=o.F._hufTree(l.lhst,l.ltree,15),m=o.F._hufTree(l.dhst,l.dtree,15),g=[],y=o.F._lenCodes(l.ltree,g),E=[],w=o.F._lenCodes(l.dtree,E),S=0;S<g.length;S+=2)l.ihst[g[S]]++;for(S=0;S<E.length;S+=2)l.ihst[E[S]]++;for(var T=o.F._hufTree(l.ihst,l.itree,7),I=19;I>4&&l.itree[1+(l.ordr[I-1]<<1)]==0;)I--;return[h,m,T,y,w,I,g,E]},o.F.getSecond=function(l){for(var h=[],m=0;m<l.length;m+=2)h.push(l[m+1]);return h},o.F.nonZero=function(l){for(var h="",m=0;m<l.length;m+=2)l[m+1]!=0&&(h+=(m>>1)+",");return h},o.F.contSize=function(l,h){for(var m=0,g=0;g<h.length;g++)m+=h[g]*l[1+(g<<1)];return m},o.F._codeTiny=function(l,h,m,g){for(var y=0;y<l.length;y+=2){var E=l[y],w=l[y+1];g=o.F._writeLit(E,h,m,g);var S=E==16?2:E==17?3:7;E>15&&(o.F._putsE(m,g,w,S),g+=S)}return g},o.F._lenCodes=function(l,h){for(var m=l.length;m!=2&&l[m-1]==0;)m-=2;for(var g=0;g<m;g+=2){var y=l[g+1],E=g+3<m?l[g+3]:-1,w=g+5<m?l[g+5]:-1,S=g==0?-1:l[g-1];if(y==0&&E==y&&w==y){for(var T=g+5;T+2<m&&l[T+2]==y;)T+=2;(I=Math.min(T+1-g>>>1,138))<11?h.push(17,I-3):h.push(18,I-11),g+=2*I-2}else if(y==S&&E==y&&w==y){for(T=g+5;T+2<m&&l[T+2]==y;)T+=2;var I=Math.min(T+1-g>>>1,6);h.push(16,I-3),g+=2*I-2}else h.push(y,0)}return m>>>1},o.F._hufTree=function(l,h,m){var g=[],y=l.length,E=h.length,w=0;for(w=0;w<E;w+=2)h[w]=0,h[w+1]=0;for(w=0;w<y;w++)l[w]!=0&&g.push({lit:w,f:l[w]});var S=g.length,T=g.slice(0);if(S==0)return 0;if(S==1){var I=g[0].lit;return T=I==0?1:0,h[1+(I<<1)]=1,h[1+(T<<1)]=1,1}g.sort((function(J,ct){return J.f-ct.f}));var F=g[0],G=g[1],X=0,K=1,gt=2;for(g[0]={lit:-1,f:F.f+G.f,l:F,r:G,d:0};K!=S-1;)F=X!=K&&(gt==S||g[X].f<g[gt].f)?g[X++]:g[gt++],G=X!=K&&(gt==S||g[X].f<g[gt].f)?g[X++]:g[gt++],g[K++]={lit:-1,f:F.f+G.f,l:F,r:G};var it=o.F.setDepth(g[K-1],0);for(it>m&&(o.F.restrictDepth(T,m,it),it=m),w=0;w<S;w++)h[1+(T[w].lit<<1)]=T[w].d;return it},o.F.setDepth=function(l,h){return l.lit!=-1?(l.d=h,h):Math.max(o.F.setDepth(l.l,h+1),o.F.setDepth(l.r,h+1))},o.F.restrictDepth=function(l,h,m){var g=0,y=1<<m-h,E=0;for(l.sort((function(S,T){return T.d==S.d?S.f-T.f:T.d-S.d})),g=0;g<l.length&&l[g].d>h;g++){var w=l[g].d;l[g].d=h,E+=y-(1<<m-w)}for(E>>>=m-h;E>0;)(w=l[g].d)<h?(l[g].d++,E-=1<<h-w-1):g++;for(;g>=0;g--)l[g].d==h&&E<0&&(l[g].d--,E++);E!=0&&console.log("debt left")},o.F._goodIndex=function(l,h){var m=0;return h[16|m]<=l&&(m|=16),h[8|m]<=l&&(m|=8),h[4|m]<=l&&(m|=4),h[2|m]<=l&&(m|=2),h[1|m]<=l&&(m|=1),m},o.F._writeLit=function(l,h,m,g){return o.F._putsF(m,g,h[l<<1]),g+h[1+(l<<1)]},o.F.inflate=function(l,h){var m=Uint8Array;if(l[0]==3&&l[1]==0)return h||new m(0);var g=o.F,y=g._bitsF,E=g._bitsE,w=g._decodeTiny,S=g.makeCodes,T=g.codes2map,I=g._get17,F=g.U,G=h==null;G&&(h=new m(l.length>>>2<<3));for(var X,K,gt=0,it=0,J=0,ct=0,Z=0,q=0,A=0,C=0,P=0;gt==0;)if(gt=y(l,P,1),it=y(l,P+1,2),P+=3,it!=0){if(G&&(h=o.F._check(h,C+(1<<17))),it==1&&(X=F.flmap,K=F.fdmap,q=511,A=31),it==2){J=E(l,P,5)+257,ct=E(l,P+5,5)+1,Z=E(l,P+10,4)+4,P+=14;for(var U=0;U<38;U+=2)F.itree[U]=0,F.itree[U+1]=0;var k=1;for(U=0;U<Z;U++){var M=E(l,P+3*U,3);F.itree[1+(F.ordr[U]<<1)]=M,M>k&&(k=M)}P+=3*Z,S(F.itree,k),T(F.itree,k,F.imap),X=F.lmap,K=F.dmap,P=w(F.imap,(1<<k)-1,J+ct,l,P,F.ttree);var Q=g._copyOut(F.ttree,0,J,F.ltree);q=(1<<Q)-1;var ot=g._copyOut(F.ttree,J,ct,F.dtree);A=(1<<ot)-1,S(F.ltree,Q),T(F.ltree,Q,X),S(F.dtree,ot),T(F.dtree,ot,K)}for(;;){var O=X[I(l,P)&q];P+=15&O;var j=O>>>4;if(!(j>>>8))h[C++]=j;else{if(j==256)break;var $=C+j-254;if(j>264){var rt=F.ldef[j-257];$=C+(rt>>>3)+E(l,P,7&rt),P+=7&rt}var z=K[I(l,P)&A];P+=15&z;var et=z>>>4,at=F.ddef[et],ht=(at>>>4)+y(l,P,15&at);for(P+=15&at,G&&(h=o.F._check(h,C+(1<<17)));C<$;)h[C]=h[C++-ht],h[C]=h[C++-ht],h[C]=h[C++-ht],h[C]=h[C++-ht];C=$}}}else{(7&P)!=0&&(P+=8-(7&P));var dt=4+(P>>>3),nt=l[dt-4]|l[dt-3]<<8;G&&(h=o.F._check(h,C+nt)),h.set(new m(l.buffer,l.byteOffset+dt,nt),C),P=dt+nt<<3,C+=nt}return h.length==C?h:h.slice(0,C)},o.F._check=function(l,h){var m=l.length;if(h<=m)return l;var g=new Uint8Array(Math.max(m<<1,h));return g.set(l,0),g},o.F._decodeTiny=function(l,h,m,g,y,E){for(var w=o.F._bitsE,S=o.F._get17,T=0;T<m;){var I=l[S(g,y)&h];y+=15&I;var F=I>>>4;if(F<=15)E[T]=F,T++;else{var G=0,X=0;F==16?(X=3+w(g,y,2),y+=2,G=E[T-1]):F==17?(X=3+w(g,y,3),y+=3):F==18&&(X=11+w(g,y,7),y+=7);for(var K=T+X;T<K;)E[T]=G,T++}}return y},o.F._copyOut=function(l,h,m,g){for(var y=0,E=0,w=g.length>>>1;E<m;){var S=l[E+h];g[E<<1]=0,g[1+(E<<1)]=S,S>y&&(y=S),E++}for(;E<w;)g[E<<1]=0,g[1+(E<<1)]=0,E++;return y},o.F.makeCodes=function(l,h){for(var m,g,y,E,w=o.F.U,S=l.length,T=w.bl_count,I=0;I<=h;I++)T[I]=0;for(I=1;I<S;I+=2)T[l[I]]++;var F=w.next_code;for(m=0,T[0]=0,g=1;g<=h;g++)m=m+T[g-1]<<1,F[g]=m;for(y=0;y<S;y+=2)(E=l[y+1])!=0&&(l[y]=F[E],F[E]++)},o.F.codes2map=function(l,h,m){for(var g=l.length,y=o.F.U.rev15,E=0;E<g;E+=2)if(l[E+1]!=0)for(var w=E>>1,S=l[E+1],T=w<<4|S,I=h-S,F=l[E]<<I,G=F+(1<<I);F!=G;)m[y[F]>>>15-h]=T,F++},o.F.revCodes=function(l,h){for(var m=o.F.U.rev15,g=15-h,y=0;y<l.length;y+=2){var E=l[y]<<h-l[y+1];l[y]=m[E]>>>g}},o.F._putsE=function(l,h,m){m<<=7&h;var g=h>>>3;l[g]|=m,l[g+1]|=m>>>8},o.F._putsF=function(l,h,m){m<<=7&h;var g=h>>>3;l[g]|=m,l[g+1]|=m>>>8,l[g+2]|=m>>>16},o.F._bitsE=function(l,h,m){return(l[h>>>3]|l[1+(h>>>3)]<<8)>>>(7&h)&(1<<m)-1},o.F._bitsF=function(l,h,m){return(l[h>>>3]|l[1+(h>>>3)]<<8|l[2+(h>>>3)]<<16)>>>(7&h)&(1<<m)-1},o.F._get17=function(l,h){return(l[h>>>3]|l[1+(h>>>3)]<<8|l[2+(h>>>3)]<<16)>>>(7&h)},o.F._get25=function(l,h){return(l[h>>>3]|l[1+(h>>>3)]<<8|l[2+(h>>>3)]<<16|l[3+(h>>>3)]<<24)>>>(7&h)},o.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var l=o.F.U,h=0;h<32768;h++){var m=h;m=(4278255360&(m=(4042322160&(m=(3435973836&(m=(2863311530&m)>>>1|(1431655765&m)<<1))>>>2|(858993459&m)<<2))>>>4|(252645135&m)<<4))>>>8|(16711935&m)<<8,l.rev15[h]=(m>>>16|m<<16)>>>17}function g(y,E,w){for(;E--!=0;)y.push(0,w)}for(h=0;h<32;h++)l.ldef[h]=l.of0[h]<<3|l.exb[h],l.ddef[h]=l.df0[h]<<4|l.dxb[h];g(l.fltree,144,8),g(l.fltree,112,9),g(l.fltree,24,7),g(l.fltree,8,8),o.F.makeCodes(l.fltree,9),o.F.codes2map(l.fltree,9,l.flmap),o.F.revCodes(l.fltree,9),g(l.fdtree,32,5),o.F.makeCodes(l.fdtree,5),o.F.codes2map(l.fdtree,5,l.fdmap),o.F.revCodes(l.fdtree,5),g(l.itree,19,0),g(l.ltree,286,0),g(l.dtree,30,0),g(l.ttree,320,0)})()})();var SI=bI({__proto__:null,default:If},[If]);const Ls=(function(){var s={nextZero(w,S){for(;w[S]!=0;)S++;return S},readUshort:(w,S)=>w[S]<<8|w[S+1],writeUshort(w,S,T){w[S]=T>>8&255,w[S+1]=255&T},readUint:(w,S)=>16777216*w[S]+(w[S+1]<<16|w[S+2]<<8|w[S+3]),writeUint(w,S,T){w[S]=T>>24&255,w[S+1]=T>>16&255,w[S+2]=T>>8&255,w[S+3]=255&T},readASCII(w,S,T){let I="";for(let F=0;F<T;F++)I+=String.fromCharCode(w[S+F]);return I},writeASCII(w,S,T){for(let I=0;I<T.length;I++)w[S+I]=T.charCodeAt(I)},readBytes(w,S,T){const I=[];for(let F=0;F<T;F++)I.push(w[S+F]);return I},pad:w=>w.length<2?`0${w}`:w,readUTF8(w,S,T){let I,F="";for(let G=0;G<T;G++)F+=`%${s.pad(w[S+G].toString(16))}`;try{I=decodeURIComponent(F)}catch{return s.readASCII(w,S,T)}return I}};function t(w,S,T,I){const F=S*T,G=h(I),X=Math.ceil(S*G/8),K=new Uint8Array(4*F),gt=new Uint32Array(K.buffer),{ctype:it}=I,{depth:J}=I,ct=s.readUshort;if(it==6){const rt=F<<2;if(J==8)for(var Z=0;Z<rt;Z+=4)K[Z]=w[Z],K[Z+1]=w[Z+1],K[Z+2]=w[Z+2],K[Z+3]=w[Z+3];if(J==16)for(Z=0;Z<rt;Z++)K[Z]=w[Z<<1]}else if(it==2){const rt=I.tabs.tRNS;if(rt==null){if(J==8)for(Z=0;Z<F;Z++){var q=3*Z;gt[Z]=255<<24|w[q+2]<<16|w[q+1]<<8|w[q]}if(J==16)for(Z=0;Z<F;Z++)q=6*Z,gt[Z]=255<<24|w[q+4]<<16|w[q+2]<<8|w[q]}else{var A=rt[0];const z=rt[1],et=rt[2];if(J==8)for(Z=0;Z<F;Z++){var C=Z<<2;q=3*Z,gt[Z]=255<<24|w[q+2]<<16|w[q+1]<<8|w[q],w[q]==A&&w[q+1]==z&&w[q+2]==et&&(K[C+3]=0)}if(J==16)for(Z=0;Z<F;Z++)C=Z<<2,q=6*Z,gt[Z]=255<<24|w[q+4]<<16|w[q+2]<<8|w[q],ct(w,q)==A&&ct(w,q+2)==z&&ct(w,q+4)==et&&(K[C+3]=0)}}else if(it==3){const rt=I.tabs.PLTE,z=I.tabs.tRNS,et=z?z.length:0;if(J==1)for(var P=0;P<T;P++){var U=P*X,k=P*S;for(Z=0;Z<S;Z++){C=k+Z<<2;var M=3*(Q=w[U+(Z>>3)]>>7-((7&Z)<<0)&1);K[C]=rt[M],K[C+1]=rt[M+1],K[C+2]=rt[M+2],K[C+3]=Q<et?z[Q]:255}}if(J==2)for(P=0;P<T;P++)for(U=P*X,k=P*S,Z=0;Z<S;Z++)C=k+Z<<2,M=3*(Q=w[U+(Z>>2)]>>6-((3&Z)<<1)&3),K[C]=rt[M],K[C+1]=rt[M+1],K[C+2]=rt[M+2],K[C+3]=Q<et?z[Q]:255;if(J==4)for(P=0;P<T;P++)for(U=P*X,k=P*S,Z=0;Z<S;Z++)C=k+Z<<2,M=3*(Q=w[U+(Z>>1)]>>4-((1&Z)<<2)&15),K[C]=rt[M],K[C+1]=rt[M+1],K[C+2]=rt[M+2],K[C+3]=Q<et?z[Q]:255;if(J==8)for(Z=0;Z<F;Z++){var Q;C=Z<<2,M=3*(Q=w[Z]),K[C]=rt[M],K[C+1]=rt[M+1],K[C+2]=rt[M+2],K[C+3]=Q<et?z[Q]:255}}else if(it==4){if(J==8)for(Z=0;Z<F;Z++){C=Z<<2;var ot=w[O=Z<<1];K[C]=ot,K[C+1]=ot,K[C+2]=ot,K[C+3]=w[O+1]}if(J==16)for(Z=0;Z<F;Z++){var O;C=Z<<2,ot=w[O=Z<<2],K[C]=ot,K[C+1]=ot,K[C+2]=ot,K[C+3]=w[O+2]}}else if(it==0)for(A=I.tabs.tRNS?I.tabs.tRNS:-1,P=0;P<T;P++){const rt=P*X,z=P*S;if(J==1)for(var j=0;j<S;j++){var $=(ot=255*(w[rt+(j>>>3)]>>>7-(7&j)&1))==255*A?0:255;gt[z+j]=$<<24|ot<<16|ot<<8|ot}else if(J==2)for(j=0;j<S;j++)$=(ot=85*(w[rt+(j>>>2)]>>>6-((3&j)<<1)&3))==85*A?0:255,gt[z+j]=$<<24|ot<<16|ot<<8|ot;else if(J==4)for(j=0;j<S;j++)$=(ot=17*(w[rt+(j>>>1)]>>>4-((1&j)<<2)&15))==17*A?0:255,gt[z+j]=$<<24|ot<<16|ot<<8|ot;else if(J==8)for(j=0;j<S;j++)$=(ot=w[rt+j])==A?0:255,gt[z+j]=$<<24|ot<<16|ot<<8|ot;else if(J==16)for(j=0;j<S;j++)ot=w[rt+(j<<1)],$=ct(w,rt+(j<<1))==A?0:255,gt[z+j]=$<<24|ot<<16|ot<<8|ot}return K}function n(w,S,T,I){const F=h(w),G=Math.ceil(T*F/8),X=new Uint8Array((G+1+w.interlace)*I);return S=w.tabs.CgBI?l(S,X):o(S,X),w.interlace==0?S=m(S,w,0,T,I):w.interlace==1&&(S=(function(gt,it){const J=it.width,ct=it.height,Z=h(it),q=Z>>3,A=Math.ceil(J*Z/8),C=new Uint8Array(ct*A);let P=0;const U=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],Q=[8,8,4,4,2,2,1];let ot=0;for(;ot<7;){const j=M[ot],$=Q[ot];let rt=0,z=0,et=U[ot];for(;et<ct;)et+=j,z++;let at=k[ot];for(;at<J;)at+=$,rt++;const ht=Math.ceil(rt*Z/8);m(gt,it,P,rt,z);let dt=0,nt=U[ot];for(;nt<ct;){let wt=k[ot],Dt=P+dt*ht<<3;for(;wt<J;){var O;if(Z==1&&(O=(O=gt[Dt>>3])>>7-(7&Dt)&1,C[nt*A+(wt>>3)]|=O<<7-((7&wt)<<0)),Z==2&&(O=(O=gt[Dt>>3])>>6-(7&Dt)&3,C[nt*A+(wt>>2)]|=O<<6-((3&wt)<<1)),Z==4&&(O=(O=gt[Dt>>3])>>4-(7&Dt)&15,C[nt*A+(wt>>1)]|=O<<4-((1&wt)<<2)),Z>=8){const Mt=nt*A+wt*q;for(let Gt=0;Gt<q;Gt++)C[Mt+Gt]=gt[(Dt>>3)+Gt]}Dt+=Z,wt+=$}dt++,nt+=j}rt*z!=0&&(P+=z*(1+ht)),ot+=1}return C})(S,w)),S}function o(w,S){return l(new Uint8Array(w.buffer,2,w.length-6),S)}var l=(function(){const w={H:{}};return w.H.N=function(S,T){const I=Uint8Array;let F,G,X=0,K=0,gt=0,it=0,J=0,ct=0,Z=0,q=0,A=0;if(S[0]==3&&S[1]==0)return T||new I(0);const C=w.H,P=C.b,U=C.e,k=C.R,M=C.n,Q=C.A,ot=C.Z,O=C.m,j=T==null;for(j&&(T=new I(S.length>>>2<<5));X==0;)if(X=P(S,A,1),K=P(S,A+1,2),A+=3,K!=0){if(j&&(T=w.H.W(T,q+(1<<17))),K==1&&(F=O.J,G=O.h,ct=511,Z=31),K==2){gt=U(S,A,5)+257,it=U(S,A+5,5)+1,J=U(S,A+10,4)+4,A+=14;let rt=1;for(var $=0;$<38;$+=2)O.Q[$]=0,O.Q[$+1]=0;for($=0;$<J;$++){const at=U(S,A+3*$,3);O.Q[1+(O.X[$]<<1)]=at,at>rt&&(rt=at)}A+=3*J,M(O.Q,rt),Q(O.Q,rt,O.u),F=O.w,G=O.d,A=k(O.u,(1<<rt)-1,gt+it,S,A,O.v);const z=C.V(O.v,0,gt,O.C);ct=(1<<z)-1;const et=C.V(O.v,gt,it,O.D);Z=(1<<et)-1,M(O.C,z),Q(O.C,z,F),M(O.D,et),Q(O.D,et,G)}for(;;){const rt=F[ot(S,A)&ct];A+=15&rt;const z=rt>>>4;if(!(z>>>8))T[q++]=z;else{if(z==256)break;{let et=q+z-254;if(z>264){const wt=O.q[z-257];et=q+(wt>>>3)+U(S,A,7&wt),A+=7&wt}const at=G[ot(S,A)&Z];A+=15&at;const ht=at>>>4,dt=O.c[ht],nt=(dt>>>4)+P(S,A,15&dt);for(A+=15&dt;q<et;)T[q]=T[q++-nt],T[q]=T[q++-nt],T[q]=T[q++-nt],T[q]=T[q++-nt];q=et}}}}else{(7&A)!=0&&(A+=8-(7&A));const rt=4+(A>>>3),z=S[rt-4]|S[rt-3]<<8;j&&(T=w.H.W(T,q+z)),T.set(new I(S.buffer,S.byteOffset+rt,z),q),A=rt+z<<3,q+=z}return T.length==q?T:T.slice(0,q)},w.H.W=function(S,T){const I=S.length;if(T<=I)return S;const F=new Uint8Array(I<<1);return F.set(S,0),F},w.H.R=function(S,T,I,F,G,X){const K=w.H.e,gt=w.H.Z;let it=0;for(;it<I;){const J=S[gt(F,G)&T];G+=15&J;const ct=J>>>4;if(ct<=15)X[it]=ct,it++;else{let Z=0,q=0;ct==16?(q=3+K(F,G,2),G+=2,Z=X[it-1]):ct==17?(q=3+K(F,G,3),G+=3):ct==18&&(q=11+K(F,G,7),G+=7);const A=it+q;for(;it<A;)X[it]=Z,it++}}return G},w.H.V=function(S,T,I,F){let G=0,X=0;const K=F.length>>>1;for(;X<I;){const gt=S[X+T];F[X<<1]=0,F[1+(X<<1)]=gt,gt>G&&(G=gt),X++}for(;X<K;)F[X<<1]=0,F[1+(X<<1)]=0,X++;return G},w.H.n=function(S,T){const I=w.H.m,F=S.length;let G,X,K,gt;const it=I.j;for(var J=0;J<=T;J++)it[J]=0;for(J=1;J<F;J+=2)it[S[J]]++;const ct=I.K;for(G=0,it[0]=0,X=1;X<=T;X++)G=G+it[X-1]<<1,ct[X]=G;for(K=0;K<F;K+=2)gt=S[K+1],gt!=0&&(S[K]=ct[gt],ct[gt]++)},w.H.A=function(S,T,I){const F=S.length,G=w.H.m.r;for(let X=0;X<F;X+=2)if(S[X+1]!=0){const K=X>>1,gt=S[X+1],it=K<<4|gt,J=T-gt;let ct=S[X]<<J;const Z=ct+(1<<J);for(;ct!=Z;)I[G[ct]>>>15-T]=it,ct++}},w.H.l=function(S,T){const I=w.H.m.r,F=15-T;for(let G=0;G<S.length;G+=2){const X=S[G]<<T-S[G+1];S[G]=I[X]>>>F}},w.H.M=function(S,T,I){I<<=7&T;const F=T>>>3;S[F]|=I,S[F+1]|=I>>>8},w.H.I=function(S,T,I){I<<=7&T;const F=T>>>3;S[F]|=I,S[F+1]|=I>>>8,S[F+2]|=I>>>16},w.H.e=function(S,T,I){return(S[T>>>3]|S[1+(T>>>3)]<<8)>>>(7&T)&(1<<I)-1},w.H.b=function(S,T,I){return(S[T>>>3]|S[1+(T>>>3)]<<8|S[2+(T>>>3)]<<16)>>>(7&T)&(1<<I)-1},w.H.Z=function(S,T){return(S[T>>>3]|S[1+(T>>>3)]<<8|S[2+(T>>>3)]<<16)>>>(7&T)},w.H.i=function(S,T){return(S[T>>>3]|S[1+(T>>>3)]<<8|S[2+(T>>>3)]<<16|S[3+(T>>>3)]<<24)>>>(7&T)},w.H.m=(function(){const S=Uint16Array,T=Uint32Array;return{K:new S(16),j:new S(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new S(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new T(32),J:new S(512),_:[],h:new S(32),$:[],w:new S(32768),C:[],v:[],d:new S(32768),D:[],u:new S(512),Q:[],r:new S(32768),s:new T(286),Y:new T(30),a:new T(19),t:new T(15e3),k:new S(65536),g:new S(32768)}})(),(function(){const S=w.H.m;for(var T=0;T<32768;T++){let F=T;F=(2863311530&F)>>>1|(1431655765&F)<<1,F=(3435973836&F)>>>2|(858993459&F)<<2,F=(4042322160&F)>>>4|(252645135&F)<<4,F=(4278255360&F)>>>8|(16711935&F)<<8,S.r[T]=(F>>>16|F<<16)>>>17}function I(F,G,X){for(;G--!=0;)F.push(0,X)}for(T=0;T<32;T++)S.q[T]=S.S[T]<<3|S.T[T],S.c[T]=S.p[T]<<4|S.z[T];I(S._,144,8),I(S._,112,9),I(S._,24,7),I(S._,8,8),w.H.n(S._,9),w.H.A(S._,9,S.J),w.H.l(S._,9),I(S.$,32,5),w.H.n(S.$,5),w.H.A(S.$,5,S.h),w.H.l(S.$,5),I(S.Q,19,0),I(S.C,286,0),I(S.D,30,0),I(S.v,320,0)})(),w.H.N})();function h(w){return[1,null,3,1,2,null,4][w.ctype]*w.depth}function m(w,S,T,I,F){let G=h(S);const X=Math.ceil(I*G/8);let K,gt;G=Math.ceil(G/8);let it=w[T],J=0;if(it>1&&(w[T]=[0,0,1][it-2]),it==3)for(J=G;J<X;J++)w[J+1]=w[J+1]+(w[J+1-G]>>>1)&255;for(let ct=0;ct<F;ct++)if(K=T+ct*X,gt=K+ct+1,it=w[gt-1],J=0,it==0)for(;J<X;J++)w[K+J]=w[gt+J];else if(it==1){for(;J<G;J++)w[K+J]=w[gt+J];for(;J<X;J++)w[K+J]=w[gt+J]+w[K+J-G]}else if(it==2)for(;J<X;J++)w[K+J]=w[gt+J]+w[K+J-X];else if(it==3){for(;J<G;J++)w[K+J]=w[gt+J]+(w[K+J-X]>>>1);for(;J<X;J++)w[K+J]=w[gt+J]+(w[K+J-X]+w[K+J-G]>>>1)}else{for(;J<G;J++)w[K+J]=w[gt+J]+g(0,w[K+J-X],0);for(;J<X;J++)w[K+J]=w[gt+J]+g(w[K+J-G],w[K+J-X],w[K+J-G-X])}return w}function g(w,S,T){const I=w+S-T,F=I-w,G=I-S,X=I-T;return F*F<=G*G&&F*F<=X*X?w:G*G<=X*X?S:T}function y(w,S,T){T.width=s.readUint(w,S),S+=4,T.height=s.readUint(w,S),S+=4,T.depth=w[S],S++,T.ctype=w[S],S++,T.compress=w[S],S++,T.filter=w[S],S++,T.interlace=w[S],S++}function E(w,S,T,I,F,G,X,K,gt){const it=Math.min(S,F),J=Math.min(T,G);let ct=0,Z=0;for(let ot=0;ot<J;ot++)for(let O=0;O<it;O++)if(X>=0&&K>=0?(ct=ot*S+O<<2,Z=(K+ot)*F+X+O<<2):(ct=(-K+ot)*S-X+O<<2,Z=ot*F+O<<2),gt==0)I[Z]=w[ct],I[Z+1]=w[ct+1],I[Z+2]=w[ct+2],I[Z+3]=w[ct+3];else if(gt==1){var q=w[ct+3]*.00392156862745098,A=w[ct]*q,C=w[ct+1]*q,P=w[ct+2]*q,U=I[Z+3]*(1/255),k=I[Z]*U,M=I[Z+1]*U,Q=I[Z+2]*U;const j=1-q,$=q+U*j,rt=$==0?0:1/$;I[Z+3]=255*$,I[Z+0]=(A+k*j)*rt,I[Z+1]=(C+M*j)*rt,I[Z+2]=(P+Q*j)*rt}else if(gt==2)q=w[ct+3],A=w[ct],C=w[ct+1],P=w[ct+2],U=I[Z+3],k=I[Z],M=I[Z+1],Q=I[Z+2],q==U&&A==k&&C==M&&P==Q?(I[Z]=0,I[Z+1]=0,I[Z+2]=0,I[Z+3]=0):(I[Z]=A,I[Z+1]=C,I[Z+2]=P,I[Z+3]=q);else if(gt==3){if(q=w[ct+3],A=w[ct],C=w[ct+1],P=w[ct+2],U=I[Z+3],k=I[Z],M=I[Z+1],Q=I[Z+2],q==U&&A==k&&C==M&&P==Q)continue;if(q<220&&U>20)return!1}return!0}return{decode:function(S){const T=new Uint8Array(S);let I=8;const F=s,G=F.readUshort,X=F.readUint,K={tabs:{},frames:[]},gt=new Uint8Array(T.length);let it,J=0,ct=0;const Z=[137,80,78,71,13,10,26,10];for(var q=0;q<8;q++)if(T[q]!=Z[q])throw"The input is not a PNG file!";for(;I<T.length;){const ot=F.readUint(T,I);I+=4;const O=F.readASCII(T,I,4);if(I+=4,O=="IHDR")y(T,I,K);else if(O=="iCCP"){for(var A=I;T[A]!=0;)A++;F.readASCII(T,I,A-I),T[A+1];const j=T.slice(A+2,I+ot);let $=null;try{$=o(j)}catch{$=l(j)}K.tabs[O]=$}else if(O=="CgBI")K.tabs[O]=T.slice(I,I+4);else if(O=="IDAT"){for(q=0;q<ot;q++)gt[J+q]=T[I+q];J+=ot}else if(O=="acTL")K.tabs[O]={num_frames:X(T,I),num_plays:X(T,I+4)},it=new Uint8Array(T.length);else if(O=="fcTL"){ct!=0&&((Q=K.frames[K.frames.length-1]).data=n(K,it.slice(0,ct),Q.rect.width,Q.rect.height),ct=0);const j={x:X(T,I+12),y:X(T,I+16),width:X(T,I+4),height:X(T,I+8)};let $=G(T,I+22);$=G(T,I+20)/($==0?100:$);const rt={rect:j,delay:Math.round(1e3*$),dispose:T[I+24],blend:T[I+25]};K.frames.push(rt)}else if(O=="fdAT"){for(q=0;q<ot-4;q++)it[ct+q]=T[I+q+4];ct+=ot-4}else if(O=="pHYs")K.tabs[O]=[F.readUint(T,I),F.readUint(T,I+4),T[I+8]];else if(O=="cHRM")for(K.tabs[O]=[],q=0;q<8;q++)K.tabs[O].push(F.readUint(T,I+4*q));else if(O=="tEXt"||O=="zTXt"){K.tabs[O]==null&&(K.tabs[O]={});var C=F.nextZero(T,I),P=F.readASCII(T,I,C-I),U=I+ot-C-1;if(O=="tEXt")M=F.readASCII(T,C+1,U);else{var k=o(T.slice(C+2,C+2+U));M=F.readUTF8(k,0,k.length)}K.tabs[O][P]=M}else if(O=="iTXt"){K.tabs[O]==null&&(K.tabs[O]={}),C=0,A=I,C=F.nextZero(T,A),P=F.readASCII(T,A,C-A);const j=T[A=C+1];var M;T[A+1],A+=2,C=F.nextZero(T,A),F.readASCII(T,A,C-A),A=C+1,C=F.nextZero(T,A),F.readUTF8(T,A,C-A),U=ot-((A=C+1)-I),j==0?M=F.readUTF8(T,A,U):(k=o(T.slice(A,A+U)),M=F.readUTF8(k,0,k.length)),K.tabs[O][P]=M}else if(O=="PLTE")K.tabs[O]=F.readBytes(T,I,ot);else if(O=="hIST"){const j=K.tabs.PLTE.length/3;for(K.tabs[O]=[],q=0;q<j;q++)K.tabs[O].push(G(T,I+2*q))}else if(O=="tRNS")K.ctype==3?K.tabs[O]=F.readBytes(T,I,ot):K.ctype==0?K.tabs[O]=G(T,I):K.ctype==2&&(K.tabs[O]=[G(T,I),G(T,I+2),G(T,I+4)]);else if(O=="gAMA")K.tabs[O]=F.readUint(T,I)/1e5;else if(O=="sRGB")K.tabs[O]=T[I];else if(O=="bKGD")K.ctype==0||K.ctype==4?K.tabs[O]=[G(T,I)]:K.ctype==2||K.ctype==6?K.tabs[O]=[G(T,I),G(T,I+2),G(T,I+4)]:K.ctype==3&&(K.tabs[O]=T[I]);else if(O=="IEND")break;I+=ot,F.readUint(T,I),I+=4}var Q;return ct!=0&&((Q=K.frames[K.frames.length-1]).data=n(K,it.slice(0,ct),Q.rect.width,Q.rect.height)),K.data=n(K,gt,K.width,K.height),delete K.compress,delete K.interlace,delete K.filter,K},toRGBA8:function(S){const T=S.width,I=S.height;if(S.tabs.acTL==null)return[t(S.data,T,I,S).buffer];const F=[];S.frames[0].data==null&&(S.frames[0].data=S.data);const G=T*I*4,X=new Uint8Array(G),K=new Uint8Array(G),gt=new Uint8Array(G);for(let J=0;J<S.frames.length;J++){const ct=S.frames[J],Z=ct.rect.x,q=ct.rect.y,A=ct.rect.width,C=ct.rect.height,P=t(ct.data,A,C,S);if(J!=0)for(var it=0;it<G;it++)gt[it]=X[it];if(ct.blend==0?E(P,A,C,X,T,I,Z,q,0):ct.blend==1&&E(P,A,C,X,T,I,Z,q,1),F.push(X.buffer.slice(0)),ct.dispose!=0){if(ct.dispose==1)E(K,A,C,X,T,I,Z,q,0);else if(ct.dispose==2)for(it=0;it<G;it++)X[it]=gt[it]}}return F},_paeth:g,_copyTile:E,_bin:s}})();(function(){const{_copyTile:s}=Ls,{_bin:t}=Ls,n=Ls._paeth;var o={table:(function(){const A=new Uint32Array(256);for(let C=0;C<256;C++){let P=C;for(let U=0;U<8;U++)1&P?P=3988292384^P>>>1:P>>>=1;A[C]=P}return A})(),update(A,C,P,U){for(let k=0;k<U;k++)A=o.table[255&(A^C[P+k])]^A>>>8;return A},crc:(A,C,P)=>4294967295^o.update(4294967295,A,C,P)};function l(A,C,P,U){C[P]+=A[0]*U>>4,C[P+1]+=A[1]*U>>4,C[P+2]+=A[2]*U>>4,C[P+3]+=A[3]*U>>4}function h(A){return Math.max(0,Math.min(255,A))}function m(A,C){const P=A[0]-C[0],U=A[1]-C[1],k=A[2]-C[2],M=A[3]-C[3];return P*P+U*U+k*k+M*M}function g(A,C,P,U,k,M,Q){Q==null&&(Q=1);const ot=U.length,O=[];for(var j=0;j<ot;j++){const nt=U[j];O.push([nt>>>0&255,nt>>>8&255,nt>>>16&255,nt>>>24&255])}for(j=0;j<ot;j++){let nt=4294967295;for(var $=0,rt=0;rt<ot;rt++){var z=m(O[j],O[rt]);rt!=j&&z<nt&&(nt=z,$=rt)}}const et=new Uint32Array(k.buffer),at=new Int16Array(C*P*4),ht=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(j=0;j<ht.length;j++)ht[j]=255*((ht[j]+.5)/16-.5);for(let nt=0;nt<P;nt++)for(let wt=0;wt<C;wt++){var dt;j=4*(nt*C+wt),Q!=2?dt=[h(A[j]+at[j]),h(A[j+1]+at[j+1]),h(A[j+2]+at[j+2]),h(A[j+3]+at[j+3])]:(z=ht[4*(3&nt)+(3&wt)],dt=[h(A[j]+z),h(A[j+1]+z),h(A[j+2]+z),h(A[j+3]+z)]),$=0;let Dt=16777215;for(rt=0;rt<ot;rt++){const Xt=m(dt,O[rt]);Xt<Dt&&(Dt=Xt,$=rt)}const Mt=O[$],Gt=[dt[0]-Mt[0],dt[1]-Mt[1],dt[2]-Mt[2],dt[3]-Mt[3]];Q==1&&(wt!=C-1&&l(Gt,at,j+4,7),nt!=P-1&&(wt!=0&&l(Gt,at,j+4*C-4,3),l(Gt,at,j+4*C,5),wt!=C-1&&l(Gt,at,j+4*C+4,1))),M[j>>2]=$,et[j>>2]=U[$]}}function y(A,C,P,U,k){k==null&&(k={});const{crc:M}=o,Q=t.writeUint,ot=t.writeUshort,O=t.writeASCII;let j=8;const $=A.frames.length>1;let rt,z=!1,et=33+($?20:0);if(k.sRGB!=null&&(et+=13),k.pHYs!=null&&(et+=21),k.iCCP!=null&&(rt=pako.deflate(k.iCCP),et+=21+rt.length+4),A.ctype==3){for(var at=A.plte.length,ht=0;ht<at;ht++)A.plte[ht]>>>24!=255&&(z=!0);et+=8+3*at+4+(z?8+1*at+4:0)}for(var dt=0;dt<A.frames.length;dt++)$&&(et+=38),et+=(Mt=A.frames[dt]).cimg.length+12,dt!=0&&(et+=4);et+=12;const nt=new Uint8Array(et),wt=[137,80,78,71,13,10,26,10];for(ht=0;ht<8;ht++)nt[ht]=wt[ht];if(Q(nt,j,13),j+=4,O(nt,j,"IHDR"),j+=4,Q(nt,j,C),j+=4,Q(nt,j,P),j+=4,nt[j]=A.depth,j++,nt[j]=A.ctype,j++,nt[j]=0,j++,nt[j]=0,j++,nt[j]=0,j++,Q(nt,j,M(nt,j-17,17)),j+=4,k.sRGB!=null&&(Q(nt,j,1),j+=4,O(nt,j,"sRGB"),j+=4,nt[j]=k.sRGB,j++,Q(nt,j,M(nt,j-5,5)),j+=4),k.iCCP!=null){const Gt=13+rt.length;Q(nt,j,Gt),j+=4,O(nt,j,"iCCP"),j+=4,O(nt,j,"ICC profile"),j+=11,j+=2,nt.set(rt,j),j+=rt.length,Q(nt,j,M(nt,j-(Gt+4),Gt+4)),j+=4}if(k.pHYs!=null&&(Q(nt,j,9),j+=4,O(nt,j,"pHYs"),j+=4,Q(nt,j,k.pHYs[0]),j+=4,Q(nt,j,k.pHYs[1]),j+=4,nt[j]=k.pHYs[2],j++,Q(nt,j,M(nt,j-13,13)),j+=4),$&&(Q(nt,j,8),j+=4,O(nt,j,"acTL"),j+=4,Q(nt,j,A.frames.length),j+=4,Q(nt,j,k.loop!=null?k.loop:0),j+=4,Q(nt,j,M(nt,j-12,12)),j+=4),A.ctype==3){for(Q(nt,j,3*(at=A.plte.length)),j+=4,O(nt,j,"PLTE"),j+=4,ht=0;ht<at;ht++){const Gt=3*ht,Xt=A.plte[ht],oe=255&Xt,me=Xt>>>8&255,En=Xt>>>16&255;nt[j+Gt+0]=oe,nt[j+Gt+1]=me,nt[j+Gt+2]=En}if(j+=3*at,Q(nt,j,M(nt,j-3*at-4,3*at+4)),j+=4,z){for(Q(nt,j,at),j+=4,O(nt,j,"tRNS"),j+=4,ht=0;ht<at;ht++)nt[j+ht]=A.plte[ht]>>>24&255;j+=at,Q(nt,j,M(nt,j-at-4,at+4)),j+=4}}let Dt=0;for(dt=0;dt<A.frames.length;dt++){var Mt=A.frames[dt];$&&(Q(nt,j,26),j+=4,O(nt,j,"fcTL"),j+=4,Q(nt,j,Dt++),j+=4,Q(nt,j,Mt.rect.width),j+=4,Q(nt,j,Mt.rect.height),j+=4,Q(nt,j,Mt.rect.x),j+=4,Q(nt,j,Mt.rect.y),j+=4,ot(nt,j,U[dt]),j+=2,ot(nt,j,1e3),j+=2,nt[j]=Mt.dispose,j++,nt[j]=Mt.blend,j++,Q(nt,j,M(nt,j-30,30)),j+=4);const Gt=Mt.cimg;Q(nt,j,(at=Gt.length)+(dt==0?0:4)),j+=4;const Xt=j;O(nt,j,dt==0?"IDAT":"fdAT"),j+=4,dt!=0&&(Q(nt,j,Dt++),j+=4),nt.set(Gt,j),j+=at,Q(nt,j,M(nt,Xt,j-Xt)),j+=4}return Q(nt,j,0),j+=4,O(nt,j,"IEND"),j+=4,Q(nt,j,M(nt,j-4,4)),j+=4,nt.buffer}function E(A,C,P){for(let U=0;U<A.frames.length;U++){const k=A.frames[U];k.rect.width;const M=k.rect.height,Q=new Uint8Array(M*k.bpl+M);k.cimg=I(k.img,M,k.bpp,k.bpl,Q,C,P)}}function w(A,C,P,U,k){const M=k[0],Q=k[1],ot=k[2],O=k[3],j=k[4],$=k[5];let rt=6,z=8,et=255;for(var at=0;at<A.length;at++){const We=new Uint8Array(A[at]);for(var ht=We.length,dt=0;dt<ht;dt+=4)et&=We[dt+3]}const nt=et!=255,wt=(function(Zt,le,Ve,qe,_e,dn){const Se=[];for(var pe=0;pe<Zt.length;pe++){const Xe=new Uint8Array(Zt[pe]),Rn=new Uint32Array(Xe.buffer);var mn;let tn=0,pn=0,en=le,nn=Ve,Ji=qe?1:0;if(pe!=0){const ui=dn||qe||pe==1||Se[pe-2].dispose!=0?1:2;let _s=0,Vs=1e9;for(let Li=0;Li<ui;Li++){var ae=new Uint8Array(Zt[pe-1-Li]);const bi=new Uint32Array(Zt[pe-1-Li]);let an=le,Qn=Ve,In=-1,ki=-1;for(let Jn=0;Jn<Ve;Jn++)for(let Mn=0;Mn<le;Mn++)Rn[ge=Jn*le+Mn]!=bi[ge]&&(Mn<an&&(an=Mn),Mn>In&&(In=Mn),Jn<Qn&&(Qn=Jn),Jn>ki&&(ki=Jn));In==-1&&(an=Qn=In=ki=0),_e&&((1&an)==1&&an--,(1&Qn)==1&&Qn--);const $i=(In-an+1)*(ki-Qn+1);$i<Vs&&(Vs=$i,_s=Li,tn=an,pn=Qn,en=In-an+1,nn=ki-Qn+1)}ae=new Uint8Array(Zt[pe-1-_s]),_s==1&&(Se[pe-1].dispose=2),mn=new Uint8Array(en*nn*4),s(ae,le,Ve,mn,en,nn,-tn,-pn,0),Ji=s(Xe,le,Ve,mn,en,nn,-tn,-pn,3)?1:0,Ji==1?T(Xe,le,Ve,mn,{x:tn,y:pn,width:en,height:nn}):s(Xe,le,Ve,mn,en,nn,-tn,-pn,0)}else mn=Xe.slice(0);Se.push({rect:{x:tn,y:pn,width:en,height:nn},img:mn,blend:Ji,dispose:0})}if(qe)for(pe=0;pe<Se.length;pe++){if((Pe=Se[pe]).blend==1)continue;const Xe=Pe.rect,Rn=Se[pe-1].rect,tn=Math.min(Xe.x,Rn.x),pn=Math.min(Xe.y,Rn.y),en={x:tn,y:pn,width:Math.max(Xe.x+Xe.width,Rn.x+Rn.width)-tn,height:Math.max(Xe.y+Xe.height,Rn.y+Rn.height)-pn};Se[pe-1].dispose=1,pe-1!=0&&S(Zt,le,Ve,Se,pe-1,en,_e),S(Zt,le,Ve,Se,pe,en,_e)}let te=0;if(Zt.length!=1)for(var ge=0;ge<Se.length;ge++){var Pe;te+=(Pe=Se[ge]).rect.width*Pe.rect.height}return Se})(A,C,P,M,Q,ot),Dt={},Mt=[],Gt=[];if(U!=0){const We=[];for(dt=0;dt<wt.length;dt++)We.push(wt[dt].img.buffer);const Zt=(function(_e){let dn=0;for(var Se=0;Se<_e.length;Se++)dn+=_e[Se].byteLength;const pe=new Uint8Array(dn);let mn=0;for(Se=0;Se<_e.length;Se++){const ae=new Uint8Array(_e[Se]),te=ae.length;for(let ge=0;ge<te;ge+=4){let Pe=ae[ge],Xe=ae[ge+1],Rn=ae[ge+2];const tn=ae[ge+3];tn==0&&(Pe=Xe=Rn=0),pe[mn+ge]=Pe,pe[mn+ge+1]=Xe,pe[mn+ge+2]=Rn,pe[mn+ge+3]=tn}mn+=te}return pe.buffer})(We),le=G(Zt,U);for(dt=0;dt<le.plte.length;dt++)Mt.push(le.plte[dt].est.rgba);let Ve=0;for(dt=0;dt<wt.length;dt++){const qe=(oe=wt[dt]).img.length;var Xt=new Uint8Array(le.inds.buffer,Ve>>2,qe>>2);Gt.push(Xt);const _e=new Uint8Array(le.abuf,Ve,qe);$&&g(oe.img,oe.rect.width,oe.rect.height,Mt,_e,Xt),oe.img.set(_e),Ve+=qe}}else for(at=0;at<wt.length;at++){var oe=wt[at];const We=new Uint32Array(oe.img.buffer);var me=oe.rect.width;for(ht=We.length,Xt=new Uint8Array(ht),Gt.push(Xt),dt=0;dt<ht;dt++){const Zt=We[dt];if(dt!=0&&Zt==We[dt-1])Xt[dt]=Xt[dt-1];else if(dt>me&&Zt==We[dt-me])Xt[dt]=Xt[dt-me];else{let le=Dt[Zt];if(le==null&&(Dt[Zt]=le=Mt.length,Mt.push(Zt),Mt.length>=300))break;Xt[dt]=le}}}const En=Mt.length;for(En<=256&&j==0&&(z=En<=2?1:En<=4?2:En<=16?4:8,z=Math.max(z,O)),at=0;at<wt.length;at++){(oe=wt[at]).rect.x,oe.rect.y,me=oe.rect.width;const We=oe.rect.height;let Zt=oe.img;new Uint32Array(Zt.buffer);let le=4*me,Ve=4;if(En<=256&&j==0){le=Math.ceil(z*me/8);var fn=new Uint8Array(le*We);const qe=Gt[at];for(let _e=0;_e<We;_e++){dt=_e*le;const dn=_e*me;if(z==8)for(var be=0;be<me;be++)fn[dt+be]=qe[dn+be];else if(z==4)for(be=0;be<me;be++)fn[dt+(be>>1)]|=qe[dn+be]<<4-4*(1&be);else if(z==2)for(be=0;be<me;be++)fn[dt+(be>>2)]|=qe[dn+be]<<6-2*(3&be);else if(z==1)for(be=0;be<me;be++)fn[dt+(be>>3)]|=qe[dn+be]<<7-1*(7&be)}Zt=fn,rt=3,Ve=1}else if(nt==0&&wt.length==1){fn=new Uint8Array(me*We*3);const qe=me*We;for(dt=0;dt<qe;dt++){const _e=3*dt,dn=4*dt;fn[_e]=Zt[dn],fn[_e+1]=Zt[dn+1],fn[_e+2]=Zt[dn+2]}Zt=fn,rt=2,Ve=3,le=3*me}oe.img=Zt,oe.bpl=le,oe.bpp=Ve}return{ctype:rt,depth:z,plte:Mt,frames:wt}}function S(A,C,P,U,k,M,Q){const ot=Uint8Array,O=Uint32Array,j=new ot(A[k-1]),$=new O(A[k-1]),rt=k+1<A.length?new ot(A[k+1]):null,z=new ot(A[k]),et=new O(z.buffer);let at=C,ht=P,dt=-1,nt=-1;for(let Dt=0;Dt<M.height;Dt++)for(let Mt=0;Mt<M.width;Mt++){const Gt=M.x+Mt,Xt=M.y+Dt,oe=Xt*C+Gt,me=et[oe];me==0||U[k-1].dispose==0&&$[oe]==me&&(rt==null||rt[4*oe+3]!=0)||(Gt<at&&(at=Gt),Gt>dt&&(dt=Gt),Xt<ht&&(ht=Xt),Xt>nt&&(nt=Xt))}dt==-1&&(at=ht=dt=nt=0),Q&&((1&at)==1&&at--,(1&ht)==1&&ht--),M={x:at,y:ht,width:dt-at+1,height:nt-ht+1};const wt=U[k];wt.rect=M,wt.blend=1,wt.img=new Uint8Array(M.width*M.height*4),U[k-1].dispose==0?(s(j,C,P,wt.img,M.width,M.height,-M.x,-M.y,0),T(z,C,P,wt.img,M)):s(z,C,P,wt.img,M.width,M.height,-M.x,-M.y,0)}function T(A,C,P,U,k){s(A,C,P,U,k.width,k.height,-k.x,-k.y,2)}function I(A,C,P,U,k,M,Q){const ot=[];let O,j=[0,1,2,3,4];M!=-1?j=[M]:(C*U>5e5||P==1)&&(j=[0]),Q&&(O={level:0});const $=SI;for(var rt=0;rt<j.length;rt++){for(let at=0;at<C;at++)F(k,A,at,U,P,j[rt]);ot.push($.deflate(k,O))}let z,et=1e9;for(rt=0;rt<ot.length;rt++)ot[rt].length<et&&(z=rt,et=ot[rt].length);return ot[z]}function F(A,C,P,U,k,M){const Q=P*U;let ot=Q+P;if(A[ot]=M,ot++,M==0)if(U<500)for(var O=0;O<U;O++)A[ot+O]=C[Q+O];else A.set(new Uint8Array(C.buffer,Q,U),ot);else if(M==1){for(O=0;O<k;O++)A[ot+O]=C[Q+O];for(O=k;O<U;O++)A[ot+O]=C[Q+O]-C[Q+O-k]+256&255}else if(P==0){for(O=0;O<k;O++)A[ot+O]=C[Q+O];if(M==2)for(O=k;O<U;O++)A[ot+O]=C[Q+O];if(M==3)for(O=k;O<U;O++)A[ot+O]=C[Q+O]-(C[Q+O-k]>>1)+256&255;if(M==4)for(O=k;O<U;O++)A[ot+O]=C[Q+O]-n(C[Q+O-k],0,0)+256&255}else{if(M==2)for(O=0;O<U;O++)A[ot+O]=C[Q+O]+256-C[Q+O-U]&255;if(M==3){for(O=0;O<k;O++)A[ot+O]=C[Q+O]+256-(C[Q+O-U]>>1)&255;for(O=k;O<U;O++)A[ot+O]=C[Q+O]+256-(C[Q+O-U]+C[Q+O-k]>>1)&255}if(M==4){for(O=0;O<k;O++)A[ot+O]=C[Q+O]+256-n(0,C[Q+O-U],0)&255;for(O=k;O<U;O++)A[ot+O]=C[Q+O]+256-n(C[Q+O-k],C[Q+O-U],C[Q+O-k-U])&255}}}function G(A,C){const P=new Uint8Array(A),U=P.slice(0),k=new Uint32Array(U.buffer),M=X(U,C),Q=M[0],ot=M[1],O=P.length,j=new Uint8Array(O>>2);let $;if(P.length<2e7)for(var rt=0;rt<O;rt+=4)$=K(Q,z=P[rt]*(1/255),et=P[rt+1]*(1/255),at=P[rt+2]*(1/255),ht=P[rt+3]*(1/255)),j[rt>>2]=$.ind,k[rt>>2]=$.est.rgba;else for(rt=0;rt<O;rt+=4){var z=P[rt]*.00392156862745098,et=P[rt+1]*(1/255),at=P[rt+2]*(1/255),ht=P[rt+3]*(1/255);for($=Q;$.left;)$=gt($.est,z,et,at,ht)<=0?$.left:$.right;j[rt>>2]=$.ind,k[rt>>2]=$.est.rgba}return{abuf:U.buffer,inds:j,plte:ot}}function X(A,C,P){P==null&&(P=1e-4);const U=new Uint32Array(A.buffer),k={i0:0,i1:A.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=ct(A,k.i0,k.i1),k.est=Z(k.bst);const M=[k];for(;M.length<C;){let ot=0,O=0;for(var Q=0;Q<M.length;Q++)M[Q].est.L>ot&&(ot=M[Q].est.L,O=Q);if(ot<P)break;const j=M[O],$=it(A,U,j.i0,j.i1,j.est.e,j.est.eMq255);if(j.i0>=$||j.i1<=$){j.est.L=0;continue}const rt={i0:j.i0,i1:$,bst:null,est:null,tdst:0,left:null,right:null};rt.bst=ct(A,rt.i0,rt.i1),rt.est=Z(rt.bst);const z={i0:$,i1:j.i1,bst:null,est:null,tdst:0,left:null,right:null};for(z.bst={R:[],m:[],N:j.bst.N-rt.bst.N},Q=0;Q<16;Q++)z.bst.R[Q]=j.bst.R[Q]-rt.bst.R[Q];for(Q=0;Q<4;Q++)z.bst.m[Q]=j.bst.m[Q]-rt.bst.m[Q];z.est=Z(z.bst),j.left=rt,j.right=z,M[O]=rt,M.push(z)}for(M.sort(((ot,O)=>O.bst.N-ot.bst.N)),Q=0;Q<M.length;Q++)M[Q].ind=Q;return[k,M]}function K(A,C,P,U,k){if(A.left==null)return A.tdst=(function(rt,z,et,at,ht){const dt=z-rt[0],nt=et-rt[1],wt=at-rt[2],Dt=ht-rt[3];return dt*dt+nt*nt+wt*wt+Dt*Dt})(A.est.q,C,P,U,k),A;const M=gt(A.est,C,P,U,k);let Q=A.left,ot=A.right;M>0&&(Q=A.right,ot=A.left);const O=K(Q,C,P,U,k);if(O.tdst<=M*M)return O;const j=K(ot,C,P,U,k);return j.tdst<O.tdst?j:O}function gt(A,C,P,U,k){const{e:M}=A;return M[0]*C+M[1]*P+M[2]*U+M[3]*k-A.eMq}function it(A,C,P,U,k,M){for(U-=4;P<U;){for(;J(A,P,k)<=M;)P+=4;for(;J(A,U,k)>M;)U-=4;if(P>=U)break;const Q=C[P>>2];C[P>>2]=C[U>>2],C[U>>2]=Q,P+=4,U-=4}for(;J(A,P,k)>M;)P-=4;return P+4}function J(A,C,P){return A[C]*P[0]+A[C+1]*P[1]+A[C+2]*P[2]+A[C+3]*P[3]}function ct(A,C,P){const U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],M=P-C>>2;for(let Q=C;Q<P;Q+=4){const ot=A[Q]*.00392156862745098,O=A[Q+1]*(1/255),j=A[Q+2]*(1/255),$=A[Q+3]*(1/255);k[0]+=ot,k[1]+=O,k[2]+=j,k[3]+=$,U[0]+=ot*ot,U[1]+=ot*O,U[2]+=ot*j,U[3]+=ot*$,U[5]+=O*O,U[6]+=O*j,U[7]+=O*$,U[10]+=j*j,U[11]+=j*$,U[15]+=$*$}return U[4]=U[1],U[8]=U[2],U[9]=U[6],U[12]=U[3],U[13]=U[7],U[14]=U[11],{R:U,m:k,N:M}}function Z(A){const{R:C}=A,{m:P}=A,{N:U}=A,k=P[0],M=P[1],Q=P[2],ot=P[3],O=U==0?0:1/U,j=[C[0]-k*k*O,C[1]-k*M*O,C[2]-k*Q*O,C[3]-k*ot*O,C[4]-M*k*O,C[5]-M*M*O,C[6]-M*Q*O,C[7]-M*ot*O,C[8]-Q*k*O,C[9]-Q*M*O,C[10]-Q*Q*O,C[11]-Q*ot*O,C[12]-ot*k*O,C[13]-ot*M*O,C[14]-ot*Q*O,C[15]-ot*ot*O],$=j,rt=q;let z=[Math.random(),Math.random(),Math.random(),Math.random()],et=0,at=0;if(U!=0)for(let dt=0;dt<16&&(z=rt.multVec($,z),at=Math.sqrt(rt.dot(z,z)),z=rt.sml(1/at,z),!(dt!=0&&Math.abs(at-et)<1e-9));dt++)et=at;const ht=[k*O,M*O,Q*O,ot*O];return{Cov:j,q:ht,e:z,L:et,eMq255:rt.dot(rt.sml(255,ht),z),eMq:rt.dot(z,ht),rgba:(Math.round(255*ht[3])<<24|Math.round(255*ht[2])<<16|Math.round(255*ht[1])<<8|Math.round(255*ht[0])<<0)>>>0}}var q={multVec:(A,C)=>[A[0]*C[0]+A[1]*C[1]+A[2]*C[2]+A[3]*C[3],A[4]*C[0]+A[5]*C[1]+A[6]*C[2]+A[7]*C[3],A[8]*C[0]+A[9]*C[1]+A[10]*C[2]+A[11]*C[3],A[12]*C[0]+A[13]*C[1]+A[14]*C[2]+A[15]*C[3]],dot:(A,C)=>A[0]*C[0]+A[1]*C[1]+A[2]*C[2]+A[3]*C[3],sml:(A,C)=>[A*C[0],A*C[1],A*C[2],A*C[3]]};Ls.encode=function(C,P,U,k,M,Q,ot){k==null&&(k=0),ot==null&&(ot=!1);const O=w(C,P,U,k,[!1,!1,!1,0,ot,!1]);return E(O,-1),y(O,P,U,M,Q)},Ls.encodeLL=function(C,P,U,k,M,Q,ot,O){const j={ctype:0+(k==1?0:2)+(M==0?0:4),depth:Q,frames:[]},$=(k+M)*Q,rt=$*P;for(let z=0;z<C.length;z++)j.frames.push({rect:{x:0,y:0,width:P,height:U},img:new Uint8Array(C[z]),blend:0,dispose:1,bpp:Math.ceil($/8),bpl:Math.ceil(rt/8)});return E(j,0,!0),y(j,P,U,ot,O)},Ls.encode.compress=w,Ls.encode.dither=g,Ls.quantize=G,Ls.quantize.getKDtree=X,Ls.quantize.getNearest=K})();const Hb={toArrayBuffer(s,t){const n=s.width,o=s.height,l=n<<2,h=s.getContext("2d").getImageData(0,0,n,o),m=new Uint32Array(h.data.buffer),g=(32*n+31)/32<<2,y=g*o,E=122+y,w=new ArrayBuffer(E),S=new DataView(w),T=1<<20;let I,F,G,X,K=T,gt=0,it=0,J=0;function ct(A){S.setUint16(it,A,!0),it+=2}function Z(A){S.setUint32(it,A,!0),it+=4}function q(A){it+=A}ct(19778),Z(E),q(4),Z(122),Z(108),Z(n),Z(-o>>>0),ct(1),ct(32),Z(3),Z(y),Z(2835),Z(2835),q(8),Z(16711680),Z(65280),Z(255),Z(4278190080),Z(1466527264),(function A(){for(;gt<o&&K>0;){for(X=122+gt*g,I=0;I<l;)K--,F=m[J++],G=F>>>24,S.setUint32(X+I,F<<8|G),I+=4;gt++}J<m.length?(K=T,setTimeout(A,Hb._dly)):t(w)})()},toBlob(s,t){this.toArrayBuffer(s,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var Ri={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},xI={[Ri.CHROME]:16384,[Ri.FIREFOX]:11180,[Ri.DESKTOP_SAFARI]:16384,[Ri.IE]:8192,[Ri.IOS]:4096,[Ri.ETC]:8192};const Sg=typeof window<"u",Fb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Mf=Sg&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),AI=(Sg||Fb)&&(Mf&&Mf.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Vb=(Sg||Fb)&&(Mf&&Mf.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function xg(s,t,n=Date.now()){return new Promise((o=>{const l=s.split(","),h=l[0].match(/:(.*?);/)[1],m=globalThis.atob(l[1]);let g=m.length;const y=new Uint8Array(g);for(;g--;)y[g]=m.charCodeAt(g);const E=new Blob([y],{type:h});E.name=t,E.lastModified=n,o(E)}))}function qb(s){return new Promise(((t,n)=>{const o=new Vb;o.onload=()=>t(o.result),o.onerror=l=>n(l),o.readAsDataURL(s)}))}function Gb(s){return new Promise(((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=l=>n(l),o.src=s}))}function Ga(){if(Ga.cachedResult!==void 0)return Ga.cachedResult;let s=Ri.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?s=Ri.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?s=Ri.IOS:/Safari/i.test(t)?s=Ri.DESKTOP_SAFARI:/Firefox/i.test(t)?s=Ri.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(s=Ri.IE),Ga.cachedResult=s,Ga.cachedResult}function Zb(s,t){const n=Ga(),o=xI[n];let l=s,h=t,m=l*h;const g=l>h?h/l:l/h;for(;m>o*o;){const y=(o+l)/2,E=(o+h)/2;y<E?(h=E,l=E*g):(h=y*g,l=y),m=l*h}return{width:l,height:h}}function td(s,t){let n,o;try{if(n=new OffscreenCanvas(s,t),o=n.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),o=n.getContext("2d")}return n.width=s,n.height=t,[n,o]}function Wb(s,t){const{width:n,height:o}=Zb(s.width,s.height),[l,h]=td(n,o);return t&&/jpe?g/.test(t)&&(h.fillStyle="white",h.fillRect(0,0,l.width,l.height)),h.drawImage(s,0,0,l.width,l.height),l}function nf(){return nf.cachedResult!==void 0||(nf.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),nf.cachedResult}function Of(s,t={}){return new Promise((function(n,o){let l,h;var m=function(){try{return h=Wb(l,t.fileType||s.type),n([l,h])}catch(y){return o(y)}},g=function(y){try{var E=function(w){try{throw w}catch(S){return o(S)}};try{let w;return qb(s).then((function(S){try{return w=S,Gb(w).then((function(T){try{return l=T,(function(){try{return m()}catch(I){return o(I)}})()}catch(I){return E(I)}}),E)}catch(T){return E(T)}}),E)}catch(w){E(w)}}catch(w){return o(w)}};try{if(nf()||[Ri.DESKTOP_SAFARI,Ri.MOBILE_SAFARI].includes(Ga()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(s).then((function(y){try{return l=y,m()}catch{return g()}}),g)}catch{g()}}))}function Lf(s,t,n,o,l=1){return new Promise((function(h,m){let g;if(t==="image/png"){let S,T,I;return S=s.getContext("2d"),{data:T}=S.getImageData(0,0,s.width,s.height),I=Ls.encode([T.buffer],s.width,s.height,4096*l),g=new Blob([I],{type:t}),g.name=n,g.lastModified=o,y.call(this)}{let S=function(){return y.call(this)};var E=S;if(t==="image/bmp")return new Promise((T=>Hb.toBlob(s,T))).then((function(T){try{return g=T,g.name=n,g.lastModified=o,S.call(this)}catch(I){return m(I)}}).bind(this),m);{let T=function(){return S.call(this)};var w=T;if(typeof OffscreenCanvas=="function"&&s instanceof OffscreenCanvas)return s.convertToBlob({type:t,quality:l}).then((function(I){try{return g=I,g.name=n,g.lastModified=o,T.call(this)}catch(F){return m(F)}}).bind(this),m);{let I;return I=s.toDataURL(t,l),xg(I,n,o).then((function(F){try{return g=F,T.call(this)}catch(G){return m(G)}}).bind(this),m)}}}function y(){return h(g)}}))}function cr(s){s.width=0,s.height=0}function Hl(){return new Promise((function(s,t){let n,o,l,h;return Hl.cachedResult!==void 0?s(Hl.cachedResult):xg("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(m){try{return n=m,Of(n).then((function(g){try{return o=g[1],Lf(o,n.type,n.name,n.lastModified).then((function(y){try{return l=y,cr(o),Of(l).then((function(E){try{return h=E[0],Hl.cachedResult=h.width===1&&h.height===2,s(Hl.cachedResult)}catch(w){return t(w)}}),t)}catch(E){return t(E)}}),t)}catch(y){return t(y)}}),t)}catch(g){return t(g)}}),t)}))}function Yb(s){return new Promise(((t,n)=>{const o=new Vb;o.onload=l=>{const h=new DataView(l.target.result);if(h.getUint16(0,!1)!=65496)return t(-2);const m=h.byteLength;let g=2;for(;g<m;){if(h.getUint16(g+2,!1)<=8)return t(-1);const y=h.getUint16(g,!1);if(g+=2,y==65505){if(h.getUint32(g+=2,!1)!=1165519206)return t(-1);const E=h.getUint16(g+=6,!1)==18761;g+=h.getUint32(g+4,E);const w=h.getUint16(g,E);g+=2;for(let S=0;S<w;S++)if(h.getUint16(g+12*S,E)==274)return t(h.getUint16(g+12*S+8,E))}else{if((65280&y)!=65280)break;g+=h.getUint16(g,!1)}}return t(-1)},o.onerror=l=>n(l),o.readAsArrayBuffer(s)}))}function Kb(s,t){const{width:n}=s,{height:o}=s,{maxWidthOrHeight:l}=t;let h,m=s;return isFinite(l)&&(n>l||o>l)&&([m,h]=td(n,o),n>o?(m.width=l,m.height=o/n*l):(m.width=n/o*l,m.height=l),h.drawImage(s,0,0,m.width,m.height),cr(s)),m}function Xb(s,t){const{width:n}=s,{height:o}=s,[l,h]=td(n,o);switch(t>4&&t<9?(l.width=o,l.height=n):(l.width=n,l.height=o),t){case 2:h.transform(-1,0,0,1,n,0);break;case 3:h.transform(-1,0,0,-1,n,o);break;case 4:h.transform(1,0,0,-1,0,o);break;case 5:h.transform(0,1,1,0,0,0);break;case 6:h.transform(0,1,-1,0,o,0);break;case 7:h.transform(0,-1,-1,0,o,n);break;case 8:h.transform(0,-1,1,0,0,n)}return h.drawImage(s,0,0,n,o),cr(s),l}function i1(s,t,n=0){return new Promise((function(o,l){let h,m,g,y,E,w,S,T,I,F,G,X,K,gt,it,J,ct,Z,q,A;function C(U=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;h+=U,t.onProgress(Math.min(h,100))}function P(U){if(t.signal&&t.signal.aborted)throw t.signal.reason;h=Math.min(Math.max(U,h),100),t.onProgress(h)}return h=n,m=t.maxIteration||10,g=1024*t.maxSizeMB*1024,C(),Of(s,t).then((function(U){try{return[,y]=U,C(),E=Kb(y,t),C(),new Promise((function(k,M){var Q;if(!(Q=t.exifOrientation))return Yb(s).then((function(O){try{return Q=O,ot.call(this)}catch(j){return M(j)}}).bind(this),M);function ot(){return k(Q)}return ot.call(this)})).then((function(k){try{return w=k,C(),Hl().then((function(M){try{return S=M?E:Xb(E,w),C(),T=t.initialQuality||1,I=t.fileType||s.type,Lf(S,I,s.name,s.lastModified,T).then((function(Q){try{{let $=function(){if(m--&&(it>g||it>K)){let z,et;return z=A?.95*q.width:q.width,et=A?.95*q.height:q.height,[ct,Z]=td(z,et),Z.drawImage(q,0,0,z,et),T*=I==="image/png"?.85:.95,Lf(ct,I,s.name,s.lastModified,T).then((function(at){try{return J=at,cr(q),q=ct,it=J.size,P(Math.min(99,Math.floor((gt-it)/(gt-g)*100))),$}catch(ht){return l(ht)}}),l)}return[1]},rt=function(){return cr(q),cr(ct),cr(E),cr(S),cr(y),P(100),o(J)};var O=$,j=rt;if(F=Q,C(),G=F.size>g,X=F.size>s.size,!G&&!X)return P(100),o(F);var ot;return K=s.size,gt=F.size,it=gt,q=S,A=!t.alwaysKeepResolution&&G,(ot=(function(z){for(;z;){if(z.then)return void z.then(ot,l);try{if(z.pop){if(z.length)return z.pop()?rt.call(this):z;z=$}else z=z.call(this)}catch(et){return l(et)}}}).bind(this))($)}}catch($){return l($)}}).bind(this),l)}catch(Q){return l(Q)}}).bind(this),l)}catch(M){return l(M)}}).bind(this),l)}catch(k){return l(k)}}).bind(this),l)}))}const CI=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let tp;function NI(s,t){return new Promise(((n,o)=>{tp||(tp=(function(m){const g=[];return g.push(m),URL.createObjectURL(new Blob(g))})(CI));const l=new Worker(tp);l.addEventListener("message",(function(m){if(t.signal&&t.signal.aborted)l.terminate();else if(m.data.progress===void 0){if(m.data.error)return o(new Error(m.data.error)),void l.terminate();n(m.data.file),l.terminate()}else t.onProgress(m.data.progress)})),l.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",(()=>{o(t.signal.reason),l.terminate()})),l.postMessage({file:s,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function ai(s,t){return new Promise((function(n,o){let l,h,m,g,y,E;if(l={...t},m=0,{onProgress:g}=l,l.maxSizeMB=l.maxSizeMB||Number.POSITIVE_INFINITY,y=typeof l.useWebWorker!="boolean"||l.useWebWorker,delete l.useWebWorker,l.onProgress=I=>{m=I,typeof g=="function"&&g(m)},!(s instanceof Blob||s instanceof AI))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(s.type))return o(new Error("The file given is not an image"));if(E=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!y||typeof Worker!="function"||E)return i1(s,l).then((function(I){try{return h=I,T.call(this)}catch(F){return o(F)}}).bind(this),o);var w=(function(){try{return T.call(this)}catch(I){return o(I)}}).bind(this),S=function(I){try{return i1(s,l).then((function(F){try{return h=F,w()}catch(G){return o(G)}}),o)}catch(F){return o(F)}};try{return l.libURL=l.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",NI(s,l).then((function(I){try{return h=I,w()}catch{return S()}}),S)}catch{S()}function T(){try{h.name=s.name,h.lastModified=s.lastModified}catch{}try{l.preserveExif&&s.type==="image/jpeg"&&(!l.fileType||l.fileType&&l.fileType===s.type)&&(h=jb(s,h))}catch{}return n(h)}}))}ai.getDataUrlFromFile=qb,ai.getFilefromDataUrl=xg,ai.loadImage=Gb,ai.drawImageInCanvas=Wb,ai.drawFileInCanvas=Of,ai.canvasToFile=Lf,ai.getExifOrientation=Yb,ai.handleMaxWidthOrHeight=Kb,ai.followExifOrientation=Xb,ai.cleanupCanvasMemory=cr,ai.isAutoOrientationInBrowser=Hl,ai.approximateBelowMaximumCanvasSizeOfBrowser=Zb,ai.copyExifWithoutOrientation=jb,ai.getBrowserName=Ga,ai.version="2.0.2";const RI=Rb();_I();const II=tw();delete Lb.Icon.Default.prototype._getIconUrl;Lb.Icon.Default.mergeOptions({iconRetinaUrl:V4,iconUrl:q4,shadowUrl:G4});function MI({position:s,setPosition:t}){return z4({click(n){t([n.latlng.lat,n.latlng.lng])}}),s?B.jsx(H4,{position:s}):null}function OI({userData:s,onLogout:t,onGoToDashboard:n,onGoToMenu:o,onGoToNotifications:l,onGoToProfile:h,onBack:m,onGoToPost:g}){const[y,E]=Nt.useState(null),[w,S]=Nt.useState(null),[T,I]=Nt.useState(""),[F,G]=Nt.useState(""),[X,K]=Nt.useState(""),[gt,it]=Nt.useState(""),[J,ct]=Nt.useState(""),[Z,q]=Nt.useState(null),A="c8a3bf6aa8d08d4193a386fcfec78a7a",C=async k=>{const M=k.target.files[0];if(!M)return;const Q={maxSizeMB:.5,maxWidthOrHeight:1024,useWebWorker:!0};try{const ot=await ai(M,Q);E(URL.createObjectURL(ot)),S(ot)}catch(ot){console.error("Error compressing image:",ot)}},P=()=>{navigator.geolocation.getCurrentPosition(k=>{const{latitude:M,longitude:Q}=k.coords;q([M,Q])},k=>{console.error("Error getting location: ",k)})},U=async k=>{if(k.preventDefault(),!T||!X||!gt||!Z){alert("กรุณากรอกข้อมูลให้ครบ!");return}try{const M=II.currentUser;if(!M){alert("กรุณาเข้าสู่ระบบก่อนโพสต์");return}let Q=null;if(w){const O=new FormData;O.append("image",w),O.append("key",A);const $=await(await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:O})).json();$.success?Q=$.data.url:console.error("ImgBB upload failed:",$)}console.log("Selected position:",Z);const ot=YR(Ya(RI,"foodPosts"));await Jf(ot,{userId:M.uid,image:Q||null,foodName:T,description:F,productionDate:X,expiryDate:gt,category:J,location:{lat:parseFloat(Z[0]),lng:parseFloat(Z[1])},createdAt:r4()}),alert("Post created in Realtime Database!"),E(null),S(null),I(""),G(""),K(""),it(""),ct(""),q(null)}catch(M){console.error("Error posting data:",M),alert("เกิดข้อผิดพลาดในการโพสต์ข้อมูล")}};return B.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[B.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[B.jsxs("div",{className:"flex items-center space-x-2",children:[B.jsx("img",{src:nl,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),B.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),B.jsx("div",{className:"flex items-center space-x-4",children:B.jsx("img",{src:tu,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:h})})]}),B.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[B.jsxs("button",{onClick:m,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),B.jsx("span",{className:"text-lg font-semibold",children:"Post"})]}),B.jsxs("label",{className:"block w-full h-40 border-2 border-dashed rounded-xl flex items-center justify-center cursor-pointer bg-gray-100 hover:bg-[#2e2eff10] transition-colors duration-300",children:[y?B.jsx("img",{src:y,alt:"preview",className:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-300"}):B.jsx("span",{className:"text-gray-500 font-bold",children:"ADD IMAGE"}),B.jsx("input",{type:"file",className:"hidden",onChange:C})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Food Name"}),B.jsx("input",{type:"text",placeholder:"ใส่ชื่ออาหาร...",value:T,onChange:k=>I(k.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description"}),B.jsx("textarea",{placeholder:"รายละเอียดเพิ่มเติม...",value:F,onChange:k=>G(k.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]"})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Production Date"}),B.jsx("input",{type:"date",value:X,onChange:k=>K(k.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Expiration Date"}),B.jsx("input",{type:"date",value:gt,onChange:k=>it(k.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Categories"}),B.jsxs("select",{value:J,onChange:k=>ct(k.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",children:[B.jsx("option",{value:"",children:"เลือกประเภท"}),B.jsx("option",{value:"Lunch Boxes",children:"Lunch Boxes"}),B.jsx("option",{value:"Snacks",children:"Snacks"}),B.jsx("option",{value:"Beverages",children:"Beverages"})]})]}),B.jsxs(j4,{center:[13.736717,100.523186],zoom:13,style:{height:"300px",width:"100%",borderRadius:"12px"},className:"transition-shadow duration-300 hover:shadow-lg",children:[B.jsx(F4,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://www.openstreetmap.org/">OSM</a>',subdomains:"abcd"}),B.jsx(MI,{position:Z,setPosition:q})]}),B.jsx("div",{className:"flex justify-center mt-3",children:B.jsx("button",{onClick:P,className:"px-4 py-2 border border-[#2e2eff] text-[#2e2eff] rounded-lg hover:bg-[#2e2eff] hover:text-white transition duration-300",children:"Use Current Location"})}),B.jsx("button",{onClick:U,className:"w-full bg-[#2e2eff] text-white py-3 rounded-lg font-bold hover:bg-[#1d1dcc] transition duration-300 transform hover:scale-105",children:"POST"}),B.jsxs("div",{className:"hidden md:block",children:[B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{})]}),B.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-[1000] max-w-3xl mx-auto w-full",children:[B.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:B.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:g,children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),B.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>m("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>o()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>l()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>h()}].map((k,M)=>k.empty?B.jsx("div",{className:"w-16"},M):B.jsxs("button",{onClick:k.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${k.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{d:k.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),B.jsx("span",{className:"text-xs md:text-sm mt-1",children:k.name})]},M))})]})]})]})}function LI(){const[s,t]=Nt.useState("welcome"),[n,o]=Nt.useState(null),[l,h]=Nt.useState(!1);Nt.useEffect(()=>{const g=ox(Qr,y=>{y?(o({email:y.email,uid:y.uid}),t("home")):(o(null),t("welcome"))});return()=>g()},[]);const m=()=>{o(null),t("login")};if(!l)return B.jsx(a4,{onFinish:()=>h(!0)});switch(s){case"welcome":return B.jsx(u4,{onLoginClick:()=>t("login"),onRegisterClick:()=>t("signup")});case"login":return B.jsx(l4,{onLoginSuccess:g=>{o(g),t("home")},onSignUpClick:()=>t("signup"),onForgotPasswordClick:()=>t("forgot")});case"signup":return B.jsx(c4,{onBackToLogin:()=>t("login"),onSignUp:()=>{alert("Sign Up Success! Please log in."),t("login")}});case"forgot":return B.jsx(h4,{onBackToLogin:()=>t("login")});case"dashboard":return B.jsx(f4,{userData:n,setCurrentPage:t});case"home":return B.jsx(_4,{userData:n,onGoToDashboard:()=>t("dashboard"),onGoToMenu:()=>t("menu"),onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post")});case"menu":return B.jsx(b4,{userData:n,onBack:()=>t("home"),onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post")});case"post":return B.jsx(OI,{userData:n,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToNotifications:()=>t("notifications"),onGoToProfile:()=>t("profile")});case"notifications":return B.jsx(E4,{userData:n,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToProfile:()=>t("profile"),onGoToPost:()=>t("post")});case"profile":return B.jsx(T4,{userData:n,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post"),onLogout:m});default:return B.jsx("div",{children:"Loading..."})}}yE.createRoot(document.getElementById("root")).render(B.jsx(Nt.StrictMode,{children:B.jsx(LI,{})}));
