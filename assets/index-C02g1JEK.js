(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Ad={exports:{}},co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function ib(){if(xy)return co;xy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var m in o)m!=="key"&&(h[m]=o[m])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return co.Fragment=e,co.jsx=i,co.jsxs=i,co}var Ny;function sb(){return Ny||(Ny=1,Ad.exports=ib()),Ad.exports}var b=sb(),Cd={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function rb(){if(Ry)return ye;Ry=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=R&&I[R]||I["@@iterator"],typeof I=="function"?I:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,$={};function ne(I,W,te){this.props=I,this.context=W,this.refs=$,this.updater=te||K}ne.prototype.isReactComponent={},ne.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},ne.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function me(){}me.prototype=ne.prototype;function _e(I,W,te){this.props=I,this.context=W,this.refs=$,this.updater=te||K}var ie=_e.prototype=new me;ie.constructor=_e,Y(ie,ne.prototype),ie.isPureReactComponent=!0;var ue=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Me=Object.prototype.hasOwnProperty;function k(I,W,te,Q,le,Ee){return te=Ee.ref,{$$typeof:s,type:I,key:W,ref:te!==void 0?te:null,props:Ee}}function w(I,W){return k(I.type,W,void 0,void 0,void 0,I.props)}function N(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function D(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(te){return W[te]})}var M=/\/+/g;function U(I,W){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):W.toString(36)}function x(){}function Dt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(x,x):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function st(I,W,te,Q,le){var Ee=typeof I;(Ee==="undefined"||Ee==="boolean")&&(I=null);var ge=!1;if(I===null)ge=!0;else switch(Ee){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(I.$$typeof){case s:case e:ge=!0;break;case T:return ge=I._init,st(ge(I._payload),W,te,Q,le)}}if(ge)return le=le(I),ge=Q===""?"."+U(I,0):Q,ue(le)?(te="",ge!=null&&(te=ge.replace(M,"$&/")+"/"),st(le,W,te,"",function(Hn){return Hn})):le!=null&&(N(le)&&(le=w(le,te+(le.key==null||I&&I.key===le.key?"":(""+le.key).replace(M,"$&/")+"/")+ge)),W.push(le)),1;ge=0;var bt=Q===""?".":Q+":";if(ue(I))for(var Qe=0;Qe<I.length;Qe++)Q=I[Qe],Ee=bt+U(Q,Qe),ge+=st(Q,W,te,Ee,le);else if(Qe=C(I),typeof Qe=="function")for(I=Qe.call(I),Qe=0;!(Q=I.next()).done;)Q=Q.value,Ee=bt+U(Q,Qe++),ge+=st(Q,W,te,Ee,le);else if(Ee==="object"){if(typeof I.then=="function")return st(Dt(I),W,te,Q,le);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ge}function q(I,W,te){if(I==null)return I;var Q=[],le=0;return st(I,Q,"","",function(Ee){return W.call(te,Ee,le++)}),Q}function ee(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(te){(I._status===0||I._status===-1)&&(I._status=1,I._result=te)},function(te){(I._status===0||I._status===-1)&&(I._status=2,I._result=te)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var ae=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Ue(){}return ye.Children={map:q,forEach:function(I,W,te){q(I,function(){W.apply(this,arguments)},te)},count:function(I){var W=0;return q(I,function(){W++}),W},toArray:function(I){return q(I,function(W){return W})||[]},only:function(I){if(!N(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ye.Component=ne,ye.Fragment=i,ye.Profiler=o,ye.PureComponent=_e,ye.StrictMode=a,ye.Suspense=v,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,ye.__COMPILER_RUNTIME={__proto__:null,c:function(I){return he.H.useMemoCache(I)}},ye.cache=function(I){return function(){return I.apply(null,arguments)}},ye.cloneElement=function(I,W,te){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var Q=Y({},I.props),le=I.key,Ee=void 0;if(W!=null)for(ge in W.ref!==void 0&&(Ee=void 0),W.key!==void 0&&(le=""+W.key),W)!Me.call(W,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&W.ref===void 0||(Q[ge]=W[ge]);var ge=arguments.length-2;if(ge===1)Q.children=te;else if(1<ge){for(var bt=Array(ge),Qe=0;Qe<ge;Qe++)bt[Qe]=arguments[Qe+2];Q.children=bt}return k(I.type,le,void 0,void 0,Ee,Q)},ye.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},ye.createElement=function(I,W,te){var Q,le={},Ee=null;if(W!=null)for(Q in W.key!==void 0&&(Ee=""+W.key),W)Me.call(W,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(le[Q]=W[Q]);var ge=arguments.length-2;if(ge===1)le.children=te;else if(1<ge){for(var bt=Array(ge),Qe=0;Qe<ge;Qe++)bt[Qe]=arguments[Qe+2];le.children=bt}if(I&&I.defaultProps)for(Q in ge=I.defaultProps,ge)le[Q]===void 0&&(le[Q]=ge[Q]);return k(I,Ee,void 0,void 0,null,le)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(I){return{$$typeof:m,render:I}},ye.isValidElement=N,ye.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:ee}},ye.memo=function(I,W){return{$$typeof:_,type:I,compare:W===void 0?null:W}},ye.startTransition=function(I){var W=he.T,te={};he.T=te;try{var Q=I(),le=he.S;le!==null&&le(te,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ue,ae)}catch(Ee){ae(Ee)}finally{he.T=W}},ye.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},ye.use=function(I){return he.H.use(I)},ye.useActionState=function(I,W,te){return he.H.useActionState(I,W,te)},ye.useCallback=function(I,W){return he.H.useCallback(I,W)},ye.useContext=function(I){return he.H.useContext(I)},ye.useDebugValue=function(){},ye.useDeferredValue=function(I,W){return he.H.useDeferredValue(I,W)},ye.useEffect=function(I,W,te){var Q=he.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(I,W)},ye.useId=function(){return he.H.useId()},ye.useImperativeHandle=function(I,W,te){return he.H.useImperativeHandle(I,W,te)},ye.useInsertionEffect=function(I,W){return he.H.useInsertionEffect(I,W)},ye.useLayoutEffect=function(I,W){return he.H.useLayoutEffect(I,W)},ye.useMemo=function(I,W){return he.H.useMemo(I,W)},ye.useOptimistic=function(I,W){return he.H.useOptimistic(I,W)},ye.useReducer=function(I,W,te){return he.H.useReducer(I,W,te)},ye.useRef=function(I){return he.H.useRef(I)},ye.useState=function(I){return he.H.useState(I)},ye.useSyncExternalStore=function(I,W,te){return he.H.useSyncExternalStore(I,W,te)},ye.useTransition=function(){return he.H.useTransition()},ye.version="19.1.1",ye}var Iy;function mp(){return Iy||(Iy=1,Cd.exports=rb()),Cd.exports}var Ie=mp(),xd={exports:{}},ho={},Nd={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function ab(){return Oy||(Oy=1,(function(s){function e(q,ee){var ae=q.length;q.push(ee);e:for(;0<ae;){var Ue=ae-1>>>1,I=q[Ue];if(0<o(I,ee))q[Ue]=ee,q[ae]=I,ae=Ue;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ee=q[0],ae=q.pop();if(ae!==ee){q[0]=ae;e:for(var Ue=0,I=q.length,W=I>>>1;Ue<W;){var te=2*(Ue+1)-1,Q=q[te],le=te+1,Ee=q[le];if(0>o(Q,ae))le<I&&0>o(Ee,Q)?(q[Ue]=Ee,q[le]=ae,Ue=le):(q[Ue]=Q,q[te]=ae,Ue=te);else if(le<I&&0>o(Ee,ae))q[Ue]=Ee,q[le]=ae,Ue=le;else break e}}return ee}function o(q,ee){var ae=q.sortIndex-ee.sortIndex;return ae!==0?ae:q.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var v=[],_=[],T=1,R=null,C=3,K=!1,Y=!1,$=!1,ne=!1,me=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ue(q){for(var ee=i(_);ee!==null;){if(ee.callback===null)a(_);else if(ee.startTime<=q)a(_),ee.sortIndex=ee.expirationTime,e(v,ee);else break;ee=i(_)}}function he(q){if($=!1,ue(q),!Y)if(i(v)!==null)Y=!0,Me||(Me=!0,U());else{var ee=i(_);ee!==null&&st(he,ee.startTime-q)}}var Me=!1,k=-1,w=5,N=-1;function D(){return ne?!0:!(s.unstable_now()-N<w)}function M(){if(ne=!1,Me){var q=s.unstable_now();N=q;var ee=!0;try{e:{Y=!1,$&&($=!1,_e(k),k=-1),K=!0;var ae=C;try{t:{for(ue(q),R=i(v);R!==null&&!(R.expirationTime>q&&D());){var Ue=R.callback;if(typeof Ue=="function"){R.callback=null,C=R.priorityLevel;var I=Ue(R.expirationTime<=q);if(q=s.unstable_now(),typeof I=="function"){R.callback=I,ue(q),ee=!0;break t}R===i(v)&&a(v),ue(q)}else a(v);R=i(v)}if(R!==null)ee=!0;else{var W=i(_);W!==null&&st(he,W.startTime-q),ee=!1}}break e}finally{R=null,C=ae,K=!1}ee=void 0}}finally{ee?U():Me=!1}}}var U;if(typeof ie=="function")U=function(){ie(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Dt=x.port2;x.port1.onmessage=M,U=function(){Dt.postMessage(null)}}else U=function(){me(M,0)};function st(q,ee){k=me(function(){q(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(q){switch(C){case 1:case 2:case 3:var ee=3;break;default:ee=C}var ae=C;C=ee;try{return q()}finally{C=ae}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=C;C=q;try{return ee()}finally{C=ae}},s.unstable_scheduleCallback=function(q,ee,ae){var Ue=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ue+ae:Ue):ae=Ue,q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ae+I,q={id:T++,callback:ee,priorityLevel:q,startTime:ae,expirationTime:I,sortIndex:-1},ae>Ue?(q.sortIndex=ae,e(_,q),i(v)===null&&q===i(_)&&($?(_e(k),k=-1):$=!0,st(he,ae-Ue))):(q.sortIndex=I,e(v,q),Y||K||(Y=!0,Me||(Me=!0,U()))),q},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(q){var ee=C;return function(){var ae=C;C=ee;try{return q.apply(this,arguments)}finally{C=ae}}}})(Rd)),Rd}var Dy;function lb(){return Dy||(Dy=1,Nd.exports=ab()),Nd.exports}var Id={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function ob(){if(My)return Bt;My=1;var s=mp();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:v,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Bt.createPortal=function(v,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,T)},Bt.flushSync=function(v){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=T,a.d.f()}},Bt.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Bt.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Bt.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var T=_.as,R=m(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:C,fetchPriority:K}):T==="script"&&a.d.X(v,{crossOrigin:R,integrity:C,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Bt.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Bt.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,R=m(T,_.crossOrigin);a.d.L(v,T,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Bt.preloadModule=function(v,_){if(typeof v=="string")if(_){var T=m(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Bt.requestFormReset=function(v){a.d.r(v)},Bt.unstable_batchedUpdates=function(v,_){return v(_)},Bt.useFormState=function(v,_,T){return d.H.useFormState(v,_,T)},Bt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Bt.version="19.1.1",Bt}var ky;function ub(){if(ky)return Id.exports;ky=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Id.exports=ob(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function cb(){if(Ly)return ho;Ly=1;var s=lb(),e=mp(),i=ub();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return m(c),t;if(f===l)return m(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),_e=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ne:return"Profiler";case $:return"StrictMode";case he:return"Suspense";case Me:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case _e:return(t._context.displayName||"Context")+".Consumer";case ue:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return n=t.displayName||null,n!==null?n:Dt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Dt(t(n))}catch{}}return null}var st=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Ue=[],I=-1;function W(t){return{current:t}}function te(t){0>I||(t.current=Ue[I],Ue[I]=null,I--)}function Q(t,n){I++,Ue[I]=t.current,t.current=n}var le=W(null),Ee=W(null),ge=W(null),bt=W(null);function Qe(t,n){switch(Q(ge,n),Q(Ee,t),Q(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ty(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ty(n),t=ny(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(le),Q(le,t)}function Hn(){te(le),te(Ee),te(ge)}function Ji(t){t.memoizedState!==null&&Q(bt,t);var n=le.current,r=ny(n,t.type);n!==r&&(Q(Ee,t),Q(le,r))}function ui(t){Ee.current===t&&(te(le),te(Ee)),bt.current===t&&(te(bt),ro._currentValue=ae)}var Hs=Object.prototype.hasOwnProperty,Vs=s.unstable_scheduleCallback,qs=s.unstable_cancelCallback,sl=s.unstable_shouldYield,nu=s.unstable_requestPaint,dn=s.unstable_now,wh=s.unstable_getCurrentPriorityLevel,rl=s.unstable_ImmediatePriority,Fr=s.unstable_UserBlockingPriority,Gs=s.unstable_NormalPriority,Ah=s.unstable_LowPriority,Yr=s.unstable_IdlePriority,al=s.log,iu=s.unstable_setDisableYieldValue,rt=null,ze=null;function sn(t){if(typeof al=="function"&&iu(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(rt,t)}catch{}}var jt=Math.clz32?Math.clz32:Fs,su=Math.log,Ch=Math.LN2;function Fs(t){return t>>>=0,t===0?32:31-(su(t)/Ch|0)|0}var Ys=256,Xs=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xr(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=xn(l):(y&=E,y!==0?c=xn(y):r||(r=E&~t,r!==0&&(c=xn(r))))):(E=l&~f,E!==0?c=xn(E):y!==0?c=xn(y):r||(r=l&~t,r!==0&&(c=xn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Ks(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ll(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var t=Ys;return Ys<<=1,(Ys&4194048)===0&&(Ys=256),t}function ru(){var t=Xs;return Xs<<=1,(Xs&62914560)===0&&(Xs=4194304),t}function ci(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function hi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ul(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,B=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-jt(r),X=1<<G;E[G]=0,A[G]=-1;var z=B[G];if(z!==null)for(B[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&fi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function fi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-jt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function cl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-jt(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $i(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Sy(t.type))}function au(t,n){var r=ee.p;try{return ee.p=t,n()}finally{ee.p=r}}var et=Math.random().toString(36).slice(2),_t="__reactFiber$"+et,ft="__reactProps$"+et,pn="__reactContainer$"+et,hl="__reactEvents$"+et,xh="__reactListeners$"+et,es="__reactHandles$"+et,lu="__reactResources$"+et,Qs="__reactMarker$"+et;function Zs(t){delete t[_t],delete t[ft],delete t[hl],delete t[xh],delete t[es]}function ts(t){var n=t[_t];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[_t]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ay(t);t!==null;){if(r=t[_t])return r;t=ay(t)}return n}t=r,r=t.parentNode}return null}function Vn(t){if(t=t[_t]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ht(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ut(t){t[Qs]=!0}var fl=new Set,Wr={};function Nn(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(Wr[t]=n,t=0;t<n.length;t++)fl.add(n[t])}var ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uu={},Js={};function cu(t){return Hs.call(Js,t)?!0:Hs.call(uu,t)?!1:ou.test(t)?Js[t]=!0:(uu[t]=!0,!1)}function ns(t,n,r){if(cu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Gn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Mt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var $s,hu;function pi(t){if($s===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);$s=n&&n[1]||"",hu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+t+hu}var Qr=!1;function Zr(t,n){if(!t||Qr)return"";Qr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var A=y.split(`
`),B=E.split(`
`);for(c=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===A.length||c===B.length)for(l=A.length-1,c=B.length-1;1<=l&&0<=c&&A[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(A[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||A[l]!==B[c]){var G=`
`+A[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Qr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?pi(r):""}function dl(t){switch(t.tag){case 26:case 27:case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Zr(t.type,!1);case 11:return Zr(t.type.render,!1);case 1:return Zr(t.type,!0);case 31:return pi("Activity");default:return""}}function Jr(t){try{var n="";do n+=dl(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nh(t){var n=pl(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $r(t){t._valueTracker||(t._valueTracker=Nh(t))}function ml(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=pl(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function er(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rh=/[\n"\\]/g;function dt(t){return t.replace(Rh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Vt(n)):t.value!==""+Vt(n)&&(t.value=""+Vt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?is(t,y,Vt(n)):r!=null?is(t,y,Vt(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Vt(E):t.removeAttribute("name")}function tr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Vt(r):"",n=n!=null?""+Vt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function is(t,n,r){n==="number"&&er(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function mi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Vt(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ge(t,n,r){if(n!=null&&(n=""+Vt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Vt(r):""}function nr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(st(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Vt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var ir=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||ir.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function gl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&fu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&fu(t,f,n[f])}function _l(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(t){return Oh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gi=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,yi=null;function yl(t){var n=Vn(t);if(n&&(t=n.stateNode)){var r=t[ft]||null;e:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+dt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ft]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ml(l)}break e;case"textarea":Ge(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&mi(t,!!r.multiple,n,!1)}}}var Fn=!1;function du(t,n,r){if(Fn)return t(n,r);Fn=!0;try{var l=t(n);return l}finally{if(Fn=!1,(_i!==null||yi!==null)&&(ac(),_i&&(n=_i,t=yi,yi=_i=null,yl(n),t)))for(n=0;n<t.length;n++)yl(t[n])}}function sr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ft]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Rn)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{_n=!1}var Yn=null,ss=null,vi=null;function vl(){if(vi)return vi;var t,n=ss,r=n.length,l,c="value"in Yn?Yn.value:Yn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return vi=c.slice(t,1<l?1-l:void 0)}function Xn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function El(){return!1}function Tt(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:El,this.isPropagationStopped=El,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Tt(He),ar=T({},He,{view:0,detail:0}),pu=Tt(ar),na,ia,Wn,lr=T({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(na=t.screenX-Wn.screenX,ia=t.screenY-Wn.screenY):ia=na=0,Wn=t),na)},movementY:function(t){return"movementY"in t?t.movementY:ia}}),yn=Tt(lr),mu=T({},lr,{dataTransfer:0}),Dh=Tt(mu),or=T({},ar,{relatedTarget:0}),sa=Tt(or),Sl=T({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=Tt(Sl),gu=T({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aa=Tt(gu),Mh=T({},He,{data:0}),bl=Tt(Mh),ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yu[t])?!!n[t]:!1}function cr(){return Tl}var vu=T({},ar,{key:function(t){if(t.key){var n=ur[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(t){return t.type==="keypress"?Xn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),la=Tt(vu),Eu=T({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wl=Tt(Eu),Ei=T({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),Su=Tt(Ei),bu=T({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=Tt(bu),wu=T({},lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kt=Tt(wu),Au=T({},He,{newState:0,oldState:0}),Cu=Tt(Au),rs=[9,13,27,32],u=Rn&&"CompositionEvent"in window,p=null;Rn&&"documentMode"in document&&(p=document.documentMode);var g=Rn&&"TextEvent"in window&&!p,S=Rn&&(!u||p&&8<p&&11>=p),j=" ",V=!1;function Z(t,n){switch(t){case"keyup":return rs.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Be(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function xe(t,n){switch(t){case"compositionend":return Be(n);case"keypress":return n.which!==32?null:(V=!0,j);case"textInput":return t=n.data,t===j&&V?null:t;default:return null}}function wt(t,n){if(tt)return t==="compositionend"||!u&&Z(t,n)?(t=vl(),vi=ss=Yn=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return S&&n.locale!=="ko"?null:n.data;default:return null}}var At={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Si(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!At[t.type]:n==="textarea"}function Wt(t,n,r,l){_i?yi?yi.push(l):yi=[l]:_i=l,n=fc(n,"onChange"),0<n.length&&(r=new ta("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Qn=null,bi=null;function DE(t){Q_(t,0)}function xu(t){var n=qn(t);if(ml(n))return t}function _m(t,n){if(t==="change")return n}var ym=!1;if(Rn){var kh;if(Rn){var Lh="oninput"in document;if(!Lh){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),Lh=typeof vm.oninput=="function"}kh=Lh}else kh=!1;ym=kh&&(!document.documentMode||9<document.documentMode)}function Em(){Qn&&(Qn.detachEvent("onpropertychange",Sm),bi=Qn=null)}function Sm(t){if(t.propertyName==="value"&&xu(bi)){var n=[];Wt(n,bi,t,gn(t)),du(DE,n)}}function ME(t,n,r){t==="focusin"?(Em(),Qn=n,bi=r,Qn.attachEvent("onpropertychange",Sm)):t==="focusout"&&Em()}function kE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(bi)}function LE(t,n){if(t==="click")return xu(n)}function UE(t,n){if(t==="input"||t==="change")return xu(n)}function jE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:jE;function Al(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Hs.call(n,c)||!an(t[c],n[c]))return!1}return!0}function bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tm(t,n){var r=bm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bm(r)}}function wm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Am(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=er(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=er(t.document)}return n}function Uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var PE=Rn&&"documentMode"in document&&11>=document.documentMode,oa=null,jh=null,Cl=null,Ph=!1;function Cm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ph||oa==null||oa!==er(l)||(l=oa,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Al(Cl,l)||(Cl=l,l=fc(jh,"onSelect"),0<l.length&&(n=new ta("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=oa)))}function hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ua={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},Bh={},xm={};Rn&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function fr(t){if(Bh[t])return Bh[t];if(!ua[t])return t;var n=ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in xm)return Bh[t]=n[r];return t}var Nm=fr("animationend"),Rm=fr("animationiteration"),Im=fr("animationstart"),BE=fr("transitionrun"),zE=fr("transitionstart"),HE=fr("transitioncancel"),Om=fr("transitionend"),Dm=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function In(t,n){Dm.set(t,n),Nn(n,[t])}var Mm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=Mm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Jr(n)},Mm.set(t,n),n)}return{value:t,source:n,stack:Jr(n)}}var En=[],ca=0,Hh=0;function Nu(){for(var t=ca,n=Hh=ca=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&km(r,c,f)}}function Ru(t,n,r,l){En[ca++]=t,En[ca++]=n,En[ca++]=r,En[ca++]=l,Hh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vh(t,n,r,l){return Ru(t,n,r,l),Iu(t)}function ha(t,n){return Ru(t,null,null,n),Iu(t)}function km(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-jt(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Iu(t){if(50<Zl)throw Zl=0,Wf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var fa={};function VE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new VE(t,n,r,l)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")qh(t)&&(y=1);else if(typeof t=="string")y=GS(t,r,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=ln(31,r,n,c),t.elementType=N,t.lanes=f,t;case Y:return dr(r.children,c,f,n);case $:y=8,c|=24;break;case ne:return t=ln(12,r,n,c|2),t.elementType=ne,t.lanes=f,t;case he:return t=ln(13,r,n,c),t.elementType=he,t.lanes=f,t;case Me:return t=ln(19,r,n,c),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:case ie:y=10;break e;case _e:y=9;break e;case ue:y=11;break e;case k:y=14;break e;case w:y=16,l=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function dr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function Gh(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function Fh(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var da=[],pa=0,Du=null,Mu=0,Sn=[],bn=0,pr=null,wi=1,Ai="";function mr(t,n){da[pa++]=Mu,da[pa++]=Du,Du=t,Mu=n}function Um(t,n,r){Sn[bn++]=wi,Sn[bn++]=Ai,Sn[bn++]=pr,pr=t;var l=wi;t=Ai;var c=32-jt(l)-1;l&=~(1<<c),r+=1;var f=32-jt(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,wi=1<<32-jt(n)+c|r<<c|l,Ai=f+t}else wi=1<<f|r<<c|l,Ai=t}function Yh(t){t.return!==null&&(mr(t,1),Um(t,1,0))}function Xh(t){for(;t===Du;)Du=da[--pa],da[pa]=null,Mu=da[--pa],da[pa]=null;for(;t===pr;)pr=Sn[--bn],Sn[bn]=null,Ai=Sn[--bn],Sn[bn]=null,wi=Sn[--bn],Sn[bn]=null}var qt=null,at=null,je=!1,gr=null,Zn=!1,Kh=Error(a(519));function _r(t){var n=Error(a(418,""));throw Rl(vn(n,t)),Kh}function jm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_t]=t,n[ft]=l,r){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(r=0;r<$l.length;r++)we($l[r],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":we("invalid",n),tr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$r(n);break;case"select":we("invalid",n);break;case"textarea":we("invalid",n),nr(n,l.value,l.defaultValue,l.children),$r(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ey(n.textContent,r)?(l.popover!=null&&(we("beforetoggle",n),we("toggle",n)),l.onScroll!=null&&we("scroll",n),l.onScrollEnd!=null&&we("scrollend",n),l.onClick!=null&&(n.onclick=dc),n=!0):n=!1,n||_r(t)}function Pm(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:qt=qt.return}}function xl(t){if(t!==qt)return!1;if(!je)return Pm(t),je=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||hd(t.type,t.memoizedProps)),r=!r),r&&at&&_r(t),Pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){at=Dn(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}at=null}}else n===27?(n=at,Ss(t.type)?(t=md,md=null,at=t):at=n):at=qt?Dn(t.stateNode.nextSibling):null;return!0}function Nl(){at=qt=null,je=!1}function Bm(){var t=gr;return t!==null&&(Jt===null?Jt=t:Jt.push.apply(Jt,t),gr=null),t}function Rl(t){gr===null?gr=[t]:gr.push(t)}var Wh=W(null),yr=null,Ci=null;function as(t,n,r){Q(Wh,n._currentValue),n._currentValue=r}function xi(t){t._currentValue=Wh.current,te(Wh)}function Qh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Zh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=c;for(var A=0;A<n.length;A++)if(E.context===n[A]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Qh(f.return,r,t),l||(y=null);break e}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Qh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Il(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===bt.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ro):t=[ro])}c=c.return}t!==null&&Zh(n,t,r,l),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function vr(t){yr=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pt(t){return zm(yr,t)}function Lu(t,n){return yr===null&&vr(t),zm(t,n)}function zm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ci===null){if(t===null)throw Error(a(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return r}var qE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},GE=s.unstable_scheduleCallback,FE=s.unstable_NormalPriority,yt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new qE,data:new Map,refCount:0}}function Ol(t){t.refCount--,t.refCount===0&&GE(FE,function(){t.controller.abort()})}var Dl=null,$h=0,ma=0,ga=null;function YE(t,n){if(Dl===null){var r=Dl=[];$h=0,ma=nd(),ga={status:"pending",value:void 0,then:function(l){r.push(l)}}}return $h++,n.then(Hm,Hm),n}function Hm(){if(--$h===0&&Dl!==null){ga!==null&&(ga.status="fulfilled");var t=Dl;Dl=null,ma=0,ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function XE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Vm=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&YE(t,n),Vm!==null&&Vm(t,n)};var Er=W(null);function ef(){var t=Er.current;return t!==null?t:Ze.pooledCache}function Uu(t,n){n===null?Q(Er,Er.current):Q(Er,n.pool)}function qm(){var t=ef();return t===null?null:{parent:yt._currentValue,pool:t}}var Ml=Error(a(460)),Gm=Error(a(474)),ju=Error(a(542)),tf={then:function(){}};function Fm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pu(){}function Ym(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Pu,Pu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t;default:if(typeof n.status=="string")n.then(Pu,Pu);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t}throw kl=n,Ml}}var kl=null;function Xm(){if(kl===null)throw Error(a(459));var t=kl;return kl=null,t}function Km(t){if(t===Ml||t===ju)throw Error(a(483))}var ls=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function us(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Iu(t),km(t,null,r),n}return Ru(t,l,n,r),Iu(t)}function Ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,cl(t,r)}}function rf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var af=!1;function Ul(){if(af){var t=ga;if(t!==null)throw t}}function jl(t,n,r,l){af=!1;var c=t.updateQueue;ls=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var A=E,B=A.next;A.next=null,y===null?f=B:y.next=B,y=A;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=A))}if(f!==null){var X=c.baseState;y=0,G=B=A=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ne&z)===z:(l&z)===z){z!==0&&z===ma&&(af=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=t,oe=E;z=n;var Xe=r;switch(oe.tag){case 1:if(pe=oe.payload,typeof pe=="function"){X=pe.call(Xe,X,z);break e}X=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=oe.payload,z=typeof pe=="function"?pe.call(Xe,X,z):pe,z==null)break e;X=T({},X,z);break e;case 2:ls=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=H,A=X):G=G.next=H,y|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);G===null&&(A=X),c.baseState=A,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),_s|=y,t.lanes=y,t.memoizedState=X}}function Wm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Qm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Wm(r[t],n)}var _a=W(null),Bu=W(0);function Zm(t,n){t=ki,Q(Bu,t),Q(_a,n),ki=t|n.baseLanes}function lf(){Q(Bu,ki),Q(_a,_a.current)}function of(){ki=Bu.current,te(_a),te(Bu)}var cs=0,ve=null,Fe=null,pt=null,zu=!1,ya=!1,Sr=!1,Hu=0,Pl=0,va=null,KE=0;function ct(){throw Error(a(321))}function uf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function cf(t,n,r,l,c,f){return cs=f,ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?kg:Lg,Sr=!1,f=r(l,c),Sr=!1,ya&&(f=$m(n,r,l,c)),Jm(t),f}function Jm(t){q.H=Xu;var n=Fe!==null&&Fe.next!==null;if(cs=0,pt=Fe=ve=null,zu=!1,Pl=0,va=null,n)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&ku(t)&&(Ct=!0))}function $m(t,n,r,l){ve=t;var c=0;do{if(ya&&(va=null),Pl=0,ya=!1,25<=c)throw Error(a(301));if(c+=1,pt=Fe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=tS,f=n(r,l)}while(ya);return f}function WE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Bl(n):n,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(ve.flags|=1024),n}function hf(){var t=Hu!==0;return Hu=0,t}function ff(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function df(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}cs=0,pt=Fe=ve=null,ya=!1,Pl=Hu=0,va=null}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ve.memoizedState=pt=t:pt=pt.next=t,pt}function mt(){if(Fe===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var n=pt===null?ve.memoizedState:pt.next;if(n!==null)pt=n,Fe=t;else{if(t===null)throw ve.alternate===null?Error(a(467)):Error(a(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},pt===null?ve.memoizedState=pt=t:pt=pt.next=t}return pt}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(t){var n=Pl;return Pl+=1,va===null&&(va=[]),t=Ym(va,t,n),n=ve,(pt===null?n.memoizedState:pt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?kg:Lg),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===ie)return Pt(t)}throw Error(a(438,String(t)))}function mf(t){var n=null,r=ve.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=pf(),ve.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=D;return n.index++,r}function Ni(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=mt();return gf(n,Fe,t)}function gf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,A=null,B=n,G=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Ne&X)===X:(cs&X)===X){var z=B.revertLane;if(z===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===ma&&(G=!0);else if((cs&z)===z){B=B.next,z===ma&&(G=!0);continue}else X={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(E=A=X,y=f):A=A.next=X,ve.lanes|=z,_s|=z;X=B.action,Sr&&r(f,X),f=B.hasEagerState?B.eagerState:r(f,X)}else z={lane:X,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(E=A=z,y=f):A=A.next=z,ve.lanes|=X,_s|=X;B=B.next}while(B!==null&&B!==n);if(A===null?y=f:A.next=E,!an(f,t.memoizedState)&&(Ct=!0,G&&(r=ga,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=A,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _f(t){var n=mt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function eg(t,n,r){var l=ve,c=mt(),f=je;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((Fe||c).memoizedState,r);y&&(c.memoizedState=r,Ct=!0),c=c.queue;var E=ig.bind(null,l,c,t);if(zl(2048,8,E,[t]),c.getSnapshot!==n||y||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,Ea(9,Gu(),ng.bind(null,l,c,r,n),null),Ze===null)throw Error(a(349));f||(cs&124)!==0||tg(l,n,r)}return r}function tg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ve.updateQueue,n===null?(n=pf(),ve.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ng(t,n,r,l){n.value=r,n.getSnapshot=l,sg(n)&&rg(t)}function ig(t,n,r){return r(function(){sg(n)&&rg(t)})}function sg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function rg(t){var n=ha(t,2);n!==null&&fn(n,t,2)}function yf(t){var n=Qt();if(typeof t=="function"){var r=t;if(t=r(),Sr){sn(!0);try{r()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function ag(t,n,r,l){return t.baseState=r,gf(t,Fe,typeof l=="function"?l:Ni)}function QE(t,n,r,l,c){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,lg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function lg(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=r(c,l),A=q.S;A!==null&&A(y,E),og(t,n,E)}catch(B){vf(t,n,B)}finally{q.T=f}}else try{f=r(c,l),og(t,n,f)}catch(B){vf(t,n,B)}}function og(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ug(t,n,l)},function(l){return vf(t,n,l)}):ug(t,n,r)}function ug(t,n,r){n.status="fulfilled",n.value=r,cg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,lg(t,r)))}function vf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,cg(n),n=n.next;while(n!==l)}t.action=null}function cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function hg(t,n){return n}function fg(t,n){if(je){var r=Ze.formState;if(r!==null){e:{var l=ve;if(je){if(at){t:{for(var c=at,f=Zn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Dn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){at=Dn(c.nextSibling),l=c.data==="F!";break e}}_r(l)}l=!1}l&&(n=r[0])}}return r=Qt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hg,lastRenderedState:n},r.queue=l,r=Og.bind(null,ve,l),l.dispatch=r,l=yf(!1),f=wf.bind(null,ve,!1,l.queue),l=Qt(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=QE.bind(null,ve,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function dg(t){var n=mt();return pg(n,Fe,t)}function pg(t,n,r){if(n=gf(t,n,hg)[0],t=qu(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Bl(n)}catch(y){throw y===Ml?ju:y}else l=n;n=mt();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(ve.flags|=2048,Ea(9,Gu(),ZE.bind(null,c,r),null)),[l,f,t]}function ZE(t,n){t.action=n}function mg(t){var n=mt(),r=Fe;if(r!==null)return pg(n,r,t);mt(),n=n.memoizedState,r=mt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ea(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=ve.updateQueue,n===null&&(n=pf(),ve.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function gg(){return mt().memoizedState}function Fu(t,n,r,l){var c=Qt();l=l===void 0?null:l,ve.flags|=t,c.memoizedState=Ea(1|n,Gu(),r,l)}function zl(t,n,r,l){var c=mt();l=l===void 0?null:l;var f=c.memoizedState.inst;Fe!==null&&l!==null&&uf(l,Fe.memoizedState.deps)?c.memoizedState=Ea(n,f,r,l):(ve.flags|=t,c.memoizedState=Ea(1|n,f,r,l))}function _g(t,n){Fu(8390656,8,t,n)}function yg(t,n){zl(2048,8,t,n)}function vg(t,n){return zl(4,2,t,n)}function Eg(t,n){return zl(4,4,t,n)}function Sg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bg(t,n,r){r=r!=null?r.concat([t]):null,zl(4,4,Sg.bind(null,n,t),r)}function Ef(){}function Tg(t,n){var r=mt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&uf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function wg(t,n){var r=mt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&uf(n,l[1]))return l[0];if(l=t(),Sr){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l}function Sf(t,n,r){return r===void 0||(cs&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=x_(),ve.lanes|=t,_s|=t,r)}function Ag(t,n,r,l){return an(r,n)?r:_a.current!==null?(t=Sf(t,r,l),an(t,n)||(Ct=!0),t):(cs&42)===0?(Ct=!0,t.memoizedState=r):(t=x_(),ve.lanes|=t,_s|=t,n)}function Cg(t,n,r,l,c){var f=ee.p;ee.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,wf(t,!1,n,r);try{var A=c(),B=q.S;if(B!==null&&B(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=XE(A,l);Hl(t,n,G,hn(t))}else Hl(t,n,l,hn(t))}catch(X){Hl(t,n,{then:function(){},status:"rejected",reason:X},hn())}finally{ee.p=f,q.T=y}}function JE(){}function bf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=xg(t).queue;Cg(t,c,n,ae,r===null?JE:function(){return Ng(t),r(l)})}function xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:ae},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ng(t){var n=xg(t).next.queue;Hl(t,n,{},hn())}function Tf(){return Pt(ro)}function Rg(){return mt().memoizedState}function Ig(){return mt().memoizedState}function $E(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=os(r);var l=us(n,t,r);l!==null&&(fn(l,n,r),Ll(l,n,r)),n={cache:Jh()},t.payload=n;return}n=n.return}}function eS(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Dg(n,r):(r=Vh(t,n,r,l),r!==null&&(fn(r,t,l),Mg(r,n,l)))}function Og(t,n,r){var l=hn();Hl(t,n,r,l)}function Hl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Dg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Ru(t,n,c,0),Ze===null&&Nu(),!1}catch{}finally{}if(r=Vh(t,n,c,l),r!==null)return fn(r,t,l),Mg(r,n,l),!0}return!1}function wf(t,n,r,l){if(l={lane:2,revertLane:nd(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=Vh(t,r,l,2),n!==null&&fn(n,t,2)}function Yu(t){var n=t.alternate;return t===ve||n!==null&&n===ve}function Dg(t,n){ya=zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Mg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,cl(t,r)}}var Xu={readContext:Pt,use:Vu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},kg={readContext:Pt,use:Vu,useCallback:function(t,n){return Qt().memoizedState=[t,n===void 0?null:n],t},useContext:Pt,useEffect:_g,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fu(4194308,4,Sg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var r=Qt();n=n===void 0?null:n;var l=t();if(Sr){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Qt();if(r!==void 0){var c=r(n);if(Sr){sn(!0);try{r(n)}finally{sn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=eS.bind(null,ve,t),[l.memoizedState,t]},useRef:function(t){var n=Qt();return t={current:t},n.memoizedState=t},useState:function(t){t=yf(t);var n=t.queue,r=Og.bind(null,ve,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ef,useDeferredValue:function(t,n){var r=Qt();return Sf(r,t,n)},useTransition:function(){var t=yf(!1);return t=Cg.bind(null,ve,t.queue,!0,!1),Qt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=ve,c=Qt();if(je){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Ze===null)throw Error(a(349));(Ne&124)!==0||tg(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,_g(ig.bind(null,l,f,t),[t]),l.flags|=2048,Ea(9,Gu(),ng.bind(null,l,f,r,n),null),r},useId:function(){var t=Qt(),n=Ze.identifierPrefix;if(je){var r=Ai,l=wi;r=(l&~(1<<32-jt(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=KE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Tf,useFormState:fg,useActionState:fg,useOptimistic:function(t){var n=Qt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wf.bind(null,ve,!0,r),r.dispatch=n,[t,n]},useMemoCache:mf,useCacheRefresh:function(){return Qt().memoizedState=$E.bind(null,ve)}},Lg={readContext:Pt,use:Vu,useCallback:Tg,useContext:Pt,useEffect:yg,useImperativeHandle:bg,useInsertionEffect:vg,useLayoutEffect:Eg,useMemo:wg,useReducer:qu,useRef:gg,useState:function(){return qu(Ni)},useDebugValue:Ef,useDeferredValue:function(t,n){var r=mt();return Ag(r,Fe.memoizedState,t,n)},useTransition:function(){var t=qu(Ni)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Bl(t),n]},useSyncExternalStore:eg,useId:Rg,useHostTransitionStatus:Tf,useFormState:dg,useActionState:dg,useOptimistic:function(t,n){var r=mt();return ag(r,Fe,t,n)},useMemoCache:mf,useCacheRefresh:Ig},tS={readContext:Pt,use:Vu,useCallback:Tg,useContext:Pt,useEffect:yg,useImperativeHandle:bg,useInsertionEffect:vg,useLayoutEffect:Eg,useMemo:wg,useReducer:_f,useRef:gg,useState:function(){return _f(Ni)},useDebugValue:Ef,useDeferredValue:function(t,n){var r=mt();return Fe===null?Sf(r,t,n):Ag(r,Fe.memoizedState,t,n)},useTransition:function(){var t=_f(Ni)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Bl(t),n]},useSyncExternalStore:eg,useId:Rg,useHostTransitionStatus:Tf,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var r=mt();return Fe!==null?ag(r,Fe,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Ig},Sa=null,Vl=0;function Ku(t){var n=Vl;return Vl+=1,Sa===null&&(Sa=[]),Ym(Sa,t,n)}function ql(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wu(t,n){throw n.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ug(t){var n=t._init;return n(t._payload)}function jg(t){function n(L,O){if(t){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function r(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function c(L,O){return L=Ti(L,O),L.index=0,L.sibling=null,L}function f(L,O,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function y(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,P,F){return O===null||O.tag!==6?(O=Gh(P,L.mode,F),O.return=L,O):(O=c(O,P),O.return=L,O)}function A(L,O,P,F){var se=P.type;return se===Y?G(L,O,P.props.children,F,P.key):O!==null&&(O.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===w&&Ug(se)===O.type)?(O=c(O,P.props),ql(O,P),O.return=L,O):(O=Ou(P.type,P.key,P.props,null,L.mode,F),ql(O,P),O.return=L,O)}function B(L,O,P,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Fh(P,L.mode,F),O.return=L,O):(O=c(O,P.children||[]),O.return=L,O)}function G(L,O,P,F,se){return O===null||O.tag!==7?(O=dr(P,L.mode,F,se),O.return=L,O):(O=c(O,P),O.return=L,O)}function X(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gh(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return P=Ou(O.type,O.key,O.props,null,L.mode,P),ql(P,O),P.return=L,P;case K:return O=Fh(O,L.mode,P),O.return=L,O;case w:var F=O._init;return O=F(O._payload),X(L,O,P)}if(st(O)||U(O))return O=dr(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return X(L,Ku(O),P);if(O.$$typeof===ie)return X(L,Lu(L,O),P);Wu(L,O)}return null}function z(L,O,P,F){var se=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return se!==null?null:E(L,O,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return P.key===se?A(L,O,P,F):null;case K:return P.key===se?B(L,O,P,F):null;case w:return se=P._init,P=se(P._payload),z(L,O,P,F)}if(st(P)||U(P))return se!==null?null:G(L,O,P,F,null);if(typeof P.then=="function")return z(L,O,Ku(P),F);if(P.$$typeof===ie)return z(L,O,Lu(L,P),F);Wu(L,P)}return null}function H(L,O,P,F,se){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return L=L.get(P)||null,E(O,L,""+F,se);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return L=L.get(F.key===null?P:F.key)||null,A(O,L,F,se);case K:return L=L.get(F.key===null?P:F.key)||null,B(O,L,F,se);case w:var Se=F._init;return F=Se(F._payload),H(L,O,P,F,se)}if(st(F)||U(F))return L=L.get(P)||null,G(O,L,F,se,null);if(typeof F.then=="function")return H(L,O,P,Ku(F),se);if(F.$$typeof===ie)return H(L,O,P,Lu(O,F),se);Wu(O,F)}return null}function pe(L,O,P,F){for(var se=null,Se=null,re=O,ce=O=0,Nt=null;re!==null&&ce<P.length;ce++){re.index>ce?(Nt=re,re=null):Nt=re.sibling;var ke=z(L,re,P[ce],F);if(ke===null){re===null&&(re=Nt);break}t&&re&&ke.alternate===null&&n(L,re),O=f(ke,O,ce),Se===null?se=ke:Se.sibling=ke,Se=ke,re=Nt}if(ce===P.length)return r(L,re),je&&mr(L,ce),se;if(re===null){for(;ce<P.length;ce++)re=X(L,P[ce],F),re!==null&&(O=f(re,O,ce),Se===null?se=re:Se.sibling=re,Se=re);return je&&mr(L,ce),se}for(re=l(re);ce<P.length;ce++)Nt=H(re,L,ce,P[ce],F),Nt!==null&&(t&&Nt.alternate!==null&&re.delete(Nt.key===null?ce:Nt.key),O=f(Nt,O,ce),Se===null?se=Nt:Se.sibling=Nt,Se=Nt);return t&&re.forEach(function(Cs){return n(L,Cs)}),je&&mr(L,ce),se}function oe(L,O,P,F){if(P==null)throw Error(a(151));for(var se=null,Se=null,re=O,ce=O=0,Nt=null,ke=P.next();re!==null&&!ke.done;ce++,ke=P.next()){re.index>ce?(Nt=re,re=null):Nt=re.sibling;var Cs=z(L,re,ke.value,F);if(Cs===null){re===null&&(re=Nt);break}t&&re&&Cs.alternate===null&&n(L,re),O=f(Cs,O,ce),Se===null?se=Cs:Se.sibling=Cs,Se=Cs,re=Nt}if(ke.done)return r(L,re),je&&mr(L,ce),se;if(re===null){for(;!ke.done;ce++,ke=P.next())ke=X(L,ke.value,F),ke!==null&&(O=f(ke,O,ce),Se===null?se=ke:Se.sibling=ke,Se=ke);return je&&mr(L,ce),se}for(re=l(re);!ke.done;ce++,ke=P.next())ke=H(re,L,ce,ke.value,F),ke!==null&&(t&&ke.alternate!==null&&re.delete(ke.key===null?ce:ke.key),O=f(ke,O,ce),Se===null?se=ke:Se.sibling=ke,Se=ke);return t&&re.forEach(function(nb){return n(L,nb)}),je&&mr(L,ce),se}function Xe(L,O,P,F){if(typeof P=="object"&&P!==null&&P.type===Y&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case C:e:{for(var se=P.key;O!==null;){if(O.key===se){if(se=P.type,se===Y){if(O.tag===7){r(L,O.sibling),F=c(O,P.props.children),F.return=L,L=F;break e}}else if(O.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===w&&Ug(se)===O.type){r(L,O.sibling),F=c(O,P.props),ql(F,P),F.return=L,L=F;break e}r(L,O);break}else n(L,O);O=O.sibling}P.type===Y?(F=dr(P.props.children,L.mode,F,P.key),F.return=L,L=F):(F=Ou(P.type,P.key,P.props,null,L.mode,F),ql(F,P),F.return=L,L=F)}return y(L);case K:e:{for(se=P.key;O!==null;){if(O.key===se)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(L,O.sibling),F=c(O,P.children||[]),F.return=L,L=F;break e}else{r(L,O);break}else n(L,O);O=O.sibling}F=Fh(P,L.mode,F),F.return=L,L=F}return y(L);case w:return se=P._init,P=se(P._payload),Xe(L,O,P,F)}if(st(P))return pe(L,O,P,F);if(U(P)){if(se=U(P),typeof se!="function")throw Error(a(150));return P=se.call(P),oe(L,O,P,F)}if(typeof P.then=="function")return Xe(L,O,Ku(P),F);if(P.$$typeof===ie)return Xe(L,O,Lu(L,P),F);Wu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(L,O.sibling),F=c(O,P),F.return=L,L=F):(r(L,O),F=Gh(P,L.mode,F),F.return=L,L=F),y(L)):r(L,O)}return function(L,O,P,F){try{Vl=0;var se=Xe(L,O,P,F);return Sa=null,se}catch(re){if(re===Ml||re===ju)throw re;var Se=ln(29,re,null,L.mode);return Se.lanes=F,Se.return=L,Se}finally{}}}var ba=jg(!0),Pg=jg(!1),Tn=W(null),Jn=null;function hs(t){var n=t.alternate;Q(vt,vt.current&1),Q(Tn,t),Jn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Jn=t)}function Bg(t){if(t.tag===22){if(Q(vt,vt.current),Q(Tn,t),Jn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Jn=t)}}else fs()}function fs(){Q(vt,vt.current),Q(Tn,Tn.current)}function Ri(t){te(Tn),Jn===t&&(Jn=null),te(vt)}var vt=W(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||pd(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Af(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=os(l);c.payload=n,r!=null&&(c.callback=r),n=us(t,c,l),n!==null&&(fn(n,t,l),Ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=os(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=us(t,c,l),n!==null&&(fn(n,t,l),Ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=os(r);l.tag=2,n!=null&&(l.callback=n),n=us(t,l,r),n!==null&&(fn(n,t,r),Ll(n,t,r))}};function zg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Al(r,l)||!Al(c,f):!0}function Hg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Cf.enqueueReplaceState(n,n.state,null)}function br(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vg(t){Zu(t)}function qg(t){console.error(t)}function Gg(t){Zu(t)}function Ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xf(t,n,r){return r=os(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(t,n)},r}function Yg(t){return t=os(t),t.tag=3,t}function Xg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Fg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Fg(n,r,l),typeof c!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function nS(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Il(n,r,c,!0),r=Tn.current,r!==null){switch(r.tag){case 13:return Jn===null?Zf():r.alternate===null&&lt===0&&(lt=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===tf?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),$f(t,l,c)),!1;case 22:return r.flags|=65536,l===tf?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),$f(t,l,c)),!1}throw Error(a(435,r.tag))}return $f(t,l,c),Zf(),!1}if(je)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Kh&&(t=Error(a(422),{cause:l}),Rl(vn(t,r)))):(l!==Kh&&(n=Error(a(423),{cause:l}),Rl(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=xf(t.stateNode,l,c),rf(t,c),lt!==4&&(lt=2)),!1;var f=Error(a(520),{cause:l});if(f=vn(f,r),Ql===null?Ql=[f]:Ql.push(f),lt!==4&&(lt=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=xf(r.stateNode,l,t),rf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ys===null||!ys.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Yg(c),Xg(c,t,r,l),rf(r,c),!1}r=r.return}while(r!==null);return!1}var Kg=Error(a(461)),Ct=!1;function kt(t,n,r,l){n.child=t===null?Pg(n,null,r,l):ba(n,t.child,r,l)}function Wg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return vr(n),l=cf(t,n,r,y,f,c),E=hf(),t!==null&&!Ct?(ff(t,n,c),Ii(t,n,c)):(je&&E&&Yh(n),n.flags|=1,kt(t,n,l,c),n.child)}function Qg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Zg(t,n,f,l,c)):(t=Ou(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lf(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Al,r(y,l)&&t.ref===n.ref)return Ii(t,n,c)}return n.flags|=1,t=Ti(f,l),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Al(f,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=f,Lf(t,c))(t.flags&131072)!==0&&(Ct=!0);else return n.lanes=t.lanes,Ii(t,n,c)}return Nf(t,n,r,l,c)}function Jg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return $g(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?Zm(n,f):lf(),Bg(n);else return n.lanes=n.childLanes=536870912,$g(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Uu(n,f.cachePool),Zm(n,f),fs(),n.memoizedState=null):(t!==null&&Uu(n,null),lf(),fs());return kt(t,n,c,r),n.child}function $g(t,n,r,l){var c=ef();return c=c===null?null:{parent:yt._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Uu(n,null),lf(),Bg(n),t!==null&&Il(t,n,l,!0),null}function $u(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Nf(t,n,r,l,c){return vr(n),r=cf(t,n,r,l,void 0,c),l=hf(),t!==null&&!Ct?(ff(t,n,c),Ii(t,n,c)):(je&&l&&Yh(n),n.flags|=1,kt(t,n,r,c),n.child)}function e_(t,n,r,l,c,f){return vr(n),n.updateQueue=null,r=$m(n,l,r,c),Jm(t),l=hf(),t!==null&&!Ct?(ff(t,n,f),Ii(t,n,f)):(je&&l&&Yh(n),n.flags|=1,kt(t,n,r,f),n.child)}function t_(t,n,r,l,c){if(vr(n),n.stateNode===null){var f=fa,y=r.contextType;typeof y=="object"&&y!==null&&(f=Pt(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Pt(y):fa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Af(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Cf.enqueueReplaceState(f,f.state,null),jl(n,l,f,c),Ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,A=br(r,E);f.props=A;var B=f.context,G=r.contextType;y=fa,typeof G=="object"&&G!==null&&(y=Pt(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&Hg(n,f,l,y),ls=!1;var z=n.memoizedState;f.state=z,jl(n,l,f,c),Ul(),B=n.memoizedState,E||z!==B||ls?(typeof X=="function"&&(Af(n,r,X,l),B=n.memoizedState),(A=ls||zg(n,r,A,l,z,B,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=A):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(t,n),y=n.memoizedProps,G=br(r,y),f.props=G,X=n.pendingProps,z=f.context,B=r.contextType,A=fa,typeof B=="object"&&B!==null&&(A=Pt(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||z!==A)&&Hg(n,f,l,A),ls=!1,z=n.memoizedState,f.state=z,jl(n,l,f,c),Ul();var H=n.memoizedState;y!==X||z!==H||ls||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof E=="function"&&(Af(n,r,E,l),H=n.memoizedState),(G=ls||zg(n,r,G,l,z,H,A)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,A)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=A,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ba(n,t.child,null,c),n.child=ba(n,null,r,c)):kt(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ii(t,n,c),t}function n_(t,n,r,l){return Nl(),n.flags|=256,kt(t,n,r,l),n.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:qm()}}function Of(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function i_(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(je){if(c?hs(n):fs(),je){var E=at,A;if(A=E){e:{for(A=E,E=Zn;A.nodeType!==8;){if(!E){E=null;break e}if(A=Dn(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(n.memoizedState={dehydrated:E,treeContext:pr!==null?{id:wi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},A=ln(18,null,null,0),A.stateNode=E,A.return=n,n.child=A,qt=n,at=null,A=!0):A=!1}A||_r(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return pd(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(fs(),c=n.mode,E=ec({mode:"hidden",children:E},c),l=dr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=If(r),c.childLanes=Of(t,y,r),n.memoizedState=Rf,l):(hs(n),Df(n,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(f)n.flags&256?(hs(n),n.flags&=-257,n=Mf(t,n,r)):n.memoizedState!==null?(fs(),n.child=t.child,n.flags|=128,n=null):(fs(),c=l.fallback,E=n.mode,l=ec({mode:"visible",children:l.children},E),c=dr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ba(n,t.child,null,r),l=n.child,l.memoizedState=If(r),l.childLanes=Of(t,y,r),n.memoizedState=Rf,n=c);else if(hs(n),pd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(a(419)),l.stack="",l.digest=y,Rl({value:l,source:null,stack:null}),n=Mf(t,n,r)}else if(Ct||Il(t,n,r,!1),y=(r&t.childLanes)!==0,Ct||y){if(y=Ze,y!==null&&(l=r&-r,l=(l&42)!==0?1:Ws(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==A.retryLane))throw A.retryLane=l,ha(t,l),fn(y,t,l),Kg;E.data==="$?"||Zf(),n=Mf(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=A.treeContext,at=Dn(E.nextSibling),qt=n,je=!0,gr=null,Zn=!1,t!==null&&(Sn[bn++]=wi,Sn[bn++]=Ai,Sn[bn++]=pr,wi=t.id,Ai=t.overflow,pr=n),n=Df(n,l.children),n.flags|=4096);return n}return c?(fs(),c=l.fallback,E=n.mode,A=t.child,B=A.sibling,l=Ti(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,B!==null?c=Ti(B,c):(c=dr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=If(r):(A=E.cachePool,A!==null?(B=yt._currentValue,A=A.parent!==B?{parent:B,pool:B}:A):A=qm(),E={baseLanes:E.baseLanes|r,cachePool:A}),c.memoizedState=E,c.childLanes=Of(t,y,r),n.memoizedState=Rf,l):(hs(n),r=t.child,t=r.sibling,r=Ti(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Df(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mf(t,n,r){return ba(n,t.child,null,r),t=Df(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function s_(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Qh(t.return,n,r)}function kf(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function r_(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(kt(t,n,l.children,r),l=vt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s_(t,r,n);else if(t.tag===19)s_(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Q(vt,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Qu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),kf(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Qu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}kf(n,!0,r,null,f);break;case"together":kf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),_s|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Il(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ti(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ti(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Lf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function iS(t,n,r){switch(n.tag){case 3:Qe(n,n.stateNode.containerInfo),as(n,yt,t.memoizedState.cache),Nl();break;case 27:case 5:Ji(n);break;case 4:Qe(n,n.stateNode.containerInfo);break;case 10:as(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(hs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?i_(t,n,r):(hs(n),t=Ii(t,n,r),t!==null?t.sibling:null);hs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Il(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return r_(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Q(vt,vt.current),l)break;return null;case 22:case 23:return n.lanes=0,Jg(t,n,r);case 24:as(n,yt,t.memoizedState.cache)}return Ii(t,n,r)}function a_(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!Lf(t,r)&&(n.flags&128)===0)return Ct=!1,iS(t,n,r);Ct=(t.flags&131072)!==0}else Ct=!1,je&&(n.flags&1048576)!==0&&Um(n,Mu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")qh(l)?(t=br(l,t),n.tag=1,n=t_(null,n,l,t,r)):(n.tag=0,n=Nf(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===ue){n.tag=11,n=Wg(null,n,l,t,r);break e}else if(c===k){n.tag=14,n=Qg(null,n,l,t,r);break e}}throw n=Dt(l)||l,Error(a(306,n,""))}}return n;case 0:return Nf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=br(l,n.pendingProps),t_(t,n,l,c,r);case 3:e:{if(Qe(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,sf(t,n),jl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,as(n,yt,l),l!==f.cache&&Zh(n,[yt],r,!0),Ul(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=n_(t,n,l,r);break e}else if(l!==c){c=vn(Error(a(424)),n),Rl(c),n=n_(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Dn(t.firstChild),qt=n,je=!0,gr=null,Zn=!0,r=Pg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Nl(),l===c){n=Ii(t,n,r);break e}kt(t,n,l,r)}n=n.child}return n;case 26:return $u(t,n),t===null?(r=cy(n.type,null,n.pendingProps,null))?n.memoizedState=r:je||(r=n.type,t=n.pendingProps,l=pc(ge.current).createElement(r),l[_t]=n,l[ft]=t,Ut(l,r,t),ut(l),n.stateNode=l):n.memoizedState=cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ji(n),t===null&&je&&(l=n.stateNode=ly(n.type,n.pendingProps,ge.current),qt=n,Zn=!0,c=at,Ss(n.type)?(md=c,at=Dn(l.firstChild)):at=c),kt(t,n,n.pendingProps.children,r),$u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&je&&((c=l=at)&&(l=OS(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,qt=n,at=Dn(l.firstChild),Zn=!1,c=!0):c=!1),c||_r(n)),Ji(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,hd(c,f)?l=null:y!==null&&hd(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=cf(t,n,WE,null,null,r),ro._currentValue=c),$u(t,n),kt(t,n,l,r),n.child;case 6:return t===null&&je&&((t=r=at)&&(r=DS(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,qt=n,at=null,t=!0):t=!1),t||_r(n)),null;case 13:return i_(t,n,r);case 4:return Qe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ba(n,null,l,r):kt(t,n,l,r),n.child;case 11:return Wg(t,n,n.type,n.pendingProps,r);case 7:return kt(t,n,n.pendingProps,r),n.child;case 8:return kt(t,n,n.pendingProps.children,r),n.child;case 12:return kt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,as(n,n.type,l.value),kt(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,vr(n),c=Pt(c),l=l(c),n.flags|=1,kt(t,n,l,r),n.child;case 14:return Qg(t,n,n.type,n.pendingProps,r);case 15:return Zg(t,n,n.type,n.pendingProps,r);case 19:return r_(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ec(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ti(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Jg(t,n,r);case 24:return vr(n),l=Pt(yt),t===null?(c=ef(),c===null&&(c=Ze,f=Jh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},nf(n),as(n,yt,c)):((t.lanes&r)!==0&&(sf(t,n),jl(n,null,null,r),Ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),as(n,yt,l)):(l=f.cache,as(n,yt,l),l!==c.cache&&Zh(n,[yt],r,!0))),kt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Oi(t){t.flags|=4}function l_(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!my(n)){if(n=Tn.current,n!==null&&((Ne&4194048)===Ne?Jn!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||n!==Jn))throw kl=tf,Gm;t.flags|=8192}}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Ca|=n)}function Gl(t,n){if(!je)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function sS(t,n,r){var l=n.pendingProps;switch(Xh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xi(yt),Hn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xl(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bm())),it(n),null;case 26:return r=n.memoizedState,t===null?(Oi(n),r!==null?(it(n),l_(n,r)):(it(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Oi(n),it(n),l_(n,r)):(it(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),it(n),n.flags&=-16777217),null;case 27:ui(n),r=ge.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}t=le.current,xl(n)?jm(n):(t=ly(c,l,r),n.stateNode=t,Oi(n))}return it(n),null;case 5:if(ui(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}if(t=le.current,xl(n))jm(n);else{switch(c=pc(ge.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_t]=n,t[ft]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(Ut(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Oi(n)}}return it(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ge.current,xl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=qt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_t]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ey(t.nodeValue,r)),t||_r(n)}else t=pc(t).createTextNode(l),t[_t]=n,n.stateNode=t}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=xl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_t]=n}else Nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),c=!1}else c=Bm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),it(n),null;case 4:return Hn(),t===null&&ad(n.stateNode.containerInfo),it(n),null;case 10:return xi(n.type),it(n),null;case 19:if(te(vt),c=n.memoizedState,c===null)return it(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Gl(c,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,Gl(c,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Lm(r,t),r=r.sibling;return Q(vt,vt.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>sc&&(n.flags|=128,l=!0,Gl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Qu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),Gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!je)return it(n),null}else 2*dn()-c.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,l=!0,Gl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=vt.current,Q(vt,l?t&1|2:t&1),n):(it(n),null);case 22:case 23:return Ri(n),of(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&te(Er),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(yt),it(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function rS(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xi(yt),Hn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(vt),null;case 4:return Hn(),null;case 10:return xi(n.type),null;case 22:case 23:return Ri(n),of(),t!==null&&te(Er),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xi(yt),null;case 25:return null;default:return null}}function o_(t,n){switch(Xh(n),n.tag){case 3:xi(yt),Hn();break;case 26:case 27:case 5:ui(n);break;case 4:Hn();break;case 13:Ri(n);break;case 19:te(vt);break;case 10:xi(n.type);break;case 22:case 23:Ri(n),of(),t!==null&&te(Er);break;case 24:xi(yt)}}function Fl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Ke(n,n.return,E)}}function ds(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var A=r,B=E;try{B()}catch(G){Ke(c,A,G)}}}l=l.next}while(l!==f)}}catch(G){Ke(n,n.return,G)}}function u_(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Qm(n,r)}catch(l){Ke(t,t.return,l)}}}function c_(t,n,r){r.props=br(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ke(t,n,l)}}function Yl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Ke(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ke(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ke(t,n,c)}else r.current=null}function h_(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ke(t,t.return,c)}}function Uf(t,n,r){try{var l=t.stateNode;CS(l,t.type,r,n),l[ft]=n}catch(c){Ke(t,t.return,c)}}function f_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ss(t.type)||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ss(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=dc));else if(l!==4&&(l===27&&Ss(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Pf(t,n,r),t=t.sibling;t!==null;)Pf(t,n,r),t=t.sibling}function nc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ss(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(nc(t,n,r),t=t.sibling;t!==null;)nc(t,n,r),t=t.sibling}function d_(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ut(n,l,r),n[_t]=t,n[ft]=r}catch(f){Ke(t,t.return,f)}}var Di=!1,ht=!1,Bf=!1,p_=typeof WeakSet=="function"?WeakSet:Set,xt=null;function aS(t,n){if(t=t.containerInfo,ud=Ec,t=Am(t),Uh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,E=-1,A=-1,B=0,G=0,X=t,z=null;t:for(;;){for(var H;X!==r||c!==0&&X.nodeType!==3||(E=y+c),X!==f||l!==0&&X.nodeType!==3||(A=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===r&&++B===c&&(E=y),z===f&&++G===l&&(A=y),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}r=E===-1||A===-1?null:{start:E,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:t,selectionRange:r},Ec=!1,xt=n;xt!==null;)if(n=xt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,xt=t;else for(;xt!==null;){switch(n=xt,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var pe=br(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(pe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(oe){Ke(r,r.return,oe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)dd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,xt=t;break}xt=n.return}}function m_(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ps(t,r),l&4&&Fl(5,r);break;case 1:if(ps(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Ke(r,r.return,y)}else{var c=br(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ke(r,r.return,y)}}l&64&&u_(r),l&512&&Yl(r,r.return);break;case 3:if(ps(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Qm(t,n)}catch(y){Ke(r,r.return,y)}}break;case 27:n===null&&l&4&&d_(r);case 26:case 5:ps(t,r),n===null&&l&4&&h_(r),l&512&&Yl(r,r.return);break;case 12:ps(t,r);break;case 13:ps(t,r),l&4&&y_(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=mS.bind(null,r),MS(t,r))));break;case 22:if(l=r.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||ht,c=Di;var f=ht;Di=l,(ht=n)&&!f?ms(t,r,(r.subtreeFlags&8772)!==0):ps(t,r),Di=c,ht=f}break;case 30:break;default:ps(t,r)}}function g_(t){var n=t.alternate;n!==null&&(t.alternate=null,g_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Zs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,Zt=!1;function Mi(t,n,r){for(r=r.child;r!==null;)__(t,n,r),r=r.sibling}function __(t,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(rt,r)}catch{}switch(r.tag){case 26:ht||$n(r,n),Mi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ht||$n(r,n);var l=nt,c=Zt;Ss(r.type)&&(nt=r.stateNode,Zt=!1),Mi(t,n,r),to(r.stateNode),nt=l,Zt=c;break;case 5:ht||$n(r,n);case 6:if(l=nt,c=Zt,nt=null,Mi(t,n,r),nt=l,Zt=c,nt!==null)if(Zt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(r.stateNode)}catch(f){Ke(r,n,f)}else try{nt.removeChild(r.stateNode)}catch(f){Ke(r,n,f)}break;case 18:nt!==null&&(Zt?(t=nt,ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),uo(t)):ry(nt,r.stateNode));break;case 4:l=nt,c=Zt,nt=r.stateNode.containerInfo,Zt=!0,Mi(t,n,r),nt=l,Zt=c;break;case 0:case 11:case 14:case 15:ht||ds(2,r,n),ht||ds(4,r,n),Mi(t,n,r);break;case 1:ht||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&c_(r,n,l)),Mi(t,n,r);break;case 21:Mi(t,n,r);break;case 22:ht=(l=ht)||r.memoizedState!==null,Mi(t,n,r),ht=l;break;default:Mi(t,n,r)}}function y_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(r){Ke(n,n.return,r)}}function lS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new p_),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new p_),n;default:throw Error(a(435,t.tag))}}function zf(t,n){var r=lS(t);n.forEach(function(l){var c=gS.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Ss(E.type)){nt=E.stateNode,Zt=!1;break e}break;case 5:nt=E.stateNode,Zt=!1;break e;case 3:case 4:nt=E.stateNode.containerInfo,Zt=!0;break e}E=E.return}if(nt===null)throw Error(a(160));__(f,y,c),nt=null,Zt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)v_(n,t),n=n.sibling}var On=null;function v_(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(ds(3,t,t.return),Fl(3,t),ds(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(ht||r===null||$n(r,r.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(on(n,t),un(t),l&512&&(ht||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Qs]||f[_t]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ut(f,l,r),f[_t]=t,ut(f),l=f;break e;case"link":var y=dy("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break t}}f=c.createElement(l),Ut(f,l,r),c.head.appendChild(f);break;case"meta":if(y=dy("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break t}}f=c.createElement(l),Ut(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_t]=t,ut(f),l=f}t.stateNode=l}else py(c,t.type,t.stateNode);else t.stateNode=fy(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?py(c,t.type,t.stateNode):fy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(ht||r===null||$n(r,r.return)),r!==null&&l&4&&Uf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(ht||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(H){Ke(t,t.return,H)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Uf(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Bf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(H){Ke(t,t.return,H)}}break;case 3:if(_c=null,c=On,On=mc(n.containerInfo),on(n,t),On=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{uo(n.containerInfo)}catch(H){Ke(t,t.return,H)}Bf&&(Bf=!1,E_(t));break;case 4:l=On,On=mc(t.stateNode.containerInfo),on(n,t),un(t),On=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Yf=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zf(t,l)));break;case 22:c=t.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,B=Di,G=ht;if(Di=B||c,ht=G||A,on(n,t),ht=G,Di=B,un(t),l&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||A||Di||ht||Tr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){A=r=n;try{if(f=A.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=A.stateNode;var X=A.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(H){Ke(A,A.return,H)}}}else if(n.tag===6){if(r===null){A=n;try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(H){Ke(A,A.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,zf(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zf(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(f_(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=jf(t);nc(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(mn(y,""),r.flags&=-33);var E=jf(t);nc(t,E,y);break;case 3:case 4:var A=r.stateNode.containerInfo,B=jf(t);Pf(t,B,A);break;default:throw Error(a(161))}}catch(G){Ke(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function E_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;E_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ps(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)m_(t,n.alternate,n),n=n.sibling}function Tr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ds(4,n,n.return),Tr(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&c_(n,n.return,r),Tr(n);break;case 27:to(n.stateNode);case 26:case 5:$n(n,n.return),Tr(n);break;case 22:n.memoizedState===null&&Tr(n);break;case 30:Tr(n);break;default:Tr(n)}t=t.sibling}}function ms(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ms(c,f,r),Fl(4,f);break;case 1:if(ms(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ke(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var A=c.shared.hiddenCallbacks;if(A!==null)for(c.shared.hiddenCallbacks=null,c=0;c<A.length;c++)Wm(A[c],E)}catch(B){Ke(l,l.return,B)}}r&&y&64&&u_(f),Yl(f,f.return);break;case 27:d_(f);case 26:case 5:ms(c,f,r),r&&l===null&&y&4&&h_(f),Yl(f,f.return);break;case 12:ms(c,f,r);break;case 13:ms(c,f,r),r&&y&4&&y_(c,f);break;case 22:f.memoizedState===null&&ms(c,f,r),Yl(f,f.return);break;case 30:break;default:ms(c,f,r)}n=n.sibling}}function Hf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ol(r))}function Vf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t))}function ei(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)S_(t,n,r,l),n=n.sibling}function S_(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,r,l),c&2048&&Fl(9,n);break;case 1:ei(t,n,r,l);break;case 3:ei(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t)));break;case 12:if(c&2048){ei(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Ke(n,n.return,A)}}else ei(t,n,r,l);break;case 13:ei(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ei(t,n,r,l):Xl(t,n):f._visibility&2?ei(t,n,r,l):(f._visibility|=2,Ta(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Hf(y,n);break;case 24:ei(t,n,r,l),c&2048&&Vf(n.alternate,n);break;default:ei(t,n,r,l)}}function Ta(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,A=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Ta(f,y,E,A,c),Fl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ta(f,y,E,A,c):Xl(f,y):(G._visibility|=2,Ta(f,y,E,A,c)),c&&B&2048&&Hf(y.alternate,y);break;case 24:Ta(f,y,E,A,c),c&&B&2048&&Vf(y.alternate,y);break;default:Ta(f,y,E,A,c)}n=n.sibling}}function Xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Xl(r,l),c&2048&&Hf(l.alternate,l);break;case 24:Xl(r,l),c&2048&&Vf(l.alternate,l);break;default:Xl(r,l)}n=n.sibling}}var Kl=8192;function wa(t){if(t.subtreeFlags&Kl)for(t=t.child;t!==null;)b_(t),t=t.sibling}function b_(t){switch(t.tag){case 26:wa(t),t.flags&Kl&&t.memoizedState!==null&&YS(On,t.memoizedState,t.memoizedProps);break;case 5:wa(t);break;case 3:case 4:var n=On;On=mc(t.stateNode.containerInfo),wa(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Kl,Kl=16777216,wa(t),Kl=n):wa(t));break;default:wa(t)}}function T_(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xt=l,A_(l,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w_(t),t=t.sibling}function w_(t){switch(t.tag){case 0:case 11:case 15:Wl(t),t.flags&2048&&ds(9,t,t.return);break;case 3:Wl(t);break;case 12:Wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):Wl(t);break;default:Wl(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xt=l,A_(l,t)}T_(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ds(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function A_(t,n){for(;xt!==null;){var r=xt;switch(r.tag){case 0:case 11:case 15:ds(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ol(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,xt=l;else e:for(r=t;xt!==null;){l=xt;var c=l.sibling,f=l.return;if(g_(l),l===r){xt=null;break e}if(c!==null){c.return=f,xt=c;break e}xt=f}}}var oS={getCacheForType:function(t){var n=Pt(yt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},uS=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Ze=null,Te=null,Ne=0,qe=0,cn=null,gs=!1,Aa=!1,qf=!1,ki=0,lt=0,_s=0,wr=0,Gf=0,wn=0,Ca=0,Ql=null,Jt=null,Ff=!1,Yf=0,sc=1/0,rc=null,ys=null,Lt=0,vs=null,xa=null,Na=0,Xf=0,Kf=null,C_=null,Zl=0,Wf=null;function hn(){if((Ve&2)!==0&&Ne!==0)return Ne&-Ne;if(q.T!==null){var t=ma;return t!==0?t:nd()}return $i()}function x_(){wn===0&&(wn=(Ne&536870912)===0||je?ol():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),wn}function fn(t,n,r){(t===Ze&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Ra(t,0),Es(t,Ne,wn,!1)),hi(t,r),((Ve&2)===0||t!==Ze)&&(t===Ze&&((Ve&2)===0&&(wr|=r),lt===4&&Es(t,Ne,wn,!1)),ti(t))}function N_(t,n,r){if((Ve&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Ks(t,n),c=l?fS(t,n):Jf(t,n,!0),f=l;do{if(c===0){Aa&&!l&&Es(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!cS(r)){c=Jf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;c=Ql;var A=E.current.memoizedState.isDehydrated;if(A&&(Ra(E,y).flags|=256),y=Jf(E,y,!1),y!==2){if(qf&&!A){E.errorRecoveryDisabledLanes|=f,wr|=f,c=4;break e}f=Jt,Jt=c,f!==null&&(Jt===null?Jt=f:Jt.push.apply(Jt,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ra(t,0),Es(t,n,0,!0);break}e:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Es(l,n,wn,!gs);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Yf+300-dn(),10<c)){if(Es(l,n,wn,!gs),Xr(l,0,!0)!==0)break e;l.timeoutHandle=iy(R_.bind(null,l,r,Jt,rc,Ff,n,wn,wr,Ca,gs,f,2,-0,0),c);break e}R_(l,r,Jt,rc,Ff,n,wn,wr,Ca,gs,f,0,-0,0)}}break}while(!0);ti(t)}function R_(t,n,r,l,c,f,y,E,A,B,G,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(so={stylesheets:null,count:0,unsuspend:FS},b_(n),X=XS(),X!==null)){t.cancelPendingCommit=X(U_.bind(null,t,n,f,r,l,c,y,E,A,G,1,z,H)),Es(t,f,y,!B);return}U_(t,n,f,r,l,c,y,E,A)}function cS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Es(t,n,r,l){n&=~Gf,n&=~wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-jt(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&fi(t,r,n)}function ac(){return(Ve&6)===0?(Jl(0),!1):!0}function Qf(){if(Te!==null){if(qe===0)var t=Te.return;else t=Te,Ci=yr=null,df(t),Sa=null,Vl=0,t=Te;for(;t!==null;)o_(t.alternate,t),t=t.return;Te=null}}function Ra(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,NS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Qf(),Ze=t,Te=r=Ti(t.current,null),Ne=n,qe=0,cn=null,gs=!1,Aa=Ks(t,n),qf=!1,Ca=wn=Gf=wr=_s=lt=0,Jt=Ql=null,Ff=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-jt(l),f=1<<c;n|=t[c],l&=~f}return ki=n,Nu(),r}function I_(t,n){ve=null,q.H=Xu,n===Ml||n===ju?(n=Xm(),qe=3):n===Gm?(n=Xm(),qe=4):qe=n===Kg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Te===null&&(lt=1,Ju(t,vn(n,t.current)))}function O_(){var t=q.H;return q.H=Xu,t===null?Xu:t}function D_(){var t=q.A;return q.A=oS,t}function Zf(){lt=4,gs||(Ne&4194048)!==Ne&&Tn.current!==null||(Aa=!0),(_s&134217727)===0&&(wr&134217727)===0||Ze===null||Es(Ze,Ne,wn,!1)}function Jf(t,n,r){var l=Ve;Ve|=2;var c=O_(),f=D_();(Ze!==t||Ne!==n)&&(rc=null,Ra(t,n)),n=!1;var y=lt;e:do try{if(qe!==0&&Te!==null){var E=Te,A=cn;switch(qe){case 8:Qf(),y=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var B=qe;if(qe=0,cn=null,Ia(t,E,A,B),r&&Aa){y=0;break e}break;default:B=qe,qe=0,cn=null,Ia(t,E,A,B)}}hS(),y=lt;break}catch(G){I_(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ci=yr=null,Ve=l,q.H=c,q.A=f,Te===null&&(Ze=null,Ne=0,Nu()),y}function hS(){for(;Te!==null;)M_(Te)}function fS(t,n){var r=Ve;Ve|=2;var l=O_(),c=D_();Ze!==t||Ne!==n?(rc=null,sc=dn()+500,Ra(t,n)):Aa=Ks(t,n);e:do try{if(qe!==0&&Te!==null){n=Te;var f=cn;t:switch(qe){case 1:qe=0,cn=null,Ia(t,n,f,1);break;case 2:case 9:if(Fm(f)){qe=0,cn=null,k_(n);break}n=function(){qe!==2&&qe!==9||Ze!==t||(qe=7),ti(t)},f.then(n,n);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Fm(f)?(qe=0,cn=null,k_(n)):(qe=0,cn=null,Ia(t,n,f,7));break;case 5:var y=null;switch(Te.tag){case 26:y=Te.memoizedState;case 5:case 27:var E=Te;if(!y||my(y)){qe=0,cn=null;var A=E.sibling;if(A!==null)Te=A;else{var B=E.return;B!==null?(Te=B,lc(B)):Te=null}break t}}qe=0,cn=null,Ia(t,n,f,5);break;case 6:qe=0,cn=null,Ia(t,n,f,6);break;case 8:Qf(),lt=6;break e;default:throw Error(a(462))}}dS();break}catch(G){I_(t,G)}while(!0);return Ci=yr=null,q.H=l,q.A=c,Ve=r,Te!==null?0:(Ze=null,Ne=0,Nu(),lt)}function dS(){for(;Te!==null&&!sl();)M_(Te)}function M_(t){var n=a_(t.alternate,t,ki);t.memoizedProps=t.pendingProps,n===null?lc(t):Te=n}function k_(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=e_(r,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=e_(r,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:df(n);default:o_(r,n),n=Te=Lm(n,ki),n=a_(r,n,ki)}t.memoizedProps=t.pendingProps,n===null?lc(t):Te=n}function Ia(t,n,r,l){Ci=yr=null,df(n),Sa=null,Vl=0;var c=n.return;try{if(nS(t,c,n,r,Ne)){lt=1,Ju(t,vn(r,t.current)),Te=null;return}}catch(f){if(c!==null)throw Te=c,f;lt=1,Ju(t,vn(r,t.current)),Te=null;return}n.flags&32768?(je||l===1?t=!0:Aa||(Ne&536870912)!==0?t=!1:(gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L_(n,t)):lc(n)}function lc(t){var n=t;do{if((n.flags&32768)!==0){L_(n,gs);return}t=n.return;var r=sS(n.alternate,n,ki);if(r!==null){Te=r;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=t}while(n!==null);lt===0&&(lt=5)}function L_(t,n){do{var r=rS(t.alternate,t);if(r!==null){r.flags&=32767,Te=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Te=t;return}Te=t=r}while(t!==null);lt=6,Te=null}function U_(t,n,r,l,c,f,y,E,A){t.cancelPendingCommit=null;do oc();while(Lt!==0);if((Ve&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,ul(t,r,f,y,E,A),t===Ze&&(Te=Ze=null,Ne=0),xa=n,vs=t,Na=r,Xf=f,Kf=c,C_=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_S(Gs,function(){return H_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=ee.p,ee.p=2,y=Ve,Ve|=4;try{aS(t,n,r)}finally{Ve=y,ee.p=c,q.T=l}}Lt=1,j_(),P_(),B_()}}function j_(){if(Lt===1){Lt=0;var t=vs,n=xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=ee.p;ee.p=2;var c=Ve;Ve|=4;try{v_(n,t);var f=cd,y=Am(t.containerInfo),E=f.focusedElem,A=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&wm(E.ownerDocument.documentElement,E)){if(A!==null&&Uh(E)){var B=A.start,G=A.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),pe=E.textContent.length,oe=Math.min(A.start,pe),Xe=A.end===void 0?oe:Math.min(A.end,pe);!H.extend&&oe>Xe&&(y=Xe,Xe=oe,oe=y);var L=Tm(E,oe),O=Tm(E,Xe);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(L.node,L.offset),H.removeAllRanges(),oe>Xe?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ec=!!ud,cd=ud=null}finally{Ve=c,ee.p=l,q.T=r}}t.current=n,Lt=2}}function P_(){if(Lt===2){Lt=0;var t=vs,n=xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=ee.p;ee.p=2;var c=Ve;Ve|=4;try{m_(t,n.alternate,n)}finally{Ve=c,ee.p=l,q.T=r}}Lt=3}}function B_(){if(Lt===4||Lt===3){Lt=0,nu();var t=vs,n=xa,r=Na,l=C_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,xa=vs=null,z_(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ys=null),Kr(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(rt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=ee.p,ee.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,ee.p=c}}(Na&3)!==0&&oc(),ti(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Wf?Zl++:(Zl=0,Wf=t):Zl=0,Jl(0)}}function z_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ol(n)))}function oc(t){return j_(),P_(),B_(),H_()}function H_(){if(Lt!==5)return!1;var t=vs,n=Xf;Xf=0;var r=Kr(Na),l=q.T,c=ee.p;try{ee.p=32>r?32:r,q.T=null,r=Kf,Kf=null;var f=vs,y=Na;if(Lt=0,xa=vs=null,Na=0,(Ve&6)!==0)throw Error(a(331));var E=Ve;if(Ve|=4,w_(f.current),S_(f,f.current,y,r),Ve=E,Jl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(rt,f)}catch{}return!0}finally{ee.p=c,q.T=l,z_(t,n)}}function V_(t,n,r){n=vn(r,n),n=xf(t.stateNode,n,2),t=us(t,n,2),t!==null&&(hi(t,2),ti(t))}function Ke(t,n,r){if(t.tag===3)V_(t,t,r);else for(;n!==null;){if(n.tag===3){V_(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ys===null||!ys.has(l))){t=vn(r,t),r=Yg(2),l=us(n,r,2),l!==null&&(Xg(r,l,n,t),hi(l,2),ti(l));break}}n=n.return}}function $f(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new uS;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(qf=!0,c.add(r),t=pS.bind(null,t,n,r),n.then(t,t))}function pS(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ze===t&&(Ne&r)===r&&(lt===4||lt===3&&(Ne&62914560)===Ne&&300>dn()-Yf?(Ve&2)===0&&Ra(t,0):Gf|=r,Ca===Ne&&(Ca=0)),ti(t)}function q_(t,n){n===0&&(n=ru()),t=ha(t,n),t!==null&&(hi(t,n),ti(t))}function mS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),q_(t,r)}function gS(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),q_(t,r)}function _S(t,n){return Vs(t,n)}var uc=null,Oa=null,ed=!1,cc=!1,td=!1,Ar=0;function ti(t){t!==Oa&&t.next===null&&(Oa===null?uc=Oa=t:Oa=Oa.next=t),cc=!0,ed||(ed=!0,vS())}function Jl(t,n){if(!td&&cc){td=!0;do for(var r=!1,l=uc;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-jt(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,X_(l,f))}else f=Ne,f=Xr(l,l===Ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ks(l,f)||(r=!0,X_(l,f));l=l.next}while(r);td=!1}}function yS(){G_()}function G_(){cc=ed=!1;var t=0;Ar!==0&&(xS()&&(t=Ar),Ar=0);for(var n=dn(),r=null,l=uc;l!==null;){var c=l.next,f=F_(l,n);f===0?(l.next=null,r===null?uc=c:r.next=c,c===null&&(Oa=r)):(r=l,(t!==0||(f&3)!==0)&&(cc=!0)),l=c}Jl(t)}function F_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-jt(f),E=1<<y,A=c[y];A===-1?((E&r)===0||(E&l)!==0)&&(c[y]=ll(E,n)):A<=n&&(t.expiredLanes|=E),f&=~E}if(n=Ze,r=Ne,r=Xr(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&qs(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ks(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&qs(l),Kr(r)){case 2:case 8:r=Fr;break;case 32:r=Gs;break;case 268435456:r=Yr;break;default:r=Gs}return l=Y_.bind(null,t),r=Vs(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&qs(l),t.callbackPriority=2,t.callbackNode=null,2}function Y_(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(oc()&&t.callbackNode!==r)return null;var l=Ne;return l=Xr(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(N_(t,l,n),F_(t,dn()),t.callbackNode!=null&&t.callbackNode===r?Y_.bind(null,t):null)}function X_(t,n){if(oc())return null;N_(t,n,!0)}function vS(){RS(function(){(Ve&6)!==0?Vs(rl,yS):G_()})}function nd(){return Ar===0&&(Ar=ol()),Ar}function K_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ea(""+t)}function W_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ES(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=K_((c[ft]||null).action),y=l.submitter;y&&(n=(n=y[ft]||null)?K_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new ta("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ar!==0){var A=y?W_(c,y):new FormData(c);bf(r,{pending:!0,data:A,method:c.method,action:f},null,A)}}else typeof f=="function"&&(E.preventDefault(),A=y?W_(c,y):new FormData(c),bf(r,{pending:!0,data:A,method:c.method,action:f},f,A))},currentTarget:c}]})}}for(var id=0;id<zh.length;id++){var sd=zh[id],SS=sd.toLowerCase(),bS=sd[0].toUpperCase()+sd.slice(1);In(SS,"on"+bS)}In(Nm,"onAnimationEnd"),In(Rm,"onAnimationIteration"),In(Im,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(BE,"onTransitionRun"),In(zE,"onTransitionStart"),In(HE,"onTransitionCancel"),In(Om,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Q_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],A=E.instance,B=E.currentTarget;if(E=E.listener,A!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=B;try{f(c)}catch(G){Zu(G)}c.currentTarget=null,f=A}else for(y=0;y<l.length;y++){if(E=l[y],A=E.instance,B=E.currentTarget,E=E.listener,A!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=B;try{f(c)}catch(G){Zu(G)}c.currentTarget=null,f=A}}}}function we(t,n){var r=n[hl];r===void 0&&(r=n[hl]=new Set);var l=t+"__bubble";r.has(l)||(Z_(n,t,2,!1),r.add(l))}function rd(t,n,r){var l=0;n&&(l|=4),Z_(r,t,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[hc]){t[hc]=!0,fl.forEach(function(r){r!=="selectionchange"&&(TS.has(r)||rd(r,!1,t),rd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hc]||(n[hc]=!0,rd("selectionchange",!1,n))}}function Z_(t,n,r,l){switch(Sy(n)){case 2:var c=QS;break;case 8:c=ZS;break;default:c=Ed}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function ld(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var A=y.tag;if((A===3||A===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ts(E),y===null)return;if(A=y.tag,A===5||A===6||A===26||A===27){l=f=y;continue e}E=E.parentNode}}l=l.return}du(function(){var B=f,G=gn(r),X=[];e:{var z=Dm.get(t);if(z!==void 0){var H=ta,pe=t;switch(t){case"keypress":if(Xn(r)===0)break e;case"keydown":case"keyup":H=la;break;case"focusin":pe="focus",H=sa;break;case"focusout":pe="blur",H=sa;break;case"beforeblur":case"afterblur":H=sa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Su;break;case Nm:case Rm:case Im:H=ra;break;case Om:H=Tu;break;case"scroll":case"scrollend":H=pu;break;case"wheel":H=Kt;break;case"copy":case"cut":case"paste":H=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=wl;break;case"toggle":case"beforetoggle":H=Cu}var oe=(n&4)!==0,Xe=!oe&&(t==="scroll"||t==="scrollend"),L=oe?z!==null?z+"Capture":null:z;oe=[];for(var O=B,P;O!==null;){var F=O;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||L===null||(F=sr(O,L),F!=null&&oe.push(eo(O,F,P))),Xe)break;O=O.return}0<oe.length&&(z=new H(z,pe,null,r,G),X.push({event:z,listeners:oe}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==gi&&(pe=r.relatedTarget||r.fromElement)&&(ts(pe)||pe[pn]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(pe=r.relatedTarget||r.toElement,H=B,pe=pe?ts(pe):null,pe!==null&&(Xe=h(pe),oe=pe.tag,pe!==Xe||oe!==5&&oe!==27&&oe!==6)&&(pe=null)):(H=null,pe=B),H!==pe)){if(oe=yn,F="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(oe=wl,F="onPointerLeave",L="onPointerEnter",O="pointer"),Xe=H==null?z:qn(H),P=pe==null?z:qn(pe),z=new oe(F,O+"leave",H,r,G),z.target=Xe,z.relatedTarget=P,F=null,ts(G)===B&&(oe=new oe(L,O+"enter",pe,r,G),oe.target=P,oe.relatedTarget=Xe,F=oe),Xe=F,H&&pe)t:{for(oe=H,L=pe,O=0,P=oe;P;P=Da(P))O++;for(P=0,F=L;F;F=Da(F))P++;for(;0<O-P;)oe=Da(oe),O--;for(;0<P-O;)L=Da(L),P--;for(;O--;){if(oe===L||L!==null&&oe===L.alternate)break t;oe=Da(oe),L=Da(L)}oe=null}else oe=null;H!==null&&J_(X,z,H,oe,!1),pe!==null&&Xe!==null&&J_(X,Xe,pe,oe,!0)}}e:{if(z=B?qn(B):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var se=_m;else if(Si(z))if(ym)se=UE;else{se=kE;var Se=ME}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?B&&_l(B.elementType)&&(se=_m):se=LE;if(se&&(se=se(t,B))){Wt(X,se,r,G);break e}Se&&Se(t,z,B),t==="focusout"&&B&&z.type==="number"&&B.memoizedProps.value!=null&&is(z,"number",z.value)}switch(Se=B?qn(B):window,t){case"focusin":(Si(Se)||Se.contentEditable==="true")&&(oa=Se,jh=B,Cl=null);break;case"focusout":Cl=jh=oa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Cm(X,r,G);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":Cm(X,r,G)}var re;if(u)e:{switch(t){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else tt?Z(t,r)&&(ce="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ce="onCompositionStart");ce&&(S&&r.locale!=="ko"&&(tt||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&tt&&(re=vl()):(Yn=G,ss="value"in Yn?Yn.value:Yn.textContent,tt=!0)),Se=fc(B,ce),0<Se.length&&(ce=new bl(ce,t,null,r,G),X.push({event:ce,listeners:Se}),re?ce.data=re:(re=Be(r),re!==null&&(ce.data=re)))),(re=g?xe(t,r):wt(t,r))&&(ce=fc(B,"onBeforeInput"),0<ce.length&&(Se=new bl("onBeforeInput","beforeinput",null,r,G),X.push({event:Se,listeners:ce}),Se.data=re)),ES(X,t,B,r,G)}Q_(X,n)})}function eo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function fc(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=sr(t,r),c!=null&&l.unshift(eo(t,c,f)),c=sr(t,n),c!=null&&l.push(eo(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J_(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,A=E.alternate,B=E.stateNode;if(E=E.tag,A!==null&&A===l)break;E!==5&&E!==26&&E!==27||B===null||(A=B,c?(B=sr(r,f),B!=null&&y.unshift(eo(r,B,A))):c||(B=sr(r,f),B!=null&&y.push(eo(r,B,A)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var wS=/\r\n?/g,AS=/\u0000|\uFFFD/g;function $_(t){return(typeof t=="string"?t:""+t).replace(wS,`
`).replace(AS,"")}function ey(t,n){return n=$_(n),$_(t)===n}function dc(){}function Ye(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,r,l);break;case"style":gl(t,l,f);break;case"data":if(n!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ea(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ye(t,n,"name",c.name,c,null),Ye(t,n,"formEncType",c.formEncType,c,null),Ye(t,n,"formMethod",c.formMethod,c,null),Ye(t,n,"formTarget",c.formTarget,c,null)):(Ye(t,n,"encType",c.encType,c,null),Ye(t,n,"method",c.method,c,null),Ye(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ea(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=dc);break;case"onScroll":l!=null&&we("scroll",t);break;case"onScrollEnd":l!=null&&we("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":we("beforetoggle",t),we("toggle",t),ns(t,"popover",l);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ns(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ih.get(r)||r,ns(t,r,l))}}function od(t,n,r,l,c,f){switch(r){case"style":gl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&we("scroll",t);break;case"onScrollEnd":l!=null&&we("scrollend",t);break;case"onClick":l!=null&&(t.onclick=dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ft]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ns(t,r,l)}}}function Ut(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",t),we("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(t,n,f,y,r,null)}}c&&Ye(t,n,"srcSet",r.srcSet,r,null),l&&Ye(t,n,"src",r.src,r,null);return;case"input":we("invalid",t);var E=f=y=c=null,A=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":A=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ye(t,n,l,G,r,null)}}tr(t,f,E,A,B,y,c,!1),$r(t);return;case"select":we("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ye(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?mi(t,!!l,n,!1):r!=null&&mi(t,!!l,r,!0);return;case"textarea":we("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ye(t,n,y,E,r,null)}nr(t,l,c,f),$r(t);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,n,A,l,r,null)}return;case"dialog":we("beforetoggle",t),we("toggle",t),we("cancel",t),we("close",t);break;case"iframe":case"object":we("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)we($l[l],t);break;case"image":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"embed":case"source":case"link":we("error",t),we("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(t,n,B,l,r,null)}return;default:if(_l(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&od(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ye(t,n,E,l,r,null))}function CS(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,A=null,B=null,G=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=X;default:l.hasOwnProperty(H)||Ye(t,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=r[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":G=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&Ye(t,n,z,H,l,X)}}rn(t,y,E,A,B,G,f,c);return;case"select":H=y=E=z=null;for(f in r)if(A=r[f],r.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":H=A;default:l.hasOwnProperty(f)||Ye(t,n,f,null,l,A)}for(c in l)if(f=l[c],A=r[c],l.hasOwnProperty(c)&&(f!=null||A!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==A&&Ye(t,n,c,f,l,A)}n=E,r=y,l=H,z!=null?mi(t,!!r,z,!1):!!l!=!!r&&(n!=null?mi(t,!!r,n,!0):mi(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ye(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":z=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ye(t,n,y,c,l,f)}Ge(t,z,H);return;case"option":for(var pe in r)if(z=r[pe],r.hasOwnProperty(pe)&&z!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:Ye(t,n,pe,null,l,z)}for(A in l)if(z=l[A],H=r[A],l.hasOwnProperty(A)&&z!==H&&(z!=null||H!=null))switch(A){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ye(t,n,A,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in r)z=r[oe],r.hasOwnProperty(oe)&&z!=null&&!l.hasOwnProperty(oe)&&Ye(t,n,oe,null,l,z);for(B in l)if(z=l[B],H=r[B],l.hasOwnProperty(B)&&z!==H&&(z!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Ye(t,n,B,z,l,H)}return;default:if(_l(n)){for(var Xe in r)z=r[Xe],r.hasOwnProperty(Xe)&&z!==void 0&&!l.hasOwnProperty(Xe)&&od(t,n,Xe,void 0,l,z);for(G in l)z=l[G],H=r[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||od(t,n,G,z,l,H);return}}for(var L in r)z=r[L],r.hasOwnProperty(L)&&z!=null&&!l.hasOwnProperty(L)&&Ye(t,n,L,null,l,z);for(X in l)z=l[X],H=r[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||Ye(t,n,X,z,l,H)}var ud=null,cd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ny(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function hd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function xS(){var t=window.event;return t&&t.type==="popstate"?t===fd?!1:(fd=t,!0):(fd=null,!1)}var iy=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(t){return sy.resolve(null).then(t).catch(IS)}:iy;function IS(t){setTimeout(function(){throw t})}function Ss(t){return t==="head"}function ry(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&to(y.documentElement),r&2&&to(y.body),r&4)for(r=y.head,to(r),y=r.firstChild;y;){var E=y.nextSibling,A=y.nodeName;y[Qs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),uo(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);uo(n)}function dd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":dd(r),Zs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function OS(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Qs])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function DS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Dn(t.nextSibling),t===null))return null;return t}function pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function MS(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var md=null;function ay(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function ly(t,n,r){switch(n=pc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function to(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Zs(t)}var An=new Map,oy=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=ee.d;ee.d={f:kS,r:LS,D:US,C:jS,L:PS,m:BS,X:HS,S:zS,M:VS};function kS(){var t=Li.f(),n=ac();return t||n}function LS(t){var n=Vn(t);n!==null&&n.tag===5&&n.type==="form"?Ng(n):Li.r(t)}var Ma=typeof document>"u"?null:document;function uy(t,n,r){var l=Ma;if(l&&typeof n=="string"&&n){var c=dt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),oy.has(c)||(oy.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ut(n,"link",t),ut(n),l.head.appendChild(n)))}}function US(t){Li.D(t),uy("dns-prefetch",t,null)}function jS(t,n){Li.C(t,n),uy("preconnect",t,n)}function PS(t,n,r){Li.L(t,n,r);var l=Ma;if(l&&t&&n){var c='link[rel="preload"][as="'+dt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+dt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+dt(r.imageSizes)+'"]')):c+='[href="'+dt(t)+'"]';var f=c;switch(n){case"style":f=ka(t);break;case"script":f=La(t)}An.has(f)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),An.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(no(f))||n==="script"&&l.querySelector(io(f))||(n=l.createElement("link"),Ut(n,"link",t),ut(n),l.head.appendChild(n)))}}function BS(t,n){Li.m(t,n);var r=Ma;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+dt(l)+'"][href="'+dt(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(t)}if(!An.has(f)&&(t=T({rel:"modulepreload",href:t},n),An.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(io(f)))return}l=r.createElement("link"),Ut(l,"link",t),ut(l),r.head.appendChild(l)}}}function zS(t,n,r){Li.S(t,n,r);var l=Ma;if(l&&t){var c=Ht(l).hoistableStyles,f=ka(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(no(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=An.get(f))&&gd(t,r);var A=y=l.createElement("link");ut(A),Ut(A,"link",t),A._p=new Promise(function(B,G){A.onload=B,A.onerror=G}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function HS(t,n){Li.X(t,n);var r=Ma;if(r&&t){var l=Ht(r).hoistableScripts,c=La(t),f=l.get(c);f||(f=r.querySelector(io(c)),f||(t=T({src:t,async:!0},n),(n=An.get(c))&&_d(t,n),f=r.createElement("script"),ut(f),Ut(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function VS(t,n){Li.M(t,n);var r=Ma;if(r&&t){var l=Ht(r).hoistableScripts,c=La(t),f=l.get(c);f||(f=r.querySelector(io(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=An.get(c))&&_d(t,n),f=r.createElement("script"),ut(f),Ut(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function cy(t,n,r,l){var c=(c=ge.current)?mc(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ka(r.href),r=Ht(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ka(r.href);var f=Ht(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(no(t)))&&!f._p&&(y.instance=f,y.state.loading=5),An.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},An.set(t,r),f||qS(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(r),r=Ht(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ka(t){return'href="'+dt(t)+'"'}function no(t){return'link[rel="stylesheet"]['+t+"]"}function hy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function qS(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ut(n,"link",r),ut(n),t.head.appendChild(n))}function La(t){return'[src="'+dt(t)+'"]'}function io(t){return"script[async]"+t}function fy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+dt(r.href)+'"]');if(l)return n.instance=l,ut(l),l;var c=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ut(l),Ut(l,"style",c),gc(l,r.precedence,t),n.instance=l;case"stylesheet":c=ka(r.href);var f=t.querySelector(no(c));if(f)return n.state.loading|=4,n.instance=f,ut(f),f;l=hy(r),(c=An.get(c))&&gd(l,c),f=(t.ownerDocument||t).createElement("link"),ut(f);var y=f;return y._p=new Promise(function(E,A){y.onload=E,y.onerror=A}),Ut(f,"link",l),n.state.loading|=4,gc(f,r.precedence,t),n.instance=f;case"script":return f=La(r.src),(c=t.querySelector(io(f)))?(n.instance=c,ut(c),c):(l=r,(c=An.get(f))&&(l=T({},r),_d(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ut(c),Ut(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,r.precedence,t));return n.instance}function gc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function _d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function dy(t,n,r){if(_c===null){var l=new Map,c=_c=new Map;c.set(r,l)}else c=_c,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Qs]||f[_t]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function py(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function GS(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function my(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var so=null;function FS(){}function YS(t,n,r){if(so===null)throw Error(a(475));var l=so;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ka(r.href),f=t.querySelector(no(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=yc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ut(f);return}f=t.ownerDocument||t,r=hy(r),(c=An.get(c))&&gd(r,c),f=f.createElement("link"),ut(f);var y=f;y._p=new Promise(function(E,A){y.onload=E,y.onerror=A}),Ut(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=yc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function XS(){if(so===null)throw Error(a(475));var t=so;return t.stylesheets&&t.count===0&&yd(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function yc(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function yd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(KS,t),vc=null,yc.call(t))}function KS(t,n){if(!(n.state.loading&4)){var r=vc.get(t);if(r)var l=r.get(null);else{r=new Map,vc.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=yc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ro={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function WS(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function gy(t,n,r,l,c,f,y,E,A,B,G,X){return t=new WS(t,n,r,y,E,A,B,X),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Jh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},nf(f),t}function _y(t){return t?(t=fa,t):fa}function yy(t,n,r,l,c,f){c=_y(c),l.context===null?l.context=c:l.pendingContext=c,l=os(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=us(t,l,n),r!==null&&(fn(r,t,n),Ll(r,t,n))}function vy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function vd(t,n){vy(t,n),(t=t.alternate)&&vy(t,n)}function Ey(t){if(t.tag===13){var n=ha(t,67108864);n!==null&&fn(n,t,67108864),vd(t,67108864)}}var Ec=!0;function QS(t,n,r,l){var c=q.T;q.T=null;var f=ee.p;try{ee.p=2,Ed(t,n,r,l)}finally{ee.p=f,q.T=c}}function ZS(t,n,r,l){var c=q.T;q.T=null;var f=ee.p;try{ee.p=8,Ed(t,n,r,l)}finally{ee.p=f,q.T=c}}function Ed(t,n,r,l){if(Ec){var c=Sd(l);if(c===null)ld(t,n,l,Sc,r),by(t,l);else if($S(c,t,n,r,l))l.stopPropagation();else if(by(t,l),n&4&&-1<JS.indexOf(t)){for(;c!==null;){var f=Vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=xn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var A=1<<31-jt(y);E.entanglements[1]|=A,y&=~A}ti(f),(Ve&6)===0&&(sc=dn()+500,Jl(0))}}break;case 13:E=ha(f,2),E!==null&&fn(E,f,2),ac(),vd(f,2)}if(f=Sd(l),f===null&&ld(t,n,l,Sc,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else ld(t,n,l,null,r)}}function Sd(t){return t=gn(t),bd(t)}var Sc=null;function bd(t){if(Sc=null,t=ts(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function Sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wh()){case rl:return 2;case Fr:return 8;case Gs:case Ah:return 32;case Yr:return 268435456;default:return 32}default:return 32}}var Td=!1,bs=null,Ts=null,ws=null,ao=new Map,lo=new Map,As=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function by(t,n){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(n.pointerId)}}function oo(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Vn(n),n!==null&&Ey(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function $S(t,n,r,l,c){switch(n){case"focusin":return bs=oo(bs,t,n,r,l,c),!0;case"dragenter":return Ts=oo(Ts,t,n,r,l,c),!0;case"mouseover":return ws=oo(ws,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return ao.set(f,oo(ao.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,lo.set(f,oo(lo.get(f)||null,t,n,r,l,c)),!0}return!1}function Ty(t){var n=ts(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,au(t.priority,function(){if(r.tag===13){var l=hn();l=Ws(l);var c=ha(r,l);c!==null&&fn(c,r,l),vd(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Sd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gi=l,r.target.dispatchEvent(l),gi=null}else return n=Vn(r),n!==null&&Ey(n),t.blockedOn=r,!1;n.shift()}return!0}function wy(t,n,r){bc(t)&&r.delete(n)}function eb(){Td=!1,bs!==null&&bc(bs)&&(bs=null),Ts!==null&&bc(Ts)&&(Ts=null),ws!==null&&bc(ws)&&(ws=null),ao.forEach(wy),lo.forEach(wy)}function Tc(t,n){t.blockedOn===n&&(t.blockedOn=null,Td||(Td=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eb)))}var wc=null;function Ay(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(bd(l||r)===null)continue;break}var f=Vn(r);f!==null&&(t.splice(n,3),n-=3,bf(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function uo(t){function n(A){return Tc(A,t)}bs!==null&&Tc(bs,t),Ts!==null&&Tc(Ts,t),ws!==null&&Tc(ws,t),ao.forEach(n),lo.forEach(n);for(var r=0;r<As.length;r++){var l=As[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<As.length&&(r=As[0],r.blockedOn===null);)Ty(r),r.blockedOn===null&&As.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ft]||null;if(typeof f=="function")y||Ay(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ft]||null)E=y.formAction;else if(bd(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Ay(r)}}}function wd(t){this._internalRoot=t}Ac.prototype.render=wd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();yy(r,l,t,n,null,null)},Ac.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;yy(t.current,2,null,t,null,null),ac(),n[pn]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var n=$i();t={blockedOn:null,target:t,priority:n};for(var r=0;r<As.length&&n!==0&&n<As[r].priority;r++);As.splice(r,0,t),r===0&&Ty(t)}};var Cy=e.version;if(Cy!=="19.1.1")throw Error(a(527,Cy,"19.1.1"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var tb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{rt=Cc.inject(tb),ze=Cc}catch{}}return ho.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Vg,f=qg,y=Gg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=gy(t,1,!1,null,null,r,l,c,f,y,E,null),t[pn]=n.current,ad(t),new wd(n)},ho.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Vg,y=qg,E=Gg,A=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=gy(t,1,!0,n,r??null,l,c,f,y,E,A,B),n.context=_y(null),r=n.current,l=hn(),l=Ws(l),c=os(l),c.callback=null,us(r,c,l),r=l,n.current.lanes=r,hi(n,r),ti(n),t[pn]=n.current,ad(t),new Ac(n)},ho.version="19.1.1",ho}var Uy;function hb(){if(Uy)return xd.exports;Uy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xd.exports=cb(),xd.exports}var fb=hb();const db=()=>{};var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(s,e){if(!s)throw Za(e)},Za=function(s){return new Error("Firebase Database ("+c0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},pb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],m=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},gp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,m=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,T=h>>2,R=(h&3)<<4|m>>4;let C=(m&15)<<2|_>>6,K=_&63;v||(K=64,d||(C=64)),a.push(i[T],i[R],i[C],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(h0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):pb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const R=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||m==null||_==null||R==null)throw new mb;const C=h<<2|m>>4;if(a.push(C),_!==64){const K=m<<4&240|_>>2;if(a.push(K),R!==64){const Y=_<<6&192|R;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f0=function(s){const e=h0(s);return gp.encodeByteArray(e,!0)},Pc=function(s){return f0(s).replace(/\./g,"")},Bc=function(s){try{return gp.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(s){return d0(void 0,s)}function d0(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!_b(i)||(s[i]=d0(s[i],e[i]));return s}function _b(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=()=>yb().__FIREBASE_DEFAULTS__,Eb=()=>{if(typeof process>"u"||typeof jy>"u")return;const s=jy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Sb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Bc(s[1]);return e&&JSON.parse(e)},_p=()=>{try{return db()||vb()||Eb()||Sb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},p0=s=>_p()?.emulatorHosts?.[s],m0=s=>{const e=p0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},g0=()=>_p()?.config,_0=s=>_p()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yp(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const vo={};function bb(){const s={prod:[],emulator:[]};for(const e of Object.keys(vo))vo[e]?s.emulator.push(e):s.prod.push(e);return s}function Tb(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Py=!1;function vp(s,e){if(typeof window>"u"||typeof document>"u"||!Vr(window.location.host)||vo[s]===e||vo[s]||Py)return;vo[s]=e;function i(C){return`__firebase__banner__${C}`}const a="__firebase__banner",h=bb().prod.length>0;function d(){const C=document.getElementById(a);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function v(C,K){C.setAttribute("width","24"),C.setAttribute("id",K),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Py=!0,d()},C}function T(C,K){C.setAttribute("id",K),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function R(){const C=Tb(a),K=i("text"),Y=document.getElementById(K)||document.createElement("span"),$=i("learnmore"),ne=document.getElementById($)||document.createElement("a"),me=i("preprendIcon"),_e=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ie=C.element;m(ie),T(ne,$);const ue=_();v(_e,me),ie.append(_e,Y,ne,ue),document.body.appendChild(ie)}h?(Y.innerText="Preview backend disconnected.",_e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ep(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function wb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ab(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function v0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cb(){const s=Yt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function xb(){return c0.NODE_ADMIN===!0}function Nb(){try{return typeof indexedDB=="object"}catch{return!1}}function Rb(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="FirebaseError";class Yi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=Ib,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?Ob(h,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Yi(o,m,a)}}function Ob(s,e){return s.replace(Db,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Db=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(s){return JSON.parse(s)}function Et(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=function(s){let e={},i={},a={},o="";try{const h=s.split(".");e=Ro(Bc(h[0])||""),i=Ro(Bc(h[1])||""),o=h[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},Mb=function(s){const e=E0(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},kb=function(s){const e=E0(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function Ya(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function Xd(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function zc(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function Ls(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(By(h)&&By(d)){if(!Ls(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function By(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function _o(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,h]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(h)}}),e}function yo(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let R=0;R<16;R++)a[R]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let R=0;R<16;R++)a[R]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let R=16;R<80;R++){const C=a[R-3]^a[R-8]^a[R-14]^a[R-16];a[R]=(C<<1|C>>>31)&4294967295}let o=this.chain_[0],h=this.chain_[1],d=this.chain_[2],m=this.chain_[3],v=this.chain_[4],_,T;for(let R=0;R<80;R++){R<40?R<20?(_=m^h&(d^m),T=1518500249):(_=h^d^m,T=1859775393):R<60?(_=h&d|m&(h|d),T=2400959708):(_=h^d^m,T=3395469782);const C=(o<<5|o>>>27)+_+v+T+a[R]&4294967295;v=m,m=d,d=(h<<30|h>>>2)&4294967295,h=o,o=C}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const h=this.buf_;let d=this.inbuf_;for(;o<i;){if(d===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(h[d]=e.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(h),d=0;break}}else for(;o<i;)if(h[d]=e[o],++d,++o,d===this.blockSize){this.compress_(h),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let h=24;h>=0;h-=8)e[a]=this.chain_[o]>>h&255,++a;return e}}function Ub(s,e){const i=new jb(s,e);return i.subscribe.bind(i)}class jb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Pb(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pb(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Od(){}function Sp(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const h=o-55296;a++,J(a<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(a)-56320;o=65536+(h<<10)+d}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},uh=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(s){return s&&s._delegate?s._delegate:s}class Us{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new oh;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vb(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(h);a===m&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Hb(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hb(s){return s===Cr?void 0:s}function Vb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new zb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const Gb={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Fb=Pe.INFO,Yb={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Xb=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Yb[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ch{constructor(e){this.name=e,this._logLevel=Fb,this._logHandler=Xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Kb=(s,e)=>e.some(i=>s instanceof i);let zy,Hy;function Wb(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qb(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Kd=new WeakMap,b0=new WeakMap,Dd=new WeakMap,bp=new WeakMap;function Zb(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Os(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&S0.set(i,s)}).catch(()=>{}),bp.set(e,s),e}function Jb(s){if(Kd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Kd.set(s,e)}let Wd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Kd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||b0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Os(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function $b(s){Wd=s(Wd)}function eT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Md(this),e,...i);return b0.set(a,e.sort?e.sort():[e]),Os(a)}:Qb().includes(s)?function(...e){return s.apply(Md(this),e),Os(S0.get(this))}:function(...e){return Os(s.apply(Md(this),e))}}function tT(s){return typeof s=="function"?eT(s):(s instanceof IDBTransaction&&Jb(s),Kb(s,Wb())?new Proxy(s,Wd):s)}function Os(s){if(s instanceof IDBRequest)return Zb(s);if(Dd.has(s))return Dd.get(s);const e=tT(s);return e!==s&&(Dd.set(s,e),bp.set(e,s)),e}const Md=s=>bp.get(s);function nT(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),m=Os(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Os(d.result),v.oldVersion,v.newVersion,Os(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),m.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const iT=["get","getKey","getAll","getAllKeys","count"],sT=["put","add","delete","clear"],kd=new Map;function Vy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=sT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||iT.includes(i)))return;const h=async function(d,...m){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(m.shift())),(await Promise.all([_[i](...m),o&&v.done]))[0]};return kd.set(e,h),h}$b(s=>({...s,get:(e,i,a)=>Vy(e,i)||s.get(e,i,a),has:(e,i)=>!!Vy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function aT(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",qy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new ch("@firebase/app"),lT="@firebase/app-compat",oT="@firebase/analytics-compat",uT="@firebase/analytics",cT="@firebase/app-check-compat",hT="@firebase/app-check",fT="@firebase/auth",dT="@firebase/auth-compat",pT="@firebase/database",mT="@firebase/data-connect",gT="@firebase/database-compat",_T="@firebase/functions",yT="@firebase/functions-compat",vT="@firebase/installations",ET="@firebase/installations-compat",ST="@firebase/messaging",bT="@firebase/messaging-compat",TT="@firebase/performance",wT="@firebase/performance-compat",AT="@firebase/remote-config",CT="@firebase/remote-config-compat",xT="@firebase/storage",NT="@firebase/storage-compat",RT="@firebase/firestore",IT="@firebase/ai",OT="@firebase/firestore-compat",DT="firebase",MT="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",kT={[Qd]:"fire-core",[lT]:"fire-core-compat",[uT]:"fire-analytics",[oT]:"fire-analytics-compat",[hT]:"fire-app-check",[cT]:"fire-app-check-compat",[fT]:"fire-auth",[dT]:"fire-auth-compat",[pT]:"fire-rtdb",[mT]:"fire-data-connect",[gT]:"fire-rtdb-compat",[_T]:"fire-fn",[yT]:"fire-fn-compat",[vT]:"fire-iid",[ET]:"fire-iid-compat",[ST]:"fire-fcm",[bT]:"fire-fcm-compat",[TT]:"fire-perf",[wT]:"fire-perf-compat",[AT]:"fire-rc",[CT]:"fire-rc-compat",[xT]:"fire-gcs",[NT]:"fire-gcs-compat",[RT]:"fire-fst",[OT]:"fire-fst-compat",[IT]:"fire-vertex","fire-js":"fire-js",[DT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,LT=new Map,Jd=new Map;function Gy(s,e){try{s.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Lr(s){const e=s.name;if(Jd.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,s);for(const i of Hc.values())Gy(i,s);for(const i of LT.values())Gy(i,s);return!0}function hh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function $t(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new qo("app","Firebase",UT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=MT;function T0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Zd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(i||(i=g0()),!i)throw Ds.create("no-options");const h=Hc.get(o);if(h){if(Ls(i,h.options)&&Ls(a,h.config))return h;throw Ds.create("duplicate-app",{appName:o})}const d=new qb(o);for(const v of Jd.values())d.addComponent(v);const m=new jT(i,a,d);return Hc.set(o,m),m}function Tp(s=Zd){const e=Hc.get(s);if(!e&&s===Zd&&g0())return T0();if(!e)throw Ds.create("no-app",{appName:s});return e}function ai(s,e,i){let a=kT[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(d.join(" "));return}Lr(new Us(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebase-heartbeat-database",BT=1,Io="firebase-heartbeat-store";let Ld=null;function w0(){return Ld||(Ld=nT(PT,BT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ds.create("idb-open",{originalErrorMessage:s.message})})),Ld}async function zT(s){try{const i=(await w0()).transaction(Io),a=await i.objectStore(Io).get(A0(s));return await i.done,a}catch(e){if(e instanceof Yi)Vi.warn(e.message);else{const i=Ds.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(i.message)}}}async function Fy(s,e){try{const a=(await w0()).transaction(Io,"readwrite");await a.objectStore(Io).put(e,A0(s)),await a.done}catch(i){if(i instanceof Yi)Vi.warn(i.message);else{const a=Ds.create("idb-set",{originalErrorMessage:i?.message});Vi.warn(a.message)}}}function A0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=1024,VT=30;class qT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new FT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Yy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>VT){const o=YT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yy(),{heartbeatsToSend:i,unsentEntries:a}=GT(this._heartbeatsCache.heartbeats),o=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Vi.warn(e),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function GT(s,e=HT){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Xy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Xy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class FT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nb()?Rb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await zT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Xy(s){return Pc(JSON.stringify({version:2,heartbeats:s})).length}function YT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(s){Lr(new Us("platform-logger",e=>new rT(e),"PRIVATE")),Lr(new Us("heartbeat",e=>new qT(e),"PRIVATE")),ai(Qd,qy,s),ai(Qd,qy,"esm2020"),ai("fire-js","")}XT("");function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KT=C0,x0=new qo("auth","Firebase",C0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new ch("@firebase/auth");function WT(s,...e){Vc.logLevel<=Pe.WARN&&Vc.warn(`Auth (${qr}): ${s}`,...e)}function Dc(s,...e){Vc.logLevel<=Pe.ERROR&&Vc.error(`Auth (${qr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(s,...e){throw Ap(s,...e)}function Bn(s,...e){return Ap(s,...e)}function wp(s,e,i){const a={...KT(),[e]:i};return new qo("auth","Firebase",a).create(e,{appName:s.name})}function zi(s){return wp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QT(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Cn(s,"argument-error"),wp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ap(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return x0.create(s,...e)}function fe(s,e,...i){if(!s)throw Ap(e,...i)}function ji(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Dc(e),new Error(e)}function qi(s,e){s||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){return typeof self<"u"&&self.location?.href||""}function ZT(){return Ky()==="http:"||Ky()==="https:"}function Ky(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZT()||Ab()||"connection"in navigator)?navigator.onLine:!0}function $T(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i){this.shortDelay=e,this.longDelay=i,qi(i>e,"Short delay should be less than long delay!"),this.isMobile=Ep()||v0()}get(){return JT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(s,e){qi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nw=new Go(3e4,6e4);function Ki(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Wi(s,e,i,a,o={}){return R0(s,o,async()=>{let h={},d={};a&&(e==="GET"?d=a:h={body:JSON.stringify(a)});const m=Ja({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...h};return wb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Vr(s.emulatorConfig.host)&&(_.credentials="include"),N0.fetch()(await I0(s,s.config.apiHost,i,m),_)})}async function R0(s,e,i){s._canInitEmulator=!1;const a={...ew,...e};try{const o=new sw(s),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw xc(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const m=h.ok?d.errorMessage:d.error.message,[v,_]=m.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw xc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw xc(s,"user-disabled",d);const T=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw wp(s,T,_);Cn(s,T)}}catch(o){if(o instanceof Yi)throw o;Cn(s,"network-request-failed",{message:String(o)})}}async function Fo(s,e,i,a,o={}){const h=await Wi(s,e,i,a,o);return"mfaPendingCredential"in h&&Cn(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function I0(s,e,i,a){const o=`${e}${i}?${a}`,h=s,d=h.config.emulator?Cp(s.config,o):`${s.config.apiScheme}://${o}`;return tw.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function iw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bn(this.auth,"network-request-failed")),nw.get())})}}function xc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Bn(s,e,a);return o.customData._tokenResponse=i,o}function Wy(s){return s!==void 0&&s.enterprise!==void 0}class rw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return iw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aw(s,e){return Wi(s,"GET","/v2/recaptchaConfig",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(s,e){return Wi(s,"POST","/v1/accounts:delete",e)}async function qc(s,e){return Wi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ow(s,e=!1){const i=Xt(s),a=await i.getIdToken(e),o=xp(a);fe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:a,authTime:Eo(Ud(o.auth_time)),issuedAtTime:Eo(Ud(o.iat)),expirationTime:Eo(Ud(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function xp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bc(i);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Qy(s){const e=xp(s);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Yi&&uw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function uw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(s){const e=s.auth,i=await s.getIdToken(),a=await Oo(s,qc(e,{idToken:i}));fe(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const h=o.providerUserInfo?.length?O0(o.providerUserInfo):[],d=fw(s.providerData,h),m=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,_=m?v:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function hw(s){const e=Xt(s);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fw(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function O0(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(s,e){const i=await R0(s,{},async()=>{const a=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:h}=s.config,d=await I0(s,o,"/v1/token",`key=${h}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:m,body:a};return s.emulatorConfig&&Vr(s.emulatorConfig.host)&&(v.credentials="include"),N0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function pw(s,e){return Wi(s,"POST","/v2/accounts:revokeToken",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const i=Qy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await dw(e,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new Pa;return a&&(fe(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(fe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),h&&(fe(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(s,e){fe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ln{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new cw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return fe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ow(this,e)}reload(){return hw(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Oo(this,lw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,m=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:R,emailVerified:C,isAnonymous:K,providerData:Y,stsTokenManager:$}=i;fe(R&&$,e,"internal-error");const ne=Pa.fromJSON(this.name,$);fe(typeof R=="string",e,"internal-error"),xs(a,e.name),xs(o,e.name),fe(typeof C=="boolean",e,"internal-error"),fe(typeof K=="boolean",e,"internal-error"),xs(h,e.name),xs(d,e.name),xs(m,e.name),xs(v,e.name),xs(_,e.name),xs(T,e.name);const me=new Ln({uid:R,auth:e,email:o,emailVerified:C,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:h,tenantId:m,stsTokenManager:ne,createdAt:_,lastLoginAt:T});return Y&&Array.isArray(Y)&&(me.providerData=Y.map(_e=>({..._e}))),v&&(me._redirectEventId=v),me}static async _fromIdTokenResponse(e,i,a=!1){const o=new Pa;o.updateFromServerResponse(i);const h=new Ln({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Gc(h),h}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];fe(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?O0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,m=new Pa;m.updateFromIdToken(a);const v=new Ln({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;function Pi(s){qi(s instanceof Function,"Expected a class definition");let e=Zy.get(s);return e?(qi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Zy.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}D0.type="NONE";const Jy=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(s,e,i){return`firebase:${s}:${e}:${i}`}class Ba{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,h),this.fullPersistenceKey=Mc("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await qc(this.auth,{idToken:e}).catch(()=>{});return i?Ln._fromGetAccountInfoResponse(this.auth,i,e):null}return Ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ba(Pi(Jy),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=o[0]||Pi(Jy);const d=Mc(a,e.config.apiKey,e.name);let m=null;for(const _ of i)try{const T=await _._get(d);if(T){let R;if(typeof T=="string"){const C=await qc(e,{idToken:T}).catch(()=>{});if(!C)break;R=await Ln._fromGetAccountInfoResponse(e,C,T)}else R=Ln._fromJSON(e,T);_!==h&&(m=R),h=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Ba(h,e,a):(h=v[0],m&&await h._set(d,m.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Ba(h,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P0(e))return"Blackberry";if(B0(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||L0(e))&&!e.includes("edge/"))return"Chrome";if(j0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function M0(s=Yt()){return/firefox\//i.test(s)}function k0(s=Yt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L0(s=Yt()){return/crios\//i.test(s)}function U0(s=Yt()){return/iemobile/i.test(s)}function j0(s=Yt()){return/android/i.test(s)}function P0(s=Yt()){return/blackberry/i.test(s)}function B0(s=Yt()){return/webos/i.test(s)}function Np(s=Yt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mw(s=Yt()){return Np(s)&&!!window.navigator?.standalone}function gw(){return Cb()&&document.documentMode===10}function z0(s=Yt()){return Np(s)||j0(s)||B0(s)||P0(s)||/windows phone/i.test(s)||U0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(s,e=[]){let i;switch(s){case"Browser":i=$y(Yt());break;case"Worker":i=`${$y(Yt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${qr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=h=>new Promise((d,m)=>{try{const v=e(h);d(v)}catch(v){m(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(s,e={}){return Wi(s,"GET","/v2/passwordPolicy",Ki(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=6;class Ew{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new _w(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Pi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ba.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await qc(this,{idToken:e}),a=await Ln._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($t(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===d)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$T()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($t(this.app))return Promise.reject(zi(this));const i=e?Xt(e):null;return i&&fe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $t(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $t(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yw(this),i=new Ew(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await pw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Pi(e)||this._popupRedirectResolver;fe(i,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Pi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(m,this,"internal-error"),m.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if($t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qi(s){return Xt(s)}class ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ub(i=>this.observer=i)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bw(s){fh=s}function V0(s){return fh.loadJS(s)}function Tw(){return fh.recaptchaEnterpriseScript}function ww(){return fh.gapiScript}function Aw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Cw{constructor(){this.enterprise=new xw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class xw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Nw="recaptcha-enterprise",q0="NO_RECAPTCHA";class Rw{constructor(e){this.type=Nw,this.auth=Qi(e)}async verify(e="verify",i=!1){async function a(h){if(!i){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,m)=>{aw(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new rw(v);return h.tenantId==null?h._agentRecaptchaConfig=_:h._tenantRecaptchaConfigs[h.tenantId]=_,d(_.siteKey)}}).catch(v=>{m(v)})})}function o(h,d,m){const v=window.grecaptcha;Wy(v)?v.enterprise.ready(()=>{v.enterprise.execute(h,{action:e}).then(_=>{d(_)}).catch(()=>{d(q0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Cw().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{a(this.auth).then(m=>{if(!i&&Wy(window.grecaptcha))o(m,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let v=Tw();v.length!==0&&(v+=m),V0(v).then(()=>{o(m,h,d)}).catch(_=>{d(_)})}}).catch(m=>{d(m)})})}}async function tv(s,e,i,a=!1,o=!1){const h=new Rw(s);let d;if(o)d=q0;else try{d=await h.verify(i)}catch{d=await h.verify(i,!0)}const m={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const v=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const v=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Fc(s,e,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await tv(s,e,i,i==="getOobCode");return a(s,h)}else return a(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await tv(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(s,e){const i=hh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(Ls(h,e??{}))return o;Cn(o,"already-initialized")}return i.initialize({options:e})}function Ow(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Pi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function Dw(s,e,i){const a=Qi(s);fe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,h=G0(e),{host:d,port:m}=Mw(e),v=m===null?"":`:${m}`,_={url:`${h}//${d}${v}/`},T=Object.freeze({host:d,port:m,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){fe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),fe(Ls(_,a.config.emulator)&&Ls(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Vr(d)?(yp(`${h}//${d}${v}`),vp("Auth",!0)):kw()}function G0(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Mw(s){const e=G0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const h=o[1];return{host:h,port:nv(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:nv(d)}}}function nv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function kw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,i){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function Lw(s,e){return Wi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(s,e){return Fo(s,"POST","/v1/accounts:signInWithPassword",Ki(s,e))}async function jw(s,e){return Wi(s,"POST","/v1/accounts:sendOobCode",Ki(s,e))}async function Pw(s,e){return jw(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(s,e){return Fo(s,"POST","/v1/accounts:signInWithEmailLink",Ki(s,e))}async function zw(s,e){return Fo(s,"POST","/v1/accounts:signInWithEmailLink",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Rp{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Do(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Do(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fc(e,i,"signInWithPassword",Uw);case"emailLink":return Bw(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fc(e,a,"signUpPassword",Lw);case"emailLink":return zw(e,{idToken:i,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(s,e){return Fo(s,"POST","/v1/accounts:signInWithIdp",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="http://localhost";class Ur extends Rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ur(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Cn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...h}=i;if(!a||!o)return null;const d=new Ur(a,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return za(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,za(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,za(e,i)}buildRequest(){const e={requestUri:Hw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ja(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qw(s){const e=_o(yo(s)).link,i=e?_o(yo(e)).deep_link_id:null,a=_o(yo(s)).deep_link_id;return(a?_o(yo(a)).link:null)||a||i||e||s}class Ip{constructor(e){const i=_o(yo(e)),a=i.apiKey??null,o=i.oobCode??null,h=Vw(i.mode??null);fe(a&&o&&h,"argument-error"),this.apiKey=a,this.operation=h,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=qw(e);try{return new Ip(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.providerId=$a.PROVIDER_ID}static credential(e,i){return Do._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Ip.parseLink(i);return fe(a,"argument-error"),Do._fromEmailAndCode(e,a.code,a.tenantId)}}$a.PROVIDER_ID="password";$a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Yo{constructor(){super("facebook.com")}static credential(e){return Ur._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ur._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return si.credential(i,a)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Yo{constructor(){super("github.com")}static credential(e){return Ur._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Yo{constructor(){super("twitter.com")}static credential(e,i){return Ur._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Is.credential(i,a)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(s,e){return Fo(s,"POST","/v1/accounts:signUp",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const h=await Ln._fromIdTokenResponse(e,a,o),d=iv(a);return new jr({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=iv(a);return new jr({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function iv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Yi{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Yc(e,i,a,o)}}function F0(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(s,h,e,a):h})}async function Fw(s,e,i=!1){const a=await Oo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return jr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(s,e,i=!1){const{auth:a}=s;if($t(a.app))return Promise.reject(zi(a));const o="reauthenticate";try{const h=await Oo(s,F0(a,o,e,s),i);fe(h.idToken,a,"internal-error");const d=xp(h.idToken);fe(d,a,"internal-error");const{sub:m}=d;return fe(s.uid===m,a,"user-mismatch"),jr._forOperation(s,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&Cn(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0(s,e,i=!1){if($t(s.app))return Promise.reject(zi(s));const a="signIn",o=await F0(s,a,e),h=await jr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(h.user),h}async function Xw(s,e){return Y0(Qi(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(s){const e=Qi(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kw(s,e,i){const a=Qi(s);await Fc(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Pw)}async function Ww(s,e,i){if($t(s.app))return Promise.reject(zi(s));const a=Qi(s),d=await Fc(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gw).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&X0(s),v}),m=await jr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(m.user),m}function Qw(s,e,i){return $t(s.app)?Promise.reject(zi(s)):Xw(Xt(s),$a.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&X0(s),a})}function Zw(s,e,i,a){return Xt(s).onIdTokenChanged(e,i,a)}function Jw(s,e,i){return Xt(s).beforeAuthStateChanged(e,i)}function $w(s,e,i,a){return Xt(s).onAuthStateChanged(e,i,a)}function Dp(s){return Xt(s).signOut()}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1e3,t2=10;class W0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,m,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);gw()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,t2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}W0.type="LOCAL";const n2=W0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Q0.type="SESSION";const Z0=Q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(d).map(async _=>_(i.origin,h)),v=await i2(m);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((m,v)=>{const _=Mp("",20);o.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(R){const C=R;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),m(C.data.response);break;default:clearTimeout(T),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function r2(s){li().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function a2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l2(){return navigator?.serviceWorker?.controller||null}function o2(){return J0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firebaseLocalStorageDb",u2=1,Kc="firebaseLocalStorage",e1="fbase_key";class Xo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(s,e){return s.transaction([Kc],e?"readwrite":"readonly").objectStore(Kc)}function c2(){const s=indexedDB.deleteDatabase($0);return new Xo(s).toPromise()}function tp(){const s=indexedDB.open($0,u2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Kc,{keyPath:e1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Kc)?e(a):(a.close(),await c2(),e(await tp()))})})}async function sv(s,e,i){const a=ph(s,!0).put({[e1]:e,value:i});return new Xo(a).toPromise()}async function h2(s,e){const i=ph(s,!1).get(e),a=await new Xo(i).toPromise();return a===void 0?null:a.value}function rv(s,e){const i=ph(s,!0).delete(e);return new Xo(i).toPromise()}const f2=800,d2=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>d2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(o2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await a2(),!this.activeServiceWorker)return;this.sender=new s2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await sv(e,Xc,"1"),await rv(e,Xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>h2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const h=ph(o,!1).getAll();return new Xo(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:h}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const p2=t1;new Go(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(s,e){return e?Pi(e):(fe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends Rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return za(e,this._buildIdpRequest())}_linkToIdToken(e,i){return za(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return za(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function m2(s){return Y0(s.auth,new kp(s),s.bypassAuthState)}function g2(s){const{auth:e,user:i}=s;return fe(i,e,"internal-error"),Yw(i,new kp(s),s.bypassAuthState)}async function _2(s){const{auth:e,user:i}=s;return fe(i,e,"internal-error"),Fw(i,new kp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,i,a,o,h=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:h,error:d,type:m}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m2;case"linkViaPopup":case"linkViaRedirect":return _2;case"reauthViaPopup":case"reauthViaRedirect":return g2;default:Cn(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Go(2e3,1e4);async function s1(s,e,i){if($t(s.app))return Promise.reject(Bn(s,"operation-not-supported-in-this-environment"));const a=Qi(s);QT(s,e,Op);const o=n1(a,i);return new Rr(a,"signInViaPopup",e,o).executeNotNull()}class Rr extends i1{constructor(e,i,a,o,h){super(e,i,o,h),this.provider=a,this.authWindow=null,this.pollId=null,Rr.currentPopupAction&&Rr.currentPopupAction.cancel(),Rr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y2.get())};e()}}Rr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="pendingRedirect",kc=new Map;class E2 extends i1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const a=await S2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S2(s,e){const i=w2(e),a=T2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function b2(s,e){kc.set(s._key(),e)}function T2(s){return Pi(s._redirectPersistence)}function w2(s){return Mc(v2,s.config.apiKey,s.name)}async function A2(s,e,i=!1){if($t(s.app))return Promise.reject(zi(s));const a=Qi(s),o=n1(a,e),d=await new E2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=600*1e3;class x2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!r1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bn(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C2&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(e))}saveEventToCache(e){this.cachedEventUids.add(av(e)),this.lastProcessedEventTime=Date.now()}}function av(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function r1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function N2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(s,e={}){return Wi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O2=/^https?/;async function D2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await R2(s);for(const i of e)try{if(M2(i))return}catch{}Cn(s,"unauthorized-domain")}function M2(s){const e=$d(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!O2.test(i))return!1;if(I2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Go(3e4,6e4);function lv(){const s=li().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function L2(s){return new Promise((e,i)=>{function a(){lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lv(),i(Bn(s,"network-request-failed"))},timeout:k2.get()})}if(li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(li().gapi?.load)a();else{const o=Aw("iframefcb");return li()[o]=()=>{gapi.load?a():i(Bn(s,"network-request-failed"))},V0(`${ww()}?onload=${o}`).catch(h=>i(h))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function U2(s){return Lc=Lc||L2(s),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Go(5e3,15e3),P2="__/auth/iframe",B2="emulator/auth/iframe",z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V2(s){const e=s.config;fe(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Cp(e,B2):`https://${s.config.authDomain}/${P2}`,a={apiKey:e.apiKey,appName:s.name,v:qr},o=H2.get(s.config.apiHost);o&&(a.eid=o);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Ja(a).slice(1)}`}async function q2(s){const e=await U2(s),i=li().gapi;return fe(i,s,"internal-error"),e.open({where:document.body,url:V2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z2,dontclear:!0},a=>new Promise(async(o,h)=>{await a.restyle({setHideOnLeave:!1});const d=Bn(s,"network-request-failed"),m=li().setTimeout(()=>{h(d)},j2.get());function v(){li().clearTimeout(m),o(a)}a.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F2=500,Y2=600,X2="_blank",K2="http://localhost";class ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W2(s,e,i,a=F2,o=Y2){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const v={...G2,width:a.toString(),height:o.toString(),top:h,left:d},_=Yt().toLowerCase();i&&(m=L0(_)?X2:i),M0(_)&&(e=e||K2,v.scrollbars="yes");const T=Object.entries(v).reduce((C,[K,Y])=>`${C}${K}=${Y},`,"");if(mw(_)&&m!=="_self")return Q2(e||"",m),new ov(null);const R=window.open(e||"",m,T);fe(R,s,"popup-blocked");try{R.focus()}catch{}return new ov(R)}function Q2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="__/auth/handler",J2="emulator/auth/handler",$2=encodeURIComponent("fac");async function uv(s,e,i,a,o,h){fe(s.config.authDomain,s,"auth-domain-config-required"),fe(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:qr,eventId:o};if(e instanceof Op){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Xd(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,R]of Object.entries({}))d[T]=R}if(e instanceof Yo){const T=e.getScopes().filter(R=>R!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const m=d;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const v=await s._getAppCheckToken(),_=v?`#${$2}=${encodeURIComponent(v)}`:"";return`${eA(s)}?${Ja(m).slice(1)}${_}`}function eA({config:s}){return s.emulator?Cp(s,J2):`https://${s.authDomain}/${Z2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class tA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=A2,this._overrideRedirectResult=b2}async _openPopup(e,i,a,o){qi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const h=await uv(e,i,a,$d(),o);return W2(e,h,Mp())}async _openRedirect(e,i,a,o){await this._originValidation(e);const h=await uv(e,i,a,$d(),o);return r2(h),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(qi(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await q2(e),a=new x2(e);return i.register("authEvent",o=>(fe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(jd,{type:jd},o=>{const h=o?.[0]?.[jd];h!==void 0&&i(!!h),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=D2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return z0()||k0()||Np()}}const nA=tA;var cv="@firebase/auth",hv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rA(s){Lr(new Us("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;fe(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(s)},_=new Sw(a,o,h,v);return Ow(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Lr(new Us("auth-internal",e=>{const i=Qi(e.getProvider("auth").getImmediate());return(a=>new iA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(cv,hv,sA(s)),ai(cv,hv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=300,lA=_0("authIdTokenMaxAge")||aA;let fv=null;const oA=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>lA)return;const o=i?.token;fv!==o&&(fv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uA(s=Tp()){const e=hh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Iw(s,{popupRedirectResolver:nA,persistence:[p2,n2,Z0]}),a=_0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=oA(h.toString());Jw(i,d,()=>d(i.currentUser)),Zw(i,m=>d(m))}}const o=p0("auth");return o&&Dw(i,`http://${o}`),i}function cA(){return document.getElementsByTagName("head")?.[0]??document}bw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const h=Bn("internal-error");h.customData=o,i(h)},a.type="text/javascript",a.charset="UTF-8",cA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rA("Browser");var hA="firebase",fA="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(hA,fA,"app");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function N(){}N.prototype=w.prototype,k.D=w.prototype,k.prototype=new N,k.prototype.constructor=k,k.C=function(D,M,U){for(var x=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)x[Dt-2]=arguments[Dt];return w.prototype[M].apply(D,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,w,N){N||(N=0);var D=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)D[M]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(M=0;16>M;++M)D[M]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=k.g[0],N=k.g[1],M=k.g[2];var U=k.g[3],x=w+(U^N&(M^U))+D[0]+3614090360&4294967295;w=N+(x<<7&4294967295|x>>>25),x=U+(M^w&(N^M))+D[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=M+(N^U&(w^N))+D[2]+606105819&4294967295,M=U+(x<<17&4294967295|x>>>15),x=N+(w^M&(U^w))+D[3]+3250441966&4294967295,N=M+(x<<22&4294967295|x>>>10),x=w+(U^N&(M^U))+D[4]+4118548399&4294967295,w=N+(x<<7&4294967295|x>>>25),x=U+(M^w&(N^M))+D[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=M+(N^U&(w^N))+D[6]+2821735955&4294967295,M=U+(x<<17&4294967295|x>>>15),x=N+(w^M&(U^w))+D[7]+4249261313&4294967295,N=M+(x<<22&4294967295|x>>>10),x=w+(U^N&(M^U))+D[8]+1770035416&4294967295,w=N+(x<<7&4294967295|x>>>25),x=U+(M^w&(N^M))+D[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=M+(N^U&(w^N))+D[10]+4294925233&4294967295,M=U+(x<<17&4294967295|x>>>15),x=N+(w^M&(U^w))+D[11]+2304563134&4294967295,N=M+(x<<22&4294967295|x>>>10),x=w+(U^N&(M^U))+D[12]+1804603682&4294967295,w=N+(x<<7&4294967295|x>>>25),x=U+(M^w&(N^M))+D[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=M+(N^U&(w^N))+D[14]+2792965006&4294967295,M=U+(x<<17&4294967295|x>>>15),x=N+(w^M&(U^w))+D[15]+1236535329&4294967295,N=M+(x<<22&4294967295|x>>>10),x=w+(M^U&(N^M))+D[1]+4129170786&4294967295,w=N+(x<<5&4294967295|x>>>27),x=U+(N^M&(w^N))+D[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=M+(w^N&(U^w))+D[11]+643717713&4294967295,M=U+(x<<14&4294967295|x>>>18),x=N+(U^w&(M^U))+D[0]+3921069994&4294967295,N=M+(x<<20&4294967295|x>>>12),x=w+(M^U&(N^M))+D[5]+3593408605&4294967295,w=N+(x<<5&4294967295|x>>>27),x=U+(N^M&(w^N))+D[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=M+(w^N&(U^w))+D[15]+3634488961&4294967295,M=U+(x<<14&4294967295|x>>>18),x=N+(U^w&(M^U))+D[4]+3889429448&4294967295,N=M+(x<<20&4294967295|x>>>12),x=w+(M^U&(N^M))+D[9]+568446438&4294967295,w=N+(x<<5&4294967295|x>>>27),x=U+(N^M&(w^N))+D[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=M+(w^N&(U^w))+D[3]+4107603335&4294967295,M=U+(x<<14&4294967295|x>>>18),x=N+(U^w&(M^U))+D[8]+1163531501&4294967295,N=M+(x<<20&4294967295|x>>>12),x=w+(M^U&(N^M))+D[13]+2850285829&4294967295,w=N+(x<<5&4294967295|x>>>27),x=U+(N^M&(w^N))+D[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=M+(w^N&(U^w))+D[7]+1735328473&4294967295,M=U+(x<<14&4294967295|x>>>18),x=N+(U^w&(M^U))+D[12]+2368359562&4294967295,N=M+(x<<20&4294967295|x>>>12),x=w+(N^M^U)+D[5]+4294588738&4294967295,w=N+(x<<4&4294967295|x>>>28),x=U+(w^N^M)+D[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=M+(U^w^N)+D[11]+1839030562&4294967295,M=U+(x<<16&4294967295|x>>>16),x=N+(M^U^w)+D[14]+4259657740&4294967295,N=M+(x<<23&4294967295|x>>>9),x=w+(N^M^U)+D[1]+2763975236&4294967295,w=N+(x<<4&4294967295|x>>>28),x=U+(w^N^M)+D[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=M+(U^w^N)+D[7]+4139469664&4294967295,M=U+(x<<16&4294967295|x>>>16),x=N+(M^U^w)+D[10]+3200236656&4294967295,N=M+(x<<23&4294967295|x>>>9),x=w+(N^M^U)+D[13]+681279174&4294967295,w=N+(x<<4&4294967295|x>>>28),x=U+(w^N^M)+D[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=M+(U^w^N)+D[3]+3572445317&4294967295,M=U+(x<<16&4294967295|x>>>16),x=N+(M^U^w)+D[6]+76029189&4294967295,N=M+(x<<23&4294967295|x>>>9),x=w+(N^M^U)+D[9]+3654602809&4294967295,w=N+(x<<4&4294967295|x>>>28),x=U+(w^N^M)+D[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=M+(U^w^N)+D[15]+530742520&4294967295,M=U+(x<<16&4294967295|x>>>16),x=N+(M^U^w)+D[2]+3299628645&4294967295,N=M+(x<<23&4294967295|x>>>9),x=w+(M^(N|~U))+D[0]+4096336452&4294967295,w=N+(x<<6&4294967295|x>>>26),x=U+(N^(w|~M))+D[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=M+(w^(U|~N))+D[14]+2878612391&4294967295,M=U+(x<<15&4294967295|x>>>17),x=N+(U^(M|~w))+D[5]+4237533241&4294967295,N=M+(x<<21&4294967295|x>>>11),x=w+(M^(N|~U))+D[12]+1700485571&4294967295,w=N+(x<<6&4294967295|x>>>26),x=U+(N^(w|~M))+D[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=M+(w^(U|~N))+D[10]+4293915773&4294967295,M=U+(x<<15&4294967295|x>>>17),x=N+(U^(M|~w))+D[1]+2240044497&4294967295,N=M+(x<<21&4294967295|x>>>11),x=w+(M^(N|~U))+D[8]+1873313359&4294967295,w=N+(x<<6&4294967295|x>>>26),x=U+(N^(w|~M))+D[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=M+(w^(U|~N))+D[6]+2734768916&4294967295,M=U+(x<<15&4294967295|x>>>17),x=N+(U^(M|~w))+D[13]+1309151649&4294967295,N=M+(x<<21&4294967295|x>>>11),x=w+(M^(N|~U))+D[4]+4149444226&4294967295,w=N+(x<<6&4294967295|x>>>26),x=U+(N^(w|~M))+D[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=M+(w^(U|~N))+D[2]+718787259&4294967295,M=U+(x<<15&4294967295|x>>>17),x=N+(U^(M|~w))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+U&4294967295}a.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var N=w-this.blockSize,D=this.B,M=this.h,U=0;U<w;){if(M==0)for(;U<=N;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<w;)if(D[M++]=k.charCodeAt(U++),M==this.blockSize){o(this,D),M=0;break}}else for(;U<w;)if(D[M++]=k[U++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=w},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var N=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=N&255,N/=256;for(this.u(k),k=Array(16),w=N=0;4>w;++w)for(var D=0;32>D;D+=8)k[N++]=this.g[w]>>>D&255;return k};function h(k,w){var N=m;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=w(k)}function d(k,w){this.h=w;for(var N=[],D=!0,M=k.length-1;0<=M;M--){var U=k[M]|0;D&&U==w||(N[M]=U,D=!1)}this.g=N}var m={};function v(k){return-128<=k&&128>k?h(k,function(w){return new d([w|0],0>w?-1:0)}):new d([k|0],0>k?-1:0)}function _(k){if(isNaN(k)||!isFinite(k))return R;if(0>k)return ne(_(-k));for(var w=[],N=1,D=0;k>=N;D++)w[D]=k/N|0,N*=4294967296;return new d(w,0)}function T(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return ne(T(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=_(Math.pow(w,8)),D=R,M=0;M<k.length;M+=8){var U=Math.min(8,k.length-M),x=parseInt(k.substring(M,M+U),w);8>U?(U=_(Math.pow(w,U)),D=D.j(U).add(_(x))):(D=D.j(N),D=D.add(_(x)))}return D}var R=v(0),C=v(1),K=v(16777216);s=d.prototype,s.m=function(){if($(this))return-ne(this).m();for(var k=0,w=1,N=0;N<this.g.length;N++){var D=this.i(N);k+=(0<=D?D:4294967296+D)*w,w*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(Y(this))return"0";if($(this))return"-"+ne(this).toString(k);for(var w=_(Math.pow(k,6)),N=this,D="";;){var M=ue(N,w).g;N=me(N,M.j(w));var U=((0<N.g.length?N.g[0]:N.h)>>>0).toString(k);if(N=M,Y(N))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function Y(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function $(k){return k.h==-1}s.l=function(k){return k=me(this,k),$(k)?-1:Y(k)?0:1};function ne(k){for(var w=k.g.length,N=[],D=0;D<w;D++)N[D]=~k.g[D];return new d(N,~k.h).add(C)}s.abs=function(){return $(this)?ne(this):this},s.add=function(k){for(var w=Math.max(this.g.length,k.g.length),N=[],D=0,M=0;M<=w;M++){var U=D+(this.i(M)&65535)+(k.i(M)&65535),x=(U>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);D=x>>>16,U&=65535,x&=65535,N[M]=x<<16|U}return new d(N,N[N.length-1]&-2147483648?-1:0)};function me(k,w){return k.add(ne(w))}s.j=function(k){if(Y(this)||Y(k))return R;if($(this))return $(k)?ne(this).j(ne(k)):ne(ne(this).j(k));if($(k))return ne(this.j(ne(k)));if(0>this.l(K)&&0>k.l(K))return _(this.m()*k.m());for(var w=this.g.length+k.g.length,N=[],D=0;D<2*w;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<k.g.length;M++){var U=this.i(D)>>>16,x=this.i(D)&65535,Dt=k.i(M)>>>16,st=k.i(M)&65535;N[2*D+2*M]+=x*st,_e(N,2*D+2*M),N[2*D+2*M+1]+=U*st,_e(N,2*D+2*M+1),N[2*D+2*M+1]+=x*Dt,_e(N,2*D+2*M+1),N[2*D+2*M+2]+=U*Dt,_e(N,2*D+2*M+2)}for(D=0;D<w;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=w;D<2*w;D++)N[D]=0;return new d(N,0)};function _e(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function ie(k,w){this.g=k,this.h=w}function ue(k,w){if(Y(w))throw Error("division by zero");if(Y(k))return new ie(R,R);if($(k))return w=ue(ne(k),w),new ie(ne(w.g),ne(w.h));if($(w))return w=ue(k,ne(w)),new ie(ne(w.g),w.h);if(30<k.g.length){if($(k)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var N=C,D=w;0>=D.l(k);)N=he(N),D=he(D);var M=Me(N,1),U=Me(D,1);for(D=Me(D,2),N=Me(N,2);!Y(D);){var x=U.add(D);0>=x.l(k)&&(M=M.add(N),U=x),D=Me(D,1),N=Me(N,1)}return w=me(k,M.j(w)),new ie(M,w)}for(M=R;0<=k.l(w);){for(N=Math.max(1,Math.floor(k.m()/w.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=_(N),x=U.j(w);$(x)||0<x.l(k);)N-=D,U=_(N),x=U.j(w);Y(U)&&(U=C),M=M.add(U),k=me(k,x)}return new ie(M,k)}s.A=function(k){return ue(this,k).h},s.and=function(k){for(var w=Math.max(this.g.length,k.g.length),N=[],D=0;D<w;D++)N[D]=this.i(D)&k.i(D);return new d(N,this.h&k.h)},s.or=function(k){for(var w=Math.max(this.g.length,k.g.length),N=[],D=0;D<w;D++)N[D]=this.i(D)|k.i(D);return new d(N,this.h|k.h)},s.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),N=[],D=0;D<w;D++)N[D]=this.i(D)^k.i(D);return new d(N,this.h^k.h)};function he(k){for(var w=k.g.length+1,N=[],D=0;D<w;D++)N[D]=k.i(D)<<1|k.i(D-1)>>>31;return new d(N,k.h)}function Me(k,w){var N=w>>5;w%=32;for(var D=k.g.length-N,M=[],U=0;U<D;U++)M[U]=0<w?k.i(U+N)>>>w|k.i(U+N+1)<<32-w:k.i(U+N);return new d(M,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Lp=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,p){if(p)e:{var g=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var j=u[S];if(!(j in g))break e;g=g[j]}u=u[u.length-1],S=g[u],p=p(S),p!=S&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function h(u,p){u instanceof String&&(u+="");var g=0,S=!1,j={next:function(){if(!S&&g<u.length){var V=g++;return{value:p(V,u[V]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return h(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function v(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function _(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function T(u,p,g){return u.call.apply(u.bind,arguments)}function R(u,p,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),u.apply(p,j)}}return function(){return u.apply(p,arguments)}}function C(u,p,g){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,C.apply(null,arguments)}function K(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function Y(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,j,V){for(var Z=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)Z[Be-2]=arguments[Be];return p.prototype[j].apply(S,Z)}}function $(u){const p=u.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=u[S];return g}return[]}function ne(u,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(v(S)){const j=u.length||0,V=S.length||0;u.length=j+V;for(let Z=0;Z<V;Z++)u[j+Z]=S[Z]}else u.push(S)}}class me{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _e(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function ue(u){return ue[" "](u),u}ue[" "]=function(){};var he=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Me(u,p,g){for(const S in u)p.call(g,u[S],S,u)}function k(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function w(u){const p={};for(const g in u)p[g]=u[g];return p}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,p){let g,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(g in S)u[g]=S[g];for(let V=0;V<N.length;V++)g=N[V],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function M(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function U(u){m.setTimeout(()=>{throw u},0)}function x(){var u=Ue;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Dt{constructor(){this.h=this.g=null}add(p,g){const S=st.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var st=new me(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ae=!1,Ue=new Dt,I=()=>{const u=m.Promise.resolve(void 0);ee=()=>{u.then(W)}};var W=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(g){U(g)}var p=st;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ae=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};m.addEventListener("test",g,p),m.removeEventListener("test",g,p)}catch{}return u})();function Ee(u,p){if(Q.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(he){e:{try{ue(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ee.aa.h.call(this)}}Y(Ee,Q);var ge={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Hn(u,p,g,S,j){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=j,this.key=++Qe,this.da=this.fa=!1}function Ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,p,g,S,j){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var Z=Vs(u,p,S,j);return-1<Z?(p=u[Z],g||(p.fa=!1)):(p=new Hn(p,this.src,V,!!S,j),p.fa=g,u.push(p)),p};function Hs(u,p){var g=p.type;if(g in u.g){var S=u.g[g],j=Array.prototype.indexOf.call(S,p,void 0),V;(V=0<=j)&&Array.prototype.splice.call(S,j,1),V&&(Ji(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Vs(u,p,g,S){for(var j=0;j<u.length;++j){var V=u[j];if(!V.da&&V.listener==p&&V.capture==!!g&&V.ha==S)return j}return-1}var qs="closure_lm_"+(1e6*Math.random()|0),sl={};function nu(u,p,g,S,j){if(Array.isArray(p)){for(var V=0;V<p.length;V++)nu(u,p[V],g,S,j);return null}return g=iu(g),u&&u[bt]?u.K(p,g,_(S)?!!S.capture:!1,j):dn(u,p,g,!1,S,j)}function dn(u,p,g,S,j,V){if(!p)throw Error("Invalid event type");var Z=_(j)?!!j.capture:!!j,Be=Yr(u);if(Be||(u[qs]=Be=new ui(u)),g=Be.add(p,g,S,Z,V),g.proxy)return g;if(S=wh(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)le||(j=Z),j===void 0&&(j=!1),u.addEventListener(p.toString(),S,j);else if(u.attachEvent)u.attachEvent(Gs(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function wh(){function u(g){return p.call(u.src,u.listener,g)}const p=Ah;return u}function rl(u,p,g,S,j){if(Array.isArray(p))for(var V=0;V<p.length;V++)rl(u,p[V],g,S,j);else S=_(S)?!!S.capture:!!S,g=iu(g),u&&u[bt]?(u=u.i,p=String(p).toString(),p in u.g&&(V=u.g[p],g=Vs(V,g,S,j),-1<g&&(Ji(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete u.g[p],u.h--)))):u&&(u=Yr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Vs(p,g,S,j)),(g=-1<u?p[u]:null)&&Fr(g))}function Fr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[bt])Hs(p.i,u);else{var g=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(g,S,u.capture):p.detachEvent?p.detachEvent(Gs(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=Yr(p))?(Hs(g,u),g.h==0&&(g.src=null,p[qs]=null)):Ji(u)}}}function Gs(u){return u in sl?sl[u]:sl[u]="on"+u}function Ah(u,p){if(u.da)u=!0;else{p=new Ee(p,this);var g=u.listener,S=u.ha||u.src;u.fa&&Fr(u),u=g.call(S,p)}return u}function Yr(u){return u=u[qs],u instanceof ui?u:null}var al="__closure_events_fn_"+(1e9*Math.random()>>>0);function iu(u){return typeof u=="function"?u:(u[al]||(u[al]=function(p){return u.handleEvent(p)}),u[al])}function rt(){te.call(this),this.i=new ui(this),this.M=this,this.F=null}Y(rt,te),rt.prototype[bt]=!0,rt.prototype.removeEventListener=function(u,p,g,S){rl(this,u,p,g,S)};function ze(u,p){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new Q(p,u);else if(p instanceof Q)p.target=p.target||u;else{var j=p;p=new Q(S,u),D(p,j)}if(j=!0,g)for(var V=g.length-1;0<=V;V--){var Z=p.g=g[V];j=sn(Z,S,!0,p)&&j}if(Z=p.g=u,j=sn(Z,S,!0,p)&&j,j=sn(Z,S,!1,p)&&j,g)for(V=0;V<g.length;V++)Z=p.g=g[V],j=sn(Z,S,!1,p)&&j}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],S=0;S<g.length;S++)Ji(g[S]);delete u.g[p],u.h--}}this.F=null},rt.prototype.K=function(u,p,g,S){return this.i.add(String(u),p,!1,g,S)},rt.prototype.L=function(u,p,g,S){return this.i.add(String(u),p,!0,g,S)};function sn(u,p,g,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,V=0;V<p.length;++V){var Z=p[V];if(Z&&!Z.da&&Z.capture==g){var Be=Z.listener,tt=Z.ha||Z.src;Z.fa&&Hs(u.i,Z),j=Be.call(tt,S)!==!1&&j}}return j&&!S.defaultPrevented}function jt(u,p,g){if(typeof u=="function")g&&(u=C(u,g));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(u,p||0)}function su(u){u.g=jt(()=>{u.g=null,u.i&&(u.i=!1,su(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ch extends te{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:su(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(u){te.call(this),this.h=u,this.g={}}Y(Fs,te);var Ys=[];function Xs(u){Me(u.g,function(p,g){this.g.hasOwnProperty(g)&&Fr(p)},u),u.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),Xs(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=m.JSON.stringify,Xr=m.JSON.parse,Ks=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function ll(){}ll.prototype.h=null;function ol(u){return u.h||(u.h=u.i())}function ru(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){Q.call(this,"d")}Y(hi,Q);function ul(){Q.call(this,"c")}Y(ul,Q);var fi={},cl=null;function Ws(){return cl=cl||new rt}fi.La="serverreachability";function Kr(u){Q.call(this,fi.La,u)}Y(Kr,Q);function $i(u){const p=Ws();ze(p,new Kr(p))}fi.STAT_EVENT="statevent";function au(u,p){Q.call(this,fi.STAT_EVENT,u),this.stat=p}Y(au,Q);function et(u){const p=Ws();ze(p,new au(p,u))}fi.Ma="timingevent";function _t(u,p){Q.call(this,fi.Ma,u),this.size=p}Y(_t,Q);function ft(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},p)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function hl(u,p,g,S,j,V){u.info(function(){if(u.g)if(V)for(var Z="",Be=V.split("&"),tt=0;tt<Be.length;tt++){var xe=Be[tt].split("=");if(1<xe.length){var wt=xe[0];xe=xe[1];var At=wt.split("_");Z=2<=At.length&&At[1]=="type"?Z+(wt+"="+xe+"&"):Z+(wt+"=redacted&")}}else Z=null;else Z=V;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+p+`
`+g+`
`+Z})}function xh(u,p,g,S,j,V,Z){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+p+`
`+g+`
`+V+" "+Z})}function es(u,p,g,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Qs(u,g)+(S?" "+S:"")})}function lu(u,p){u.info(function(){return"TIMEOUT: "+p})}pn.prototype.info=function(){};function Qs(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var V=j[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Z=1;Z<j.length;Z++)j[Z]=""}}}}return xn(g)}catch{return p}}var Zs={NO_ERROR:0,TIMEOUT:8},ts={},Vn;function qn(){}Y(qn,ll),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Vn=new qn;function Ht(u,p,g,S){this.j=u,this.i=p,this.l=g,this.R=S||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var fl={},Wr={};function Nn(u,p,g){u.L=1,u.v=nr(rn(p)),u.m=g,u.P=!0,di(u,null)}function di(u,p){u.F=Date.now(),Js(u),u.A=rn(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),yl(g.i,"t",S),u.C=0,g=u.j.J,u.h=new ut,u.g=Tu(u.j,g?p:null,!u.m),0<u.O&&(u.M=new Ch(C(u.Y,u,u.g),u.O)),p=u.U,g=u.g,S=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ys[0]=j.toString()),j=Ys);for(var V=0;V<j.length;V++){var Z=nu(g,j[V],S||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),$i(),hl(u.i,u.u,u.A,u.l,u.R,u.m)}Ht.prototype.ca=function(u){u=u.target;const p=this.M;p&&yn(u)==3?p.j():this.Y(u)},Ht.prototype.Y=function(u){try{if(u==this.g)e:{const At=yn(this.g);var p=this.g.Ba();const Si=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||At!=4||p==7||(p==8||0>=Si?$i(3):$i(2)),ns(this);var g=this.g.Z();this.X=g;t:if(ou(this)){var S=mu(this.g);u="";var j=S.length,V=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mt(this),Gn(this);var Z="";break t}this.h.i=new m.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(V&&p==j-1)});S.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,xh(this.i,this.u,this.A,this.l,this.R,At,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,tt=this.g;if((Be=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(Be)){var xe=Be;break t}}xe=null}if(g=xe)es(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$s(this,g);else{this.o=!1,this.s=3,et(12),Mt(this),Gn(this);break e}}if(this.P){g=!0;let Wt;for(;!this.J&&this.C<Z.length;)if(Wt=uu(this,Z),Wt==Wr){At==4&&(this.s=4,et(14),g=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==fl){this.s=4,et(15),es(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else es(this.i,this.l,Wt,null),$s(this,Wt);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||Z.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)es(this.i,this.l,Z,"[Invalid Chunked Response]"),Mt(this),Gn(this);else if(0<Z.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),cr(wt),wt.M=!0,et(11))}}else es(this.i,this.l,Z,null),$s(this,Z);At==4&&Mt(this),this.o&&!this.J&&(At==4?Eu(this.j,this):(this.o=!1,Js(this)))}else Dh(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Mt(this),Gn(this)}}}catch{}finally{}};function ou(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function uu(u,p){var g=u.C,S=p.indexOf(`
`,g);return S==-1?Wr:(g=Number(p.substring(g,S)),isNaN(g)?fl:(S+=1,S+g>p.length?Wr:(p=p.slice(S,S+g),u.C=S+g,p)))}Ht.prototype.cancel=function(){this.J=!0,Mt(this)};function Js(u){u.S=Date.now()+u.I,cu(u,u.I)}function cu(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ft(C(u.ba,u),p)}function ns(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Ht.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(lu(this.i,this.A),this.L!=2&&($i(),et(17)),Mt(this),this.s=2,Gn(this)):cu(this,this.S-u)};function Gn(u){u.j.G==0||u.J||Eu(u.j,u)}function Mt(u){ns(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Xs(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function $s(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||dl(g.h,u))){if(!u.K&&dl(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)la(g),ra(g);else break e;Tl(g),et(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=ft(C(g.Za,g),6e3));if(1>=Zr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ei(g,11)}else if((u.K||g.g==u)&&la(g),!_e(p))for(j=g.Da.g.parse(p),p=0;p<j.length;p++){let xe=j[p];if(g.T=xe[0],xe=xe[1],g.G==2)if(xe[0]=="c"){g.K=xe[1],g.ia=xe[2];const wt=xe[3];wt!=null&&(g.la=wt,g.j.info("VER="+g.la));const At=xe[4];At!=null&&(g.Aa=At,g.j.info("SVER="+g.Aa));const Si=xe[5];Si!=null&&typeof Si=="number"&&0<Si&&(S=1.5*Si,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Wt=u.g;if(Wt){const Qn=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var V=S.h;V.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Jr(V,V.h),V.h=null))}if(S.D){const bi=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;bi&&(S.ya=bi,Ge(S.I,S.D,bi))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var Z=u;if(S.qa=bu(S,S.J?S.ia:null,S.W),Z.K){Vt(S.h,Z);var Be=Z,tt=S.L;tt&&(Be.I=tt),Be.B&&(ns(Be),Js(Be)),S.g=Z}else yu(S);0<g.i.length&&aa(g)}else xe[0]!="stop"&&xe[0]!="close"||Ei(g,7);else g.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ei(g,7):Sl(g):xe[0]!="noop"&&g.l&&g.l.ta(xe),g.v=0)}}$i(4)}catch{}}var hu=class{constructor(u,p){this.g=u,this.map=p}};function pi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Zr(u){return u.h?1:u.g?u.g.size:0}function dl(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Jr(u,p){u.g?u.g.add(p):u.h=p}function Vt(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}pi.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function pl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return $(u.i)}function Nh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var p=[],g=u.length,S=0;S<g;S++)p.push(u[S]);return p}p=[],g=0;for(S in u)p[g++]=u[S];return p}function $r(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const S in u)p[g++]=S;return p}}}function ml(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=$r(u),S=Nh(u),j=S.length,V=0;V<j;V++)p.call(void 0,S[V],g&&g[V],u)}var er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),j=null;if(0<=S){var V=u[g].substring(0,S);j=u[g].substring(S+1)}else V=u[g];p(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof dt){this.h=u.h,tr(this,u.j),this.o=u.o,this.g=u.g,is(this,u.s),this.l=u.l;var p=u.i,g=new gi;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),mi(this,g),this.m=u.m}else u&&(p=String(u).match(er))?(this.h=!1,tr(this,p[1]||"",!0),this.o=mn(p[2]||""),this.g=mn(p[3]||"",!0),is(this,p[4]),this.l=mn(p[5]||"",!0),mi(this,p[6]||"",!0),this.m=mn(p[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}dt.prototype.toString=function(){var u=[],p=this.j;p&&u.push(ir(p,gl,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ir(p,gl,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(ir(g,g.charAt(0)=="/"?Ih:_l,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",ir(g,ea)),u.join("")};function rn(u){return new dt(u)}function tr(u,p,g){u.j=g?mn(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function is(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function mi(u,p,g){p instanceof gi?(u.i=p,du(u.i,u.h)):(g||(p=ir(p,Oh)),u.i=new gi(p,u.h))}function Ge(u,p,g){u.i.set(p,g)}function nr(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ir(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,fu),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var gl=/[#\/\?@]/g,_l=/[#\?:]/g,Ih=/[#\?]/g,Oh=/[#\?@]/g,ea=/#/g;function gi(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Rh(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}s=gi.prototype,s.add=function(u,p){gn(this),this.i=null,u=Fn(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function _i(u,p){gn(u),p=Fn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function yi(u,p){return gn(u),p=Fn(u,p),u.g.has(p)}s.forEach=function(u,p){gn(this),this.g.forEach(function(g,S){g.forEach(function(j){u.call(p,j,S,this)},this)},this)},s.na=function(){gn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const j=u[S];for(let V=0;V<j.length;V++)g.push(p[S])}return g},s.V=function(u){gn(this);let p=[];if(typeof u=="string")yi(this,u)&&(p=p.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},s.set=function(u,p){return gn(this),this.i=null,u=Fn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function yl(u,p,g){_i(u,p),0<g.length&&(u.i=null,u.g.set(Fn(u,p),$(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const V=encodeURIComponent(String(S)),Z=this.V(S);for(S=0;S<Z.length;S++){var j=V;Z[S]!==""&&(j+="="+encodeURIComponent(String(Z[S]))),u.push(j)}}return this.i=u.join("&")};function Fn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function du(u,p){p&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(g,S){var j=S.toLowerCase();S!=j&&(_i(this,S),yl(this,j,g))},u)),u.j=p}function sr(u,p){const g=new pn;if(m.Image){const S=new Image;S.onload=K(_n,g,"TestLoadImage: loaded",!0,p,S),S.onerror=K(_n,g,"TestLoadImage: error",!1,p,S),S.onabort=K(_n,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=K(_n,g,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function Rn(u,p){const g=new pn,S=new AbortController,j=setTimeout(()=>{S.abort(),_n(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(V=>{clearTimeout(j),V.ok?_n(g,"TestPingServer: ok",!0,p):_n(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),_n(g,"TestPingServer: error",!1,p)})}function _n(u,p,g,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(g)}catch{}}function rr(){this.g=new Ks}function Yn(u,p,g){const S=g||"";try{ml(u,function(j,V){let Z=j;_(j)&&(Z=xn(j)),p.push(S+V+"="+encodeURIComponent(Z))})}catch(j){throw p.push(S+"type="+encodeURIComponent("_badmap")),j}}function ss(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(ss,ll),ss.prototype.g=function(){return new vi(this.l,this.j)},ss.prototype.i=(function(u){return function(){return u}})({});function vi(u,p){rt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(vi,rt),s=vi.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Xn(this):Kn(this),this.readyState==3&&vl(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},s.Qa=function(u){this.g&&(this.response=u,Xn(this))},s.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}s.setRequestHeader=function(u,p){this.u.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function El(u){let p="";return Me(u,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function Tt(u,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=El(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Ge(u,p,g))}function He(u){rt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(He,rt);var ta=/^https?$/i,ar=["POST","PUT"];s=He.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vn.g(),this.v=this.o?ol(this.o):ol(Vn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){pu(this,V);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)g.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const V of S.keys())g.set(V,S.get(V));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),j=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ar,p,void 0))||S||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Z]of g)this.g.setRequestHeader(V,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lr(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){pu(this,V)}};function pu(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,na(u),Wn(u)}function na(u){u.A||(u.A=!0,ze(u,"complete"),ze(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ze(this,"complete"),ze(this,"abort"),Wn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),He.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},s.bb=function(){ia(this)};function ia(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)jt(u.Ea,0,u);else if(ze(u,"readystatechange"),yn(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=Z===0){var j=String(u.D).match(er)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!ta.test(j?j.toLowerCase():"")}g=S}if(g)ze(u,"complete"),ze(u,"success");else{u.m=6;try{var V=2<yn(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",na(u)}}finally{Wn(u)}}}}function Wn(u,p){if(u.g){lr(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ze(u,"ready");try{g.onreadystatechange=S}catch{}}}function lr(u){u.I&&(m.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Xr(p)}};function mu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Dh(u){const p={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(_e(u[S]))continue;var g=M(u[S]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=p[j]||[];p[j]=V,V.push(g)}k(p,function(S){return S.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function sa(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,u),this.cb=or("retryDelaySeedMs",1e4,u),this.Wa=or("forwardChannelMaxRetries",2,u),this.wa=or("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new rr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=sa.prototype,s.la=8,s.G=1,s.connect=function(u,p,g,S){et(0),this.W=u,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=bu(this,null,this.W),aa(this)};function Sl(u){if(gu(u),u.G==3){var p=u.U++,g=rn(u.I);if(Ge(g,"SID",u.K),Ge(g,"RID",p),Ge(g,"TYPE","terminate"),ur(u,g),p=new Ht(u,u.j,p),p.L=2,p.v=nr(rn(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=p.v,g=!0),g||(p.g=Tu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Js(p)}Su(u)}function ra(u){u.g&&(cr(u),u.g.cancel(),u.g=null)}function gu(u){ra(u),u.u&&(m.clearTimeout(u.u),u.u=null),la(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function aa(u){if(!Qr(u.h)&&!u.s){u.s=!0;var p=u.Ga;ee||I(),ae||(ee(),ae=!0),Ue.add(p,u),u.B=0}}function Mh(u,p){return Zr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ft(C(u.Ga,u,p),wl(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Ht(this,this.j,u);let V=this.o;if(this.S&&(V?(V=w(V),D(V,this.S)):V=this.S),this.m!==null||this.O||(j.H=V,V=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=_u(this,j,p),g=rn(this.I),Ge(g,"RID",u),Ge(g,"CVER",22),this.D&&Ge(g,"X-HTTP-Session-Id",this.D),ur(this,g),V&&(this.O?p="headers="+encodeURIComponent(String(El(V)))+"&"+p:this.m&&Tt(g,this.m,V)),Jr(this.h,j),this.Ua&&Ge(g,"TYPE","init"),this.P?(Ge(g,"$req",p),Ge(g,"SID","null"),j.T=!0,Nn(j,g,null)):Nn(j,g,p),this.G=2}}else this.G==3&&(u?bl(this,u):this.i.length==0||Qr(this.h)||bl(this))};function bl(u,p){var g;p?g=p.l:g=u.U++;const S=rn(u.I);Ge(S,"SID",u.K),Ge(S,"RID",g),Ge(S,"AID",u.T),ur(u,S),u.m&&u.o&&Tt(S,u.m,u.o),g=new Ht(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=_u(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Jr(u.h,g),Nn(g,S,p)}function ur(u,p){u.H&&Me(u.H,function(g,S){Ge(p,S,g)}),u.l&&ml({},function(g,S){Ge(p,S,g)})}function _u(u,p,g){g=Math.min(u.i.length,g);var S=u.l?C(u.l.Na,u.l,u):null;e:{var j=u.i;let V=-1;for(;;){const Z=["count="+g];V==-1?0<g?(V=j[0].g,Z.push("ofs="+V)):V=0:Z.push("ofs="+V);let Be=!0;for(let tt=0;tt<g;tt++){let xe=j[tt].g;const wt=j[tt].map;if(xe-=V,0>xe)V=Math.max(0,j[tt].g-100),Be=!1;else try{Yn(wt,Z,"req"+xe+"_")}catch{S&&S(wt)}}if(Be){S=Z.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,S}function yu(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ee||I(),ae||(ee(),ae=!0),Ue.add(p,u),u.v=0}}function Tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ft(C(u.Fa,u),wl(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ft(C(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),ra(this),vu(this))};function cr(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function vu(u){u.g=new Ht(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=rn(u.qa);Ge(p,"RID","rpc"),Ge(p,"SID",u.K),Ge(p,"AID",u.T),Ge(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(p,"TO",u.ja),Ge(p,"TYPE","xmlhttp"),ur(u,p),u.m&&u.o&&Tt(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=nr(rn(p)),g.m=null,g.P=!0,di(g,u)}s.Za=function(){this.C!=null&&(this.C=null,ra(this),Tl(this),et(19))};function la(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Eu(u,p){var g=null;if(u.g==p){la(u),cr(u),u.g=null;var S=2}else if(dl(u.h,p))g=p.D,Vt(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var j=u.B;S=Ws(),ze(S,new _t(S,g)),aa(u)}else yu(u);else if(j=p.s,j==3||j==0&&0<p.X||!(S==1&&Mh(u,p)||S==2&&Tl(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),j){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function wl(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function Ei(u,p){if(u.j.info("Error code "+p),p==2){var g=C(u.fb,u),S=u.Xa;const j=!S;S=new dt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||tr(S,"https"),nr(S),j?sr(S.toString(),g):Rn(S.toString(),g)}else et(2);u.G=0,u.l&&u.l.sa(p),Su(u),gu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Su(u){if(u.G=0,u.ka=[],u.l){const p=pl(u.h);(p.length!=0||u.i.length!=0)&&(ne(u.ka,p),ne(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function bu(u,p,g){var S=g instanceof dt?rn(g):new dt(g);if(S.g!="")p&&(S.g=p+"."+S.g),is(S,S.s);else{var j=m.location;S=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var V=new dt(null);S&&tr(V,S),p&&(V.g=p),j&&is(V,j),g&&(V.l=g),S=V}return g=u.D,p=u.ya,g&&p&&Ge(S,g,p),Ge(S,"VER",u.la),ur(u,S),S}function Tu(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new He(new ss({eb:g})):new He(u.pa),p.Ha(u.J),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Kt(u,p){rt.call(this),this.g=new sa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!_e(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_e(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new rs(this)}Y(Kt,rt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Sl(this.g)},Kt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=xn(u),u=g);p.i.push(new hu(p.Ya++,u)),p.G==3&&aa(p)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,Kt.aa.N.call(this)};function Au(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}Y(Au,hi);function Cu(){ul.call(this),this.status=1}Y(Cu,ul);function rs(u){this.g=u}Y(rs,wu),rs.prototype.ua=function(){ze(this.g,"a")},rs.prototype.ta=function(u){ze(this.g,new Au(u))},rs.prototype.sa=function(u){ze(this.g,new Cu)},rs.prototype.ra=function(){ze(this.g,"b")},Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,ts.COMPLETE="complete",ru.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",rt.prototype.listen=rt.prototype.K,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const pv="@firebase/firestore",mv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new ch("@firebase/firestore");function Un(s,...e){if(Xa.logLevel<=Pe.DEBUG){const i=e.map(Up);Xa.debug(`Firestore (${Ko}): ${s}`,...i)}}function a1(s,...e){if(Xa.logLevel<=Pe.ERROR){const i=e.map(Up);Xa.error(`Firestore (${Ko}): ${s}`,...i)}}function dA(s,...e){if(Xa.logLevel<=Pe.WARN){const i=e.map(Up);Xa.warn(`Firestore (${Ko}): ${s}`,...i)}}function Up(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,l1(s,a,i)}function l1(s,e,i){let a=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw a1(a),new Error(a)}function So(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||l1(e,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class De extends Yi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Gt.UNAUTHENTICATED)))}shutdown(){}}class mA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class gA{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){So(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new bo,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},m=v=>{Un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>m(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Un("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new bo)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(Un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(So(typeof a.accessToken=="string",31837,{l:a}),new o1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return So(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class _A{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new _A(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$t(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){So(this.o===void 0,3512);const a=h=>{h.error!=null&&Un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,Un("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{Un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):Un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(So(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=EA(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function js(s,e){return s<e?-1:s>e?1:0}function bA(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),h=e.charAt(a);if(o!==h)return Pd(o)===Pd(h)?js(o,h):Pd(o)?1:-1}return js(s.length,e.length)}const TA=55296,wA=57343;function Pd(s){const e=s.charCodeAt(0);return e>=TA&&e<=wA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="__name__";class ni{constructor(e,i,a){i===void 0?i=0:i>e.length&&Mo(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Mo(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ni.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return js(e.length,i.length)}static compareSegments(e,i){const a=ni.isNumericId(e),o=ni.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ni.extractNumericId(e).compare(ni.extractNumericId(i)):bA(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lp.fromString(e.substring(4,e.length-2))}}class Mn extends ni{construct(e,i,a){return new Mn(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new De(Oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Mn(i)}static emptyPath(){return new Mn([])}}const AA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nr extends ni{construct(e,i,a){return new Nr(e,i,a)}static isValidIdentifier(e){return AA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_v}static keyField(){return new Nr([_v])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new De(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new De(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new De(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(h(),o++)}if(h(),d)throw new De(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nr(i)}static emptyPath(){return new Nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.path=e}static fromPath(e){return new Ir(Mn.fromString(e))}static fromName(e){return new Ir(Mn.fromString(e).popFirst(5))}static empty(){return new Ir(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Mn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ir(new Mn(e.slice()))}}function CA(s,e,i,a){if(e===!0&&a===!0)throw new De(Oe.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function xA(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function NA(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Mo(12329,{type:typeof s})}function RA(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new De(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=NA(s);throw new De(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Wo(s,e){if(!xA(s))throw new De(Oe.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new De(Oe.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=-62135596800,vv=1e6;class ii{static now(){return ii.fromMillis(Date.now())}static fromDate(e){return ii.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*vv);return new ii(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new De(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new De(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<yv)throw new De(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(e){return this.seconds===e.seconds?js(this.nanoseconds,e.nanoseconds):js(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ii._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wo(e,ii._jsonSchema))return new ii(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ii._jsonSchemaVersion="firestore/timestamp/1.0",ii._jsonSchema={type:gt("string",ii._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};function IA(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new OA("Invalid base64 string: "+h):h}})(e);return new Pr(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Pr(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return js(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const np="(default)";class Wc{constructor(e,i){this.projectId=e,this.database=i||np}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===np}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i=null,a=[],o=[],h=null,d="F",m=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=m,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MA(s){return new DA(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ev,Re;(Re=Ev||(Ev={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Lp([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=1048576;function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&Un("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,m=new jp(e,i,d,o,h);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Sv,bv;(bv=Sv||(Sv={})).Ma="default",bv.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firestore.googleapis.com",wv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u1,this.ssl=wv}else this.host=e.host,this.ssl=e.ssl??wv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LA)throw new De(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jA(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new De(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new De(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new De(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class c1{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new pA;switch(a.type){case"firstParty":return new yA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new De(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Tv.get(i);a&&(Un("ComponentProvider","Removing Datastore"),Tv.delete(i),a.terminate())})(this),Promise.resolve()}}function PA(s,e,i,a={}){s=RA(s,c1);const o=Vr(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${i}`;o&&(yp(`https://${m}`),vp("Firestore",!0)),h.host!==u1&&h.host!==m&&dA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:m,ssl:o,emulatorOptions:a};if(!Ls(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,T;if(typeof a.mockUserToken=="string")_=a.mockUserToken,T=Gt.MOCK_USER;else{_=y0(a.mockUserToken,s._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new De(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Gt(R)}s._authCredentials=new mA(new o1(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Pp(this.firestore,e,this._query)}}class ri{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}toJSON(){return{type:ri._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Wo(i,ri._jsonSchema))return new ri(e,a||null,new Ir(Mn.fromString(i.referencePath)))}}ri._jsonSchemaVersion="firestore/documentReference/1.0",ri._jsonSchema={type:gt("string",ri._jsonSchemaVersion),referencePath:gt("string")};class Bp extends Pp{constructor(e,i,a){super(e,i,MA(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new Ir(e))}withConverter(e){return new Bp(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="AsyncQueue";class xv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UA(this,"async_queue_retry"),this._c=()=>{const a=Bd();a&&Un(Cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new bo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!IA(e))throw e;Un(Cv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,a1("INTERNAL UNHANDLED ERROR: ",Nv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=jp.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Mo(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Nv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class BA extends c1{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new xv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xv(e),this._firestoreClient=void 0,await e}}}function zA(s,e){const i=typeof s=="object"?s:Tp(),a=typeof s=="string"?s:np,o=hh(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=m0("firestore");h&&PA(o,...h)}return o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(Pr.fromBase64String(e))}catch(i){throw new De(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ui(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wo(e,Ui._jsonSchema))return Ui.fromBase64String(e.bytes)}}Ui._jsonSchemaVersion="firestore/bytes/1.0",Ui._jsonSchema={type:gt("string",Ui._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new De(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new De(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new De(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return js(this._lat,e._lat)||js(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mr._jsonSchemaVersion}}static fromJSON(e){if(Wo(e,Mr._jsonSchema))return new Mr(e.latitude,e.longitude)}}Mr._jsonSchemaVersion="firestore/geoPoint/1.0",Mr._jsonSchema={type:gt("string",Mr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wo(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new kr(e.vectorValues);throw new De(Oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:gt("string",kr._jsonSchemaVersion),vectorValues:gt("object")};const HA=new RegExp("[~\\*/\\[\\]]");function VA(s,e,i){if(e.search(HA)>=0)throw Rv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new h1(...e.split("."))._internalPath}catch{throw Rv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Rv(s,e,i,a,o){let h=`Function ${e}() called with invalid data`;h+=". ";let d="";return new De(Oe.INVALID_ARGUMENT,h+s+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(d1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qA extends f1{data(){return super.data()}}function d1(s,e){return typeof e=="string"?VA(s,e):e instanceof h1?e._internalPath:e._delegate._internalPath}class Rc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends f1{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(d1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:gt("string",Ha._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Uc extends Ha{data(e={}){return super.data(e)}}class To{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Rc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Uc(this._firestore,this._userDataWriter,a.key,a,new Rc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new De(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const v=new Uc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Rc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>h||m.type!==3)).map((m=>{const v=new Uc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Rc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:GA(m.type),doc:v,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=To._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=SA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GA(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mo(61501,{type:s})}}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:gt("string",To._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};(function(e,i=!0){(function(o){Ko=o})(qr),Lr(new Us("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),m=new BA(new gA(a.getProvider("auth-internal")),new vA(d,a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new De(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(_.options.projectId,T)})(d,o),d);return h={useFetchStreams:i,...h},m._setSettings(h),m}),"PUBLIC").setMultipleInstances(!0)),ai(pv,mv,e),ai(pv,mv,"esm2020")})();var Iv={};const Ov="@firebase/database",Dv="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1="";function FA(s){p1=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Et(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ro(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Xi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new YA(e)}}catch{}return new XA},Or=m1("localStorage"),KA=m1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new ch("@firebase/database"),WA=(function(){let s=1;return function(){return s++}})(),g1=function(s){const e=Bb(s),i=new Lb;i.update(e);const a=i.digest();return gp.encodeByteArray(a)},Qo=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=Qo.apply(null,a):typeof a=="object"?e+=Et(a):e+=a,e+=" "}return e};let wo=null,Mv=!0;const QA=function(s,e){J(!0,"Can't turn on custom loggers persistently."),Va.logLevel=Pe.VERBOSE,wo=Va.log.bind(Va)},zt=function(...s){if(Mv===!0&&(Mv=!1,wo===null&&KA.get("logging_enabled")===!0&&QA()),wo){const e=Qo.apply(null,s);wo(e)}},Zo=function(s){return function(...e){zt(s,...e)}},ip=function(...s){const e="FIREBASE INTERNAL ERROR: "+Qo(...s);Va.error(e)},Gi=function(...s){const e=`FIREBASE FATAL ERROR: ${Qo(...s)}`;throw Va.error(e),new Error(e)},tn=function(...s){const e="FIREBASE WARNING: "+Qo(...s);Va.warn(e)},ZA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_1=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},JA=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Ka="[MIN_NAME]",Br="[MAX_NAME]",el=function(s,e){if(s===e)return 0;if(s===Ka||e===Br)return-1;if(e===Ka||s===Br)return 1;{const i=kv(s),a=kv(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},$A=function(s,e){return s===e?0:s<e?-1:1},fo=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+Et(e))},zp=function(s){if(typeof s!="object"||s===null)return Et(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=Et(e[a]),i+=":",i+=zp(s[e[a]]);return i+="}",i},y1=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function nn(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const v1=function(s){J(!_1(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,h,d,m,v;s===0?(h=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),a),h=m+a,d=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(h=0,d=Math.round(s/Math.pow(2,1-a-i))));const _=[];for(v=i;v;v-=1)_.push(d%2?1:0),d=Math.floor(d/2);for(v=e;v;v-=1)_.push(h%2?1:0),h=Math.floor(h/2);_.push(o?1:0),_.reverse();const T=_.join("");let R="";for(v=0;v<64;v+=8){let C=parseInt(T.substr(v,8),2).toString(16);C.length===1&&(C="0"+C),R=R+C}return R.toLowerCase()},eC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nC(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const iC=new RegExp("^-?(0*)\\d{1,10}$"),sC=-2147483648,rC=2147483647,kv=function(s){if(iC.test(s)){const e=Number(s);if(e>=sC&&e<=rC)return e}return null},tl=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw tn("Exception was thrown by user callback.",i),e},Math.floor(0))}},aC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ao=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,$t(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){tn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tn(e)}}class jc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="5",E1="v",S1="s",b1="r",T1="f",w1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,A1="ls",C1="p",sp="ac",x1="websocket",N1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,i,a,o,h=!1,d="",m=!1,v=!1,_=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=h,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=v,this.emulatorOptions=_,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Or.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Or.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function uC(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function I1(s,e,i){J(typeof e=="string","typeof type must == string"),J(typeof i=="object","typeof params must == object");let a;if(e===x1)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===N1)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);uC(s)&&(i.ns=s.namespace);const o=[];return nn(i,(h,d)=>{o.push(h+"="+d)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.counters_={}}incrementCounter(e,i=1){Xi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return gb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd={},Hd={};function Vp(s){const e=s.toString();return zd[e]||(zd[e]=new cC),zd[e]}function hC(s,e){const i=s.toString();return Hd[i]||(Hd[i]=e()),Hd[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&tl(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="start",dC="close",pC="pLPCommand",mC="pRTLPCB",O1="id",D1="pw",M1="ser",gC="cb",_C="seg",yC="ts",vC="d",EC="dframe",k1=1870,L1=30,SC=k1-L1,bC=25e3,TC=3e4;class ja{constructor(e,i,a,o,h,d,m){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=h,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zo(e),this.stats_=Vp(i),this.urlFn=v=>(this.appCheckToken&&(v[sp]=this.appCheckToken),I1(i,N1,v))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new fC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TC)),JA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qp((...h)=>{const[d,m,v,_,T]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Lv)this.id=m,this.password=v;else if(d===dC)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...h)=>{const[d,m]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const a={};a[Lv]="t",a[M1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[gC]=this.scriptTagHolder.uniqueCallbackIdentifier),a[E1]=Hp,this.transportSessionId&&(a[S1]=this.transportSessionId),this.lastSessionId&&(a[A1]=this.lastSessionId),this.applicationId&&(a[C1]=this.applicationId),this.appCheckToken&&(a[sp]=this.appCheckToken),typeof location<"u"&&location.hostname&&w1.test(location.hostname)&&(a[b1]=T1);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ja.forceAllow_=!0}static forceDisallow(){ja.forceDisallow_=!0}static isAvailable(){return ja.forceAllow_?!0:!ja.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!eC()&&!tC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Et(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=f0(i),o=y1(a,SC);for(let h=0;h<o.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[h]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[EC]="t",a[O1]=e,a[D1]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Et(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class qp{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WA(),window[pC+this.uniqueCallbackIdentifier]=e,window[mC+this.uniqueCallbackIdentifier]=i,this.myIFrame=qp.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){zt("frame writing exception"),m.stack&&zt(m.stack),zt(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||zt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[O1]=this.myID,e[D1]=this.myPW,e[M1]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+L1+a.length<=k1;){const d=this.pendingSegs.shift();a=a+"&"+_C+o+"="+d.seg+"&"+yC+o+"="+d.ts+"&"+vC+o+"="+d.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(bC)),h=()=>{clearTimeout(o),a()};this.addTag(e,h)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=16384,AC=45e3;let Qc=null;typeof MozWebSocket<"u"?Qc=MozWebSocket:typeof WebSocket<"u"&&(Qc=WebSocket);class kn{constructor(e,i,a,o,h,d,m){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zo(this.connId),this.stats_=Vp(i),this.connURL=kn.connectionURL_(i,d,m,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,h){const d={};return d[E1]=Hp,typeof location<"u"&&location.hostname&&w1.test(location.hostname)&&(d[b1]=T1),i&&(d[S1]=i),a&&(d[A1]=a),o&&(d[sp]=o),h&&(d[C1]=h),I1(e,x1,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Or.set("previous_websocket_failure",!0);try{let a;xb(),this.mySock=new Qc(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){kn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&Qc!==null&&!kn.forceDisallow_}static previouslyFailed(){return Or.isInMemoryStorage||Or.get("previous_websocket_failure")===!0}markConnectionHealthy(){Or.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Ro(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(J(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=Et(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=y1(i,wC);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AC))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}kn.responsesRequiredToBeHealthy=2;kn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static get ALL_TRANSPORTS(){return[ja,kn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=kn&&kn.isAvailable();let a=i&&!kn.previouslyFailed();if(e.webSocketOnly&&(i||tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[kn];else{const o=this.transports_=[];for(const h of ko.ALL_TRANSPORTS)h&&h.isAvailable()&&o.push(h);ko.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ko.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=6e4,xC=5e3,NC=10*1024,RC=100*1024,Vd="t",Uv="d",IC="s",jv="r",OC="e",Pv="o",Bv="a",zv="n",Hv="p",DC="h";class MC{constructor(e,i,a,o,h,d,m,v,_,T){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=h,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=v,this.onKill_=_,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zo("c:"+this.id+":"),this.transportManager_=new ko(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ao(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>RC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>NC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vd in e){const i=e[Vd];i===Bv?this.upgradeIfSecondaryHealthy_():i===jv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Pv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=fo("t",e),a=fo("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Bv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=fo("t",e),a=fo("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=fo(Vd,e);if(Uv in e){const a=e[Uv];if(i===DC){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===zv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===IC?this.onConnectionShutdown_(a):i===jv?this.onReset_(a):i===OC?ip("Server Error: "+a):i===Pv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ip("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Hp!==a&&tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Ao(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(CC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ao(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Or.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let h=0;h<o.length;h++)if(o[h].callback===i&&(!a||a===o[h].context)){o.splice(h,1);return}}validateEventType_(e){J(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends j1{static getInstance(){return new Zc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ep()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=32,qv=768;class We{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Le(){return new We("")}function Ce(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ps(s){return s.pieces_.length-s.pieceNum_}function Je(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new We(s.pieces_,e)}function P1(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function kC(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function B1(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function z1(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new We(e,0)}function St(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof We)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new We(i,0)}function Ae(s){return s.pieceNum_>=s.pieces_.length}function Ft(s,e){const i=Ce(s),a=Ce(e);if(i===null)return e;if(i===a)return Ft(Je(s),Je(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function H1(s,e){if(Ps(s)!==Ps(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function jn(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(Ps(s)>Ps(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class LC{constructor(e,i){this.errorPrefix_=i,this.parts_=B1(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=uh(this.parts_[a]);V1(this)}}function UC(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=uh(e),V1(s)}function jC(s){const e=s.parts_.pop();s.byteLength_-=uh(e),s.parts_.length>0&&(s.byteLength_-=1)}function V1(s){if(s.byteLength_>qv)throw new Error(s.errorPrefix_+"has a key path longer than "+qv+" bytes ("+s.byteLength_+").");if(s.parts_.length>Vv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vv+") or object contains a cycle "+xr(s))}function xr(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends j1{static getInstance(){return new Gp}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=1e3,PC=300*1e3,Gv=30*1e3,BC=1.3,zC=3e4,HC="server_kill",Fv=3;class Hi extends U1{constructor(e,i,a,o,h,d,m,v){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=h,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=Hi.nextPersistentConnectionId_++,this.log_=Zo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=po,this.maxReconnectDelay_=PC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,h={r:o,a:e,b:i};this.log_(Et(h)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new oh,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),i.promise}listen(e,i,a,o){this.initConnection_();const h=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+h),this.listens.has(d)||this.listens.set(d,new Map),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(d).has(h),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(d).set(h,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const h={p:a},d="q";e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest(d,h,m=>{const v=m.d,_=m.s;Hi.warnOnListenWarnings_(v,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",m),_!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(_,v))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Xi(e,"w")){const a=Ya(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||kb(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=Mb(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const h=o.s,d=o.d||"error";this.authToken_===e&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const h={p:e},d="n";o&&(h.q=a,h.t=o),this.sendRequest(d,h)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const h={p:i,d:a};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,h){this.initConnection_();const d={p:i,d:a};h!==void 0&&(d.h=h),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const h=a.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Et(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):ip("Unrecognized action received from server: "+Et(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=po,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=po,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zC&&(this.reconnectDelay_=po),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*BC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Hi.nextConnectionId_++,h=this.lastSessionId;let d=!1,m=null;const v=function(){m?m.close():(d=!0,a())},_=function(R){J(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(R)};this.realtime_={close:v,sendRequest:_};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[R,C]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);d?zt("getToken() completed but was canceled"):(zt("getToken() completed. Creating connection."),this.authToken_=R&&R.accessToken,this.appCheckToken_=C&&C.token,m=new MC(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,K=>{tn(K+" ("+this.repoInfo_.toString()+")"),this.interrupt(HC)},h))}catch(R){this.log_("Failed to get token: "+R),d||(this.repoInfo_.nodeAdmin&&tn(R),v())}}}interrupt(e){zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xd(this.interruptReasons_)&&(this.reconnectDelay_=po,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(h=>zp(h)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new We(e).toString();let o;if(this.listens.has(a)){const h=this.listens.get(a);o=h.get(i),h.delete(i),h.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){zt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fv&&(this.reconnectDelay_=Gv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){zt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+p1.replace(/\./g,"-")]=1,Ep()?e["framework.cordova"]=1:v0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zc.getInstance().currentlyOnline();return Xd(this.interruptReasons_)&&e}}Hi.nextPersistentConnectionId_=0;Hi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new be(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new be(Ka,e),o=new be(Ka,i);return this.compare(a,o)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;class q1 extends mh{static get __EMPTY_NODE(){return Ic}static set __EMPTY_NODE(e){Ic=e}compare(e,i){return el(e.name,i.name)}isDefinedOn(e){throw Za("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return be.MIN}maxPost(){return new be(Br,Ic)}makePost(e,i){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,Ic)}toString(){return".key"}}const qa=new q1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,i,a,o,h=null){this.isReverse_=o,this.resultGenerator_=h,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=i?a(e.key,i):1,o&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??It.RED,this.left=o??en.EMPTY_NODE,this.right=h??en.EMPTY_NODE}copy(e,i,a,o,h){return new It(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return h<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class VC{copy(e,i,a,o,h){return this}insert(e,i,a){return new It(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class en{constructor(e,i=en.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new en(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new en(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Oc(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Oc(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Oc(this.root_,null,this.comparator_,!0,e)}}en.EMPTY_NODE=new VC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(s,e){return el(s.name,e.name)}function Fp(s,e){return el(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp;function GC(s){rp=s}const G1=function(s){return typeof s=="number"?"number:"+v1(s):"string:"+s},F1=function(s){if(s.isLeafNode()){const e=s.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Xi(e,".sv"),"Priority must be a string or number.")}else J(s===rp||s.isEmpty(),"priority of unexpected type.");J(s===rp||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yv;class Rt{static set __childrenNodeConstructor(e){Yv=e}static get __childrenNodeConstructor(){return Yv}constructor(e,i=Rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),F1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ae(e)?this:Ce(e)===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Ce(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(J(a!==".priority"||Ps(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Je(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+G1(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=v1(this.value_):e+=this.value_,this.lazyHash_=g1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rt.__childrenNodeConstructor?-1:(J(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=Rt.VALUE_TYPE_ORDER.indexOf(i),h=Rt.VALUE_TYPE_ORDER.indexOf(a);return J(o>=0,"Unknown leaf type: "+i),J(h>=0,"Unknown leaf type: "+a),o===h?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y1,X1;function FC(s){Y1=s}function YC(s){X1=s}class XC extends mh{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),h=a.compareTo(o);return h===0?el(e.name,i.name):h}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return be.MIN}maxPost(){return new be(Br,new Rt("[PRIORITY-POST]",X1))}makePost(e,i){const a=Y1(e);return new be(i,new Rt("[PRIORITY-POST]",a))}toString(){return".priority"}}const ot=new XC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=Math.log(2);class WC{constructor(e){const i=h=>parseInt(Math.log(h)/KC,10),a=h=>parseInt(Array(h+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jc=function(s,e,i,a){s.sort(e);const o=function(v,_){const T=_-v;let R,C;if(T===0)return null;if(T===1)return R=s[v],C=i?i(R):R,new It(C,R.node,It.BLACK,null,null);{const K=parseInt(T/2,10)+v,Y=o(v,K),$=o(K+1,_);return R=s[K],C=i?i(R):R,new It(C,R.node,It.BLACK,Y,$)}},h=function(v){let _=null,T=null,R=s.length;const C=function(Y,$){const ne=R-Y,me=R;R-=Y;const _e=o(ne+1,me),ie=s[ne],ue=i?i(ie):ie;K(new It(ue,ie.node,$,null,_e))},K=function(Y){_?(_.left=Y,_=Y):(T=Y,_=Y)};for(let Y=0;Y<v.count;++Y){const $=v.nextBitIsOne(),ne=Math.pow(2,v.count-(Y+1));$?C(ne,It.BLACK):(C(ne,It.BLACK),C(ne,It.RED))}return T},d=new WC(s.length),m=h(d);return new en(a||e,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd;const Ua={};class Bi{static get Default(){return J(Ua&&ot,"ChildrenNode.ts has not been loaded"),qd=qd||new Bi({".priority":Ua},{".priority":ot}),qd}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Ya(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof en?i:null}hasIndex(e){return Xi(this.indexSet_,e.toString())}addIndex(e,i){J(e!==qa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const h=i.getIterator(be.Wrap);let d=h.getNext();for(;d;)o=o||e.isDefinedOn(d.node),a.push(d),d=h.getNext();let m;o?m=Jc(a,e.getCompare()):m=Ua;const v=e.toString(),_={...this.indexSet_};_[v]=e;const T={...this.indexes_};return T[v]=m,new Bi(T,_)}addToIndexes(e,i){const a=zc(this.indexes_,(o,h)=>{const d=Ya(this.indexSet_,h);if(J(d,"Missing index implementation for "+h),o===Ua)if(d.isDefinedOn(e.node)){const m=[],v=i.getIterator(be.Wrap);let _=v.getNext();for(;_;)_.name!==e.name&&m.push(_),_=v.getNext();return m.push(e),Jc(m,d.getCompare())}else return Ua;else{const m=i.get(e.name);let v=o;return m&&(v=v.remove(new be(e.name,m))),v.insert(e,e.node)}});return new Bi(a,this.indexSet_)}removeFromIndexes(e,i){const a=zc(this.indexes_,o=>{if(o===Ua)return o;{const h=i.get(e.name);return h?o.remove(new be(e.name,h)):o}});return new Bi(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;class de{static get EMPTY_NODE(){return mo||(mo=new de(new en(Fp),null,Bi.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&F1(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mo}updatePriority(e){return this.children_.isEmpty()?this:new de(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?mo:i}}getChild(e){const i=Ce(e);return i===null?this:this.getImmediateChild(i).getChild(Je(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(J(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new be(e,i);let o,h;i.isEmpty()?(o=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(a,this.children_));const d=o.isEmpty()?mo:this.priorityNode_;return new de(o,d,h)}}updateChild(e,i){const a=Ce(e);if(a===null)return i;{J(Ce(e)!==".priority"||Ps(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Je(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,h=!0;if(this.forEachChild(ot,(d,m)=>{i[d]=m.val(e),a++,h&&de.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):h=!1}),!e&&h&&o<2*a){const d=[];for(const m in i)d[m]=i[m];return d}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+G1(this.getPriority().val())+":"),this.forEachChild(ot,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":g1(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const h=o.getPredecessorKey(new be(e,i));return h?h.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new be(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new be(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,be.Wrap);let h=o.peek();for(;h!=null&&i.compare(h,e)<0;)o.getNext(),h=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let h=o.peek();for(;h!=null&&i.compare(h,e)>0;)o.getNext(),h=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jo?-1:0}withIndex(e){if(e===qa||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new de(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===qa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(ot),o=i.getIterator(ot);let h=a.getNext(),d=o.getNext();for(;h&&d;){if(h.name!==d.name||!h.node.equals(d.node))return!1;h=a.getNext(),d=o.getNext()}return h===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===qa?null:this.indexMap_.get(e.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class QC extends de{constructor(){super(new en(Fp),de.EMPTY_NODE,Bi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return de.EMPTY_NODE}isEmpty(){return!1}}const Jo=new QC;Object.defineProperties(be,{MIN:{value:new be(Ka,de.EMPTY_NODE)},MAX:{value:new be(Br,Jo)}});q1.__EMPTY_NODE=de.EMPTY_NODE;Rt.__childrenNodeConstructor=de;GC(Jo);YC(Jo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=!0;function Ot(s,e=null){if(s===null)return de.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Rt(i,Ot(e))}if(!(s instanceof Array)&&ZC){const i=[];let a=!1;if(nn(s,(d,m)=>{if(d.substring(0,1)!=="."){const v=Ot(m);v.isEmpty()||(a=a||!v.getPriority().isEmpty(),i.push(new be(d,v)))}}),i.length===0)return de.EMPTY_NODE;const h=Jc(i,qC,d=>d.name,Fp);if(a){const d=Jc(i,ot.getCompare());return new de(h,Ot(e),new Bi({".priority":d},{".priority":ot}))}else return new de(h,Ot(e),Bi.Default)}else{let i=de.EMPTY_NODE;return nn(s,(a,o)=>{if(Xi(s,a)&&a.substring(0,1)!=="."){const h=Ot(o);(h.isLeafNode()||!h.isEmpty())&&(i=i.updateImmediateChild(a,h))}}),i.updatePriority(Ot(e))}}FC(Ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC extends mh{constructor(e){super(),this.indexPath_=e,J(!Ae(e)&&Ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),h=a.compareTo(o);return h===0?el(e.name,i.name):h}makePost(e,i){const a=Ot(e),o=de.EMPTY_NODE.updateChild(this.indexPath_,a);return new be(i,o)}maxPost(){const e=de.EMPTY_NODE.updateChild(this.indexPath_,Jo);return new be(Br,e)}toString(){return B1(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends mh{compare(e,i){const a=e.node.compareTo(i.node);return a===0?el(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,i){const a=Ot(e);return new be(i,a)}toString(){return".value"}}const ex=new $C;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(s){return{type:"value",snapshotNode:s}}function Wa(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Lo(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Uo(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function tx(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this.index_=e}updateChild(e,i,a,o,h,d){J(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(i);return m.getChild(o).equals(a.getChild(o))&&m.isEmpty()===a.isEmpty()||(d!=null&&(a.isEmpty()?e.hasChild(i)?d.trackChildChange(Lo(i,m)):J(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(Wa(i,a)):d.trackChildChange(Uo(i,a,m))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(ot,(o,h)=>{i.hasChild(o)||a.trackChildChange(Lo(o,h))}),i.isLeafNode()||i.forEachChild(ot,(o,h)=>{if(e.hasChild(o)){const d=e.getImmediateChild(o);d.equals(h)||a.trackChildChange(Uo(o,h,d))}else a.trackChildChange(Wa(o,h))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?de.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.indexedFilter_=new Yp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=jo.getStartPost_(e),this.endPost_=jo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,h,d){return this.matches(new be(i,a))||(a=de.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,h,d)}updateFullNode(e,i,a){i.isLeafNode()&&(i=de.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(de.EMPTY_NODE);const h=this;return i.forEachChild(ot,(d,m)=>{h.matches(new be(d,m))||(o=o.updateImmediateChild(d,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new jo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,h,d){return this.rangedFilter_.matches(new be(i,a))||(a=de.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,h,d):this.fullLimitUpdateChild_(e,i,a,h,d)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=de.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;h.hasNext()&&d<this.limit_;){const m=h.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(de.EMPTY_NODE);let h;this.reverse_?h=o.getReverseIterator(this.index_):h=o.getIterator(this.index_);let d=0;for(;h.hasNext();){const m=h.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:o=o.updateImmediateChild(m.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,h){let d;if(this.reverse_){const R=this.index_.getCompare();d=(C,K)=>R(K,C)}else d=this.index_.getCompare();const m=e;J(m.numChildren()===this.limit_,"");const v=new be(i,a),_=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),T=this.rangedFilter_.matches(v);if(m.hasChild(i)){const R=m.getImmediateChild(i);let C=o.getChildAfterChild(this.index_,_,this.reverse_);for(;C!=null&&(C.name===i||m.hasChild(C.name));)C=o.getChildAfterChild(this.index_,C,this.reverse_);const K=C==null?1:d(C,v);if(T&&!a.isEmpty()&&K>=0)return h?.trackChildChange(Uo(i,a,R)),m.updateImmediateChild(i,a);{h?.trackChildChange(Lo(i,R));const $=m.updateImmediateChild(i,de.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(h?.trackChildChange(Wa(C.name,C.node)),$.updateImmediateChild(C.name,C.node)):$}}else return a.isEmpty()?e:T&&d(_,v)>=0?(h!=null&&(h.trackChildChange(Lo(_.name,_.node)),h.trackChildChange(Wa(i,a))),m.updateImmediateChild(i,a).updateImmediateChild(_.name,de.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ot}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ka}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ot}copy(){const e=new Xp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ix(s){return s.loadsAllData()?new Yp(s.getIndex()):s.hasLimit()?new nx(s):new jo(s)}function Xv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===ot?i="$priority":s.index_===ex?i="$value":s.index_===qa?i="$key":(J(s.index_ instanceof JC,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=Et(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=Et(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+Et(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=Et(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+Et(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Kv(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==ot&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends U1{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Zo("p:rest:"),this.listens_={}}listen(e,i,a,o){const h=e._path.toString();this.log_("Listen called for "+h+" "+e._queryIdentifier);const d=$c.getListenId_(e,a),m={};this.listens_[d]=m;const v=Xv(e._queryParams);this.restRequest_(h+".json",v,(_,T)=>{let R=T;if(_===404&&(R=null,_=null),_===null&&this.onDataUpdate_(h,R,!1,a),Ya(this.listens_,d)===m){let C;_?_===401?C="permission_denied":C="rest_error:"+_:C="ok",o(C,null)}})}unlisten(e,i){const a=$c.getListenId_(e,i);delete this.listens_[a]}get(e){const i=Xv(e._queryParams),a=e._path.toString(),o=new oh;return this.restRequest_(a+".json",i,(h,d)=>{let m=d;h===404&&(m=null,h=null),h===null?(this.onDataUpdate_(a,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,h])=>{o&&o.accessToken&&(i.auth=o.accessToken),h&&h.token&&(i.ac=h.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ja(i);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(a&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=Ro(m.responseText)}catch{tn("Failed to parse JSON response for "+d+": "+m.responseText)}a(null,v)}else m.status!==401&&m.status!==404&&tn("Got unsuccessful REST response for "+d+" Status: "+m.status),a(m.status);a=null}},m.open("GET",d,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(){return{value:null,children:new Map}}function W1(s,e,i){if(Ae(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=Ce(e);s.children.has(a)||s.children.set(a,eh());const o=s.children.get(a);e=Je(e),W1(o,e,i)}}function ap(s,e,i){s.value!==null?i(e,s.value):rx(s,(a,o)=>{const h=new We(e.toString()+"/"+a);ap(o,h,i)})}function rx(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&nn(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=10*1e3,lx=30*1e3,ox=300*1e3;class ux{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new ax(e);const a=Wv+(lx-Wv)*Math.random();Ao(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;nn(e,(o,h)=>{h>0&&Xi(this.statsToReport_,o)&&(i[o]=h,a=!0)}),a&&this.server_.reportStats(i),Ao(this.reportStats_.bind(this),Math.floor(Math.random()*2*ox))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pn||(Pn={}));function Q1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Kp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wp(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=Pn.ACK_USER_WRITE,this.source=Q1()}operationForChild(e){if(Ae(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new We(e));return new th(Le(),i,this.revert)}}else return J(Ce(this.path)===e,"operationForChild called for unrelated child."),new th(Je(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,i){this.source=e,this.path=i,this.type=Pn.LISTEN_COMPLETE}operationForChild(e){return Ae(this.path)?new Po(this.source,Le()):new Po(this.source,Je(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=Pn.OVERWRITE}operationForChild(e){return Ae(this.path)?new zr(this.source,Le(),this.snap.getImmediateChild(e)):new zr(this.source,Je(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=Pn.MERGE}operationForChild(e){if(Ae(this.path)){const i=this.children.subtree(new We(e));return i.isEmpty()?null:i.value?new zr(this.source,Le(),i.value):new Bo(this.source,Le(),i)}else return J(Ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bo(this.source,Je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ae(e))return this.isFullyInitialized()&&!this.filtered_;const i=Ce(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function hx(s,e,i,a){const o=[],h=[];return e.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&h.push(tx(d.childName,d.snapshotNode))}),go(s,o,"child_removed",e,a,i),go(s,o,"child_added",e,a,i),go(s,o,"child_moved",h,a,i),go(s,o,"child_changed",e,a,i),go(s,o,"value",e,a,i),o}function go(s,e,i,a,o,h){const d=a.filter(m=>m.type===i);d.sort((m,v)=>dx(s,m,v)),d.forEach(m=>{const v=fx(s,m,h);o.forEach(_=>{_.respondsTo(m.type)&&e.push(_.createEvent(v,s.query_))})})}function fx(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function dx(s,e,i){if(e.childName==null||i.childName==null)throw Za("Should only compare child_ events.");const a=new be(e.childName,e.snapshotNode),o=new be(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(s,e){return{eventCache:s,serverCache:e}}function Co(s,e,i,a){return gh(new Bs(e,i,a),s.serverCache)}function Z1(s,e,i,a){return gh(s.eventCache,new Bs(e,i,a))}function nh(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Hr(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;const px=()=>(Gd||(Gd=new en($A)),Gd);class $e{static fromObject(e){let i=new $e(null);return nn(e,(a,o)=>{i=i.set(new We(a),o)}),i}constructor(e,i=px()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Le(),value:this.value};if(Ae(e))return null;{const a=Ce(e),o=this.children.get(a);if(o!==null){const h=o.findRootMostMatchingPathAndValue(Je(e),i);return h!=null?{path:St(new We(a),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ae(e))return this;{const i=Ce(e),a=this.children.get(i);return a!==null?a.subtree(Je(e)):new $e(null)}}set(e,i){if(Ae(e))return new $e(i,this.children);{const a=Ce(e),h=(this.children.get(a)||new $e(null)).set(Je(e),i),d=this.children.insert(a,h);return new $e(this.value,d)}}remove(e){if(Ae(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const i=Ce(e),a=this.children.get(i);if(a){const o=a.remove(Je(e));let h;return o.isEmpty()?h=this.children.remove(i):h=this.children.insert(i,o),this.value===null&&h.isEmpty()?new $e(null):new $e(this.value,h)}else return this}}get(e){if(Ae(e))return this.value;{const i=Ce(e),a=this.children.get(i);return a?a.get(Je(e)):null}}setTree(e,i){if(Ae(e))return i;{const a=Ce(e),h=(this.children.get(a)||new $e(null)).setTree(Je(e),i);let d;return h.isEmpty()?d=this.children.remove(a):d=this.children.insert(a,h),new $e(this.value,d)}}fold(e){return this.fold_(Le(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,h)=>{a[o]=h.fold_(St(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,Le(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(Ae(e))return null;{const h=Ce(e),d=this.children.get(h);return d?d.findOnPath_(Je(e),St(i,h),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Le(),i)}foreachOnPath_(e,i,a){if(Ae(e))return this;{this.value&&a(i,this.value);const o=Ce(e),h=this.children.get(o);return h?h.foreachOnPath_(Je(e),St(i,o),a):new $e(null)}}foreach(e){this.foreach_(Le(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(St(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.writeTree_=e}static empty(){return new zn(new $e(null))}}function xo(s,e,i){if(Ae(e))return new zn(new $e(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let h=a.value;const d=Ft(o,e);return h=h.updateChild(d,i),new zn(s.writeTree_.set(o,h))}else{const o=new $e(i),h=s.writeTree_.setTree(e,o);return new zn(h)}}}function Qv(s,e,i){let a=s;return nn(i,(o,h)=>{a=xo(a,St(e,o),h)}),a}function Zv(s,e){if(Ae(e))return zn.empty();{const i=s.writeTree_.setTree(e,new $e(null));return new zn(i)}}function lp(s,e){return Gr(s,e)!=null}function Gr(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(Ft(i.path,e)):null}function Jv(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ot,(a,o)=>{e.push(new be(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new be(a,o.value))}),e}function Ms(s,e){if(Ae(e))return s;{const i=Gr(s,e);return i!=null?new zn(new $e(i)):new zn(s.writeTree_.subtree(e))}}function op(s){return s.writeTree_.isEmpty()}function Qa(s,e){return J1(Le(),s.writeTree_,e)}function J1(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,h)=>{o===".priority"?(J(h.value!==null,"Priority writes must always be leaf nodes"),a=h.value):i=J1(St(s,o),h,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(St(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(s,e){return nE(e,s)}function mx(s,e,i,a,o){J(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=xo(s.visibleWrites,e,i)),s.lastWriteId=a}function gx(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function _x(s,e){const i=s.allWrites.findIndex(m=>m.writeId===e);J(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,h=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const m=s.allWrites[d];m.visible&&(d>=i&&yx(m,a.path)?o=!1:jn(a.path,m.path)&&(h=!0)),d--}if(o){if(h)return vx(s),!0;if(a.snap)s.visibleWrites=Zv(s.visibleWrites,a.path);else{const m=a.children;nn(m,v=>{s.visibleWrites=Zv(s.visibleWrites,St(a.path,v))})}return!0}else return!1}function yx(s,e){if(s.snap)return jn(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&jn(St(s.path,i),e))return!0;return!1}function vx(s){s.visibleWrites=$1(s.allWrites,Ex,Le()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function Ex(s){return s.visible}function $1(s,e,i){let a=zn.empty();for(let o=0;o<s.length;++o){const h=s[o];if(e(h)){const d=h.path;let m;if(h.snap)jn(i,d)?(m=Ft(i,d),a=xo(a,m,h.snap)):jn(d,i)&&(m=Ft(d,i),a=xo(a,Le(),h.snap.getChild(m)));else if(h.children){if(jn(i,d))m=Ft(i,d),a=Qv(a,m,h.children);else if(jn(d,i))if(m=Ft(d,i),Ae(m))a=Qv(a,Le(),h.children);else{const v=Ya(h.children,Ce(m));if(v){const _=v.getChild(Je(m));a=xo(a,Le(),_)}}}else throw Za("WriteRecord should have .snap or .children")}}return a}function eE(s,e,i,a,o){if(!a&&!o){const h=Gr(s.visibleWrites,e);if(h!=null)return h;{const d=Ms(s.visibleWrites,e);if(op(d))return i;if(i==null&&!lp(d,Le()))return null;{const m=i||de.EMPTY_NODE;return Qa(d,m)}}}else{const h=Ms(s.visibleWrites,e);if(!o&&op(h))return i;if(!o&&i==null&&!lp(h,Le()))return null;{const d=function(_){return(_.visible||o)&&(!a||!~a.indexOf(_.writeId))&&(jn(_.path,e)||jn(e,_.path))},m=$1(s.allWrites,d,e),v=i||de.EMPTY_NODE;return Qa(m,v)}}}function Sx(s,e,i){let a=de.EMPTY_NODE;const o=Gr(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(ot,(h,d)=>{a=a.updateImmediateChild(h,d)}),a;if(i){const h=Ms(s.visibleWrites,e);return i.forEachChild(ot,(d,m)=>{const v=Qa(Ms(h,new We(d)),m);a=a.updateImmediateChild(d,v)}),Jv(h).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}else{const h=Ms(s.visibleWrites,e);return Jv(h).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}}function bx(s,e,i,a,o){J(a||o,"Either existingEventSnap or existingServerSnap must exist");const h=St(e,i);if(lp(s.visibleWrites,h))return null;{const d=Ms(s.visibleWrites,h);return op(d)?o.getChild(i):Qa(d,o.getChild(i))}}function Tx(s,e,i,a){const o=St(e,i),h=Gr(s.visibleWrites,o);if(h!=null)return h;if(a.isCompleteForChild(i)){const d=Ms(s.visibleWrites,o);return Qa(d,a.getNode().getImmediateChild(i))}else return null}function wx(s,e){return Gr(s.visibleWrites,e)}function Ax(s,e,i,a,o,h,d){let m;const v=Ms(s.visibleWrites,e),_=Gr(v,Le());if(_!=null)m=_;else if(i!=null)m=Qa(v,i);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const T=[],R=d.getCompare(),C=h?m.getReverseIteratorFrom(a,d):m.getIteratorFrom(a,d);let K=C.getNext();for(;K&&T.length<o;)R(K,a)!==0&&T.push(K),K=C.getNext();return T}else return[]}function Cx(){return{visibleWrites:zn.empty(),allWrites:[],lastWriteId:-1}}function ih(s,e,i,a){return eE(s.writeTree,s.treePath,e,i,a)}function Qp(s,e){return Sx(s.writeTree,s.treePath,e)}function $v(s,e,i,a){return bx(s.writeTree,s.treePath,e,i,a)}function sh(s,e){return wx(s.writeTree,St(s.treePath,e))}function xx(s,e,i,a,o,h){return Ax(s.writeTree,s.treePath,e,i,a,o,h)}function Zp(s,e,i){return Tx(s.writeTree,s.treePath,e,i)}function tE(s,e){return nE(St(s.treePath,e),s.writeTree)}function nE(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;J(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),J(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const h=o.type;if(i==="child_added"&&h==="child_removed")this.changeMap.set(a,Uo(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&h==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&h==="child_changed")this.changeMap.set(a,Lo(a,o.oldSnap));else if(i==="child_changed"&&h==="child_added")this.changeMap.set(a,Wa(a,e.snapshotNode));else if(i==="child_changed"&&h==="child_changed")this.changeMap.set(a,Uo(a,e.snapshotNode,o.oldSnap));else throw Za("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const iE=new Rx;class Jp{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new Bs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zp(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hr(this.viewCache_),h=xx(this.writes_,o,i,1,a,e);return h.length===0?null:h[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(s){return{filter:s}}function Ox(s,e){J(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function Dx(s,e,i,a,o){const h=new Nx;let d,m;if(i.type===Pn.OVERWRITE){const _=i;_.source.fromUser?d=up(s,e,_.path,_.snap,a,o,h):(J(_.source.fromServer,"Unknown source."),m=_.source.tagged||e.serverCache.isFiltered()&&!Ae(_.path),d=rh(s,e,_.path,_.snap,a,o,m,h))}else if(i.type===Pn.MERGE){const _=i;_.source.fromUser?d=kx(s,e,_.path,_.children,a,o,h):(J(_.source.fromServer,"Unknown source."),m=_.source.tagged||e.serverCache.isFiltered(),d=cp(s,e,_.path,_.children,a,o,m,h))}else if(i.type===Pn.ACK_USER_WRITE){const _=i;_.revert?d=jx(s,e,_.path,a,o,h):d=Lx(s,e,_.path,_.affectedTree,a,o,h)}else if(i.type===Pn.LISTEN_COMPLETE)d=Ux(s,e,i.path,a,h);else throw Za("Unknown operation type: "+i.type);const v=h.getChanges();return Mx(e,d,v),{viewCache:d,changes:v}}function Mx(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),h=nh(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(h)||!a.getNode().getPriority().equals(h.getPriority()))&&i.push(K1(nh(e)))}}function sE(s,e,i,a,o,h){const d=e.eventCache;if(sh(a,i)!=null)return e;{let m,v;if(Ae(i))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Hr(e),T=_ instanceof de?_:de.EMPTY_NODE,R=Qp(a,T);m=s.filter.updateFullNode(e.eventCache.getNode(),R,h)}else{const _=ih(a,Hr(e));m=s.filter.updateFullNode(e.eventCache.getNode(),_,h)}else{const _=Ce(i);if(_===".priority"){J(Ps(i)===1,"Can't have a priority with additional path components");const T=d.getNode();v=e.serverCache.getNode();const R=$v(a,i,T,v);R!=null?m=s.filter.updatePriority(T,R):m=d.getNode()}else{const T=Je(i);let R;if(d.isCompleteForChild(_)){v=e.serverCache.getNode();const C=$v(a,i,d.getNode(),v);C!=null?R=d.getNode().getImmediateChild(_).updateChild(T,C):R=d.getNode().getImmediateChild(_)}else R=Zp(a,_,e.serverCache);R!=null?m=s.filter.updateChild(d.getNode(),_,R,T,o,h):m=d.getNode()}}return Co(e,m,d.isFullyInitialized()||Ae(i),s.filter.filtersNodes())}}function rh(s,e,i,a,o,h,d,m){const v=e.serverCache;let _;const T=d?s.filter:s.filter.getIndexedFilter();if(Ae(i))_=T.updateFullNode(v.getNode(),a,null);else if(T.filtersNodes()&&!v.isFiltered()){const K=v.getNode().updateChild(i,a);_=T.updateFullNode(v.getNode(),K,null)}else{const K=Ce(i);if(!v.isCompleteForPath(i)&&Ps(i)>1)return e;const Y=Je(i),ne=v.getNode().getImmediateChild(K).updateChild(Y,a);K===".priority"?_=T.updatePriority(v.getNode(),ne):_=T.updateChild(v.getNode(),K,ne,Y,iE,null)}const R=Z1(e,_,v.isFullyInitialized()||Ae(i),T.filtersNodes()),C=new Jp(o,R,h);return sE(s,R,i,o,C,m)}function up(s,e,i,a,o,h,d){const m=e.eventCache;let v,_;const T=new Jp(o,e,h);if(Ae(i))_=s.filter.updateFullNode(e.eventCache.getNode(),a,d),v=Co(e,_,!0,s.filter.filtersNodes());else{const R=Ce(i);if(R===".priority")_=s.filter.updatePriority(e.eventCache.getNode(),a),v=Co(e,_,m.isFullyInitialized(),m.isFiltered());else{const C=Je(i),K=m.getNode().getImmediateChild(R);let Y;if(Ae(C))Y=a;else{const $=T.getCompleteChild(R);$!=null?P1(C)===".priority"&&$.getChild(z1(C)).isEmpty()?Y=$:Y=$.updateChild(C,a):Y=de.EMPTY_NODE}if(K.equals(Y))v=e;else{const $=s.filter.updateChild(m.getNode(),R,Y,C,T,d);v=Co(e,$,m.isFullyInitialized(),s.filter.filtersNodes())}}}return v}function e0(s,e){return s.eventCache.isCompleteForChild(e)}function kx(s,e,i,a,o,h,d){let m=e;return a.foreach((v,_)=>{const T=St(i,v);e0(e,Ce(T))&&(m=up(s,m,T,_,o,h,d))}),a.foreach((v,_)=>{const T=St(i,v);e0(e,Ce(T))||(m=up(s,m,T,_,o,h,d))}),m}function t0(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function cp(s,e,i,a,o,h,d,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v=e,_;Ae(i)?_=a:_=new $e(null).setTree(i,a);const T=e.serverCache.getNode();return _.children.inorderTraversal((R,C)=>{if(T.hasChild(R)){const K=e.serverCache.getNode().getImmediateChild(R),Y=t0(s,K,C);v=rh(s,v,new We(R),Y,o,h,d,m)}}),_.children.inorderTraversal((R,C)=>{const K=!e.serverCache.isCompleteForChild(R)&&C.value===null;if(!T.hasChild(R)&&!K){const Y=e.serverCache.getNode().getImmediateChild(R),$=t0(s,Y,C);v=rh(s,v,new We(R),$,o,h,d,m)}}),v}function Lx(s,e,i,a,o,h,d){if(sh(o,i)!=null)return e;const m=e.serverCache.isFiltered(),v=e.serverCache;if(a.value!=null){if(Ae(i)&&v.isFullyInitialized()||v.isCompleteForPath(i))return rh(s,e,i,v.getNode().getChild(i),o,h,m,d);if(Ae(i)){let _=new $e(null);return v.getNode().forEachChild(qa,(T,R)=>{_=_.set(new We(T),R)}),cp(s,e,i,_,o,h,m,d)}else return e}else{let _=new $e(null);return a.foreach((T,R)=>{const C=St(i,T);v.isCompleteForPath(C)&&(_=_.set(T,v.getNode().getChild(C)))}),cp(s,e,i,_,o,h,m,d)}}function Ux(s,e,i,a,o){const h=e.serverCache,d=Z1(e,h.getNode(),h.isFullyInitialized()||Ae(i),h.isFiltered());return sE(s,d,i,a,iE,o)}function jx(s,e,i,a,o,h){let d;if(sh(a,i)!=null)return e;{const m=new Jp(a,e,o),v=e.eventCache.getNode();let _;if(Ae(i)||Ce(i)===".priority"){let T;if(e.serverCache.isFullyInitialized())T=ih(a,Hr(e));else{const R=e.serverCache.getNode();J(R instanceof de,"serverChildren would be complete if leaf node"),T=Qp(a,R)}T=T,_=s.filter.updateFullNode(v,T,h)}else{const T=Ce(i);let R=Zp(a,T,e.serverCache);R==null&&e.serverCache.isCompleteForChild(T)&&(R=v.getImmediateChild(T)),R!=null?_=s.filter.updateChild(v,T,R,Je(i),m,h):e.eventCache.getNode().hasChild(T)?_=s.filter.updateChild(v,T,de.EMPTY_NODE,Je(i),m,h):_=v,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=ih(a,Hr(e)),d.isLeafNode()&&(_=s.filter.updateFullNode(_,d,h)))}return d=e.serverCache.isFullyInitialized()||sh(a,Le())!=null,Co(e,_,d,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Yp(a.getIndex()),h=ix(a);this.processor_=Ix(h);const d=i.serverCache,m=i.eventCache,v=o.updateFullNode(de.EMPTY_NODE,d.getNode(),null),_=h.updateFullNode(de.EMPTY_NODE,m.getNode(),null),T=new Bs(v,d.isFullyInitialized(),o.filtersNodes()),R=new Bs(_,m.isFullyInitialized(),h.filtersNodes());this.viewCache_=gh(R,T),this.eventGenerator_=new cx(this.query_)}get query(){return this.query_}}function Bx(s){return s.viewCache_.serverCache.getNode()}function zx(s){return nh(s.viewCache_)}function Hx(s,e){const i=Hr(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!Ae(e)&&!i.getImmediateChild(Ce(e)).isEmpty())?i.getChild(e):null}function n0(s){return s.eventRegistrations_.length===0}function Vx(s,e){s.eventRegistrations_.push(e)}function i0(s,e,i){const a=[];if(i){J(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(h=>{const d=h.createCancelEvent(i,o);d&&a.push(d)})}if(e){let o=[];for(let h=0;h<s.eventRegistrations_.length;++h){const d=s.eventRegistrations_[h];if(!d.matches(e))o.push(d);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(h+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function s0(s,e,i,a){e.type===Pn.MERGE&&e.source.queryId!==null&&(J(Hr(s.viewCache_),"We should always have a full cache before handling merges"),J(nh(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,h=Dx(s.processor_,o,e,i,a);return Ox(s.processor_,h.viewCache),J(h.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=h.viewCache,rE(s,h.changes,h.viewCache.eventCache.getNode(),null)}function qx(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ot,(h,d)=>{a.push(Wa(h,d))}),i.isFullyInitialized()&&a.push(K1(i.getNode())),rE(s,a,i.getNode(),e)}function rE(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return hx(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;class aE{constructor(){this.views=new Map}}function Gx(s){J(!ah,"__referenceConstructor has already been defined"),ah=s}function Fx(){return J(ah,"Reference.ts has not been loaded"),ah}function Yx(s){return s.views.size===0}function $p(s,e,i,a){const o=e.source.queryId;if(o!==null){const h=s.views.get(o);return J(h!=null,"SyncTree gave us an op for an invalid query."),s0(h,e,i,a)}else{let h=[];for(const d of s.views.values())h=h.concat(s0(d,e,i,a));return h}}function lE(s,e,i,a,o){const h=e._queryIdentifier,d=s.views.get(h);if(!d){let m=ih(i,o?a:null),v=!1;m?v=!0:a instanceof de?(m=Qp(i,a),v=!1):(m=de.EMPTY_NODE,v=!1);const _=gh(new Bs(m,v,!1),new Bs(a,o,!1));return new Px(e,_)}return d}function Xx(s,e,i,a,o,h){const d=lE(s,e,a,o,h);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,d),Vx(d,i),qx(d,i)}function Kx(s,e,i,a){const o=e._queryIdentifier,h=[];let d=[];const m=zs(s);if(o==="default")for(const[v,_]of s.views.entries())d=d.concat(i0(_,i,a)),n0(_)&&(s.views.delete(v),_.query._queryParams.loadsAllData()||h.push(_.query));else{const v=s.views.get(o);v&&(d=d.concat(i0(v,i,a)),n0(v)&&(s.views.delete(o),v.query._queryParams.loadsAllData()||h.push(v.query)))}return m&&!zs(s)&&h.push(new(Fx())(e._repo,e._path)),{removed:h,events:d}}function oE(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function ks(s,e){let i=null;for(const a of s.views.values())i=i||Hx(a,e);return i}function uE(s,e){if(e._queryParams.loadsAllData())return yh(s);{const a=e._queryIdentifier;return s.views.get(a)}}function cE(s,e){return uE(s,e)!=null}function zs(s){return yh(s)!=null}function yh(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh;function Wx(s){J(!lh,"__referenceConstructor has already been defined"),lh=s}function Qx(){return J(lh,"Reference.ts has not been loaded"),lh}let Zx=1;class r0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=Cx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hE(s,e,i,a,o){return mx(s.pendingWriteTree_,e,i,a,o),o?eu(s,new zr(Q1(),e,i)):[]}function Dr(s,e,i=!1){const a=gx(s.pendingWriteTree_,e);if(_x(s.pendingWriteTree_,e)){let h=new $e(null);return a.snap!=null?h=h.set(Le(),!0):nn(a.children,d=>{h=h.set(new We(d),!0)}),eu(s,new th(a.path,h,i))}else return[]}function $o(s,e,i){return eu(s,new zr(Kp(),e,i))}function Jx(s,e,i){const a=$e.fromObject(i);return eu(s,new Bo(Kp(),e,a))}function $x(s,e){return eu(s,new Po(Kp(),e))}function eN(s,e,i){const a=tm(s,i);if(a){const o=nm(a),h=o.path,d=o.queryId,m=Ft(h,e),v=new Po(Wp(d),m);return im(s,h,v)}else return[]}function fE(s,e,i,a,o=!1){const h=e._path,d=s.syncPointTree_.get(h);let m=[];if(d&&(e._queryIdentifier==="default"||cE(d,e))){const v=Kx(d,e,i,a);Yx(d)&&(s.syncPointTree_=s.syncPointTree_.remove(h));const _=v.removed;if(m=v.events,!o){const T=_.findIndex(C=>C._queryParams.loadsAllData())!==-1,R=s.syncPointTree_.findOnPath(h,(C,K)=>zs(K));if(T&&!R){const C=s.syncPointTree_.subtree(h);if(!C.isEmpty()){const K=sN(C);for(let Y=0;Y<K.length;++Y){const $=K[Y],ne=$.query,me=gE(s,$);s.listenProvider_.startListening(No(ne),zo(s,ne),me.hashFn,me.onComplete)}}}!R&&_.length>0&&!a&&(T?s.listenProvider_.stopListening(No(e),null):_.forEach(C=>{const K=s.queryToTagMap.get(vh(C));s.listenProvider_.stopListening(No(C),K)}))}rN(s,_)}return m}function dE(s,e,i,a){const o=tm(s,a);if(o!=null){const h=nm(o),d=h.path,m=h.queryId,v=Ft(d,e),_=new zr(Wp(m),v,i);return im(s,d,_)}else return[]}function tN(s,e,i,a){const o=tm(s,a);if(o){const h=nm(o),d=h.path,m=h.queryId,v=Ft(d,e),_=$e.fromObject(i),T=new Bo(Wp(m),v,_);return im(s,d,T)}else return[]}function nN(s,e,i,a=!1){const o=e._path;let h=null,d=!1;s.syncPointTree_.foreachOnPath(o,(C,K)=>{const Y=Ft(C,o);h=h||ks(K,Y),d=d||zs(K)});let m=s.syncPointTree_.get(o);m?(d=d||zs(m),h=h||ks(m,Le())):(m=new aE,s.syncPointTree_=s.syncPointTree_.set(o,m));let v;h!=null?v=!0:(v=!1,h=de.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((K,Y)=>{const $=ks(Y,Le());$&&(h=h.updateImmediateChild(K,$))}));const _=cE(m,e);if(!_&&!e._queryParams.loadsAllData()){const C=vh(e);J(!s.queryToTagMap.has(C),"View does not exist, but we have a tag");const K=aN();s.queryToTagMap.set(C,K),s.tagToQueryMap.set(K,C)}const T=_h(s.pendingWriteTree_,o);let R=Xx(m,e,i,T,h,v);if(!_&&!d&&!a){const C=uE(m,e);R=R.concat(lN(s,e,C))}return R}function em(s,e,i){const o=s.pendingWriteTree_,h=s.syncPointTree_.findOnPath(e,(d,m)=>{const v=Ft(d,e),_=ks(m,v);if(_)return _});return eE(o,e,h,i,!0)}function iN(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(_,T)=>{const R=Ft(_,i);a=a||ks(T,R)});let o=s.syncPointTree_.get(i);o?a=a||ks(o,Le()):(o=new aE,s.syncPointTree_=s.syncPointTree_.set(i,o));const h=a!=null,d=h?new Bs(a,!0,!1):null,m=_h(s.pendingWriteTree_,e._path),v=lE(o,e,m,h?d.getNode():de.EMPTY_NODE,h);return zx(v)}function eu(s,e){return pE(e,s.syncPointTree_,null,_h(s.pendingWriteTree_,Le()))}function pE(s,e,i,a){if(Ae(s.path))return mE(s,e,i,a);{const o=e.get(Le());i==null&&o!=null&&(i=ks(o,Le()));let h=[];const d=Ce(s.path),m=s.operationForChild(d),v=e.children.get(d);if(v&&m){const _=i?i.getImmediateChild(d):null,T=tE(a,d);h=h.concat(pE(m,v,_,T))}return o&&(h=h.concat($p(o,s,a,i))),h}}function mE(s,e,i,a){const o=e.get(Le());i==null&&o!=null&&(i=ks(o,Le()));let h=[];return e.children.inorderTraversal((d,m)=>{const v=i?i.getImmediateChild(d):null,_=tE(a,d),T=s.operationForChild(d);T&&(h=h.concat(mE(T,m,v,_)))}),o&&(h=h.concat($p(o,s,a,i))),h}function gE(s,e){const i=e.query,a=zo(s,i);return{hashFn:()=>(Bx(e)||de.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?eN(s,i._path,a):$x(s,i._path);{const h=nC(o,i);return fE(s,i,null,h)}}}}function zo(s,e){const i=vh(e);return s.queryToTagMap.get(i)}function vh(s){return s._path.toString()+"$"+s._queryIdentifier}function tm(s,e){return s.tagToQueryMap.get(e)}function nm(s){const e=s.indexOf("$");return J(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new We(s.substr(0,e))}}function im(s,e,i){const a=s.syncPointTree_.get(e);J(a,"Missing sync point for query tag that we're tracking");const o=_h(s.pendingWriteTree_,e);return $p(a,i,o,null)}function sN(s){return s.fold((e,i,a)=>{if(i&&zs(i))return[yh(i)];{let o=[];return i&&(o=oE(i)),nn(a,(h,d)=>{o=o.concat(d)}),o}})}function No(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(Qx())(s._repo,s._path):s}function rN(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=vh(a),h=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(h)}}}function aN(){return Zx++}function lN(s,e,i){const a=e._path,o=zo(s,e),h=gE(s,i),d=s.listenProvider_.startListening(No(e),o,h.hashFn,h.onComplete),m=s.syncPointTree_.subtree(a);if(o)J(!zs(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((_,T,R)=>{if(!Ae(_)&&T&&zs(T))return[yh(T).query];{let C=[];return T&&(C=C.concat(oE(T).map(K=>K.query))),nn(R,(K,Y)=>{C=C.concat(Y)}),C}});for(let _=0;_<v.length;++_){const T=v[_];s.listenProvider_.stopListening(No(T),zo(s,T))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new sm(i)}node(){return this.node_}}class rm{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=St(this.path_,e);return new rm(this.syncTree_,i)}node(){return em(this.syncTree_,this.path_)}}const oN=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},a0=function(s,e,i){if(!s||typeof s!="object")return s;if(J(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return uN(s[".sv"],e,i);if(typeof s[".sv"]=="object")return cN(s[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},uN=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:J(!1,"Unexpected server value: "+s)}},cN=function(s,e,i){s.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&J(!1,"Unexpected increment value: "+a);const o=e.node();if(J(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const d=o.getValue();return typeof d!="number"?a:d+a},hN=function(s,e,i,a){return am(e,new rm(i,s),a)},_E=function(s,e,i){return am(s,new sm(e),i)};function am(s,e,i){const a=s.getPriority().val(),o=a0(a,e.getImmediateChild(".priority"),i);let h;if(s.isLeafNode()){const d=s,m=a0(d.getValue(),e,i);return m!==d.getValue()||o!==d.getPriority().val()?new Rt(m,Ot(o)):s}else{const d=s;return h=d,o!==d.getPriority().val()&&(h=h.updatePriority(new Rt(o))),d.forEachChild(ot,(m,v)=>{const _=am(v,e.getImmediateChild(m),i);_!==v&&(h=h.updateImmediateChild(m,_))}),h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function om(s,e){let i=e instanceof We?e:new We(e),a=s,o=Ce(i);for(;o!==null;){const h=Ya(a.node.children,o)||{children:{},childCount:0};a=new lm(o,a,h),i=Je(i),o=Ce(i)}return a}function nl(s){return s.node.value}function yE(s,e){s.node.value=e,hp(s)}function vE(s){return s.node.childCount>0}function fN(s){return nl(s)===void 0&&!vE(s)}function Eh(s,e){nn(s.node.children,(i,a)=>{e(new lm(i,s,a))})}function EE(s,e,i,a){i&&e(s),Eh(s,o=>{EE(o,e,!0)})}function dN(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function tu(s){return new We(s.parent===null?s.name:tu(s.parent)+"/"+s.name)}function hp(s){s.parent!==null&&pN(s.parent,s.name,s)}function pN(s,e,i){const a=fN(i),o=Xi(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,hp(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,hp(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/[\[\].#$\/\u0000-\u001F\u007F]/,gN=/[\[\].#$\u0000-\u001F\u007F]/,Fd=10*1024*1024,SE=function(s){return typeof s=="string"&&s.length!==0&&!mN.test(s)},bE=function(s){return typeof s=="string"&&s.length!==0&&!gN.test(s)},_N=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),bE(s)},yN=function(s,e,i,a){um(Sp(s,"value"),e,i)},um=function(s,e,i){const a=i instanceof We?new LC(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+xr(a));if(typeof e=="function")throw new Error(s+"contains a function "+xr(a)+" with contents = "+e.toString());if(_1(e))throw new Error(s+"contains "+e.toString()+" "+xr(a));if(typeof e=="string"&&e.length>Fd/3&&uh(e)>Fd)throw new Error(s+"contains a string greater than "+Fd+" utf8 bytes "+xr(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,h=!1;if(nn(e,(d,m)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(h=!0,!SE(d)))throw new Error(s+" contains an invalid key ("+d+") "+xr(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);UC(a,d),um(s,m,a),jC(a)}),o&&h)throw new Error(s+' contains ".value" child '+xr(a)+" in addition to actual children.")}},TE=function(s,e,i,a){if(!bE(i))throw new Error(Sp(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vN=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),TE(s,e,i)},EN=function(s,e){if(Ce(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},SN=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!SE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!_N(i))throw new Error(Sp(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wE(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],h=o.getPath();i!==null&&!H1(h,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:h}),i.events.push(o)}i&&s.eventLists_.push(i)}function oi(s,e,i){wE(s,i),TN(s,a=>jn(a,e)||jn(e,a))}function TN(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const h=o.path;e(h)?(wN(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function wN(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();wo&&zt("event: "+i.toString()),tl(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="repo_interrupt",CN=25;class xN{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=eh(),this.transactionQueueTree_=new lm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NN(s,e,i){if(s.stats_=Vp(s.repoInfo_),s.forceRestClient_||aC())s.server_=new $c(s.repoInfo_,(a,o,h,d)=>{l0(s,a,o,h,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>o0(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Hi(s.repoInfo_,e,(a,o,h,d)=>{l0(s,a,o,h,d)},a=>{o0(s,a)},a=>{IN(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=hC(s.repoInfo_,()=>new ux(s.stats_,s.server_)),s.infoData_=new sx,s.infoSyncTree_=new r0({startListening:(a,o,h,d)=>{let m=[];const v=s.infoData_.getNode(a._path);return v.isEmpty()||(m=$o(s.infoSyncTree_,a._path,v),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),hm(s,"connected",!1),s.serverSyncTree_=new r0({startListening:(a,o,h,d)=>(s.server_.listen(a,h,o,(m,v)=>{const _=d(m,v);oi(s.eventQueue_,a._path,_)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function RN(s){const i=s.infoData_.getNode(new We(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function cm(s){return oN({timestamp:RN(s)})}function l0(s,e,i,a,o){s.dataUpdateCount++;const h=new We(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let d=[];if(o)if(a){const v=zc(i,_=>Ot(_));d=tN(s.serverSyncTree_,h,v,o)}else{const v=Ot(i);d=dE(s.serverSyncTree_,h,v,o)}else if(a){const v=zc(i,_=>Ot(_));d=Jx(s.serverSyncTree_,h,v)}else{const v=Ot(i);d=$o(s.serverSyncTree_,h,v)}let m=h;d.length>0&&(m=bh(s,h)),oi(s.eventQueue_,m,d)}function o0(s,e){hm(s,"connected",e),e===!1&&MN(s)}function IN(s,e){nn(e,(i,a)=>{hm(s,i,a)})}function hm(s,e,i){const a=new We("/.info/"+e),o=Ot(i);s.infoData_.updateSnapshot(a,o);const h=$o(s.infoSyncTree_,a,o);oi(s.eventQueue_,a,h)}function AE(s){return s.nextWriteId_++}function ON(s,e,i){const a=iN(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(o=>{const h=Ot(o).withIndex(e._queryParams.getIndex());nN(s.serverSyncTree_,e,i,!0);let d;if(e._queryParams.loadsAllData())d=$o(s.serverSyncTree_,e._path,h);else{const m=zo(s.serverSyncTree_,e);d=dE(s.serverSyncTree_,e._path,h,m)}return oi(s.eventQueue_,e._path,d),fE(s.serverSyncTree_,e,i,null,!0),h},o=>(Sh(s,"get for query "+Et(e)+" failed: "+o),Promise.reject(new Error(o))))}function DN(s,e,i,a,o){Sh(s,"set",{path:e.toString(),value:i,priority:a});const h=cm(s),d=Ot(i,a),m=em(s.serverSyncTree_,e),v=_E(d,m,h),_=AE(s),T=hE(s.serverSyncTree_,e,v,_,!0);wE(s.eventQueue_,T),s.server_.put(e.toString(),d.val(!0),(C,K)=>{const Y=C==="ok";Y||tn("set at "+e+" failed: "+C);const $=Dr(s.serverSyncTree_,_,!Y);oi(s.eventQueue_,e,$),LN(s,o,C,K)});const R=IE(s,e);bh(s,R),oi(s.eventQueue_,R,[])}function MN(s){Sh(s,"onDisconnectEvents");const e=cm(s),i=eh();ap(s.onDisconnect_,Le(),(o,h)=>{const d=hN(o,h,s.serverSyncTree_,e);W1(i,o,d)});let a=[];ap(i,Le(),(o,h)=>{a=a.concat($o(s.serverSyncTree_,o,h));const d=IE(s,o);bh(s,d)}),s.onDisconnect_=eh(),oi(s.eventQueue_,Le(),a)}function kN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(AN)}function Sh(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),zt(i,...e)}function LN(s,e,i,a){e&&tl(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let h=o;a&&(h+=": "+a);const d=new Error(h);d.code=o,e(d)}})}function CE(s,e,i){return em(s.serverSyncTree_,e,i)||de.EMPTY_NODE}function fm(s,e=s.transactionQueueTree_){if(e||Th(s,e),nl(e)){const i=NE(s,e);J(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&UN(s,tu(e),i)}else vE(e)&&Eh(e,i=>{fm(s,i)})}function UN(s,e,i){const a=i.map(_=>_.currentWriteId),o=CE(s,e,a);let h=o;const d=o.hash();for(let _=0;_<i.length;_++){const T=i[_];J(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const R=Ft(e,T.path);h=h.updateChild(R,T.currentOutputSnapshotRaw)}const m=h.val(!0),v=e;s.server_.put(v.toString(),m,_=>{Sh(s,"transaction put response",{path:v.toString(),status:_});let T=[];if(_==="ok"){const R=[];for(let C=0;C<i.length;C++)i[C].status=2,T=T.concat(Dr(s.serverSyncTree_,i[C].currentWriteId)),i[C].onComplete&&R.push(()=>i[C].onComplete(null,!0,i[C].currentOutputSnapshotResolved)),i[C].unwatcher();Th(s,om(s.transactionQueueTree_,e)),fm(s,s.transactionQueueTree_),oi(s.eventQueue_,e,T);for(let C=0;C<R.length;C++)tl(R[C])}else{if(_==="datastale")for(let R=0;R<i.length;R++)i[R].status===3?i[R].status=4:i[R].status=0;else{tn("transaction at "+v.toString()+" failed: "+_);for(let R=0;R<i.length;R++)i[R].status=4,i[R].abortReason=_}bh(s,e)}},d)}function bh(s,e){const i=xE(s,e),a=tu(i),o=NE(s,i);return jN(s,o,a),a}function jN(s,e,i){if(e.length===0)return;const a=[];let o=[];const d=e.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const v=e[m],_=Ft(i,v.path);let T=!1,R;if(J(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)T=!0,R=v.abortReason,o=o.concat(Dr(s.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=CN)T=!0,R="maxretry",o=o.concat(Dr(s.serverSyncTree_,v.currentWriteId,!0));else{const C=CE(s,v.path,d);v.currentInputSnapshot=C;const K=e[m].update(C.val());if(K!==void 0){um("transaction failed: Data returned ",K,v.path);let Y=Ot(K);typeof K=="object"&&K!=null&&Xi(K,".priority")||(Y=Y.updatePriority(C.getPriority()));const ne=v.currentWriteId,me=cm(s),_e=_E(Y,C,me);v.currentOutputSnapshotRaw=Y,v.currentOutputSnapshotResolved=_e,v.currentWriteId=AE(s),d.splice(d.indexOf(ne),1),o=o.concat(hE(s.serverSyncTree_,v.path,_e,v.currentWriteId,v.applyLocally)),o=o.concat(Dr(s.serverSyncTree_,ne,!0))}else T=!0,R="nodata",o=o.concat(Dr(s.serverSyncTree_,v.currentWriteId,!0))}oi(s.eventQueue_,i,o),o=[],T&&(e[m].status=2,(function(C){setTimeout(C,Math.floor(0))})(e[m].unwatcher),e[m].onComplete&&(R==="nodata"?a.push(()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot)):a.push(()=>e[m].onComplete(new Error(R),!1,null))))}Th(s,s.transactionQueueTree_);for(let m=0;m<a.length;m++)tl(a[m]);fm(s,s.transactionQueueTree_)}function xE(s,e){let i,a=s.transactionQueueTree_;for(i=Ce(e);i!==null&&nl(a)===void 0;)a=om(a,i),e=Je(e),i=Ce(e);return a}function NE(s,e){const i=[];return RE(s,e,i),i.sort((a,o)=>a.order-o.order),i}function RE(s,e,i){const a=nl(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);Eh(e,o=>{RE(s,o,i)})}function Th(s,e){const i=nl(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,yE(e,i.length>0?i:void 0)}Eh(e,a=>{Th(s,a)})}function IE(s,e){const i=tu(xE(s,e)),a=om(s.transactionQueueTree_,e);return dN(a,o=>{Yd(s,o)}),Yd(s,a),EE(a,o=>{Yd(s,o)}),i}function Yd(s,e){const i=nl(e);if(i){const a=[];let o=[],h=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(J(h===d-1,"All SENT items should be at beginning of queue."),h=d,i[d].status=3,i[d].abortReason="set"):(J(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),o=o.concat(Dr(s.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&a.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));h===-1?yE(e,void 0):i.length=h+1,oi(s.eventQueue_,tu(e),o);for(let d=0;d<a.length;d++)tl(a[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function BN(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):tn(`Invalid query segment '${i}' in query '${s}'`)}return e}const u0=function(s,e){const i=zN(s),a=i.namespace;i.domain==="firebase.com"&&Gi(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Gi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||ZA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new R1(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new We(i.pathString)}},zN=function(s){let e="",i="",a="",o="",h="",d=!0,m="https",v=443;if(typeof s=="string"){let _=s.indexOf("//");_>=0&&(m=s.substring(0,_-1),s=s.substring(_+2));let T=s.indexOf("/");T===-1&&(T=s.length);let R=s.indexOf("?");R===-1&&(R=s.length),e=s.substring(0,Math.min(T,R)),T<R&&(o=PN(s.substring(T,R)));const C=BN(s.substring(Math.min(s.length,R)));_=e.indexOf(":"),_>=0?(d=m==="https"||m==="wss",v=parseInt(e.substring(_+1),10)):_=e.length;const K=e.slice(0,_);if(K.toLowerCase()==="localhost")i="localhost";else if(K.split(".").length<=2)i=K;else{const Y=e.indexOf(".");a=e.substring(0,Y).toLowerCase(),i=e.substring(Y+1),h=a}"ns"in C&&(h=C.ns)}return{host:e,port:v,domain:i,subdomain:a,secure:d,scheme:m,pathString:o,namespace:h}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())}}class VN{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return Ae(this._path)?null:P1(this._path)}get ref(){return new Zi(this._repo,this._path)}get _queryIdentifier(){const e=Kv(this._queryParams),i=zp(e);return i==="{}"?"default":i}get _queryObject(){return Kv(this._queryParams)}isEqual(e){if(e=Xt(e),!(e instanceof dm))return!1;const i=this._repo===e._repo,a=H1(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+kC(this._path)}}class Zi extends dm{constructor(e,i){super(e,i,new Xp,!1)}get parent(){const e=z1(this._path);return e===null?null:new Zi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ho{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new We(e),a=fp(this.ref,e);return new Ho(this._node.getChild(i),a,ot)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new Ho(o,fp(this.ref,a),ot)))}hasChild(e){const i=new We(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ga(s,e){return s=Xt(s),s._checkNotDeleted("ref"),e!==void 0?fp(s._root,e):s._root}function fp(s,e){return s=Xt(s),Ce(s._path)===null?vN("child","path",e):TE("child","path",e),new Zi(s._repo,St(s._path,e))}function pm(s,e){s=Xt(s),EN("set",s._path),yN("set",e,s._path);const i=new oh;return DN(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function dp(s){s=Xt(s);const e=new qN(()=>{}),i=new mm(e);return ON(s._repo,s,i).then(a=>new Ho(a,new Zi(s._repo,s._path),s._queryParams.getIndex()))}class mm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new HN("value",this,new Ho(e.snapshotNode,new Zi(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new VN(this,e,i):null}matches(e){return e instanceof mm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Gx(Zi);Wx(Zi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="FIREBASE_DATABASE_EMULATOR_HOST",pp={};let FN=!1;function YN(s,e,i,a){const o=e.lastIndexOf(":"),h=e.substring(0,o),d=Vr(h);s.repoInfo_=new R1(e,d,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function XN(s,e,i,a,o){let h=a||s.options.databaseURL;h===void 0&&(s.options.projectId||Gi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zt("Using default host for project ",s.options.projectId),h=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=u0(h,o),m=d.repoInfo,v;typeof process<"u"&&Iv&&(v=Iv[GN]),v?(h=`http://${v}?ns=${m.namespace}`,d=u0(h,o),m=d.repoInfo):d.repoInfo.secure;const _=new oC(s.name,s.options,e);SN("Invalid Firebase Database URL",d),Ae(d.path)||Gi("Database URL must point to the root of a Firebase Database (not including a child path).");const T=WN(m,s,_,new lC(s,i));return new QN(T,s)}function KN(s,e){const i=pp[e];(!i||i[s.key]!==s)&&Gi(`Database ${e}(${s.repoInfo_}) has already been deleted.`),kN(s),delete i[s.key]}function WN(s,e,i,a){let o=pp[e.name];o||(o={},pp[e.name]=o);let h=o[s.toURLString()];return h&&Gi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new xN(s,FN,i,a),o[s.toURLString()]=h,h}class QN{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zi(this._repo,Le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gi("Cannot call "+e+" on a deleted database.")}}function ZN(s=Tp(),e){const i=hh(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=m0("database");a&&JN(i,...a)}return i}function JN(s,e,i,a={}){s=Xt(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,h=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Ls(a,h.repoInfo_.emulatorOptions))return;Gi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(h.repoInfo_.nodeAdmin)a.mockUserToken&&Gi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new jc(jc.OWNER);else if(a.mockUserToken){const m=typeof a.mockUserToken=="string"?a.mockUserToken:y0(a.mockUserToken,s.app.options.projectId);d=new jc(m)}Vr(e)&&(yp(e),vp("Database",!0)),YN(h,o,a,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(s){FA(qr),Lr(new Us("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),h=e.getProvider("app-check-internal");return XN(a,o,h,i)},"PUBLIC").setMultipleInstances(!0)),ai(Ov,Dv,s),ai(Ov,Dv,"esm2020")}Hi.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Hi.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};$N();const eR={apiKey:"AIzaSyD_b9wrt2arX4Kn4lVpamW4CCvjRzh4HfQ",authDomain:"foodshare-6b9cd.firebaseapp.com",projectId:"foodshare-6b9cd",storageBucket:"foodshare-6b9cd.firebasestorage.app",messagingSenderId:"915356278039",appId:"1:915356278039:web:0bf110f0398bcc34bf2b52",databaseURL:"https://foodshare-6b9cd-default-rtdb.asia-southeast1.firebasedatabase.app",measurementId:"G-V2DB7H8229"},gm=T0(eR),Fi=uA(gm);zA(gm);const Fa=ZN(gm),il="/FoodShare_MINIProjuct/assets/Logo-Km2Q-M3Q.png";function tR({onFinish:s}){const[e,i]=Ie.useState(!0),[a,o]=Ie.useState(!1);return Ie.useEffect(()=>{const h=setTimeout(()=>o(!0),1800),d=setTimeout(()=>{i(!1),s()},2e3);return()=>{clearTimeout(h),clearTimeout(d)}},[s]),e?b.jsx("div",{className:"w-full h-screen bg-[#2e2eff] font-sans text-white flex justify-center ",children:b.jsxs("div",{className:`text-center mt-[250px] transition-all duration-500 ${a?"animate-slide-up-fade":""}`,children:[b.jsx("img",{src:il,alt:"Logo",className:"w-24 h-auto mx-auto mb-3"}),b.jsx("h1",{className:"text-2xl font-bold tracking-widest",children:"MA THAN"})]})}):null}const OE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMaSURBVHgBrVRdSFRBFP5m5m676UplBkU/mhWVRj9G9EOmQj30EoJFRUQQVC/RDz0EQbBBRFRQTxEEBRUWWyEJgfWi2C+oqVSi66qtf6WVrZard70z09zrdblua/XggcO9M3POd8535pwBJlnIBPtUqTTVtxoZiGIlU4tBhg8X36PVYSP+B1DLzwf8LhTPSkIR+pWjtOFN62lAG4c/8yl2m7ZKjb8B0pICrCn0opp/g2CadR5vIwWHoKlgLw0U5JahIp5aLLNH+cgpZKgW/eAmmBAqLzMHr9JkpYo3V5lyM2cVpjSIjviA1PE1iryoEjo4kaBSOY7MRsPpbizLDsF9rgzsWC+yh2ajzjUD2oFmpF0OImQX4w8hoefum3wb4TJHUdoC0bkd5xOwsP5PZGC6Xb+JRXZ6hAx4hHFWE5GtqB0LNFYO/FtozNB3GAsQVs7fJdhBDWe6jCKMbwtj45W3gWg4/DMBDGFJqW5Wfjn3zbOHfRagB9qC2OUrmGu30Ia42rTrS5cYelfC1LiYhRTBNqvfUguQMoM4WY21nFMkiduz1qMEBBUmqoxRHuEIWi2hTFhEx8k9nnQ8GG53UEaG+1NAd/f+ssApYVE9il6euYpRA4y5lDtpgDMR+cWjo2XYdejrNqnPTGu8m3s/2z6XSDARa32V5V2RmXlUpeGdM48ETqYSu2KjBJpq2N113Xtlp0ihfRG+fN+9ggs2GHWAWfYrjz+5FIpm5hHVsobqWtbRXOKohG2YD3rw+oGRnsawQQmlfKqLzp8Wra+6VLt3kRYKtLaCkrkLM7ecyXpcH9yYVfX6CLzJ7cKTvoa1HqXEDiacdWa7fYtXiR2ba4bafnDlzszRc6clkaRkNWtqdCKDEtG+IU5dQ9Q97OWVTX4tPXBqffWdq+/GWMRfJtl1dllO8p4N1T2NA5wxYU/tuPuWOtfk3CwvJf5Xa2/7gnXOy0v4fJnRdvrz/ClL5+8KDxgw9NFiTlEvxvQ0RetjyN9y48X+igprm4/LCIklNiWbClcsinoHszWdQXcN1tcWfw7ZfgQJHthJl9/L/jKeg65HLwAAAABJRU5ErkJggg==";function nR({onSignUpClick:s,onForgotPasswordClick:e,onLoginSuccess:i}){const[a,o]=Ie.useState(!1),[h,d]=Ie.useState(!1),[m,v]=Ie.useState(""),[_,T]=Ie.useState("");Ie.useEffect(()=>{const $=setTimeout(()=>o(!0),100);return()=>clearTimeout($)},[]);const R=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
      <circle cx="12" cy="12" r="3"/>
    </svg>
  `),C=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 
      a18.2 18.2 0 0 1 2.53-3.69"/>
      <path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/>
      <path d="M3 3l18 18"/>
    </svg>
  `),K=async $=>{$.preventDefault();try{const me=(await Qw(Fi,m,_)).user,_e=await dp(Ga(Fa,"users/"+me.uid));let ie={};_e.exists()&&(ie=_e.val()),console.log("Login success!",me.email),i&&i({email:me.email,uid:me.uid,...ie})}catch(ne){console.error("Login error:",ne.code,ne.message),ne.code==="auth/user-not-found"?alert("ไม่พบบัญชีนี้ กรุณาสมัครก่อน ❌"):ne.code==="auth/wrong-password"?alert("รหัสผ่านไม่ถูกต้อง ❌"):ne.code==="auth/invalid-credential"?alert("อีเมลหรือรหัสผ่านไม่ถูกต้อง ❌"):alert("เกิดข้อผิดพลาด: "+ne.message)}},Y=async()=>{const $=new si;try{const me=(await s1(Fi,$)).user;(await dp(Ga(Fa,"users/"+me.uid))).exists()||await pm(Ga(Fa,"users/"+me.uid),{email:me.email,name:me.displayName||"",uid:me.uid}),i&&i({email:me.email,name:me.displayName,uid:me.uid})}catch(ne){console.error(ne),alert(ne.message)}};return b.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[b.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[b.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Log In"}),b.jsx("p",{className:"text-white text-sm",children:"Please sign in to your existing account"})]}),b.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:b.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[b.jsxs("form",{onSubmit:K,children:[b.jsxs("div",{className:"mt-6 mb-4",children:[b.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),b.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:m,onChange:$=>v($.target.value)})]}),b.jsxs("div",{className:"mb-4 relative",children:[b.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),b.jsx("input",{type:h?"text":"password",id:"password",placeholder:"Enter your password",className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:_,onChange:$=>T($.target.value)}),b.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${h?C:R}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>d(!h)})]}),b.jsxs("div",{className:"flex justify-between items-center mb-6 text-sm",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"remember-me",className:"form-checkbox text-[#2e2eff] rounded border-gray-300 focus:ring-[#2e2eff]"}),b.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-gray-700",children:"Remember me"})]}),b.jsx("button",{type:"button",onClick:e,className:"text-[#2e2eff] font-medium",children:"Forgot Password"})]}),b.jsx("div",{className:"flex flex-col items-center mt-16",children:b.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"LOG IN"})})]}),b.jsxs("div",{className:"relative flex items-center justify-center my-4",children:[b.jsx("span",{className:"absolute text-gray-400 bg-white px-2",children:"or"}),b.jsx("hr",{className:"w-full border-t border-gray-300"})]}),b.jsx("div",{className:"flex justify-center mt-4",children:b.jsxs("button",{onClick:Y,className:"flex items-center justify-center w-[200px] py-3 bg-white text-gray-600 font-medium rounded-[4vw] border border-gray-300 shadow transition hover:bg-gray-100",children:[b.jsx("img",{src:OE,alt:"Google",className:"h-5 w-5 mr-2"}),"Google"]})}),b.jsx("div",{className:"flex justify-center mt-6 text-sm",children:b.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",b.jsx("button",{onClick:s,className:"text-[#2e2eff] font-medium",children:"SIGN UP"})]})})]})})]})}function iR({onLoginClick:s,onGoogleClick:e,onRegisterClick:i,onLoginSuccess:a}){const[o,h]=Ie.useState(!1);Ie.useEffect(()=>{const m=setTimeout(()=>h(!0),100);return()=>clearTimeout(m)},[]);const d=async()=>{const m=new si;try{const _=(await s1(Fi,m)).user;console.log("Google login user:",_),alert("Google Login Success!"),a&&a(_)}catch(v){console.error(v),alert(v.message)}};return b.jsxs("div",{className:"w-full h-screen bg-[#2e2eff] font-sans flex flex-col justify-between items-center px-6 py-8",children:[b.jsxs("div",{className:`flex flex-col items-center mt-12 transition-all duration-700 ease-out 
                       ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[b.jsx("img",{src:il,alt:"MA THAN Logo",className:"w-20 h-20 mb-2"}),b.jsx("div",{className:"text-white text-base font-bold",children:"MA THAN"})]}),b.jsxs("div",{className:`flex flex-col items-center w-full max-w-sm mt-[-180px] transition-all duration-700 ease-out delay-200
                       ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[b.jsx("h1",{className:"text-white text-3xl font-bold mb-2",children:"Log In"}),b.jsx("p",{className:"text-white text-center mb-6",children:"Please sign in with your student email to continue."}),b.jsx("button",{onClick:s,className:"w-[300px] h-[70px] py-3 bg-white text-[#2e2eff] rounded-[4vw] text-lg font-medium mb-4 shadow hover:bg-gray-100 transition",children:"Sign in with Email"}),b.jsxs("button",{onClick:d,className:"w-[150px] py-3 bg-white text-[#2e2eff] flex items-center justify-center rounded-[4vw] text-sm font-medium shadow hover:bg-gray-100 transition",children:[b.jsx("img",{src:OE,alt:"Google",className:"w-5 h-5 mr-2"}),"Google"]})]}),b.jsx("button",{onClick:i,className:`text-white text-sm hover:underline mb-4 transition-all duration-700 ease-out delay-400
                    ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:"Create an Account"})]})}function sR({onBackToLogin:s}){const[e,i]=Ie.useState(!1),[a,o]=Ie.useState(!1),[h,d]=Ie.useState(!1),[m,v]=Ie.useState(""),[_,T]=Ie.useState(""),[R,C]=Ie.useState(""),[K,Y]=Ie.useState(""),[$,ne]=Ie.useState(!1);Ie.useEffect(()=>{const ue=setTimeout(()=>i(!0),100);return()=>clearTimeout(ue)},[]);const me=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none"  stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>'),_e=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 a18.2 18.2 0 0 1 2.53-3.69"/><path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/><path d="M3 3l18 18"/></svg>'),ie=async ue=>{if(ue.preventDefault(),R!==K){alert("Passwords do not match!");return}try{ne(!0);const Me=(await Ww(Fi,_,R)).user;await pm(Ga(Fa,"users/"+Me.uid),{name:m,email:_,uid:Me.uid,createdAt:new Date().toISOString()}),await Dp(Fi),setTimeout(()=>{ne(!1),alert("Sign Up Success! Please login."),s()},1e3)}catch(he){console.error(he),ne(!1),alert(he.message)}};return $?b.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-[#2e2eff] text-white",children:[b.jsx("div",{className:"loader border-t-4 border-b-4 border-white rounded-full w-12 h-12 animate-spin mb-4"}),b.jsx("p",{className:"text-lg font-medium",children:"Signing up, please wait..."})]}):b.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[b.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out ${e?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[b.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Sign Up"}),b.jsx("p",{className:"text-white text-sm",children:"Create an account to get started"})]}),b.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200 ${e?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:b.jsx("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:b.jsxs("form",{onSubmit:ie,children:[b.jsxs("div",{className:"mt-6 mb-4",children:[b.jsx("label",{htmlFor:"name",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"NAME"}),b.jsx("input",{type:"text",id:"name",placeholder:"John Doe",value:m,onChange:ue=>v(ue.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),b.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:_,onChange:ue=>T(ue.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),b.jsxs("div",{className:"mb-4 relative",children:[b.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),b.jsx("input",{type:a?"text":"password",id:"password",placeholder:"Enter your password",value:R,onChange:ue=>C(ue.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),b.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${a?_e:me}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>o(!a)})]}),b.jsxs("div",{className:"mb-6 relative",children:[b.jsx("label",{htmlFor:"retype-password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"RE-TYPE PASSWORD"}),b.jsx("input",{type:h?"text":"password",id:"retype-password",placeholder:"Re-enter your password",value:K,onChange:ue=>Y(ue.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),b.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${h?_e:me}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>d(!h)})]}),b.jsxs("div",{className:"flex flex-col items-center mt-8",children:[b.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SIGN UP"}),b.jsx("button",{type:"button",onClick:s,className:"w-[250px] flex justify-center py-3 text-[#2e2eff] font-medium rounded-[4vw] border border-[#2e2eff] hover:bg-white hover:text-[#2e2eff] transition",children:"Back to Login"})]})]})})})]})}function rR({onBackToLogin:s}){const[e,i]=Ie.useState(!1),[a,o]=Ie.useState("");Ie.useEffect(()=>{const d=setTimeout(()=>i(!0),100);return()=>clearTimeout(d)},[]);const h=async d=>{if(d.preventDefault(),!a)return alert("Please enter your email!");try{await Kw(Fi,a),alert("Password reset email sent! Check your inbox."),s()}catch(m){console.error(m),alert(m.message)}};return b.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[b.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${e?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[b.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Forgot Password"}),b.jsx("p",{className:"text-white text-sm",children:"Enter your email to reset your password"})]}),b.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${e?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:b.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[b.jsxs("form",{onSubmit:h,children:[b.jsxs("div",{className:"mt-6 mb-4",children:[b.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),b.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:a,onChange:d=>o(d.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),b.jsx("div",{className:"flex flex-col items-center mt-8",children:b.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SEND RESET EMAIL"})})]}),b.jsx("div",{className:"flex justify-center mt-6 text-sm",children:b.jsx("button",{onClick:s,className:"text-[#2e2eff] font-medium",children:"Back to Login"})})]})})]})}function aR({userData:s,onLogout:e}){const i=async()=>{try{await Dp(Fi),e()}catch(a){console.error(a),alert("Logout failed: "+a.message)}};return b.jsxs("div",{className:"min-h-screen bg-[#2e2eff] flex flex-col items-center justify-start p-8",children:[b.jsxs("div",{className:"text-center mt-12 text-white",children:[b.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome, ",s.name||s.email]}),b.jsx("p",{className:"text-lg text-gray-200",children:"Your account details"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-10 w-full max-w-md",children:[b.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Profile Information"}),b.jsxs("div",{className:"space-y-2 text-gray-700",children:[b.jsxs("p",{children:[b.jsx("span",{className:"font-bold",children:"UID:"})," ",s.uid]}),b.jsxs("p",{children:[b.jsx("span",{className:"font-bold",children:"Name:"})," ",s.name||"-"]}),b.jsxs("p",{children:[b.jsx("span",{className:"font-bold",children:"Email:"})," ",s.email]}),b.jsxs("p",{children:[b.jsx("span",{className:"font-bold",children:"Created At:"})," ",s.createdAt||"-"]})]})]}),b.jsx("button",{onClick:i,className:"mt-10 px-6 py-3 bg-white text-[#2e2eff] font-bold rounded-lg shadow hover:bg-gray-100 transition",children:"Logout"})]})}const Vo="/FoodShare_MINIProjuct/assets/profile-CN0Wr-CP.jpg",lR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87-Dk8nk2Qa.png",oR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B8%99%E0%B8%A1-DDcJMfBx.png",uR="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%94%E0%B8%B7%E0%B9%88%E0%B8%A1-skj4bCgd.png",cR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A3%E0%B8%B0%E0%B9%80%E0%B8%9E%E0%B8%A3%E0%B8%B2-CxgV-7-f.png";function hR({userData:s,onLogout:e,onGoToDashboard:i,onGoToMenu:a,onGoToNotifications:o,onGoToProfile:h,onBack:d}){return b.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[b.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("img",{src:il,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),b.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),b.jsx("div",{className:"flex items-center space-x-4",children:b.jsx("img",{src:Vo,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:h})})]}),b.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[b.jsx("div",{className:"my-4 animate-fadeIn",children:b.jsxs("h1",{className:"text-[16px] md:text-2xl font-bold text-gray-800",children:["HEY! HELLO,"," ",b.jsx("span",{className:"text-[#2e2eff]",children:"Good Afternoon!"})]})}),b.jsxs("div",{className:"relative my-4 w-full  mx-auto",children:[b.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] transition-shadow duration-300 hover:shadow-md text-base md:text-lg"}),b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),b.jsxs("section",{className:"my-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"All Categories"}),b.jsx("a",{href:"#",className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),b.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 gap-6",children:[{name:"Lunch Boxes",img:lR},{name:"Snacks",img:oR},{name:"Beverages",img:uR}].map((m,v)=>b.jsxs("div",{className:"flex flex-col items-center bg-white w-full cursor-pointer transform transition duration-300 shadow-md hover:scale-105 hover:shadow-xl rounded-xl p-4",children:[b.jsx("img",{src:m.img,alt:m.name,className:"w-20 h-20 md:w-28 md:h-28 object-contain rounded-lg"}),b.jsx("span",{className:"mt-2 text-sm md:text-base text-center font-medium",children:m.name})]},v))})]}),b.jsxs("section",{className:"my-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"What's Being Shared Nearby?"}),b.jsx("a",{href:"#",className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map((m,v)=>b.jsxs("div",{className:"bg-gray-100 rounded-xl overflow-hidden shadow-md hover:shadow-xl transform transition duration-300 hover:-translate-y-1",children:[b.jsx("img",{src:cR,alt:"Post",className:"w-full h-48 md:h-56 object-cover"}),b.jsxs("div",{className:"p-4",children:[b.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800",children:"ข้าวหมูทอด - ข้าวกล่องจากกิจกรรม"}),b.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📍 หอพักชาย - หอตาหลา - ใต้หอพัก"}),b.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📅 วันผลิต - 22/2/2222 หมดอายุ - 24/2/2222"})]})]},v))})]})]}),b.jsxs("div",{className:"hidden md:block",children:[b.jsx("br",{}),b.jsx("br",{}),b.jsx("br",{}),b.jsx("br",{}),b.jsx("br",{})]}),b.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full ",children:[b.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:b.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:i,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),b.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!0,action:()=>d("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>a()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>o()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>h()}].map((m,v)=>m.empty?b.jsx("div",{className:"w-16"},v):b.jsxs("button",{onClick:m.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${m.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{d:m.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),b.jsx("span",{className:"text-xs md:text-sm mt-1",children:m.name})]},v))})]})]})}const fR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%AB%E0%B8%A1%E0%B8%B9%E0%B8%81%E0%B8%A3%E0%B8%AD%E0%B8%9A-Cfm-dgeg.png",dR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%A1%E0%B8%B1%E0%B8%99%E0%B9%84%E0%B8%81%E0%B9%88-SFj_wRX3.png",pR="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%A5%E0%B8%A2%E0%B9%8C-srr38ati.png";function mR({onBack:s,onGoToDashboard:e,onGoToMenu:i,onGoToNotifications:a,onGoToProfile:o}){const[h,d]=Ie.useState("ALL"),m=[{img:fR,title:"ข้าวหมูกรอบ",category:"Lunch Boxes",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`},{img:dR,title:"ข้าวมันไก่",category:"Lunch Boxes",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`},{img:pR,title:"ขนมเลย์ถุงลมเข้า",category:"Snacks",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`}],v=["ALL","Lunch Boxes","Snacks","Beverages"];return b.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[b.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("img",{src:il,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),b.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),b.jsx("div",{className:"flex items-center space-x-4",children:b.jsx("img",{src:Vo,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:o})})]}),b.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[b.jsxs("button",{onClick:s,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),b.jsx("span",{className:"text-lg font-semibold",children:"Shared Food Board"})]}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-100 placeholder-gray-400 shadow transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] hover:shadow-md"}),b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),b.jsx("div",{className:"flex space-x-4 overflow-x-auto text-gray-600 mb-4",children:v.map((_,T)=>b.jsx("span",{onClick:()=>d(_),className:`whitespace-nowrap px-4 py-2 border-b-2 cursor-pointer transition-colors duration-300 ease-in-out
                ${h===_?"border-[#2e2eff] text-[#2e2eff]":"border-transparent hover:border-gray-300 hover:text-[#2e2eff]"}`,children:_},T))}),b.jsx("section",{className:"space-y-4",children:m.filter(_=>h==="ALL"||_.category===h).map((_,T)=>b.jsxs("div",{className:"flex bg-white rounded-xl shadow p-3 space-x-4 items-center transform transition duration-300 hover:scale-105 hover:shadow-lg",children:[b.jsx("img",{src:_.img,alt:_.title,className:"w-24 h-24 object-cover rounded-lg"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-gray-800",children:_.title}),b.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a2 2 0 01-2.828 0L6.343 16.657a8 8 0 1111.314 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),b.jsx("span",{children:_.location})]}),b.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1 whitespace-pre-line",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b.jsx("span",{children:_.date})]})]})]},T))})]}),b.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[b.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:b.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:e,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),b.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!0,action:()=>i()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>a()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>o()}].map((_,T)=>_.empty?b.jsx("div",{className:"w-16"},T):b.jsxs("button",{onClick:_.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${_.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{d:_.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),b.jsx("span",{className:"text-xs md:text-sm mt-1",children:_.name})]},T))})]})]})}function gR({onBack:s,onGoToDashboard:e,onGoToMenu:i,onGoToNotifications:a,userData:o,onGoToProfile:h}){const[d,m]=Ie.useState("shares"),v={shares:[{title:"“ข้าวหมูกรอบ” has been successfully claimed.",status:"Claimed by Natcha",date:"July 29, 2025 at 12:45 PM"},{title:"“ข้าวมันไก่” has been posted and is now visible to others.",status:"Active",date:"July 29, 2025 at 11:03 AM"},{title:"“ขนมเลย์ถุงลมเข้า” was removed due to inactivity.",status:"Auto-expired",date:"July 29, 2025 at 9:41 AM"}],pickups:[{title:"Pickup: ข้าวหมูกรอบ is ready.",status:"Pending",date:"July 29, 2025 at 1:00 PM"}]};return b.jsxs("div",{className:"font-sans flex flex-col h-screen bg-gray-50",children:[b.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("img",{src:il,alt:"Logo",className:"w-10 h-10 rounded-full"}),b.jsx("span",{className:"text-white text-xl font-bold",children:"MA THAN"})]}),b.jsx("img",{src:Vo,alt:"Profile",className:"w-10 h-10 rounded-full"})]}),b.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[b.jsxs("button",{onClick:s,className:"flex items-center text-gray-700 mb-4",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),b.jsx("span",{className:"text-lg font-semibold",children:"Notifications"})]}),b.jsxs("div",{className:"relative border-b mb-4 flex",children:[b.jsx("button",{onClick:()=>m("shares"),className:`flex-1 text-center pb-2 ${d==="shares"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Shares"}),b.jsx("button",{onClick:()=>m("pickups"),className:`flex-1 text-center pb-2 ${d==="pickups"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Pickups"}),b.jsx("span",{className:"absolute bottom-0 left-0 w-1/2 h-0.5 bg-[#2e2eff] transition-transform duration-300",style:{transform:d==="shares"?"translateX(0%)":"translateX(100%)"}})]}),b.jsx("section",{className:"space-y-4",children:v[d].map((_,T)=>b.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[b.jsx("h3",{className:"font-semibold text-gray-800",children:_.title}),b.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),b.jsx("span",{children:_.status})]}),b.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b.jsx("span",{children:_.date})]})]},T))})]}),b.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[b.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:b.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:e,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),b.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>i()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>a(),active:!0},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>h()}].map((_,T)=>_.empty?b.jsx("div",{className:"w-16"},T):b.jsxs("button",{onClick:_.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${_.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{d:_.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),b.jsx("span",{className:"text-xs md:text-sm mt-1",children:_.name})]},T))})]})]})}function _R({onBack:s,onLogout:e,userData:i,onGoToDashboard:a,onGoToMenu:o,onGoToNotifications:h,onGoToProfile:d}){const[m,v]=Ie.useState(null),[_,T]=Ie.useState(!1),[R,C]=Ie.useState(!0),[K,Y]=Ie.useState({name:"",fullName:"",studentId:"",phone:"",email:""}),$=[{key:"name",label:"ชื่อในระบบ",placeholder:"No Name"},{key:"fullName",label:"ชื่อเต็ม",placeholder:"No Full Name"},{key:"studentId",label:"รหัสนักศึกษา",placeholder:"00000000"},{key:"phone",label:"เบอร์โทร",placeholder:"000-000-0000"},{key:"email",label:"Email",placeholder:"No Email"}];Ie.useEffect(()=>{async function ie(){if(i?.uid)try{const ue=await dp(Ga(Fa,`users/${i.uid}`)),he=ue.exists()?ue.val():{},Me={name:he.name||"",fullName:he.fullName||"",studentId:he.studentId||"00000000",phone:he.phone||"000-000-0000",email:he.email||""};v(Me),Y(Me),await new Promise(k=>setTimeout(k,700))}catch(ue){console.error("Error fetching user:",ue)}finally{C(!1)}}ie()},[i]);const ne=ie=>{const{name:ue,value:he}=ie.target;Y(Me=>({...Me,[ue]:he}))},me=async()=>{if(i?.uid)try{await pm(Ga(Fa,`users/${i.uid}`),K),v(K),T(!1),alert("บันทึกข้อมูลเรียบร้อย ✅")}catch(ie){console.error("Error saving data:",ie),alert("เกิดข้อผิดพลาด ❌")}},_e=()=>{Dp(Fi).then(()=>e()).catch(console.error)};return R?b.jsx("div",{className:"flex-1 flex items-center justify-center h-screen bg-gray-100",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"loader border-4 border-blue-500 border-t-transparent rounded-full w-16 h-16 animate-spin mx-auto"}),b.jsx("p",{className:"mt-4 text-gray-700",children:"Loading user data..."})]})}):R?b.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[b.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"}),b.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded animate-pulse"})]}),b.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"})]}),b.jsxs("main",{className:"flex-1 overflow-y-auto p-6 flex flex-col items-center space-y-4 animate-pulse",children:[b.jsx("div",{className:"w-28 h-28 bg-gray-300 rounded-full"}),b.jsx("div",{className:"w-full max-w-md space-y-3",children:$.map((ie,ue)=>b.jsx("div",{className:"h-12 bg-gray-200 rounded-lg"},ue))})]})]}):b.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[b.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("img",{src:il,alt:"Logo",className:"w-10 h-10 rounded-full"}),b.jsx("span",{className:"text-white text-xl font-bold",children:"MA THAN"})]}),b.jsx("img",{src:Vo,alt:"Profile",className:"w-10 h-10 rounded-full"})]}),b.jsxs("main",{className:`flex-1 p-4 md:p-8 flex flex-col items-center bg-gradient-to-b from-white to-blue-50\r
        max-w-2xl mx-auto w-full space-y-6 pb-36 transition-all duration-300`,children:[b.jsxs("button",{onClick:s,className:"flex items-center self-start text-gray-700 mb-4 hover:text-[#2e2eff] transition",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),b.jsx("span",{className:"text-lg font-semibold",children:"Profile"})]}),b.jsx("img",{src:Vo,alt:"User Avatar",className:"w-28 h-28 md:w-36 md:h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-white"}),b.jsxs("div",{className:"w-full max-w-md space-y-4",children:[$.map(({key:ie,placeholder:ue})=>b.jsxs("div",{className:"flex flex-col bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition",children:[b.jsx("label",{className:"text-gray-500 text-xs mb-1",children:ie==="name"?"UserName":ie==="fullName"?"Full Name":ie==="studentId"?"Student ID":ie==="phone"?"Phone":"Email"}),b.jsxs("div",{className:"flex items-center justify-between",children:[_?b.jsx("input",{type:ie==="email"?"email":"text",name:ie,value:K[ie],onChange:ne,className:"flex-1 text-gray-800 text-sm focus:outline-none bg-gray-50 rounded px-2 py-1 border border-gray-200"}):b.jsx("span",{className:"text-gray-700 text-sm break-all",children:m[ie]||ue}),!_&&b.jsx("button",{onClick:()=>T(!0),className:"ml-3 px-3 py-1 text-blue-500 text-xs font-semibold rounded-md hover:bg-blue-50 transition",children:"Edit"})]})]},ie)),_&&b.jsx("button",{onClick:me,className:"w-full py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition mt-2",children:"Save"})]}),b.jsx("button",{onClick:_e,className:"px-5 py-2 mt-5 bg-red-500 text-white rounded-md hover:bg-red-600 transition text-sm font-medium shadow",children:"Logout"})]}),b.jsxs("div",{className:"hidden md:block",children:[b.jsx("br",{}),b.jsx("br",{}),b.jsx("br",{}),b.jsx("br",{}),b.jsx("br",{})]}),b.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[b.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:b.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:a,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),b.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>o()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>h()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>d(),active:!0}].map((ie,ue)=>ie.empty?b.jsx("div",{className:"w-16"},ue):b.jsxs("button",{onClick:ie.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${ie.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{d:ie.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),b.jsx("span",{className:"text-xs md:text-sm mt-1",children:ie.name})]},ue))})]})]})}function yR(){const[s,e]=Ie.useState("welcome"),[i,a]=Ie.useState(null),[o,h]=Ie.useState(!1);Ie.useEffect(()=>{const m=$w(Fi,v=>{v?(a({email:v.email,uid:v.uid}),e("home")):(a(null),e("welcome"))});return()=>m()},[]);const d=()=>{a(null),e("login")};if(!o)return b.jsx(tR,{onFinish:()=>h(!0)});switch(s){case"welcome":return b.jsx(iR,{onLoginClick:()=>e("login"),onRegisterClick:()=>e("signup")});case"login":return b.jsx(nR,{onLoginSuccess:m=>{a(m),e("home")},onSignUpClick:()=>e("signup"),onForgotPasswordClick:()=>e("forgot")});case"signup":return b.jsx(sR,{onBackToLogin:()=>e("login"),onSignUp:()=>{alert("Sign Up Success! Please log in."),e("login")}});case"forgot":return b.jsx(rR,{onBackToLogin:()=>e("login")});case"dashboard":return b.jsx(aR,{userData:i,setCurrentPage:e});case"home":return b.jsx(hR,{userData:i,onGoToDashboard:()=>e("dashboard"),onGoToMenu:()=>e("menu"),onGoToProfile:()=>e("profile"),onGoToNotifications:()=>e("notifications")});case"menu":return b.jsx(mR,{userData:i,onBack:()=>e("home"),onGoToProfile:()=>e("profile"),onGoToNotifications:()=>e("notifications")});case"notifications":return b.jsx(gR,{userData:i,onBack:()=>e("home"),onGoToMenu:()=>e("menu"),onGoToProfile:()=>e("profile")});case"profile":return b.jsx(_R,{userData:i,onBack:()=>e("home"),onGoToMenu:()=>e("menu"),onGoToNotifications:()=>e("notifications"),onLogout:d});default:return b.jsx("div",{children:"Loading..."})}}fb.createRoot(document.getElementById("root")).render(b.jsx(Ie.StrictMode,{children:b.jsx(yR,{})}));
