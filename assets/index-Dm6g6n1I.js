(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var pf={exports:{}},ar={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function KE(){if(Pg)return ar;Pg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:h,ref:o!==void 0?o:null,props:u}}return ar.Fragment=t,ar.jsx=i,ar.jsxs=i,ar}var Hg;function XE(){return Hg||(Hg=1,pf.exports=KE()),pf.exports}var y=XE(),gf={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function WE(){if(qg)return $;qg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,q={};function G(T,k,P){this.props=T,this.context=k,this.refs=q,this.updater=P||L}G.prototype.isReactComponent={},G.prototype.setState=function(T,k){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,k,"setState")},G.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function te(){}te.prototype=G.prototype;function ye(T,k,P){this.props=T,this.context=k,this.refs=q,this.updater=P||L}var me=ye.prototype=new te;me.constructor=ye,j(me,G.prototype),me.isPureReactComponent=!0;var Te=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},et=Object.prototype.hasOwnProperty;function vt(T,k,P,B,Y,ue){return P=ue.ref,{$$typeof:a,type:T,key:k,ref:P!==void 0?P:null,props:ue}}function Et(T,k){return vt(T.type,k,void 0,void 0,void 0,T.props)}function Zt(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function ts(T){var k={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(P){return k[P]})}var on=/\/+/g;function tt(T,k){return typeof T=="object"&&T!==null&&T.key!=null?ts(""+T.key):k.toString(36)}function Si(){}function Ti(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Si,Si):(T.status="pending",T.then(function(k){T.status==="pending"&&(T.status="fulfilled",T.value=k)},function(k){T.status==="pending"&&(T.status="rejected",T.reason=k)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function nt(T,k,P,B,Y){var ue=typeof T;(ue==="undefined"||ue==="boolean")&&(T=null);var J=!1;if(T===null)J=!0;else switch(ue){case"bigint":case"string":case"number":J=!0;break;case"object":switch(T.$$typeof){case a:case t:J=!0;break;case E:return J=T._init,nt(J(T._payload),k,P,B,Y)}}if(J)return Y=Y(T),J=B===""?"."+tt(T,0):B,Te(Y)?(P="",J!=null&&(P=J.replace(on,"$&/")+"/"),nt(Y,k,P,"",function(jn){return jn})):Y!=null&&(Zt(Y)&&(Y=Et(Y,P+(Y.key==null||T&&T.key===Y.key?"":(""+Y.key).replace(on,"$&/")+"/")+J)),k.push(Y)),1;J=0;var bt=B===""?".":B+":";if(Te(T))for(var Oe=0;Oe<T.length;Oe++)B=T[Oe],ue=bt+tt(B,Oe),J+=nt(B,k,P,ue,Y);else if(Oe=S(T),typeof Oe=="function")for(T=Oe.call(T),Oe=0;!(B=T.next()).done;)B=B.value,ue=bt+tt(B,Oe++),J+=nt(B,k,P,ue,Y);else if(ue==="object"){if(typeof T.then=="function")return nt(Ti(T),k,P,B,Y);throw k=String(T),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return J}function I(T,k,P){if(T==null)return T;var B=[],Y=0;return nt(T,B,"","",function(ue){return k.call(P,ue,Y++)}),B}function z(T){if(T._status===-1){var k=T._result;k=k(),k.then(function(P){(T._status===0||T._status===-1)&&(T._status=1,T._result=P)},function(P){(T._status===0||T._status===-1)&&(T._status=2,T._result=P)}),T._status===-1&&(T._status=0,T._result=k)}if(T._status===1)return T._result.default;throw T._result}var K=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function we(){}return $.Children={map:I,forEach:function(T,k,P){I(T,function(){k.apply(this,arguments)},P)},count:function(T){var k=0;return I(T,function(){k++}),k},toArray:function(T){return I(T,function(k){return k})||[]},only:function(T){if(!Zt(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},$.Component=G,$.Fragment=i,$.Profiler=o,$.PureComponent=ye,$.StrictMode=r,$.Suspense=g,$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,$.__COMPILER_RUNTIME={__proto__:null,c:function(T){return le.H.useMemoCache(T)}},$.cache=function(T){return function(){return T.apply(null,arguments)}},$.cloneElement=function(T,k,P){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var B=j({},T.props),Y=T.key,ue=void 0;if(k!=null)for(J in k.ref!==void 0&&(ue=void 0),k.key!==void 0&&(Y=""+k.key),k)!et.call(k,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&k.ref===void 0||(B[J]=k[J]);var J=arguments.length-2;if(J===1)B.children=P;else if(1<J){for(var bt=Array(J),Oe=0;Oe<J;Oe++)bt[Oe]=arguments[Oe+2];B.children=bt}return vt(T.type,Y,void 0,void 0,ue,B)},$.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},$.createElement=function(T,k,P){var B,Y={},ue=null;if(k!=null)for(B in k.key!==void 0&&(ue=""+k.key),k)et.call(k,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(Y[B]=k[B]);var J=arguments.length-2;if(J===1)Y.children=P;else if(1<J){for(var bt=Array(J),Oe=0;Oe<J;Oe++)bt[Oe]=arguments[Oe+2];Y.children=bt}if(T&&T.defaultProps)for(B in J=T.defaultProps,J)Y[B]===void 0&&(Y[B]=J[B]);return vt(T,ue,void 0,void 0,null,Y)},$.createRef=function(){return{current:null}},$.forwardRef=function(T){return{$$typeof:d,render:T}},$.isValidElement=Zt,$.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:z}},$.memo=function(T,k){return{$$typeof:p,type:T,compare:k===void 0?null:k}},$.startTransition=function(T){var k=le.T,P={};le.T=P;try{var B=T(),Y=le.S;Y!==null&&Y(P,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(we,K)}catch(ue){K(ue)}finally{le.T=k}},$.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},$.use=function(T){return le.H.use(T)},$.useActionState=function(T,k,P){return le.H.useActionState(T,k,P)},$.useCallback=function(T,k){return le.H.useCallback(T,k)},$.useContext=function(T){return le.H.useContext(T)},$.useDebugValue=function(){},$.useDeferredValue=function(T,k){return le.H.useDeferredValue(T,k)},$.useEffect=function(T,k,P){var B=le.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(T,k)},$.useId=function(){return le.H.useId()},$.useImperativeHandle=function(T,k,P){return le.H.useImperativeHandle(T,k,P)},$.useInsertionEffect=function(T,k){return le.H.useInsertionEffect(T,k)},$.useLayoutEffect=function(T,k){return le.H.useLayoutEffect(T,k)},$.useMemo=function(T,k){return le.H.useMemo(T,k)},$.useOptimistic=function(T,k){return le.H.useOptimistic(T,k)},$.useReducer=function(T,k,P){return le.H.useReducer(T,k,P)},$.useRef=function(T){return le.H.useRef(T)},$.useState=function(T){return le.H.useState(T)},$.useSyncExternalStore=function(T,k,P){return le.H.useSyncExternalStore(T,k,P)},$.useTransition=function(){return le.H.useTransition()},$.version="19.1.1",$}var Vg;function th(){return Vg||(Vg=1,gf.exports=WE()),gf.exports}var _e=th(),_f={exports:{}},rr={},yf={exports:{}},vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function ZE(){return Gg||(Gg=1,(function(a){function t(I,z){var K=I.length;I.push(z);e:for(;0<K;){var we=K-1>>>1,T=I[we];if(0<o(T,z))I[we]=z,I[K]=T,K=we;else break e}}function i(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var z=I[0],K=I.pop();if(K!==z){I[0]=K;e:for(var we=0,T=I.length,k=T>>>1;we<k;){var P=2*(we+1)-1,B=I[P],Y=P+1,ue=I[Y];if(0>o(B,K))Y<T&&0>o(ue,B)?(I[we]=ue,I[Y]=K,we=Y):(I[we]=B,I[P]=K,we=P);else if(Y<T&&0>o(ue,K))I[we]=ue,I[Y]=K,we=Y;else break e}}return z}function o(I,z){var K=I.sortIndex-z.sortIndex;return K!==0?K:I.id-z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();a.unstable_now=function(){return h.now()-d}}var g=[],p=[],E=1,b=null,S=3,L=!1,j=!1,q=!1,G=!1,te=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function Te(I){for(var z=i(p);z!==null;){if(z.callback===null)r(p);else if(z.startTime<=I)r(p),z.sortIndex=z.expirationTime,t(g,z);else break;z=i(p)}}function le(I){if(q=!1,Te(I),!j)if(i(g)!==null)j=!0,et||(et=!0,tt());else{var z=i(p);z!==null&&nt(le,z.startTime-I)}}var et=!1,vt=-1,Et=5,Zt=-1;function ts(){return G?!0:!(a.unstable_now()-Zt<Et)}function on(){if(G=!1,et){var I=a.unstable_now();Zt=I;var z=!0;try{e:{j=!1,q&&(q=!1,ye(vt),vt=-1),L=!0;var K=S;try{t:{for(Te(I),b=i(g);b!==null&&!(b.expirationTime>I&&ts());){var we=b.callback;if(typeof we=="function"){b.callback=null,S=b.priorityLevel;var T=we(b.expirationTime<=I);if(I=a.unstable_now(),typeof T=="function"){b.callback=T,Te(I),z=!0;break t}b===i(g)&&r(g),Te(I)}else r(g);b=i(g)}if(b!==null)z=!0;else{var k=i(p);k!==null&&nt(le,k.startTime-I),z=!1}}break e}finally{b=null,S=K,L=!1}z=void 0}}finally{z?tt():et=!1}}}var tt;if(typeof me=="function")tt=function(){me(on)};else if(typeof MessageChannel<"u"){var Si=new MessageChannel,Ti=Si.port2;Si.port1.onmessage=on,tt=function(){Ti.postMessage(null)}}else tt=function(){te(on,0)};function nt(I,z){vt=te(function(){I(a.unstable_now())},z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(I){I.callback=null},a.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Et=0<I?Math.floor(1e3/I):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(I){switch(S){case 1:case 2:case 3:var z=3;break;default:z=S}var K=S;S=z;try{return I()}finally{S=K}},a.unstable_requestPaint=function(){G=!0},a.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=S;S=I;try{return z()}finally{S=K}},a.unstable_scheduleCallback=function(I,z,K){var we=a.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?we+K:we):K=we,I){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=K+T,I={id:E++,callback:z,priorityLevel:I,startTime:K,expirationTime:T,sortIndex:-1},K>we?(I.sortIndex=K,t(p,I),i(g)===null&&I===i(p)&&(q?(ye(vt),vt=-1):q=!0,nt(le,K-we))):(I.sortIndex=T,t(g,I),j||L||(j=!0,et||(et=!0,tt()))),I},a.unstable_shouldYield=ts,a.unstable_wrapCallback=function(I){var z=S;return function(){var K=S;S=z;try{return I.apply(this,arguments)}finally{S=K}}}})(vf)),vf}var Yg;function JE(){return Yg||(Yg=1,yf.exports=ZE()),yf.exports}var Ef={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function $E(){if(Fg)return at;Fg=1;var a=th();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,at.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,E)},at.flushSync=function(g){var p=h.T,E=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=p,r.p=E,r.d.f()}},at.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},at.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},at.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=d(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:L}):E==="script"&&r.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},at.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=d(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},at.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=d(E,p.crossOrigin);r.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},at.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=d(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},at.requestFormReset=function(g){r.d.r(g)},at.unstable_batchedUpdates=function(g,p){return g(p)},at.useFormState=function(g,p,E){return h.H.useFormState(g,p,E)},at.useFormStatus=function(){return h.H.useHostTransitionStatus()},at.version="19.1.1",at}var Qg;function eb(){if(Qg)return Ef.exports;Qg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ef.exports=$E(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function tb(){if(Kg)return rr;Kg=1;var a=JE(),t=th(),i=eb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return d(c),e;if(f===l)return d(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var m=!1,_=c.child;_;){if(_===s){m=!0,s=c,l=f;break}if(_===l){m=!0,l=c,s=f;break}_=_.sibling}if(!m){for(_=f.child;_;){if(_===s){m=!0,s=f,l=c;break}if(_===l){m=!0,l=f,s=c;break}_=_.sibling}if(!m)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ye=Symbol.for("react.consumer"),me=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),vt=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Zt=Symbol.for("react.activity"),ts=Symbol.for("react.memo_cache_sentinel"),on=Symbol.iterator;function tt(e){return e===null||typeof e!="object"?null:(e=on&&e[on]||e["@@iterator"],typeof e=="function"?e:null)}var Si=Symbol.for("react.client.reference");function Ti(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Si?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case G:return"Profiler";case q:return"StrictMode";case le:return"Suspense";case et:return"SuspenseList";case Zt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case me:return(e.displayName||"Context")+".Provider";case ye:return(e._context.displayName||"Context")+".Consumer";case Te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vt:return n=e.displayName||null,n!==null?n:Ti(e.type)||"Memo";case Et:n=e._payload,e=e._init;try{return Ti(e(n))}catch{}}return null}var nt=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},we=[],T=-1;function k(e){return{current:e}}function P(e){0>T||(e.current=we[T],we[T]=null,T--)}function B(e,n){T++,we[T]=e.current,e.current=n}var Y=k(null),ue=k(null),J=k(null),bt=k(null);function Oe(e,n){switch(B(J,n),B(ue,e),B(Y,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?mg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=mg(n),e=pg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(Y),B(Y,e)}function jn(){P(Y),P(ue),P(J)}function $o(e){e.memoizedState!==null&&B(bt,e);var n=Y.current,s=pg(n,e.type);n!==s&&(B(ue,e),B(Y,s))}function Vr(e){ue.current===e&&(P(Y),P(ue)),bt.current===e&&(P(bt),er._currentValue=K)}var ec=Object.prototype.hasOwnProperty,tc=a.unstable_scheduleCallback,nc=a.unstable_cancelCallback,x0=a.unstable_shouldYield,A0=a.unstable_requestPaint,Jt=a.unstable_now,N0=a.unstable_getCurrentPriorityLevel,Kh=a.unstable_ImmediatePriority,Xh=a.unstable_UserBlockingPriority,Gr=a.unstable_NormalPriority,R0=a.unstable_LowPriority,Wh=a.unstable_IdlePriority,O0=a.log,I0=a.unstable_setDisableYieldValue,oa=null,St=null;function Bn(e){if(typeof O0=="function"&&I0(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(oa,e)}catch{}}var Tt=Math.clz32?Math.clz32:k0,D0=Math.log,M0=Math.LN2;function k0(e){return e>>>=0,e===0?32:31-(D0(e)/M0|0)|0}var Yr=256,Fr=4194304;function wi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qr(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?c=wi(l):(m&=_,m!==0?c=wi(m):s||(s=_&~e,s!==0&&(c=wi(s))))):(_=l&~f,_!==0?c=wi(_):m!==0?c=wi(m):s||(s=l&~e,s!==0&&(c=wi(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function ca(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function L0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(){var e=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),e}function Jh(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function ic(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ua(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function U0(e,n,s,l,c,f){var m=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,A=e.hiddenUpdates;for(s=m&~s;0<s;){var O=31-Tt(s),M=1<<O;_[O]=0,v[O]=-1;var N=A[O];if(N!==null)for(A[O]=null,O=0;O<N.length;O++){var R=N[O];R!==null&&(R.lane&=-536870913)}s&=~M}l!==0&&$h(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~n))}function $h(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Tt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function ed(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Tt(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}function sc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ac(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function td(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:kg(e.type))}function j0(e,n){var s=z.p;try{return z.p=e,n()}finally{z.p=s}}var zn=Math.random().toString(36).slice(2),it="__reactFiber$"+zn,ft="__reactProps$"+zn,ns="__reactContainer$"+zn,rc="__reactEvents$"+zn,B0="__reactListeners$"+zn,z0="__reactHandles$"+zn,nd="__reactResources$"+zn,fa="__reactMarker$"+zn;function lc(e){delete e[it],delete e[ft],delete e[rc],delete e[B0],delete e[z0]}function is(e){var n=e[it];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ns]||s[it]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=vg(e);e!==null;){if(s=e[it])return s;e=vg(e)}return n}e=s,s=e.parentNode}return null}function ss(e){if(e=e[it]||e[ns]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ha(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function as(e){var n=e[nd];return n||(n=e[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ge(e){e[fa]=!0}var id=new Set,sd={};function Ci(e,n){rs(e,n),rs(e+"Capture",n)}function rs(e,n){for(sd[e]=n,e=0;e<n.length;e++)id.add(n[e])}var P0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ad={},rd={};function H0(e){return ec.call(rd,e)?!0:ec.call(ad,e)?!1:P0.test(e)?rd[e]=!0:(ad[e]=!0,!1)}function Kr(e,n,s){if(H0(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Xr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function cn(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}var oc,ld;function ls(e){if(oc===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);oc=n&&n[1]||"",ld=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oc+e+ld}var cc=!1;function uc(e,n){if(!e||cc)return"";cc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(R){var N=R}Reflect.construct(e,[],M)}else{try{M.call()}catch(R){N=R}e.call(M.prototype)}}else{try{throw Error()}catch(R){N=R}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(R){if(R&&N&&typeof R.stack=="string")return[R.stack,N.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),m=f[0],_=f[1];if(m&&_){var v=m.split(`
`),A=_.split(`
`);for(c=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(l===v.length||c===A.length)for(l=v.length-1,c=A.length-1;1<=l&&0<=c&&v[l]!==A[c];)c--;for(;1<=l&&0<=c;l--,c--)if(v[l]!==A[c]){if(l!==1||c!==1)do if(l--,c--,0>c||v[l]!==A[c]){var O=`
`+v[l].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=l&&0<=c);break}}}finally{cc=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ls(s):""}function q0(e){switch(e.tag){case 26:case 27:case 5:return ls(e.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return uc(e.type,!1);case 11:return uc(e.type.render,!1);case 1:return uc(e.type,!0);case 31:return ls("Activity");default:return""}}function od(e){try{var n="";do n+=q0(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function V0(e){var n=cd(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(m){l=""+m,f.call(this,m)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wr(e){e._valueTracker||(e._valueTracker=V0(e))}function ud(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=cd(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var G0=/[\n"\\]/g;function Mt(e){return e.replace(G0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fc(e,n,s,l,c,f,m,_){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),n!=null?m==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),n!=null?hc(e,m,Dt(n)):s!=null?hc(e,m,Dt(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Dt(_):e.removeAttribute("name")}function fd(e,n,s,l,c,f,m,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+Dt(s):"",n=n!=null?""+Dt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function hc(e,n,s){n==="number"&&Zr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Dt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function hd(e,n,s){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Dt(s):""}function dd(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(nt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Dt(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function cs(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Y0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Y0.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function pd(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&md(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&md(e,f,n[f])}function dc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(e){return Q0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var mc=null;function pc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,fs=null;function gd(e){var n=ss(e);if(n&&(e=n.stateNode)){var s=e[ft]||null;e:switch(e=n.stateNode,n.type){case"input":if(fc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Mt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=l[ft]||null;if(!c)throw Error(r(90));fc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&ud(l)}break e;case"textarea":hd(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var gc=!1;function _d(e,n,s){if(gc)return e(n,s);gc=!0;try{var l=e(n);return l}finally{if(gc=!1,(us!==null||fs!==null)&&(jl(),us&&(n=us,e=fs,fs=us=null,gd(n),e)))for(n=0;n<e.length;n++)gd(e[n])}}function da(e,n){var s=e.stateNode;if(s===null)return null;var l=s[ft]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=!1;if(un)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){_c=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{_c=!1}var Pn=null,yc=null,$r=null;function yd(){if($r)return $r;var e,n=yc,s=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var m=s-e;for(l=1;l<=m&&n[s-l]===c[f-l];l++);return $r=c.slice(e,1<l?1-l:void 0)}function el(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function vd(){return!1}function ht(e){function n(s,l,c,f,m){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?tl:vd,this.isPropagationStopped=vd,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),n}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=ht(xi),pa=E({},xi,{view:0,detail:0}),K0=ht(pa),vc,Ec,ga,il=E({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ga&&(ga&&e.type==="mousemove"?(vc=e.screenX-ga.screenX,Ec=e.screenY-ga.screenY):Ec=vc=0,ga=e),vc)},movementY:function(e){return"movementY"in e?e.movementY:Ec}}),Ed=ht(il),X0=E({},il,{dataTransfer:0}),W0=ht(X0),Z0=E({},pa,{relatedTarget:0}),bc=ht(Z0),J0=E({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),$0=ht(J0),e1=E({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t1=ht(e1),n1=E({},xi,{data:0}),bd=ht(n1),i1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=a1[e])?!!n[e]:!1}function Sc(){return r1}var l1=E({},pa,{key:function(e){if(e.key){var n=i1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=el(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sc,charCode:function(e){return e.type==="keypress"?el(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?el(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o1=ht(l1),c1=E({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=ht(c1),u1=E({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sc}),f1=ht(u1),h1=E({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),d1=ht(h1),m1=E({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p1=ht(m1),g1=E({},xi,{newState:0,oldState:0}),_1=ht(g1),y1=[9,13,27,32],Tc=un&&"CompositionEvent"in window,_a=null;un&&"documentMode"in document&&(_a=document.documentMode);var v1=un&&"TextEvent"in window&&!_a,Td=un&&(!Tc||_a&&8<_a&&11>=_a),wd=" ",Cd=!1;function xd(e,n){switch(e){case"keyup":return y1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hs=!1;function E1(e,n){switch(e){case"compositionend":return Ad(n);case"keypress":return n.which!==32?null:(Cd=!0,wd);case"textInput":return e=n.data,e===wd&&Cd?null:e;default:return null}}function b1(e,n){if(hs)return e==="compositionend"||!Tc&&xd(e,n)?(e=yd(),$r=yc=Pn=null,hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Td&&n.locale!=="ko"?null:n.data;default:return null}}var S1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!S1[e.type]:n==="textarea"}function Rd(e,n,s,l){us?fs?fs.push(l):fs=[l]:us=l,n=Vl(n,"onChange"),0<n.length&&(s=new nl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ya=null,va=null;function T1(e){cg(e,0)}function sl(e){var n=ha(e);if(ud(n))return e}function Od(e,n){if(e==="change")return n}var Id=!1;if(un){var wc;if(un){var Cc="oninput"in document;if(!Cc){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Cc=typeof Dd.oninput=="function"}wc=Cc}else wc=!1;Id=wc&&(!document.documentMode||9<document.documentMode)}function Md(){ya&&(ya.detachEvent("onpropertychange",kd),va=ya=null)}function kd(e){if(e.propertyName==="value"&&sl(va)){var n=[];Rd(n,va,e,pc(e)),_d(T1,n)}}function w1(e,n,s){e==="focusin"?(Md(),ya=n,va=s,ya.attachEvent("onpropertychange",kd)):e==="focusout"&&Md()}function C1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(va)}function x1(e,n){if(e==="click")return sl(n)}function A1(e,n){if(e==="input"||e==="change")return sl(n)}function N1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wt=typeof Object.is=="function"?Object.is:N1;function Ea(e,n){if(wt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ec.call(n,c)||!wt(e[c],n[c]))return!1}return!0}function Ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ud(e,n){var s=Ld(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ld(s)}}function jd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Zr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Zr(e.document)}return n}function xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var R1=un&&"documentMode"in document&&11>=document.documentMode,ds=null,Ac=null,ba=null,Nc=!1;function zd(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nc||ds==null||ds!==Zr(l)||(l=ds,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ba&&Ea(ba,l)||(ba=l,l=Vl(Ac,"onSelect"),0<l.length&&(n=new nl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ds)))}function Ai(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ms={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionrun:Ai("Transition","TransitionRun"),transitionstart:Ai("Transition","TransitionStart"),transitioncancel:Ai("Transition","TransitionCancel"),transitionend:Ai("Transition","TransitionEnd")},Rc={},Pd={};un&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Ni(e){if(Rc[e])return Rc[e];if(!ms[e])return e;var n=ms[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Pd)return Rc[e]=n[s];return e}var Hd=Ni("animationend"),qd=Ni("animationiteration"),Vd=Ni("animationstart"),O1=Ni("transitionrun"),I1=Ni("transitionstart"),D1=Ni("transitioncancel"),Gd=Ni("transitionend"),Yd=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function qt(e,n){Yd.set(e,n),Ci(n,[e])}var Fd=new WeakMap;function kt(e,n){if(typeof e=="object"&&e!==null){var s=Fd.get(e);return s!==void 0?s:(n={value:e,source:n,stack:od(n)},Fd.set(e,n),n)}return{value:e,source:n,stack:od(n)}}var Lt=[],ps=0,Ic=0;function al(){for(var e=ps,n=Ic=ps=0;n<e;){var s=Lt[n];Lt[n++]=null;var l=Lt[n];Lt[n++]=null;var c=Lt[n];Lt[n++]=null;var f=Lt[n];if(Lt[n++]=null,l!==null&&c!==null){var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}f!==0&&Qd(s,c,f)}}function rl(e,n,s,l){Lt[ps++]=e,Lt[ps++]=n,Lt[ps++]=s,Lt[ps++]=l,Ic|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Dc(e,n,s,l){return rl(e,n,s,l),ll(e)}function gs(e,n){return rl(e,null,null,n),ll(e)}function Qd(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Tt(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function ll(e){if(50<Fa)throw Fa=0,Bu=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _s={};function M1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,n,s,l){return new M1(e,n,s,l)}function Mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fn(e,n){var s=e.alternate;return s===null?(s=Ct(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Kd(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ol(e,n,s,l,c,f){var m=0;if(l=e,typeof e=="function")Mc(e)&&(m=1);else if(typeof e=="string")m=LE(e,s,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Zt:return e=Ct(31,s,n,c),e.elementType=Zt,e.lanes=f,e;case j:return Ri(s.children,c,f,n);case q:m=8,c|=24;break;case G:return e=Ct(12,s,n,c|2),e.elementType=G,e.lanes=f,e;case le:return e=Ct(13,s,n,c),e.elementType=le,e.lanes=f,e;case et:return e=Ct(19,s,n,c),e.elementType=et,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:case me:m=10;break e;case ye:m=9;break e;case Te:m=11;break e;case vt:m=14;break e;case Et:m=16,l=null;break e}m=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Ct(m,s,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Ri(e,n,s,l){return e=Ct(7,e,l,n),e.lanes=s,e}function kc(e,n,s){return e=Ct(6,e,null,n),e.lanes=s,e}function Lc(e,n,s){return n=Ct(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ys=[],vs=0,cl=null,ul=0,Ut=[],jt=0,Oi=null,hn=1,dn="";function Ii(e,n){ys[vs++]=ul,ys[vs++]=cl,cl=e,ul=n}function Xd(e,n,s){Ut[jt++]=hn,Ut[jt++]=dn,Ut[jt++]=Oi,Oi=e;var l=hn;e=dn;var c=32-Tt(l)-1;l&=~(1<<c),s+=1;var f=32-Tt(n)+c;if(30<f){var m=c-c%5;f=(l&(1<<m)-1).toString(32),l>>=m,c-=m,hn=1<<32-Tt(n)+c|s<<c|l,dn=f+e}else hn=1<<f|s<<c|l,dn=e}function Uc(e){e.return!==null&&(Ii(e,1),Xd(e,1,0))}function jc(e){for(;e===cl;)cl=ys[--vs],ys[vs]=null,ul=ys[--vs],ys[vs]=null;for(;e===Oi;)Oi=Ut[--jt],Ut[jt]=null,dn=Ut[--jt],Ut[jt]=null,hn=Ut[--jt],Ut[jt]=null}var lt=null,Me=null,de=!1,Di=null,$t=!1,Bc=Error(r(519));function Mi(e){var n=Error(r(418,""));throw wa(kt(n,e)),Bc}function Wd(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[it]=e,n[ft]=l,s){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(s=0;s<Ka.length;s++)ae(Ka[s],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":ae("invalid",n),fd(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wr(n);break;case"select":ae("invalid",n);break;case"textarea":ae("invalid",n),dd(n,l.value,l.defaultValue,l.children),Wr(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||dg(n.textContent,s)?(l.popover!=null&&(ae("beforetoggle",n),ae("toggle",n)),l.onScroll!=null&&ae("scroll",n),l.onScrollEnd!=null&&ae("scrollend",n),l.onClick!=null&&(n.onclick=Gl),n=!0):n=!1,n||Mi(e)}function Zd(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:lt=lt.return}}function Sa(e){if(e!==lt)return!1;if(!de)return Zd(e),de=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ef(e.type,e.memoizedProps)),s=!s),s&&Me&&Mi(e),Zd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){Me=Gt(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}Me=null}}else n===27?(n=Me,ni(e.type)?(e=af,af=null,Me=e):Me=n):Me=lt?Gt(e.stateNode.nextSibling):null;return!0}function Ta(){Me=lt=null,de=!1}function Jd(){var e=Di;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),Di=null),e}function wa(e){Di===null?Di=[e]:Di.push(e)}var zc=k(null),ki=null,mn=null;function Hn(e,n,s){B(zc,n._currentValue),n._currentValue=s}function pn(e){e._currentValue=zc.current,P(zc)}function Pc(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Hc(e,n,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var m=c.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=c;for(var v=0;v<n.length;v++)if(_.context===n[v]){f.lanes|=s,_=f.alternate,_!==null&&(_.lanes|=s),Pc(f.return,s,e),l||(m=null);break e}f=_.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(r(341));m.lanes|=s,f=m.alternate,f!==null&&(f.lanes|=s),Pc(m,s,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function Ca(e,n,s,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var _=c.type;wt(c.pendingProps.value,m.value)||(e!==null?e.push(_):e=[_])}}else if(c===bt.current){if(m=c.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(er):e=[er])}c=c.return}e!==null&&Hc(n,e,s,l),n.flags|=262144}function fl(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Li(e){ki=e,mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return $d(ki,e)}function hl(e,n){return ki===null&&Li(e),$d(e,n)}function $d(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},mn===null){if(e===null)throw Error(r(308));mn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else mn=mn.next=n;return s}var k1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},L1=a.unstable_scheduleCallback,U1=a.unstable_NormalPriority,Pe={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new k1,data:new Map,refCount:0}}function xa(e){e.refCount--,e.refCount===0&&L1(U1,function(){e.controller.abort()})}var Aa=null,Vc=0,Es=0,bs=null;function j1(e,n){if(Aa===null){var s=Aa=[];Vc=0,Es=Yu(),bs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Vc++,n.then(em,em),n}function em(){if(--Vc===0&&Aa!==null){bs!==null&&(bs.status="fulfilled");var e=Aa;Aa=null,Es=0,bs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function B1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var tm=I.S;I.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&j1(e,n),tm!==null&&tm(e,n)};var Ui=k(null);function Gc(){var e=Ui.current;return e!==null?e:Ae.pooledCache}function dl(e,n){n===null?B(Ui,Ui.current):B(Ui,n.pool)}function nm(){var e=Gc();return e===null?null:{parent:Pe._currentValue,pool:e}}var Na=Error(r(460)),im=Error(r(474)),ml=Error(r(542)),Yc={then:function(){}};function sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pl(){}function am(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(pl,pl),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lm(e),e;default:if(typeof n.status=="string")n.then(pl,pl);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lm(e),e}throw Ra=n,Na}}var Ra=null;function rm(){if(Ra===null)throw Error(r(459));var e=Ra;return Ra=null,e}function lm(e){if(e===Na||e===ml)throw Error(r(483))}var qn=!1;function Fc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(pe&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=ll(e),Qd(e,null,s),n}return rl(e,l,n,s),ll(e)}function Oa(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ed(e,s)}}function Kc(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=m:f=f.next=m,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Xc=!1;function Ia(){if(Xc){var e=bs;if(e!==null)throw e}}function Da(e,n,s,l){Xc=!1;var c=e.updateQueue;qn=!1;var f=c.firstBaseUpdate,m=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var v=_,A=v.next;v.next=null,m===null?f=A:m.next=A,m=v;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==m&&(_===null?O.firstBaseUpdate=A:_.next=A,O.lastBaseUpdate=v))}if(f!==null){var M=c.baseState;m=0,O=A=v=null,_=f;do{var N=_.lane&-536870913,R=N!==_.lane;if(R?(ce&N)===N:(l&N)===N){N!==0&&N===Es&&(Xc=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Z=e,F=_;N=n;var be=s;switch(F.tag){case 1:if(Z=F.payload,typeof Z=="function"){M=Z.call(be,M,N);break e}M=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=F.payload,N=typeof Z=="function"?Z.call(be,M,N):Z,N==null)break e;M=E({},M,N);break e;case 2:qn=!0}}N=_.callback,N!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[N]:R.push(N))}else R={lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(A=O=R,v=M):O=O.next=R,m|=N;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);O===null&&(v=M),c.baseState=v,c.firstBaseUpdate=A,c.lastBaseUpdate=O,f===null&&(c.shared.lanes=0),Jn|=m,e.lanes=m,e.memoizedState=M}}function om(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function cm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)om(s[e],n)}var Ss=k(null),gl=k(0);function um(e,n){e=Sn,B(gl,e),B(Ss,n),Sn=e|n.baseLanes}function Wc(){B(gl,Sn),B(Ss,Ss.current)}function Zc(){Sn=gl.current,P(Ss),P(gl)}var Yn=0,ee=null,ve=null,Be=null,_l=!1,Ts=!1,ji=!1,yl=0,Ma=0,ws=null,z1=0;function Ue(){throw Error(r(321))}function Jc(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!wt(e[s],n[s]))return!1;return!0}function $c(e,n,s,l,c,f){return Yn=f,ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?Qm:Km,ji=!1,f=s(l,c),ji=!1,Ts&&(f=hm(n,s,l,c)),fm(e),f}function fm(e){I.H=wl;var n=ve!==null&&ve.next!==null;if(Yn=0,Be=ve=ee=null,_l=!1,Ma=0,ws=null,n)throw Error(r(300));e===null||Ye||(e=e.dependencies,e!==null&&fl(e)&&(Ye=!0))}function hm(e,n,s,l){ee=e;var c=0;do{if(Ts&&(ws=null),Ma=0,Ts=!1,25<=c)throw Error(r(301));if(c+=1,Be=ve=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}I.H=F1,f=n(s,l)}while(Ts);return f}function P1(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?ka(n):n,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(ee.flags|=1024),n}function eu(){var e=yl!==0;return yl=0,e}function tu(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function nu(e){if(_l){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}_l=!1}Yn=0,Be=ve=ee=null,Ts=!1,Ma=yl=0,ws=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?ee.memoizedState=Be=e:Be=Be.next=e,Be}function ze(){if(ve===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var n=Be===null?ee.memoizedState:Be.next;if(n!==null)Be=n,ve=e;else{if(e===null)throw ee.alternate===null?Error(r(467)):Error(r(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Be===null?ee.memoizedState=Be=e:Be=Be.next=e}return Be}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ka(e){var n=Ma;return Ma+=1,ws===null&&(ws=[]),e=am(ws,e,n),n=ee,(Be===null?n.memoizedState:Be.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?Qm:Km),e}function vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ka(e);if(e.$$typeof===me)return st(e)}throw Error(r(438,String(e)))}function su(e){var n=null,s=ee.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=iu(),ee.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=ts;return n.index++,s}function gn(e,n){return typeof n=="function"?n(e):n}function El(e){var n=ze();return au(n,ve,e)}function au(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var m=c.next;c.next=f.next,f.next=m}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var _=m=null,v=null,A=n,O=!1;do{var M=A.lane&-536870913;if(M!==A.lane?(ce&M)===M:(Yn&M)===M){var N=A.revertLane;if(N===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),M===Es&&(O=!0);else if((Yn&N)===N){A=A.next,N===Es&&(O=!0);continue}else M={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(_=v=M,m=f):v=v.next=M,ee.lanes|=N,Jn|=N;M=A.action,ji&&s(f,M),f=A.hasEagerState?A.eagerState:s(f,M)}else N={lane:M,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(_=v=N,m=f):v=v.next=N,ee.lanes|=M,Jn|=M;A=A.next}while(A!==null&&A!==n);if(v===null?m=f:v.next=_,!wt(f,e.memoizedState)&&(Ye=!0,O&&(s=bs,s!==null)))throw s;e.memoizedState=f,e.baseState=m,e.baseQueue=v,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ru(e){var n=ze(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var m=c=c.next;do f=e(f,m.action),m=m.next;while(m!==c);wt(f,n.memoizedState)||(Ye=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function dm(e,n,s){var l=ee,c=ze(),f=de;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var m=!wt((ve||c).memoizedState,s);m&&(c.memoizedState=s,Ye=!0),c=c.queue;var _=gm.bind(null,l,c,e);if(La(2048,8,_,[e]),c.getSnapshot!==n||m||Be!==null&&Be.memoizedState.tag&1){if(l.flags|=2048,Cs(9,bl(),pm.bind(null,l,c,s,n),null),Ae===null)throw Error(r(349));f||(Yn&124)!==0||mm(l,n,s)}return s}function mm(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=ee.updateQueue,n===null?(n=iu(),ee.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function pm(e,n,s,l){n.value=s,n.getSnapshot=l,_m(n)&&ym(e)}function gm(e,n,s){return s(function(){_m(n)&&ym(e)})}function _m(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!wt(e,s)}catch{return!0}}function ym(e){var n=gs(e,2);n!==null&&Ot(n,e,2)}function lu(e){var n=dt();if(typeof e=="function"){var s=e;if(e=s(),ji){Bn(!0);try{s()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},n}function vm(e,n,s,l){return e.baseState=s,au(e,ve,typeof l=="function"?l:gn)}function H1(e,n,s,l,c){if(Tl(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};I.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Em(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Em(e,n){var s=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=I.T,m={};I.T=m;try{var _=s(c,l),v=I.S;v!==null&&v(m,_),bm(e,n,_)}catch(A){ou(e,n,A)}finally{I.T=f}}else try{f=s(c,l),bm(e,n,f)}catch(A){ou(e,n,A)}}function bm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Sm(e,n,l)},function(l){return ou(e,n,l)}):Sm(e,n,s)}function Sm(e,n,s){n.status="fulfilled",n.value=s,Tm(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Em(e,s)))}function ou(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Tm(n),n=n.next;while(n!==l)}e.action=null}function Tm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wm(e,n){return n}function Cm(e,n){if(de){var s=Ae.formState;if(s!==null){e:{var l=ee;if(de){if(Me){t:{for(var c=Me,f=$t;c.nodeType!==8;){if(!f){c=null;break t}if(c=Gt(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Me=Gt(c.nextSibling),l=c.data==="F!";break e}}Mi(l)}l=!1}l&&(n=s[0])}}return s=dt(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:n},s.queue=l,s=Gm.bind(null,ee,l),l.dispatch=s,l=lu(!1),f=du.bind(null,ee,!1,l.queue),l=dt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,s=H1.bind(null,ee,c,f,s),c.dispatch=s,l.memoizedState=e,[n,s,!1]}function xm(e){var n=ze();return Am(n,ve,e)}function Am(e,n,s){if(n=au(e,n,wm)[0],e=El(gn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ka(n)}catch(m){throw m===Na?ml:m}else l=n;n=ze();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(ee.flags|=2048,Cs(9,bl(),q1.bind(null,c,s),null)),[l,f,e]}function q1(e,n){e.action=n}function Nm(e){var n=ze(),s=ve;if(s!==null)return Am(n,s,e);ze(),n=n.memoizedState,s=ze();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Cs(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=ee.updateQueue,n===null&&(n=iu(),ee.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function bl(){return{destroy:void 0,resource:void 0}}function Rm(){return ze().memoizedState}function Sl(e,n,s,l){var c=dt();l=l===void 0?null:l,ee.flags|=e,c.memoizedState=Cs(1|n,bl(),s,l)}function La(e,n,s,l){var c=ze();l=l===void 0?null:l;var f=c.memoizedState.inst;ve!==null&&l!==null&&Jc(l,ve.memoizedState.deps)?c.memoizedState=Cs(n,f,s,l):(ee.flags|=e,c.memoizedState=Cs(1|n,f,s,l))}function Om(e,n){Sl(8390656,8,e,n)}function Im(e,n){La(2048,8,e,n)}function Dm(e,n){return La(4,2,e,n)}function Mm(e,n){return La(4,4,e,n)}function km(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lm(e,n,s){s=s!=null?s.concat([e]):null,La(4,4,km.bind(null,n,e),s)}function cu(){}function Um(e,n){var s=ze();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Jc(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function jm(e,n){var s=ze();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Jc(n,l[1]))return l[0];if(l=e(),ji){Bn(!0);try{e()}finally{Bn(!1)}}return s.memoizedState=[l,n],l}function uu(e,n,s){return s===void 0||(Yn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Pp(),ee.lanes|=e,Jn|=e,s)}function Bm(e,n,s,l){return wt(s,n)?s:Ss.current!==null?(e=uu(e,s,l),wt(e,n)||(Ye=!0),e):(Yn&42)===0?(Ye=!0,e.memoizedState=s):(e=Pp(),ee.lanes|=e,Jn|=e,n)}function zm(e,n,s,l,c){var f=z.p;z.p=f!==0&&8>f?f:8;var m=I.T,_={};I.T=_,du(e,!1,n,s);try{var v=c(),A=I.S;if(A!==null&&A(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var O=B1(v,l);Ua(e,n,O,Rt(e))}else Ua(e,n,l,Rt(e))}catch(M){Ua(e,n,{then:function(){},status:"rejected",reason:M},Rt())}finally{z.p=f,I.T=m}}function V1(){}function fu(e,n,s,l){if(e.tag!==5)throw Error(r(476));var c=Pm(e).queue;zm(e,c,n,K,s===null?V1:function(){return Hm(e),s(l)})}function Pm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:K},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hm(e){var n=Pm(e).next.queue;Ua(e,n,{},Rt())}function hu(){return st(er)}function qm(){return ze().memoizedState}function Vm(){return ze().memoizedState}function G1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Rt();e=Vn(s);var l=Gn(n,e,s);l!==null&&(Ot(l,n,s),Oa(l,n,s)),n={cache:qc()},e.payload=n;return}n=n.return}}function Y1(e,n,s){var l=Rt();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Tl(e)?Ym(n,s):(s=Dc(e,n,s,l),s!==null&&(Ot(s,e,l),Fm(s,n,l)))}function Gm(e,n,s){var l=Rt();Ua(e,n,s,l)}function Ua(e,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tl(e))Ym(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var m=n.lastRenderedState,_=f(m,s);if(c.hasEagerState=!0,c.eagerState=_,wt(_,m))return rl(e,n,c,0),Ae===null&&al(),!1}catch{}finally{}if(s=Dc(e,n,c,l),s!==null)return Ot(s,e,l),Fm(s,n,l),!0}return!1}function du(e,n,s,l){if(l={lane:2,revertLane:Yu(),action:l,hasEagerState:!1,eagerState:null,next:null},Tl(e)){if(n)throw Error(r(479))}else n=Dc(e,s,l,2),n!==null&&Ot(n,e,2)}function Tl(e){var n=e.alternate;return e===ee||n!==null&&n===ee}function Ym(e,n){Ts=_l=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Fm(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ed(e,s)}}var wl={readContext:st,use:vl,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue},Qm={readContext:st,use:vl,useCallback:function(e,n){return dt().memoizedState=[e,n===void 0?null:n],e},useContext:st,useEffect:Om,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Sl(4194308,4,km.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Sl(4194308,4,e,n)},useInsertionEffect:function(e,n){Sl(4,2,e,n)},useMemo:function(e,n){var s=dt();n=n===void 0?null:n;var l=e();if(ji){Bn(!0);try{e()}finally{Bn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=dt();if(s!==void 0){var c=s(n);if(ji){Bn(!0);try{s(n)}finally{Bn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Y1.bind(null,ee,e),[l.memoizedState,e]},useRef:function(e){var n=dt();return e={current:e},n.memoizedState=e},useState:function(e){e=lu(e);var n=e.queue,s=Gm.bind(null,ee,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:cu,useDeferredValue:function(e,n){var s=dt();return uu(s,e,n)},useTransition:function(){var e=lu(!1);return e=zm.bind(null,ee,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=ee,c=dt();if(de){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ae===null)throw Error(r(349));(ce&124)!==0||mm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Om(gm.bind(null,l,f,e),[e]),l.flags|=2048,Cs(9,bl(),pm.bind(null,l,f,s,n),null),s},useId:function(){var e=dt(),n=Ae.identifierPrefix;if(de){var s=dn,l=hn;s=(l&~(1<<32-Tt(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=yl++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=z1++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:hu,useFormState:Cm,useActionState:Cm,useOptimistic:function(e){var n=dt();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=du.bind(null,ee,!0,s),s.dispatch=n,[e,n]},useMemoCache:su,useCacheRefresh:function(){return dt().memoizedState=G1.bind(null,ee)}},Km={readContext:st,use:vl,useCallback:Um,useContext:st,useEffect:Im,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:Mm,useMemo:jm,useReducer:El,useRef:Rm,useState:function(){return El(gn)},useDebugValue:cu,useDeferredValue:function(e,n){var s=ze();return Bm(s,ve.memoizedState,e,n)},useTransition:function(){var e=El(gn)[0],n=ze().memoizedState;return[typeof e=="boolean"?e:ka(e),n]},useSyncExternalStore:dm,useId:qm,useHostTransitionStatus:hu,useFormState:xm,useActionState:xm,useOptimistic:function(e,n){var s=ze();return vm(s,ve,e,n)},useMemoCache:su,useCacheRefresh:Vm},F1={readContext:st,use:vl,useCallback:Um,useContext:st,useEffect:Im,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:Mm,useMemo:jm,useReducer:ru,useRef:Rm,useState:function(){return ru(gn)},useDebugValue:cu,useDeferredValue:function(e,n){var s=ze();return ve===null?uu(s,e,n):Bm(s,ve.memoizedState,e,n)},useTransition:function(){var e=ru(gn)[0],n=ze().memoizedState;return[typeof e=="boolean"?e:ka(e),n]},useSyncExternalStore:dm,useId:qm,useHostTransitionStatus:hu,useFormState:Nm,useActionState:Nm,useOptimistic:function(e,n){var s=ze();return ve!==null?vm(s,ve,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:su,useCacheRefresh:Vm},xs=null,ja=0;function Cl(e){var n=ja;return ja+=1,xs===null&&(xs=[]),am(xs,e,n)}function Ba(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xl(e,n){throw n.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xm(e){var n=e._init;return n(e._payload)}function Wm(e){function n(C,w){if(e){var x=C.deletions;x===null?(C.deletions=[w],C.flags|=16):x.push(w)}}function s(C,w){if(!e)return null;for(;w!==null;)n(C,w),w=w.sibling;return null}function l(C){for(var w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function c(C,w){return C=fn(C,w),C.index=0,C.sibling=null,C}function f(C,w,x){return C.index=x,e?(x=C.alternate,x!==null?(x=x.index,x<w?(C.flags|=67108866,w):x):(C.flags|=67108866,w)):(C.flags|=1048576,w)}function m(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,w,x,D){return w===null||w.tag!==6?(w=kc(x,C.mode,D),w.return=C,w):(w=c(w,x),w.return=C,w)}function v(C,w,x,D){var H=x.type;return H===j?O(C,w,x.props.children,D,x.key):w!==null&&(w.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Et&&Xm(H)===w.type)?(w=c(w,x.props),Ba(w,x),w.return=C,w):(w=ol(x.type,x.key,x.props,null,C.mode,D),Ba(w,x),w.return=C,w)}function A(C,w,x,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Lc(x,C.mode,D),w.return=C,w):(w=c(w,x.children||[]),w.return=C,w)}function O(C,w,x,D,H){return w===null||w.tag!==7?(w=Ri(x,C.mode,D,H),w.return=C,w):(w=c(w,x),w.return=C,w)}function M(C,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=kc(""+w,C.mode,x),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case S:return x=ol(w.type,w.key,w.props,null,C.mode,x),Ba(x,w),x.return=C,x;case L:return w=Lc(w,C.mode,x),w.return=C,w;case Et:var D=w._init;return w=D(w._payload),M(C,w,x)}if(nt(w)||tt(w))return w=Ri(w,C.mode,x,null),w.return=C,w;if(typeof w.then=="function")return M(C,Cl(w),x);if(w.$$typeof===me)return M(C,hl(C,w),x);xl(C,w)}return null}function N(C,w,x,D){var H=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return H!==null?null:_(C,w,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case S:return x.key===H?v(C,w,x,D):null;case L:return x.key===H?A(C,w,x,D):null;case Et:return H=x._init,x=H(x._payload),N(C,w,x,D)}if(nt(x)||tt(x))return H!==null?null:O(C,w,x,D,null);if(typeof x.then=="function")return N(C,w,Cl(x),D);if(x.$$typeof===me)return N(C,w,hl(C,x),D);xl(C,x)}return null}function R(C,w,x,D,H){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return C=C.get(x)||null,_(w,C,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return C=C.get(D.key===null?x:D.key)||null,v(w,C,D,H);case L:return C=C.get(D.key===null?x:D.key)||null,A(w,C,D,H);case Et:var ne=D._init;return D=ne(D._payload),R(C,w,x,D,H)}if(nt(D)||tt(D))return C=C.get(x)||null,O(w,C,D,H,null);if(typeof D.then=="function")return R(C,w,x,Cl(D),H);if(D.$$typeof===me)return R(C,w,x,hl(w,D),H);xl(w,D)}return null}function Z(C,w,x,D){for(var H=null,ne=null,V=w,Q=w=0,Qe=null;V!==null&&Q<x.length;Q++){V.index>Q?(Qe=V,V=null):Qe=V.sibling;var fe=N(C,V,x[Q],D);if(fe===null){V===null&&(V=Qe);break}e&&V&&fe.alternate===null&&n(C,V),w=f(fe,w,Q),ne===null?H=fe:ne.sibling=fe,ne=fe,V=Qe}if(Q===x.length)return s(C,V),de&&Ii(C,Q),H;if(V===null){for(;Q<x.length;Q++)V=M(C,x[Q],D),V!==null&&(w=f(V,w,Q),ne===null?H=V:ne.sibling=V,ne=V);return de&&Ii(C,Q),H}for(V=l(V);Q<x.length;Q++)Qe=R(V,C,Q,x[Q],D),Qe!==null&&(e&&Qe.alternate!==null&&V.delete(Qe.key===null?Q:Qe.key),w=f(Qe,w,Q),ne===null?H=Qe:ne.sibling=Qe,ne=Qe);return e&&V.forEach(function(li){return n(C,li)}),de&&Ii(C,Q),H}function F(C,w,x,D){if(x==null)throw Error(r(151));for(var H=null,ne=null,V=w,Q=w=0,Qe=null,fe=x.next();V!==null&&!fe.done;Q++,fe=x.next()){V.index>Q?(Qe=V,V=null):Qe=V.sibling;var li=N(C,V,fe.value,D);if(li===null){V===null&&(V=Qe);break}e&&V&&li.alternate===null&&n(C,V),w=f(li,w,Q),ne===null?H=li:ne.sibling=li,ne=li,V=Qe}if(fe.done)return s(C,V),de&&Ii(C,Q),H;if(V===null){for(;!fe.done;Q++,fe=x.next())fe=M(C,fe.value,D),fe!==null&&(w=f(fe,w,Q),ne===null?H=fe:ne.sibling=fe,ne=fe);return de&&Ii(C,Q),H}for(V=l(V);!fe.done;Q++,fe=x.next())fe=R(V,C,Q,fe.value,D),fe!==null&&(e&&fe.alternate!==null&&V.delete(fe.key===null?Q:fe.key),w=f(fe,w,Q),ne===null?H=fe:ne.sibling=fe,ne=fe);return e&&V.forEach(function(QE){return n(C,QE)}),de&&Ii(C,Q),H}function be(C,w,x,D){if(typeof x=="object"&&x!==null&&x.type===j&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case S:e:{for(var H=x.key;w!==null;){if(w.key===H){if(H=x.type,H===j){if(w.tag===7){s(C,w.sibling),D=c(w,x.props.children),D.return=C,C=D;break e}}else if(w.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Et&&Xm(H)===w.type){s(C,w.sibling),D=c(w,x.props),Ba(D,x),D.return=C,C=D;break e}s(C,w);break}else n(C,w);w=w.sibling}x.type===j?(D=Ri(x.props.children,C.mode,D,x.key),D.return=C,C=D):(D=ol(x.type,x.key,x.props,null,C.mode,D),Ba(D,x),D.return=C,C=D)}return m(C);case L:e:{for(H=x.key;w!==null;){if(w.key===H)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){s(C,w.sibling),D=c(w,x.children||[]),D.return=C,C=D;break e}else{s(C,w);break}else n(C,w);w=w.sibling}D=Lc(x,C.mode,D),D.return=C,C=D}return m(C);case Et:return H=x._init,x=H(x._payload),be(C,w,x,D)}if(nt(x))return Z(C,w,x,D);if(tt(x)){if(H=tt(x),typeof H!="function")throw Error(r(150));return x=H.call(x),F(C,w,x,D)}if(typeof x.then=="function")return be(C,w,Cl(x),D);if(x.$$typeof===me)return be(C,w,hl(C,x),D);xl(C,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,w!==null&&w.tag===6?(s(C,w.sibling),D=c(w,x),D.return=C,C=D):(s(C,w),D=kc(x,C.mode,D),D.return=C,C=D),m(C)):s(C,w)}return function(C,w,x,D){try{ja=0;var H=be(C,w,x,D);return xs=null,H}catch(V){if(V===Na||V===ml)throw V;var ne=Ct(29,V,null,C.mode);return ne.lanes=D,ne.return=C,ne}finally{}}}var As=Wm(!0),Zm=Wm(!1),Bt=k(null),en=null;function Fn(e){var n=e.alternate;B(He,He.current&1),B(Bt,e),en===null&&(n===null||Ss.current!==null||n.memoizedState!==null)&&(en=e)}function Jm(e){if(e.tag===22){if(B(He,He.current),B(Bt,e),en===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(en=e)}}else Qn()}function Qn(){B(He,He.current),B(Bt,Bt.current)}function _n(e){P(Bt),en===e&&(en=null),P(He)}var He=k(0);function Al(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||sf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function mu(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var pu={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Rt(),c=Vn(l);c.payload=n,s!=null&&(c.callback=s),n=Gn(e,c,l),n!==null&&(Ot(n,e,l),Oa(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Rt(),c=Vn(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Gn(e,c,l),n!==null&&(Ot(n,e,l),Oa(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rt(),l=Vn(s);l.tag=2,n!=null&&(l.callback=n),n=Gn(e,l,s),n!==null&&(Ot(n,e,s),Oa(n,e,s))}};function $m(e,n,s,l,c,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,m):n.prototype&&n.prototype.isPureReactComponent?!Ea(s,l)||!Ea(c,f):!0}function ep(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&pu.enqueueReplaceState(n,n.state,null)}function Bi(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}var Nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function tp(e){Nl(e)}function np(e){console.error(e)}function ip(e){Nl(e)}function Rl(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function sp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function gu(e,n,s){return s=Vn(s),s.tag=3,s.payload={element:null},s.callback=function(){Rl(e,n)},s}function ap(e){return e=Vn(e),e.tag=3,e}function rp(e,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){sp(n,s,l)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){sp(n,s,l),typeof c!="function"&&($n===null?$n=new Set([this]):$n.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function Q1(e,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ca(n,s,c,!0),s=Bt.current,s!==null){switch(s.tag){case 13:return en===null?Pu():s.alternate===null&&ke===0&&(ke=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Yc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),qu(e,l,c)),!1;case 22:return s.flags|=65536,l===Yc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),qu(e,l,c)),!1}throw Error(r(435,s.tag))}return qu(e,l,c),Pu(),!1}if(de)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Bc&&(e=Error(r(422),{cause:l}),wa(kt(e,s)))):(l!==Bc&&(n=Error(r(423),{cause:l}),wa(kt(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=kt(l,s),c=gu(e.stateNode,l,c),Kc(e,c),ke!==4&&(ke=2)),!1;var f=Error(r(520),{cause:l});if(f=kt(f,s),Ya===null?Ya=[f]:Ya.push(f),ke!==4&&(ke=2),n===null)return!0;l=kt(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=gu(s.stateNode,l,e),Kc(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($n===null||!$n.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=ap(c),rp(c,e,s,l),Kc(s,c),!1}s=s.return}while(s!==null);return!1}var lp=Error(r(461)),Ye=!1;function Ze(e,n,s,l){n.child=e===null?Zm(n,null,s,l):As(n,e.child,s,l)}function op(e,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var m={};for(var _ in l)_!=="ref"&&(m[_]=l[_])}else m=l;return Li(n),l=$c(e,n,s,m,f,c),_=eu(),e!==null&&!Ye?(tu(e,n,c),yn(e,n,c)):(de&&_&&Uc(n),n.flags|=1,Ze(e,n,l,c),n.child)}function cp(e,n,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!Mc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,up(e,n,f,l,c)):(e=ol(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!wu(e,c)){var m=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ea,s(m,l)&&e.ref===n.ref)return yn(e,n,c)}return n.flags|=1,e=fn(f,l),e.ref=n.ref,e.return=n,n.child=e}function up(e,n,s,l,c){if(e!==null){var f=e.memoizedProps;if(Ea(f,l)&&e.ref===n.ref)if(Ye=!1,n.pendingProps=l=f,wu(e,c))(e.flags&131072)!==0&&(Ye=!0);else return n.lanes=e.lanes,yn(e,n,c)}return _u(e,n,s,l,c)}function fp(e,n,s){var l=n.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return hp(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&dl(n,f!==null?f.cachePool:null),f!==null?um(n,f):Wc(),Jm(n);else return n.lanes=n.childLanes=536870912,hp(e,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(dl(n,f.cachePool),um(n,f),Qn(),n.memoizedState=null):(e!==null&&dl(n,null),Wc(),Qn());return Ze(e,n,c,s),n.child}function hp(e,n,s,l){var c=Gc();return c=c===null?null:{parent:Pe._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},e!==null&&dl(n,null),Wc(),Jm(n),e!==null&&Ca(e,n,l,!0),null}function Ol(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function _u(e,n,s,l,c){return Li(n),s=$c(e,n,s,l,void 0,c),l=eu(),e!==null&&!Ye?(tu(e,n,c),yn(e,n,c)):(de&&l&&Uc(n),n.flags|=1,Ze(e,n,s,c),n.child)}function dp(e,n,s,l,c,f){return Li(n),n.updateQueue=null,s=hm(n,l,s,c),fm(e),l=eu(),e!==null&&!Ye?(tu(e,n,f),yn(e,n,f)):(de&&l&&Uc(n),n.flags|=1,Ze(e,n,s,f),n.child)}function mp(e,n,s,l,c){if(Li(n),n.stateNode===null){var f=_s,m=s.contextType;typeof m=="object"&&m!==null&&(f=st(m)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=pu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Fc(n),m=s.contextType,f.context=typeof m=="object"&&m!==null?st(m):_s,f.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(mu(n,s,m,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&pu.enqueueReplaceState(f,f.state,null),Da(n,l,f,c),Ia(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,v=Bi(s,_);f.props=v;var A=f.context,O=s.contextType;m=_s,typeof O=="object"&&O!==null&&(m=st(O));var M=s.getDerivedStateFromProps;O=typeof M=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,O||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||A!==m)&&ep(n,f,l,m),qn=!1;var N=n.memoizedState;f.state=N,Da(n,l,f,c),Ia(),A=n.memoizedState,_||N!==A||qn?(typeof M=="function"&&(mu(n,s,M,l),A=n.memoizedState),(v=qn||$m(n,s,v,l,N,A,m))?(O||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),f.props=l,f.state=A,f.context=m,l=v):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qc(e,n),m=n.memoizedProps,O=Bi(s,m),f.props=O,M=n.pendingProps,N=f.context,A=s.contextType,v=_s,typeof A=="object"&&A!==null&&(v=st(A)),_=s.getDerivedStateFromProps,(A=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==M||N!==v)&&ep(n,f,l,v),qn=!1,N=n.memoizedState,f.state=N,Da(n,l,f,c),Ia();var R=n.memoizedState;m!==M||N!==R||qn||e!==null&&e.dependencies!==null&&fl(e.dependencies)?(typeof _=="function"&&(mu(n,s,_,l),R=n.memoizedState),(O=qn||$m(n,s,O,l,N,R,v)||e!==null&&e.dependencies!==null&&fl(e.dependencies))?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,R,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,R,v)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=R),f.props=l,f.state=R,f.context=v,l=O):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ol(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=As(n,e.child,null,c),n.child=As(n,null,s,c)):Ze(e,n,s,c),n.memoizedState=f.state,e=n.child):e=yn(e,n,c),e}function pp(e,n,s,l){return Ta(),n.flags|=256,Ze(e,n,s,l),n.child}var yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vu(e){return{baseLanes:e,cachePool:nm()}}function Eu(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=zt),e}function gp(e,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(He.current&2)!==0),m&&(c=!0,n.flags&=-129),m=(n.flags&32)!==0,n.flags&=-33,e===null){if(de){if(c?Fn(n):Qn(),de){var _=Me,v;if(v=_){e:{for(v=_,_=$t;v.nodeType!==8;){if(!_){_=null;break e}if(v=Gt(v.nextSibling),v===null){_=null;break e}}_=v}_!==null?(n.memoizedState={dehydrated:_,treeContext:Oi!==null?{id:hn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},v=Ct(18,null,null,0),v.stateNode=_,v.return=n,n.child=v,lt=n,Me=null,v=!0):v=!1}v||Mi(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return sf(_)?n.lanes=32:n.lanes=536870912,null;_n(n)}return _=l.children,l=l.fallback,c?(Qn(),c=n.mode,_=Il({mode:"hidden",children:_},c),l=Ri(l,c,s,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=vu(s),c.childLanes=Eu(e,m,s),n.memoizedState=yu,l):(Fn(n),bu(n,_))}if(v=e.memoizedState,v!==null&&(_=v.dehydrated,_!==null)){if(f)n.flags&256?(Fn(n),n.flags&=-257,n=Su(e,n,s)):n.memoizedState!==null?(Qn(),n.child=e.child,n.flags|=128,n=null):(Qn(),c=l.fallback,_=n.mode,l=Il({mode:"visible",children:l.children},_),c=Ri(c,_,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,As(n,e.child,null,s),l=n.child,l.memoizedState=vu(s),l.childLanes=Eu(e,m,s),n.memoizedState=yu,n=c);else if(Fn(n),sf(_)){if(m=_.nextSibling&&_.nextSibling.dataset,m)var A=m.dgst;m=A,l=Error(r(419)),l.stack="",l.digest=m,wa({value:l,source:null,stack:null}),n=Su(e,n,s)}else if(Ye||Ca(e,n,s,!1),m=(s&e.childLanes)!==0,Ye||m){if(m=Ae,m!==null&&(l=s&-s,l=(l&42)!==0?1:sc(l),l=(l&(m.suspendedLanes|s))!==0?0:l,l!==0&&l!==v.retryLane))throw v.retryLane=l,gs(e,l),Ot(m,e,l),lp;_.data==="$?"||Pu(),n=Su(e,n,s)}else _.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,Me=Gt(_.nextSibling),lt=n,de=!0,Di=null,$t=!1,e!==null&&(Ut[jt++]=hn,Ut[jt++]=dn,Ut[jt++]=Oi,hn=e.id,dn=e.overflow,Oi=n),n=bu(n,l.children),n.flags|=4096);return n}return c?(Qn(),c=l.fallback,_=n.mode,v=e.child,A=v.sibling,l=fn(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,A!==null?c=fn(A,c):(c=Ri(c,_,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=e.child.memoizedState,_===null?_=vu(s):(v=_.cachePool,v!==null?(A=Pe._currentValue,v=v.parent!==A?{parent:A,pool:A}:v):v=nm(),_={baseLanes:_.baseLanes|s,cachePool:v}),c.memoizedState=_,c.childLanes=Eu(e,m,s),n.memoizedState=yu,l):(Fn(n),s=e.child,e=s.sibling,s=fn(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(m=n.deletions,m===null?(n.deletions=[e],n.flags|=16):m.push(e)),n.child=s,n.memoizedState=null,s)}function bu(e,n){return n=Il({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Il(e,n){return e=Ct(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Su(e,n,s){return As(n,e.child,null,s),e=bu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _p(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Pc(e.return,n,s)}function Tu(e,n,s,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function yp(e,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ze(e,n,l.children,s),l=He.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_p(e,s,n);else if(e.tag===19)_p(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(B(He,l),c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Al(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Tu(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Al(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Tu(n,!0,s,null,f);break;case"together":Tu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function yn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Jn|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ca(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=fn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=fn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function wu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&fl(e)))}function K1(e,n,s){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),Hn(n,Pe,e.memoizedState.cache),Ta();break;case 27:case 5:$o(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:Hn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fn(n),n.flags|=128,null):(s&n.child.childLanes)!==0?gp(e,n,s):(Fn(n),e=yn(e,n,s),e!==null?e.sibling:null);Fn(n);break;case 19:var c=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ca(e,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return yp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),B(He,He.current),l)break;return null;case 22:case 23:return n.lanes=0,fp(e,n,s);case 24:Hn(n,Pe,e.memoizedState.cache)}return yn(e,n,s)}function vp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ye=!0;else{if(!wu(e,s)&&(n.flags&128)===0)return Ye=!1,K1(e,n,s);Ye=(e.flags&131072)!==0}else Ye=!1,de&&(n.flags&1048576)!==0&&Xd(n,ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Mc(l)?(e=Bi(l,e),n.tag=1,n=mp(null,n,l,e,s)):(n.tag=0,n=_u(null,n,l,e,s));else{if(l!=null){if(c=l.$$typeof,c===Te){n.tag=11,n=op(null,n,l,e,s);break e}else if(c===vt){n.tag=14,n=cp(null,n,l,e,s);break e}}throw n=Ti(l)||l,Error(r(306,n,""))}}return n;case 0:return _u(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Bi(l,n.pendingProps),mp(e,n,l,c,s);case 3:e:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Qc(e,n),Da(n,l,null,s);var m=n.memoizedState;if(l=m.cache,Hn(n,Pe,l),l!==f.cache&&Hc(n,[Pe],s,!0),Ia(),l=m.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:m.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=pp(e,n,l,s);break e}else if(l!==c){c=kt(Error(r(424)),n),wa(c),n=pp(e,n,l,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Gt(e.firstChild),lt=n,de=!0,Di=null,$t=!0,s=Zm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ta(),l===c){n=yn(e,n,s);break e}Ze(e,n,l,s)}n=n.child}return n;case 26:return Ol(e,n),e===null?(s=Tg(n.type,null,n.pendingProps,null))?n.memoizedState=s:de||(s=n.type,e=n.pendingProps,l=Yl(J.current).createElement(s),l[it]=n,l[ft]=e,$e(l,s,e),Ge(l),n.stateNode=l):n.memoizedState=Tg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return $o(n),e===null&&de&&(l=n.stateNode=Eg(n.type,n.pendingProps,J.current),lt=n,$t=!0,c=Me,ni(n.type)?(af=c,Me=Gt(l.firstChild)):Me=c),Ze(e,n,n.pendingProps.children,s),Ol(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&de&&((c=l=Me)&&(l=SE(l,n.type,n.pendingProps,$t),l!==null?(n.stateNode=l,lt=n,Me=Gt(l.firstChild),$t=!1,c=!0):c=!1),c||Mi(n)),$o(n),c=n.type,f=n.pendingProps,m=e!==null?e.memoizedProps:null,l=f.children,ef(c,f)?l=null:m!==null&&ef(c,m)&&(n.flags|=32),n.memoizedState!==null&&(c=$c(e,n,P1,null,null,s),er._currentValue=c),Ol(e,n),Ze(e,n,l,s),n.child;case 6:return e===null&&de&&((e=s=Me)&&(s=TE(s,n.pendingProps,$t),s!==null?(n.stateNode=s,lt=n,Me=null,e=!0):e=!1),e||Mi(n)),null;case 13:return gp(e,n,s);case 4:return Oe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=As(n,null,l,s):Ze(e,n,l,s),n.child;case 11:return op(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Hn(n,n.type,l.value),Ze(e,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Li(n),c=st(c),l=l(c),n.flags|=1,Ze(e,n,l,s),n.child;case 14:return cp(e,n,n.type,n.pendingProps,s);case 15:return up(e,n,n.type,n.pendingProps,s);case 19:return yp(e,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},e===null?(s=Il(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=fn(e.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return fp(e,n,s);case 24:return Li(n),l=st(Pe),e===null?(c=Gc(),c===null&&(c=Ae,f=qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Fc(n),Hn(n,Pe,c)):((e.lanes&s)!==0&&(Qc(e,n),Da(n,null,null,s),Ia()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hn(n,Pe,l)):(l=f.cache,Hn(n,Pe,l),l!==c.cache&&Hc(n,[Pe],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function vn(e){e.flags|=4}function Ep(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ng(n)){if(n=Bt.current,n!==null&&((ce&4194048)===ce?en!==null:(ce&62914560)!==ce&&(ce&536870912)===0||n!==en))throw Ra=Yc,im;e.flags|=8192}}function Dl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jh():536870912,e.lanes|=n,Is|=n)}function za(e,n){if(!de)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function De(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function X1(e,n,s){var l=n.pendingProps;switch(jc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(n),null;case 1:return De(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),pn(Pe),jn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Sa(n)?vn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jd())),De(n),null;case 26:return s=n.memoizedState,e===null?(vn(n),s!==null?(De(n),Ep(n,s)):(De(n),n.flags&=-16777217)):s?s!==e.memoizedState?(vn(n),De(n),Ep(n,s)):(De(n),n.flags&=-16777217):(e.memoizedProps!==l&&vn(n),De(n),n.flags&=-16777217),null;case 27:Vr(n),s=J.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&vn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return De(n),null}e=Y.current,Sa(n)?Wd(n):(e=Eg(c,l,s),n.stateNode=e,vn(n))}return De(n),null;case 5:if(Vr(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&vn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return De(n),null}if(e=Y.current,Sa(n))Wd(n);else{switch(c=Yl(J.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}e[it]=n,e[ft]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch($e(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&vn(n)}}return De(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&vn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=J.current,Sa(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,c=lt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[it]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||dg(e.nodeValue,s)),e||Mi(n)}else e=Yl(e).createTextNode(l),e[it]=n,n.stateNode=e}return De(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Sa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[it]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;De(n),c=!1}else c=Jd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(_n(n),n):(_n(n),null)}if(_n(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Dl(n,n.updateQueue),De(n),null;case 4:return jn(),e===null&&Xu(n.stateNode.containerInfo),De(n),null;case 10:return pn(n.type),De(n),null;case 19:if(P(He),c=n.memoizedState,c===null)return De(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)za(c,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Al(e),f!==null){for(n.flags|=128,za(c,!1),e=f.updateQueue,n.updateQueue=e,Dl(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Kd(s,e),s=s.sibling;return B(He,He.current&1|2),n.child}e=e.sibling}c.tail!==null&&Jt()>Ll&&(n.flags|=128,l=!0,za(c,!1),n.lanes=4194304)}else{if(!l)if(e=Al(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Dl(n,e),za(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!de)return De(n),null}else 2*Jt()-c.renderingStartTime>Ll&&s!==536870912&&(n.flags|=128,l=!0,za(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Jt(),n.sibling=null,e=He.current,B(He,l?e&1|2:e&1),n):(De(n),null);case 22:case 23:return _n(n),Zc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(De(n),n.subtreeFlags&6&&(n.flags|=8192)):De(n),s=n.updateQueue,s!==null&&Dl(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&P(Ui),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),pn(Pe),De(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function W1(e,n){switch(jc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return pn(Pe),jn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Vr(n),null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(He),null;case 4:return jn(),null;case 10:return pn(n.type),null;case 22:case 23:return _n(n),Zc(),e!==null&&P(Ui),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return pn(Pe),null;case 25:return null;default:return null}}function bp(e,n){switch(jc(n),n.tag){case 3:pn(Pe),jn();break;case 26:case 27:case 5:Vr(n);break;case 4:jn();break;case 13:_n(n);break;case 19:P(He);break;case 10:pn(n.type);break;case 22:case 23:_n(n),Zc(),e!==null&&P(Ui);break;case 24:pn(Pe)}}function Pa(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,m=s.inst;l=f(),m.destroy=l}s=s.next}while(s!==c)}}catch(_){Ce(n,n.return,_)}}function Kn(e,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var m=l.inst,_=m.destroy;if(_!==void 0){m.destroy=void 0,c=n;var v=s,A=_;try{A()}catch(O){Ce(c,v,O)}}}l=l.next}while(l!==f)}}catch(O){Ce(n,n.return,O)}}function Sp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{cm(n,s)}catch(l){Ce(e,e.return,l)}}}function Tp(e,n,s){s.props=Bi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Ce(e,n,l)}}function Ha(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){Ce(e,n,c)}}function tn(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Ce(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ce(e,n,c)}else s.current=null}function wp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Ce(e,e.return,c)}}function Cu(e,n,s){try{var l=e.stateNode;_E(l,e.type,s,n),l[ft]=n}catch(c){Ce(e,e.return,c)}}function Cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ni(e.type)||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gl));else if(l!==4&&(l===27&&ni(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Au(e,n,s),e=e.sibling;e!==null;)Au(e,n,s),e=e.sibling}function Ml(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&ni(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ml(e,n,s),e=e.sibling;e!==null;)Ml(e,n,s),e=e.sibling}function xp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);$e(n,l,s),n[it]=e,n[ft]=s}catch(f){Ce(e,e.return,f)}}var En=!1,je=!1,Nu=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Z1(e,n){if(e=e.containerInfo,Ju=Zl,e=Bd(e),xc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var m=0,_=-1,v=-1,A=0,O=0,M=e,N=null;t:for(;;){for(var R;M!==s||c!==0&&M.nodeType!==3||(_=m+c),M!==f||l!==0&&M.nodeType!==3||(v=m+l),M.nodeType===3&&(m+=M.nodeValue.length),(R=M.firstChild)!==null;)N=M,M=R;for(;;){if(M===e)break t;if(N===s&&++A===c&&(_=m),N===f&&++O===l&&(v=m),(R=M.nextSibling)!==null)break;M=N,N=M.parentNode}M=R}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for($u={focusedElem:e,selectionRange:s},Zl=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Z=Bi(s.type,c,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(Z,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(F){Ce(s,s.return,F)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)nf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function Np(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Xn(e,s),l&4&&Pa(5,s);break;case 1:if(Xn(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(m){Ce(s,s.return,m)}else{var c=Bi(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ce(s,s.return,m)}}l&64&&Sp(s),l&512&&Ha(s,s.return);break;case 3:if(Xn(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{cm(e,n)}catch(m){Ce(s,s.return,m)}}break;case 27:n===null&&l&4&&xp(s);case 26:case 5:Xn(e,s),n===null&&l&4&&wp(s),l&512&&Ha(s,s.return);break;case 12:Xn(e,s);break;case 13:Xn(e,s),l&4&&Ip(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=rE.bind(null,s),wE(e,s))));break;case 22:if(l=s.memoizedState!==null||En,!l){n=n!==null&&n.memoizedState!==null||je,c=En;var f=je;En=l,(je=n)&&!f?Wn(e,s,(s.subtreeFlags&8772)!==0):Xn(e,s),En=c,je=f}break;case 30:break;default:Xn(e,s)}}function Rp(e){var n=e.alternate;n!==null&&(e.alternate=null,Rp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&lc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,mt=!1;function bn(e,n,s){for(s=s.child;s!==null;)Op(e,n,s),s=s.sibling}function Op(e,n,s){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(oa,s)}catch{}switch(s.tag){case 26:je||tn(s,n),bn(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:je||tn(s,n);var l=Ie,c=mt;ni(s.type)&&(Ie=s.stateNode,mt=!1),bn(e,n,s),Wa(s.stateNode),Ie=l,mt=c;break;case 5:je||tn(s,n);case 6:if(l=Ie,c=mt,Ie=null,bn(e,n,s),Ie=l,mt=c,Ie!==null)if(mt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(s.stateNode)}catch(f){Ce(s,n,f)}else try{Ie.removeChild(s.stateNode)}catch(f){Ce(s,n,f)}break;case 18:Ie!==null&&(mt?(e=Ie,yg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),sr(e)):yg(Ie,s.stateNode));break;case 4:l=Ie,c=mt,Ie=s.stateNode.containerInfo,mt=!0,bn(e,n,s),Ie=l,mt=c;break;case 0:case 11:case 14:case 15:je||Kn(2,s,n),je||Kn(4,s,n),bn(e,n,s);break;case 1:je||(tn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Tp(s,n,l)),bn(e,n,s);break;case 21:bn(e,n,s);break;case 22:je=(l=je)||s.memoizedState!==null,bn(e,n,s),je=l;break;default:bn(e,n,s)}}function Ip(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sr(e)}catch(s){Ce(n,n.return,s)}}function J1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ap),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ap),n;default:throw Error(r(435,e.tag))}}function Ru(e,n){var s=J1(e);n.forEach(function(l){var c=lE.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}function xt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,m=n,_=m;e:for(;_!==null;){switch(_.tag){case 27:if(ni(_.type)){Ie=_.stateNode,mt=!1;break e}break;case 5:Ie=_.stateNode,mt=!1;break e;case 3:case 4:Ie=_.stateNode.containerInfo,mt=!0;break e}_=_.return}if(Ie===null)throw Error(r(160));Op(f,m,c),Ie=null,mt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dp(n,e),n=n.sibling}var Vt=null;function Dp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(n,e),At(e),l&4&&(Kn(3,e,e.return),Pa(3,e),Kn(5,e,e.return));break;case 1:xt(n,e),At(e),l&512&&(je||s===null||tn(s,s.return)),l&64&&En&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Vt;if(xt(n,e),At(e),l&512&&(je||s===null||tn(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[fa]||f[it]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),$e(f,l,s),f[it]=e,Ge(f),l=f;break e;case"link":var m=xg("link","href",c).get(l+(s.href||""));if(m){for(var _=0;_<m.length;_++)if(f=m[_],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(_,1);break t}}f=c.createElement(l),$e(f,l,s),c.head.appendChild(f);break;case"meta":if(m=xg("meta","content",c).get(l+(s.content||""))){for(_=0;_<m.length;_++)if(f=m[_],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(_,1);break t}}f=c.createElement(l),$e(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[it]=e,Ge(f),l=f}e.stateNode=l}else Ag(c,e.type,e.stateNode);else e.stateNode=Cg(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Ag(c,e.type,e.stateNode):Cg(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Cu(e,e.memoizedProps,s.memoizedProps)}break;case 27:xt(n,e),At(e),l&512&&(je||s===null||tn(s,s.return)),s!==null&&l&4&&Cu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(xt(n,e),At(e),l&512&&(je||s===null||tn(s,s.return)),e.flags&32){c=e.stateNode;try{cs(c,"")}catch(R){Ce(e,e.return,R)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Cu(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Nu=!0);break;case 6:if(xt(n,e),At(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(R){Ce(e,e.return,R)}}break;case 3:if(Kl=null,c=Vt,Vt=Fl(n.containerInfo),xt(n,e),Vt=c,At(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{sr(n.containerInfo)}catch(R){Ce(e,e.return,R)}Nu&&(Nu=!1,Mp(e));break;case 4:l=Vt,Vt=Fl(e.stateNode.containerInfo),xt(n,e),At(e),Vt=l;break;case 12:xt(n,e),At(e);break;case 13:xt(n,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Lu=Jt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ru(e,l)));break;case 22:c=e.memoizedState!==null;var v=s!==null&&s.memoizedState!==null,A=En,O=je;if(En=A||c,je=O||v,xt(n,e),je=O,En=A,At(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||v||En||je||zi(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){v=s=n;try{if(f=v.stateNode,c)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=v.stateNode;var M=v.memoizedProps.style,N=M!=null&&M.hasOwnProperty("display")?M.display:null;_.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(R){Ce(v,v.return,R)}}}else if(n.tag===6){if(s===null){v=n;try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(R){Ce(v,v.return,R)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ru(e,s))));break;case 19:xt(n,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ru(e,l)));break;case 30:break;case 21:break;default:xt(n,e),At(e)}}function At(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Cp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=xu(e);Ml(e,f,c);break;case 5:var m=s.stateNode;s.flags&32&&(cs(m,""),s.flags&=-33);var _=xu(e);Ml(e,_,m);break;case 3:case 4:var v=s.stateNode.containerInfo,A=xu(e);Au(e,A,v);break;default:throw Error(r(161))}}catch(O){Ce(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Np(e,n.alternate,n),n=n.sibling}function zi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Kn(4,n,n.return),zi(n);break;case 1:tn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Tp(n,n.return,s),zi(n);break;case 27:Wa(n.stateNode);case 26:case 5:tn(n,n.return),zi(n);break;case 22:n.memoizedState===null&&zi(n);break;case 30:zi(n);break;default:zi(n)}e=e.sibling}}function Wn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,m=f.flags;switch(f.tag){case 0:case 11:case 15:Wn(c,f,s),Pa(4,f);break;case 1:if(Wn(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){Ce(l,l.return,A)}if(l=f,c=l.updateQueue,c!==null){var _=l.stateNode;try{var v=c.shared.hiddenCallbacks;if(v!==null)for(c.shared.hiddenCallbacks=null,c=0;c<v.length;c++)om(v[c],_)}catch(A){Ce(l,l.return,A)}}s&&m&64&&Sp(f),Ha(f,f.return);break;case 27:xp(f);case 26:case 5:Wn(c,f,s),s&&l===null&&m&4&&wp(f),Ha(f,f.return);break;case 12:Wn(c,f,s);break;case 13:Wn(c,f,s),s&&m&4&&Ip(c,f);break;case 22:f.memoizedState===null&&Wn(c,f,s),Ha(f,f.return);break;case 30:break;default:Wn(c,f,s)}n=n.sibling}}function Ou(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&xa(s))}function Iu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xa(e))}function nn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kp(e,n,s,l),n=n.sibling}function kp(e,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n,s,l),c&2048&&Pa(9,n);break;case 1:nn(e,n,s,l);break;case 3:nn(e,n,s,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xa(e)));break;case 12:if(c&2048){nn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,m=f.id,_=f.onPostCommit;typeof _=="function"&&_(m,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Ce(n,n.return,v)}}else nn(e,n,s,l);break;case 13:nn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,m=n.alternate,n.memoizedState!==null?f._visibility&2?nn(e,n,s,l):qa(e,n):f._visibility&2?nn(e,n,s,l):(f._visibility|=2,Ns(e,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ou(m,n);break;case 24:nn(e,n,s,l),c&2048&&Iu(n.alternate,n);break;default:nn(e,n,s,l)}}function Ns(e,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,m=n,_=s,v=l,A=m.flags;switch(m.tag){case 0:case 11:case 15:Ns(f,m,_,v,c),Pa(8,m);break;case 23:break;case 22:var O=m.stateNode;m.memoizedState!==null?O._visibility&2?Ns(f,m,_,v,c):qa(f,m):(O._visibility|=2,Ns(f,m,_,v,c)),c&&A&2048&&Ou(m.alternate,m);break;case 24:Ns(f,m,_,v,c),c&&A&2048&&Iu(m.alternate,m);break;default:Ns(f,m,_,v,c)}n=n.sibling}}function qa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,c=l.flags;switch(l.tag){case 22:qa(s,l),c&2048&&Ou(l.alternate,l);break;case 24:qa(s,l),c&2048&&Iu(l.alternate,l);break;default:qa(s,l)}n=n.sibling}}var Va=8192;function Rs(e){if(e.subtreeFlags&Va)for(e=e.child;e!==null;)Lp(e),e=e.sibling}function Lp(e){switch(e.tag){case 26:Rs(e),e.flags&Va&&e.memoizedState!==null&&jE(Vt,e.memoizedState,e.memoizedProps);break;case 5:Rs(e);break;case 3:case 4:var n=Vt;Vt=Fl(e.stateNode.containerInfo),Rs(e),Vt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Va,Va=16777216,Rs(e),Va=n):Rs(e));break;default:Rs(e)}}function Up(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ga(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Fe=l,Bp(l,e)}Up(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 0:case 11:case 15:Ga(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:Ga(e);break;case 12:Ga(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,kl(e)):Ga(e);break;default:Ga(e)}}function kl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Fe=l,Bp(l,e)}Up(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Kn(8,n,n.return),kl(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,kl(n));break;default:kl(n)}e=e.sibling}}function Bp(e,n){for(;Fe!==null;){var s=Fe;switch(s.tag){case 0:case 11:case 15:Kn(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xa(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Fe=l;else e:for(s=e;Fe!==null;){l=Fe;var c=l.sibling,f=l.return;if(Rp(l),l===s){Fe=null;break e}if(c!==null){c.return=f,Fe=c;break e}Fe=f}}}var $1={getCacheForType:function(e){var n=st(Pe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},eE=typeof WeakMap=="function"?WeakMap:Map,pe=0,Ae=null,se=null,ce=0,ge=0,Nt=null,Zn=!1,Os=!1,Du=!1,Sn=0,ke=0,Jn=0,Pi=0,Mu=0,zt=0,Is=0,Ya=null,pt=null,ku=!1,Lu=0,Ll=1/0,Ul=null,$n=null,Je=0,ei=null,Ds=null,Ms=0,Uu=0,ju=null,zp=null,Fa=0,Bu=null;function Rt(){if((pe&2)!==0&&ce!==0)return ce&-ce;if(I.T!==null){var e=Es;return e!==0?e:Yu()}return td()}function Pp(){zt===0&&(zt=(ce&536870912)===0||de?Zh():536870912);var e=Bt.current;return e!==null&&(e.flags|=32),zt}function Ot(e,n,s){(e===Ae&&(ge===2||ge===9)||e.cancelPendingCommit!==null)&&(ks(e,0),ti(e,ce,zt,!1)),ua(e,s),((pe&2)===0||e!==Ae)&&(e===Ae&&((pe&2)===0&&(Pi|=s),ke===4&&ti(e,ce,zt,!1)),sn(e))}function Hp(e,n,s){if((pe&6)!==0)throw Error(r(327));var l=!s&&(n&124)===0&&(n&e.expiredLanes)===0||ca(e,n),c=l?iE(e,n):Hu(e,n,!0),f=l;do{if(c===0){Os&&!l&&ti(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!tE(s)){c=Hu(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){n=m;e:{var _=e;c=Ya;var v=_.current.memoizedState.isDehydrated;if(v&&(ks(_,m).flags|=256),m=Hu(_,m,!1),m!==2){if(Du&&!v){_.errorRecoveryDisabledLanes|=f,Pi|=f,c=4;break e}f=pt,pt=c,f!==null&&(pt===null?pt=f:pt.push.apply(pt,f))}c=m}if(f=!1,c!==2)continue}}if(c===1){ks(e,0),ti(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ti(l,n,zt,!Zn);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Lu+300-Jt(),10<c)){if(ti(l,n,zt,!Zn),Qr(l,0,!0)!==0)break e;l.timeoutHandle=gg(qp.bind(null,l,s,pt,Ul,ku,n,zt,Pi,Is,Zn,f,2,-0,0),c);break e}qp(l,s,pt,Ul,ku,n,zt,Pi,Is,Zn,f,0,-0,0)}}break}while(!0);sn(e)}function qp(e,n,s,l,c,f,m,_,v,A,O,M,N,R){if(e.timeoutHandle=-1,M=n.subtreeFlags,(M&8192||(M&16785408)===16785408)&&($a={stylesheets:null,count:0,unsuspend:UE},Lp(n),M=BE(),M!==null)){e.cancelPendingCommit=M(Xp.bind(null,e,n,f,s,l,c,m,_,v,O,1,N,R)),ti(e,f,m,!A);return}Xp(e,n,f,s,l,c,m,_,v)}function tE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!wt(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ti(e,n,s,l){n&=~Mu,n&=~Pi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-Tt(c),m=1<<f;l[f]=-1,c&=~m}s!==0&&$h(e,s,n)}function jl(){return(pe&6)===0?(Qa(0),!1):!0}function zu(){if(se!==null){if(ge===0)var e=se.return;else e=se,mn=ki=null,nu(e),xs=null,ja=0,e=se;for(;e!==null;)bp(e.alternate,e),e=e.return;se=null}}function ks(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,vE(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),zu(),Ae=e,se=s=fn(e.current,null),ce=n,ge=0,Nt=null,Zn=!1,Os=ca(e,n),Du=!1,Is=zt=Mu=Pi=Jn=ke=0,pt=Ya=null,ku=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Tt(l),f=1<<c;n|=e[c],l&=~f}return Sn=n,al(),s}function Vp(e,n){ee=null,I.H=wl,n===Na||n===ml?(n=rm(),ge=3):n===im?(n=rm(),ge=4):ge=n===lp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nt=n,se===null&&(ke=1,Rl(e,kt(n,e.current)))}function Gp(){var e=I.H;return I.H=wl,e===null?wl:e}function Yp(){var e=I.A;return I.A=$1,e}function Pu(){ke=4,Zn||(ce&4194048)!==ce&&Bt.current!==null||(Os=!0),(Jn&134217727)===0&&(Pi&134217727)===0||Ae===null||ti(Ae,ce,zt,!1)}function Hu(e,n,s){var l=pe;pe|=2;var c=Gp(),f=Yp();(Ae!==e||ce!==n)&&(Ul=null,ks(e,n)),n=!1;var m=ke;e:do try{if(ge!==0&&se!==null){var _=se,v=Nt;switch(ge){case 8:zu(),m=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(n=!0);var A=ge;if(ge=0,Nt=null,Ls(e,_,v,A),s&&Os){m=0;break e}break;default:A=ge,ge=0,Nt=null,Ls(e,_,v,A)}}nE(),m=ke;break}catch(O){Vp(e,O)}while(!0);return n&&e.shellSuspendCounter++,mn=ki=null,pe=l,I.H=c,I.A=f,se===null&&(Ae=null,ce=0,al()),m}function nE(){for(;se!==null;)Fp(se)}function iE(e,n){var s=pe;pe|=2;var l=Gp(),c=Yp();Ae!==e||ce!==n?(Ul=null,Ll=Jt()+500,ks(e,n)):Os=ca(e,n);e:do try{if(ge!==0&&se!==null){n=se;var f=Nt;t:switch(ge){case 1:ge=0,Nt=null,Ls(e,n,f,1);break;case 2:case 9:if(sm(f)){ge=0,Nt=null,Qp(n);break}n=function(){ge!==2&&ge!==9||Ae!==e||(ge=7),sn(e)},f.then(n,n);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:sm(f)?(ge=0,Nt=null,Qp(n)):(ge=0,Nt=null,Ls(e,n,f,7));break;case 5:var m=null;switch(se.tag){case 26:m=se.memoizedState;case 5:case 27:var _=se;if(!m||Ng(m)){ge=0,Nt=null;var v=_.sibling;if(v!==null)se=v;else{var A=_.return;A!==null?(se=A,Bl(A)):se=null}break t}}ge=0,Nt=null,Ls(e,n,f,5);break;case 6:ge=0,Nt=null,Ls(e,n,f,6);break;case 8:zu(),ke=6;break e;default:throw Error(r(462))}}sE();break}catch(O){Vp(e,O)}while(!0);return mn=ki=null,I.H=l,I.A=c,pe=s,se!==null?0:(Ae=null,ce=0,al(),ke)}function sE(){for(;se!==null&&!x0();)Fp(se)}function Fp(e){var n=vp(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,n===null?Bl(e):se=n}function Qp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=dp(s,n,n.pendingProps,n.type,void 0,ce);break;case 11:n=dp(s,n,n.pendingProps,n.type.render,n.ref,ce);break;case 5:nu(n);default:bp(s,n),n=se=Kd(n,Sn),n=vp(s,n,Sn)}e.memoizedProps=e.pendingProps,n===null?Bl(e):se=n}function Ls(e,n,s,l){mn=ki=null,nu(n),xs=null,ja=0;var c=n.return;try{if(Q1(e,c,n,s,ce)){ke=1,Rl(e,kt(s,e.current)),se=null;return}}catch(f){if(c!==null)throw se=c,f;ke=1,Rl(e,kt(s,e.current)),se=null;return}n.flags&32768?(de||l===1?e=!0:Os||(ce&536870912)!==0?e=!1:(Zn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kp(n,e)):Bl(n)}function Bl(e){var n=e;do{if((n.flags&32768)!==0){Kp(n,Zn);return}e=n.return;var s=X1(n.alternate,n,Sn);if(s!==null){se=s;return}if(n=n.sibling,n!==null){se=n;return}se=n=e}while(n!==null);ke===0&&(ke=5)}function Kp(e,n){do{var s=W1(e.alternate,e);if(s!==null){s.flags&=32767,se=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){se=e;return}se=e=s}while(e!==null);ke=6,se=null}function Xp(e,n,s,l,c,f,m,_,v){e.cancelPendingCommit=null;do zl();while(Je!==0);if((pe&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ic,U0(e,s,f,m,_,v),e===Ae&&(se=Ae=null,ce=0),Ds=n,ei=e,Ms=s,Uu=f,ju=c,zp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oE(Gr,function(){return eg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=I.T,I.T=null,c=z.p,z.p=2,m=pe,pe|=4;try{Z1(e,n,s)}finally{pe=m,z.p=c,I.T=l}}Je=1,Wp(),Zp(),Jp()}}function Wp(){if(Je===1){Je=0;var e=ei,n=Ds,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=I.T,I.T=null;var l=z.p;z.p=2;var c=pe;pe|=4;try{Dp(n,e);var f=$u,m=Bd(e.containerInfo),_=f.focusedElem,v=f.selectionRange;if(m!==_&&_&&_.ownerDocument&&jd(_.ownerDocument.documentElement,_)){if(v!==null&&xc(_)){var A=v.start,O=v.end;if(O===void 0&&(O=A),"selectionStart"in _)_.selectionStart=A,_.selectionEnd=Math.min(O,_.value.length);else{var M=_.ownerDocument||document,N=M&&M.defaultView||window;if(N.getSelection){var R=N.getSelection(),Z=_.textContent.length,F=Math.min(v.start,Z),be=v.end===void 0?F:Math.min(v.end,Z);!R.extend&&F>be&&(m=be,be=F,F=m);var C=Ud(_,F),w=Ud(_,be);if(C&&w&&(R.rangeCount!==1||R.anchorNode!==C.node||R.anchorOffset!==C.offset||R.focusNode!==w.node||R.focusOffset!==w.offset)){var x=M.createRange();x.setStart(C.node,C.offset),R.removeAllRanges(),F>be?(R.addRange(x),R.extend(w.node,w.offset)):(x.setEnd(w.node,w.offset),R.addRange(x))}}}}for(M=[],R=_;R=R.parentNode;)R.nodeType===1&&M.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<M.length;_++){var D=M[_];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Zl=!!Ju,$u=Ju=null}finally{pe=c,z.p=l,I.T=s}}e.current=n,Je=2}}function Zp(){if(Je===2){Je=0;var e=ei,n=Ds,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=I.T,I.T=null;var l=z.p;z.p=2;var c=pe;pe|=4;try{Np(e,n.alternate,n)}finally{pe=c,z.p=l,I.T=s}}Je=3}}function Jp(){if(Je===4||Je===3){Je=0,A0();var e=ei,n=Ds,s=Ms,l=zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Je=5:(Je=0,Ds=ei=null,$p(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&($n=null),ac(s),n=n.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(oa,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=I.T,c=z.p,z.p=2,I.T=null;try{for(var f=e.onRecoverableError,m=0;m<l.length;m++){var _=l[m];f(_.value,{componentStack:_.stack})}}finally{I.T=n,z.p=c}}(Ms&3)!==0&&zl(),sn(e),c=e.pendingLanes,(s&4194090)!==0&&(c&42)!==0?e===Bu?Fa++:(Fa=0,Bu=e):Fa=0,Qa(0)}}function $p(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xa(n)))}function zl(e){return Wp(),Zp(),Jp(),eg()}function eg(){if(Je!==5)return!1;var e=ei,n=Uu;Uu=0;var s=ac(Ms),l=I.T,c=z.p;try{z.p=32>s?32:s,I.T=null,s=ju,ju=null;var f=ei,m=Ms;if(Je=0,Ds=ei=null,Ms=0,(pe&6)!==0)throw Error(r(331));var _=pe;if(pe|=4,jp(f.current),kp(f,f.current,m,s),pe=_,Qa(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(oa,f)}catch{}return!0}finally{z.p=c,I.T=l,$p(e,n)}}function tg(e,n,s){n=kt(s,n),n=gu(e.stateNode,n,2),e=Gn(e,n,2),e!==null&&(ua(e,2),sn(e))}function Ce(e,n,s){if(e.tag===3)tg(e,e,s);else for(;n!==null;){if(n.tag===3){tg(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($n===null||!$n.has(l))){e=kt(s,e),s=ap(2),l=Gn(n,s,2),l!==null&&(rp(s,l,n,e),ua(l,2),sn(l));break}}n=n.return}}function qu(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new eE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Du=!0,c.add(s),e=aE.bind(null,e,n,s),n.then(e,e))}function aE(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ae===e&&(ce&s)===s&&(ke===4||ke===3&&(ce&62914560)===ce&&300>Jt()-Lu?(pe&2)===0&&ks(e,0):Mu|=s,Is===ce&&(Is=0)),sn(e)}function ng(e,n){n===0&&(n=Jh()),e=gs(e,n),e!==null&&(ua(e,n),sn(e))}function rE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ng(e,s)}function lE(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),ng(e,s)}function oE(e,n){return tc(e,n)}var Pl=null,Us=null,Vu=!1,Hl=!1,Gu=!1,Hi=0;function sn(e){e!==Us&&e.next===null&&(Us===null?Pl=Us=e:Us=Us.next=e),Hl=!0,Vu||(Vu=!0,uE())}function Qa(e,n){if(!Gu&&Hl){Gu=!0;do for(var s=!1,l=Pl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var m=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Tt(42|e)+1)-1,f&=c&~(m&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,rg(l,f))}else f=ce,f=Qr(l,l===Ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ca(l,f)||(s=!0,rg(l,f));l=l.next}while(s);Gu=!1}}function cE(){ig()}function ig(){Hl=Vu=!1;var e=0;Hi!==0&&(yE()&&(e=Hi),Hi=0);for(var n=Jt(),s=null,l=Pl;l!==null;){var c=l.next,f=sg(l,n);f===0?(l.next=null,s===null?Pl=c:s.next=c,c===null&&(Us=s)):(s=l,(e!==0||(f&3)!==0)&&(Hl=!0)),l=c}Qa(e)}function sg(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-Tt(f),_=1<<m,v=c[m];v===-1?((_&s)===0||(_&l)!==0)&&(c[m]=L0(_,n)):v<=n&&(e.expiredLanes|=_),f&=~_}if(n=Ae,s=ce,s=Qr(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(ge===2||ge===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&nc(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ca(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&nc(l),ac(s)){case 2:case 8:s=Xh;break;case 32:s=Gr;break;case 268435456:s=Wh;break;default:s=Gr}return l=ag.bind(null,e),s=tc(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&nc(l),e.callbackPriority=2,e.callbackNode=null,2}function ag(e,n){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(zl()&&e.callbackNode!==s)return null;var l=ce;return l=Qr(e,e===Ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Hp(e,l,n),sg(e,Jt()),e.callbackNode!=null&&e.callbackNode===s?ag.bind(null,e):null)}function rg(e,n){if(zl())return null;Hp(e,n,!0)}function uE(){EE(function(){(pe&6)!==0?tc(Kh,cE):ig()})}function Yu(){return Hi===0&&(Hi=Zh()),Hi}function lg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jr(""+e)}function og(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function fE(e,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=lg((c[ft]||null).action),m=l.submitter;m&&(n=(n=m[ft]||null)?lg(n.formAction):m.getAttribute("formAction"),n!==null&&(f=n,m=null));var _=new nl("action","action",null,l,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hi!==0){var v=m?og(c,m):new FormData(c);fu(s,{pending:!0,data:v,method:c.method,action:f},null,v)}}else typeof f=="function"&&(_.preventDefault(),v=m?og(c,m):new FormData(c),fu(s,{pending:!0,data:v,method:c.method,action:f},f,v))},currentTarget:c}]})}}for(var Fu=0;Fu<Oc.length;Fu++){var Qu=Oc[Fu],hE=Qu.toLowerCase(),dE=Qu[0].toUpperCase()+Qu.slice(1);qt(hE,"on"+dE)}qt(Hd,"onAnimationEnd"),qt(qd,"onAnimationIteration"),qt(Vd,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(O1,"onTransitionRun"),qt(I1,"onTransitionStart"),qt(D1,"onTransitionCancel"),qt(Gd,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ka));function cg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var m=l.length-1;0<=m;m--){var _=l[m],v=_.instance,A=_.currentTarget;if(_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=A;try{f(c)}catch(O){Nl(O)}c.currentTarget=null,f=v}else for(m=0;m<l.length;m++){if(_=l[m],v=_.instance,A=_.currentTarget,_=_.listener,v!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=A;try{f(c)}catch(O){Nl(O)}c.currentTarget=null,f=v}}}}function ae(e,n){var s=n[rc];s===void 0&&(s=n[rc]=new Set);var l=e+"__bubble";s.has(l)||(ug(n,e,2,!1),s.add(l))}function Ku(e,n,s){var l=0;n&&(l|=4),ug(s,e,l,n)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Xu(e){if(!e[ql]){e[ql]=!0,id.forEach(function(s){s!=="selectionchange"&&(mE.has(s)||Ku(s,!1,e),Ku(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ql]||(n[ql]=!0,Ku("selectionchange",!1,n))}}function ug(e,n,s,l){switch(kg(n)){case 2:var c=HE;break;case 8:c=qE;break;default:c=uf}s=c.bind(null,n,s,e),c=void 0,!_c||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Wu(e,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var _=l.stateNode.containerInfo;if(_===c)break;if(m===4)for(m=l.return;m!==null;){var v=m.tag;if((v===3||v===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;_!==null;){if(m=is(_),m===null)return;if(v=m.tag,v===5||v===6||v===26||v===27){l=f=m;continue e}_=_.parentNode}}l=l.return}_d(function(){var A=f,O=pc(s),M=[];e:{var N=Yd.get(e);if(N!==void 0){var R=nl,Z=e;switch(e){case"keypress":if(el(s)===0)break e;case"keydown":case"keyup":R=o1;break;case"focusin":Z="focus",R=bc;break;case"focusout":Z="blur",R=bc;break;case"beforeblur":case"afterblur":R=bc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=W0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=f1;break;case Hd:case qd:case Vd:R=$0;break;case Gd:R=d1;break;case"scroll":case"scrollend":R=K0;break;case"wheel":R=p1;break;case"copy":case"cut":case"paste":R=t1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Sd;break;case"toggle":case"beforetoggle":R=_1}var F=(n&4)!==0,be=!F&&(e==="scroll"||e==="scrollend"),C=F?N!==null?N+"Capture":null:N;F=[];for(var w=A,x;w!==null;){var D=w;if(x=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||x===null||C===null||(D=da(w,C),D!=null&&F.push(Xa(w,D,x))),be)break;w=w.return}0<F.length&&(N=new R(N,Z,null,s,O),M.push({event:N,listeners:F}))}}if((n&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",N&&s!==mc&&(Z=s.relatedTarget||s.fromElement)&&(is(Z)||Z[ns]))break e;if((R||N)&&(N=O.window===O?O:(N=O.ownerDocument)?N.defaultView||N.parentWindow:window,R?(Z=s.relatedTarget||s.toElement,R=A,Z=Z?is(Z):null,Z!==null&&(be=u(Z),F=Z.tag,Z!==be||F!==5&&F!==27&&F!==6)&&(Z=null)):(R=null,Z=A),R!==Z)){if(F=Ed,D="onMouseLeave",C="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(F=Sd,D="onPointerLeave",C="onPointerEnter",w="pointer"),be=R==null?N:ha(R),x=Z==null?N:ha(Z),N=new F(D,w+"leave",R,s,O),N.target=be,N.relatedTarget=x,D=null,is(O)===A&&(F=new F(C,w+"enter",Z,s,O),F.target=x,F.relatedTarget=be,D=F),be=D,R&&Z)t:{for(F=R,C=Z,w=0,x=F;x;x=js(x))w++;for(x=0,D=C;D;D=js(D))x++;for(;0<w-x;)F=js(F),w--;for(;0<x-w;)C=js(C),x--;for(;w--;){if(F===C||C!==null&&F===C.alternate)break t;F=js(F),C=js(C)}F=null}else F=null;R!==null&&fg(M,N,R,F,!1),Z!==null&&be!==null&&fg(M,be,Z,F,!0)}}e:{if(N=A?ha(A):window,R=N.nodeName&&N.nodeName.toLowerCase(),R==="select"||R==="input"&&N.type==="file")var H=Od;else if(Nd(N))if(Id)H=A1;else{H=C1;var ne=w1}else R=N.nodeName,!R||R.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?A&&dc(A.elementType)&&(H=Od):H=x1;if(H&&(H=H(e,A))){Rd(M,H,s,O);break e}ne&&ne(e,N,A),e==="focusout"&&A&&N.type==="number"&&A.memoizedProps.value!=null&&hc(N,"number",N.value)}switch(ne=A?ha(A):window,e){case"focusin":(Nd(ne)||ne.contentEditable==="true")&&(ds=ne,Ac=A,ba=null);break;case"focusout":ba=Ac=ds=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,zd(M,s,O);break;case"selectionchange":if(R1)break;case"keydown":case"keyup":zd(M,s,O)}var V;if(Tc)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else hs?xd(e,s)&&(Q="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Q="onCompositionStart");Q&&(Td&&s.locale!=="ko"&&(hs||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&hs&&(V=yd()):(Pn=O,yc="value"in Pn?Pn.value:Pn.textContent,hs=!0)),ne=Vl(A,Q),0<ne.length&&(Q=new bd(Q,e,null,s,O),M.push({event:Q,listeners:ne}),V?Q.data=V:(V=Ad(s),V!==null&&(Q.data=V)))),(V=v1?E1(e,s):b1(e,s))&&(Q=Vl(A,"onBeforeInput"),0<Q.length&&(ne=new bd("onBeforeInput","beforeinput",null,s,O),M.push({event:ne,listeners:Q}),ne.data=V)),fE(M,e,A,s,O)}cg(M,n)})}function Xa(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Vl(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=da(e,s),c!=null&&l.unshift(Xa(e,c,f)),c=da(e,n),c!=null&&l.push(Xa(e,c,f))),e.tag===3)return l;e=e.return}return[]}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fg(e,n,s,l,c){for(var f=n._reactName,m=[];s!==null&&s!==l;){var _=s,v=_.alternate,A=_.stateNode;if(_=_.tag,v!==null&&v===l)break;_!==5&&_!==26&&_!==27||A===null||(v=A,c?(A=da(s,f),A!=null&&m.unshift(Xa(s,A,v))):c||(A=da(s,f),A!=null&&m.push(Xa(s,A,v)))),s=s.return}m.length!==0&&e.push({event:n,listeners:m})}var pE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function hg(e){return(typeof e=="string"?e:""+e).replace(pE,`
`).replace(gE,"")}function dg(e,n){return n=hg(n),hg(e)===n}function Gl(){}function Ee(e,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||cs(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&cs(e,""+l);break;case"className":Xr(e,"class",l);break;case"tabIndex":Xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(e,s,l);break;case"style":pd(e,l,f);break;case"data":if(n!=="object"){Xr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Jr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ee(e,n,"name",c.name,c,null),Ee(e,n,"formEncType",c.formEncType,c,null),Ee(e,n,"formMethod",c.formMethod,c,null),Ee(e,n,"formTarget",c.formTarget,c,null)):(Ee(e,n,"encType",c.encType,c,null),Ee(e,n,"method",c.method,c,null),Ee(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Jr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Gl);break;case"onScroll":l!=null&&ae("scroll",e);break;case"onScrollEnd":l!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Jr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":ae("beforetoggle",e),ae("toggle",e),Kr(e,"popover",l);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Kr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=F0.get(s)||s,Kr(e,s,l))}}function Zu(e,n,s,l,c,f){switch(s){case"style":pd(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?cs(e,l):(typeof l=="number"||typeof l=="bigint")&&cs(e,""+l);break;case"onScroll":l!=null&&ae("scroll",e);break;case"onScrollEnd":l!=null&&ae("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Gl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[ft]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,c);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Kr(e,s,l)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var m=s[f];if(m!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ee(e,n,f,m,s,null)}}c&&Ee(e,n,"srcSet",s.srcSet,s,null),l&&Ee(e,n,"src",s.src,s,null);return;case"input":ae("invalid",e);var _=f=m=c=null,v=null,A=null;for(l in s)if(s.hasOwnProperty(l)){var O=s[l];if(O!=null)switch(l){case"name":c=O;break;case"type":m=O;break;case"checked":v=O;break;case"defaultChecked":A=O;break;case"value":f=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,n));break;default:Ee(e,n,l,O,s,null)}}fd(e,f,_,v,A,m,c,!1),Wr(e);return;case"select":ae("invalid",e),l=m=f=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":m=_;break;case"multiple":l=_;default:Ee(e,n,c,_,s,null)}n=f,s=m,e.multiple=!!l,n!=null?os(e,!!l,n,!1):s!=null&&os(e,!!l,s,!0);return;case"textarea":ae("invalid",e),f=c=l=null;for(m in s)if(s.hasOwnProperty(m)&&(_=s[m],_!=null))switch(m){case"value":l=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ee(e,n,m,_,s,null)}dd(e,l,c,f),Wr(e);return;case"option":for(v in s)if(s.hasOwnProperty(v)&&(l=s[v],l!=null))switch(v){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ee(e,n,v,l,s,null)}return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(l=0;l<Ka.length;l++)ae(Ka[l],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in s)if(s.hasOwnProperty(A)&&(l=s[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ee(e,n,A,l,s,null)}return;default:if(dc(n)){for(O in s)s.hasOwnProperty(O)&&(l=s[O],l!==void 0&&Zu(e,n,O,l,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(l=s[_],l!=null&&Ee(e,n,_,l,s,null))}function _E(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,m=null,_=null,v=null,A=null,O=null;for(R in s){var M=s[R];if(s.hasOwnProperty(R)&&M!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":v=M;default:l.hasOwnProperty(R)||Ee(e,n,R,null,l,M)}}for(var N in l){var R=l[N];if(M=s[N],l.hasOwnProperty(N)&&(R!=null||M!=null))switch(N){case"type":f=R;break;case"name":c=R;break;case"checked":A=R;break;case"defaultChecked":O=R;break;case"value":m=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,n));break;default:R!==M&&Ee(e,n,N,R,l,M)}}fc(e,m,_,v,A,O,f,c);return;case"select":R=m=_=N=null;for(f in s)if(v=s[f],s.hasOwnProperty(f)&&v!=null)switch(f){case"value":break;case"multiple":R=v;default:l.hasOwnProperty(f)||Ee(e,n,f,null,l,v)}for(c in l)if(f=l[c],v=s[c],l.hasOwnProperty(c)&&(f!=null||v!=null))switch(c){case"value":N=f;break;case"defaultValue":_=f;break;case"multiple":m=f;default:f!==v&&Ee(e,n,c,f,l,v)}n=_,s=m,l=R,N!=null?os(e,!!s,N,!1):!!l!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":R=N=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ee(e,n,_,null,l,c)}for(m in l)if(c=l[m],f=s[m],l.hasOwnProperty(m)&&(c!=null||f!=null))switch(m){case"value":N=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Ee(e,n,m,c,l,f)}hd(e,N,R);return;case"option":for(var Z in s)if(N=s[Z],s.hasOwnProperty(Z)&&N!=null&&!l.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:Ee(e,n,Z,null,l,N)}for(v in l)if(N=l[v],R=s[v],l.hasOwnProperty(v)&&N!==R&&(N!=null||R!=null))switch(v){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ee(e,n,v,N,l,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in s)N=s[F],s.hasOwnProperty(F)&&N!=null&&!l.hasOwnProperty(F)&&Ee(e,n,F,null,l,N);for(A in l)if(N=l[A],R=s[A],l.hasOwnProperty(A)&&N!==R&&(N!=null||R!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,n));break;default:Ee(e,n,A,N,l,R)}return;default:if(dc(n)){for(var be in s)N=s[be],s.hasOwnProperty(be)&&N!==void 0&&!l.hasOwnProperty(be)&&Zu(e,n,be,void 0,l,N);for(O in l)N=l[O],R=s[O],!l.hasOwnProperty(O)||N===R||N===void 0&&R===void 0||Zu(e,n,O,N,l,R);return}}for(var C in s)N=s[C],s.hasOwnProperty(C)&&N!=null&&!l.hasOwnProperty(C)&&Ee(e,n,C,null,l,N);for(M in l)N=l[M],R=s[M],!l.hasOwnProperty(M)||N===R||N==null&&R==null||Ee(e,n,M,N,l,R)}var Ju=null,$u=null;function Yl(e){return e.nodeType===9?e:e.ownerDocument}function mg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ef(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tf=null;function yE(){var e=window.event;return e&&e.type==="popstate"?e===tf?!1:(tf=e,!0):(tf=null,!1)}var gg=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(e){return _g.resolve(null).then(e).catch(bE)}:gg;function bE(e){setTimeout(function(){throw e})}function ni(e){return e==="head"}function yg(e,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var m=e.ownerDocument;if(s&1&&Wa(m.documentElement),s&2&&Wa(m.body),s&4)for(s=m.head,Wa(s),m=s.firstChild;m;){var _=m.nextSibling,v=m.nodeName;m[fa]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=_}}if(c===0){e.removeChild(f),sr(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);sr(n)}function nf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":nf(s),lc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function SE(e,n,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function TE(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Gt(e.nextSibling),e===null))return null;return e}function sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function wE(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Gt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var af=null;function vg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function Eg(e,n,s){switch(n=Yl(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Wa(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);lc(e)}var Pt=new Map,bg=new Set;function Fl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=z.d;z.d={f:CE,r:xE,D:AE,C:NE,L:RE,m:OE,X:DE,S:IE,M:ME};function CE(){var e=Tn.f(),n=jl();return e||n}function xE(e){var n=ss(e);n!==null&&n.tag===5&&n.type==="form"?Hm(n):Tn.r(e)}var Bs=typeof document>"u"?null:document;function Sg(e,n,s){var l=Bs;if(l&&typeof n=="string"&&n){var c=Mt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),bg.has(c)||(bg.add(c),e={rel:e,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),$e(n,"link",e),Ge(n),l.head.appendChild(n)))}}function AE(e){Tn.D(e),Sg("dns-prefetch",e,null)}function NE(e,n){Tn.C(e,n),Sg("preconnect",e,n)}function RE(e,n,s){Tn.L(e,n,s);var l=Bs;if(l&&e&&n){var c='link[rel="preload"][as="'+Mt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Mt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Mt(s.imageSizes)+'"]')):c+='[href="'+Mt(e)+'"]';var f=c;switch(n){case"style":f=zs(e);break;case"script":f=Ps(e)}Pt.has(f)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Pt.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Za(f))||n==="script"&&l.querySelector(Ja(f))||(n=l.createElement("link"),$e(n,"link",e),Ge(n),l.head.appendChild(n)))}}function OE(e,n){Tn.m(e,n);var s=Bs;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ps(e)}if(!Pt.has(f)&&(e=E({rel:"modulepreload",href:e},n),Pt.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ja(f)))return}l=s.createElement("link"),$e(l,"link",e),Ge(l),s.head.appendChild(l)}}}function IE(e,n,s){Tn.S(e,n,s);var l=Bs;if(l&&e){var c=as(l).hoistableStyles,f=zs(e);n=n||"default";var m=c.get(f);if(!m){var _={loading:0,preload:null};if(m=l.querySelector(Za(f)))_.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Pt.get(f))&&rf(e,s);var v=m=l.createElement("link");Ge(v),$e(v,"link",e),v._p=new Promise(function(A,O){v.onload=A,v.onerror=O}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ql(m,n,l)}m={type:"stylesheet",instance:m,count:1,state:_},c.set(f,m)}}}function DE(e,n){Tn.X(e,n);var s=Bs;if(s&&e){var l=as(s).hoistableScripts,c=Ps(e),f=l.get(c);f||(f=s.querySelector(Ja(c)),f||(e=E({src:e,async:!0},n),(n=Pt.get(c))&&lf(e,n),f=s.createElement("script"),Ge(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ME(e,n){Tn.M(e,n);var s=Bs;if(s&&e){var l=as(s).hoistableScripts,c=Ps(e),f=l.get(c);f||(f=s.querySelector(Ja(c)),f||(e=E({src:e,async:!0,type:"module"},n),(n=Pt.get(c))&&lf(e,n),f=s.createElement("script"),Ge(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Tg(e,n,s,l){var c=(c=J.current)?Fl(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=zs(s.href),s=as(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=zs(s.href);var f=as(c).hoistableStyles,m=f.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=c.querySelector(Za(e)))&&!f._p&&(m.instance=f,m.state.loading=5),Pt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pt.set(e,s),f||kE(c,e,s,m.state))),n&&l===null)throw Error(r(528,""));return m}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ps(s),s=as(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function zs(e){return'href="'+Mt(e)+'"'}function Za(e){return'link[rel="stylesheet"]['+e+"]"}function wg(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function kE(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$e(n,"link",s),Ge(n),e.head.appendChild(n))}function Ps(e){return'[src="'+Mt(e)+'"]'}function Ja(e){return"script[async]"+e}function Cg(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Mt(s.href)+'"]');if(l)return n.instance=l,Ge(l),l;var c=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ge(l),$e(l,"style",c),Ql(l,s.precedence,e),n.instance=l;case"stylesheet":c=zs(s.href);var f=e.querySelector(Za(c));if(f)return n.state.loading|=4,n.instance=f,Ge(f),f;l=wg(s),(c=Pt.get(c))&&rf(l,c),f=(e.ownerDocument||e).createElement("link"),Ge(f);var m=f;return m._p=new Promise(function(_,v){m.onload=_,m.onerror=v}),$e(f,"link",l),n.state.loading|=4,Ql(f,s.precedence,e),n.instance=f;case"script":return f=Ps(s.src),(c=e.querySelector(Ja(f)))?(n.instance=c,Ge(c),c):(l=s,(c=Pt.get(f))&&(l=E({},s),lf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ge(c),$e(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ql(l,s.precedence,e));return n.instance}function Ql(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,m=0;m<l.length;m++){var _=l[m];if(_.dataset.precedence===n)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function lf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Kl=null;function xg(e,n,s){if(Kl===null){var l=new Map,c=Kl=new Map;c.set(s,l)}else c=Kl,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[fa]||f[it]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(n)||"";m=e+m;var _=l.get(m);_?_.push(f):l.set(m,[f])}}return l}function Ag(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function LE(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ng(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var $a=null;function UE(){}function jE(e,n,s){if($a===null)throw Error(r(475));var l=$a;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=zs(s.href),f=e.querySelector(Za(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Xl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,Ge(f);return}f=e.ownerDocument||e,s=wg(s),(c=Pt.get(c))&&rf(s,c),f=f.createElement("link"),Ge(f);var m=f;m._p=new Promise(function(_,v){m.onload=_,m.onerror=v}),$e(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Xl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function BE(){if($a===null)throw Error(r(475));var e=$a;return e.stylesheets&&e.count===0&&of(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&of(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Xl(){if(this.count--,this.count===0){if(this.stylesheets)of(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wl=null;function of(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wl=new Map,n.forEach(zE,e),Wl=null,Xl.call(e))}function zE(e,n){if(!(n.state.loading&4)){var s=Wl.get(e);if(s)var l=s.get(null);else{s=new Map,Wl.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var m=c[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),l=m)}l&&s.set(null,l)}c=n.instance,m=c.getAttribute("data-precedence"),f=s.get(m)||l,f===l&&s.set(null,c),s.set(m,c),this.count++,l=Xl.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var er={$$typeof:me,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function PE(e,n,s,l,c,f,m,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.hiddenUpdates=ic(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Rg(e,n,s,l,c,f,m,_,v,A,O,M){return e=new PE(e,n,s,m,_,v,A,M),n=1,f===!0&&(n|=24),f=Ct(3,null,null,n),e.current=f,f.stateNode=e,n=qc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Fc(f),e}function Og(e){return e?(e=_s,e):_s}function Ig(e,n,s,l,c,f){c=Og(c),l.context===null?l.context=c:l.pendingContext=c,l=Vn(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Gn(e,l,n),s!==null&&(Ot(s,e,n),Oa(s,e,n))}function Dg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function cf(e,n){Dg(e,n),(e=e.alternate)&&Dg(e,n)}function Mg(e){if(e.tag===13){var n=gs(e,67108864);n!==null&&Ot(n,e,67108864),cf(e,67108864)}}var Zl=!0;function HE(e,n,s,l){var c=I.T;I.T=null;var f=z.p;try{z.p=2,uf(e,n,s,l)}finally{z.p=f,I.T=c}}function qE(e,n,s,l){var c=I.T;I.T=null;var f=z.p;try{z.p=8,uf(e,n,s,l)}finally{z.p=f,I.T=c}}function uf(e,n,s,l){if(Zl){var c=ff(l);if(c===null)Wu(e,n,l,Jl,s),Lg(e,l);else if(GE(c,e,n,s,l))l.stopPropagation();else if(Lg(e,l),n&4&&-1<VE.indexOf(e)){for(;c!==null;){var f=ss(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=wi(f.pendingLanes);if(m!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;m;){var v=1<<31-Tt(m);_.entanglements[1]|=v,m&=~v}sn(f),(pe&6)===0&&(Ll=Jt()+500,Qa(0))}}break;case 13:_=gs(f,2),_!==null&&Ot(_,f,2),jl(),cf(f,2)}if(f=ff(l),f===null&&Wu(e,n,l,Jl,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Wu(e,n,l,null,s)}}function ff(e){return e=pc(e),hf(e)}var Jl=null;function hf(e){if(Jl=null,e=is(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Jl=e,null}function kg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(N0()){case Kh:return 2;case Xh:return 8;case Gr:case R0:return 32;case Wh:return 268435456;default:return 32}default:return 32}}var df=!1,ii=null,si=null,ai=null,tr=new Map,nr=new Map,ri=[],VE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lg(e,n){switch(e){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":tr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(n.pointerId)}}function ir(e,n,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ss(n),n!==null&&Mg(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function GE(e,n,s,l,c){switch(n){case"focusin":return ii=ir(ii,e,n,s,l,c),!0;case"dragenter":return si=ir(si,e,n,s,l,c),!0;case"mouseover":return ai=ir(ai,e,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return tr.set(f,ir(tr.get(f)||null,e,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,nr.set(f,ir(nr.get(f)||null,e,n,s,l,c)),!0}return!1}function Ug(e){var n=is(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,j0(e.priority,function(){if(s.tag===13){var l=Rt();l=sc(l);var c=gs(s,l);c!==null&&Ot(c,s,l),cf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $l(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ff(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);mc=l,s.target.dispatchEvent(l),mc=null}else return n=ss(s),n!==null&&Mg(n),e.blockedOn=s,!1;n.shift()}return!0}function jg(e,n,s){$l(e)&&s.delete(n)}function YE(){df=!1,ii!==null&&$l(ii)&&(ii=null),si!==null&&$l(si)&&(si=null),ai!==null&&$l(ai)&&(ai=null),tr.forEach(jg),nr.forEach(jg)}function eo(e,n){e.blockedOn===n&&(e.blockedOn=null,df||(df=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,YE)))}var to=null;function Bg(e){to!==e&&(to=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){to===e&&(to=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(hf(l||s)===null)continue;break}var f=ss(s);f!==null&&(e.splice(n,3),n-=3,fu(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function sr(e){function n(v){return eo(v,e)}ii!==null&&eo(ii,e),si!==null&&eo(si,e),ai!==null&&eo(ai,e),tr.forEach(n),nr.forEach(n);for(var s=0;s<ri.length;s++){var l=ri[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ri.length&&(s=ri[0],s.blockedOn===null);)Ug(s),s.blockedOn===null&&ri.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],m=c[ft]||null;if(typeof f=="function")m||Bg(s);else if(m){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,m=f[ft]||null)_=m.formAction;else if(hf(c)!==null)continue}else _=m.action;typeof _=="function"?s[l+1]=_:(s.splice(l,3),l-=3),Bg(s)}}}function mf(e){this._internalRoot=e}no.prototype.render=mf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Rt();Ig(s,l,e,n,null,null)},no.prototype.unmount=mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ig(e.current,2,null,e,null,null),jl(),n[ns]=null}};function no(e){this._internalRoot=e}no.prototype.unstable_scheduleHydration=function(e){if(e){var n=td();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ri.length&&n!==0&&n<ri[s].priority;s++);ri.splice(s,0,e),s===0&&Ug(e)}};var zg=t.version;if(zg!=="19.1.1")throw Error(r(527,zg,"19.1.1"));z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var FE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{oa=io.inject(FE),St=io}catch{}}return rr.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",c=tp,f=np,m=ip,_=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=Rg(e,1,!1,null,null,s,l,c,f,m,_,null),e[ns]=n.current,Xu(e),new mf(n)},rr.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,c="",f=tp,m=np,_=ip,v=null,A=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(v=s.unstable_transitionCallbacks),s.formState!==void 0&&(A=s.formState)),n=Rg(e,1,!0,n,s??null,l,c,f,m,_,v,A),n.context=Og(null),s=n.current,l=Rt(),l=sc(l),c=Vn(l),c.callback=null,Gn(s,c,l),s=l,n.current.lanes=s,ua(n,s),sn(n),e[ns]=n.current,Xu(e),new no(n)},rr.version="19.1.1",rr}var Xg;function nb(){if(Xg)return _f.exports;Xg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),_f.exports=tb(),_f.exports}var ib=nb();const sb=()=>{};var Wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(a,t){if(!a)throw $s(t)},$s=function(a){return new Error("Firebase Database ("+oy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},ab=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],h=a[i++],d=a[i++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=a[i++],h=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},nh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const u=a[o],h=o+1<a.length,d=h?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,E=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|p>>6,L=p&63;g||(L=64,h||(S=64)),r.push(i[E],i[b],i[S],i[L])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(cy(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):ab(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],d=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||d==null||p==null||b==null)throw new rb;const S=u<<2|d>>4;if(r.push(S),p!==64){const L=d<<4&240|p>>2;if(r.push(L),b!==64){const j=p<<6&192|b;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class rb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uy=function(a){const t=cy(a);return nh.encodeByteArray(t,!0)},po=function(a){return uy(a).replace(/\./g,"")},go=function(a){try{return nh.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(a){return fy(void 0,a)}function fy(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!ob(i)||(a[i]=fy(a[i],t[i]));return a}function ob(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=()=>cb().__FIREBASE_DEFAULTS__,fb=()=>{if(typeof process>"u"||typeof Wg>"u")return;const a=Wg.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},hb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&go(a[1]);return t&&JSON.parse(t)},ih=()=>{try{return sb()||ub()||fb()||hb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},hy=a=>ih()?.emulatorHosts?.[a],db=a=>{const t=hy(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},dy=()=>ih()?.config,my=a=>ih()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function py(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[po(JSON.stringify(i)),po(JSON.stringify(h)),""].join(".")}const dr={};function pb(){const a={prod:[],emulator:[]};for(const t of Object.keys(dr))dr[t]?a.emulator.push(t):a.prod.push(t);return a}function gb(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let Zg=!1;function gy(a,t){if(typeof window>"u"||typeof document>"u"||!ea(window.location.host)||dr[a]===t||dr[a]||Zg)return;dr[a]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=pb().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Zg=!0,h()},S}function E(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=gb(r),L=i("text"),j=document.getElementById(L)||document.createElement("span"),q=i("learnmore"),G=document.getElementById(q)||document.createElement("a"),te=i("preprendIcon"),ye=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const me=S.element;d(me),E(G,q);const Te=p();g(ye,te),me.append(ye,j,G,Te),document.body.appendChild(me)}u?(j.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function _b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yb(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function _y(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vb(){const a=ct();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function Eb(){return oy.NODE_ADMIN===!0}function bb(){try{return typeof indexedDB=="object"}catch{return!1}}function Sb(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="FirebaseError";class bi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Tb,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}}class Dr{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?wb(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new bi(o,d,r)}}function wb(a,t){return a.replace(Cb,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Cb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(a){return JSON.parse(a)}function qe(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=function(a){let t={},i={},r={},o="";try{const u=a.split(".");t=Er(go(u[0])||""),i=Er(go(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:o}},xb=function(a){const t=yy(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Ab=function(a){const t=yy(a).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function Ks(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function Lf(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function _o(a,t,i){const r={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=t.call(i,a[o],o,a));return r}function Qi(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=a[o],h=t[o];if(Jg(u)&&Jg(h)){if(!Qi(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Jg(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function fr(a){const t={};return a.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function hr(a){const t=a.indexOf("?");if(!t)return"";const i=a.indexOf("#",t);return a.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let b=0;b<16;b++)r[b]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)r[b]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let b=16;b<80;b++){const S=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],d=this.chain_[3],g=this.chain_[4],p,E;for(let b=0;b<80;b++){b<40?b<20?(p=d^u&(h^d),E=1518500249):(p=u^h^d,E=1859775393):b<60?(p=u&h|d&(u|h),E=2400959708):(p=u^h^d,E=3395469782);const S=(o<<5|o>>>27)+p+g+E+r[b]&4294967295;g=d,d=h,h=(u<<30|u>>>2)&4294967295,u=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=t[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[r]=this.chain_[o]>>u&255,++r;return t}}function Rb(a,t){const i=new Ob(a,t);return i.subscribe.bind(i)}class Ob{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Ib(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=bf),o.error===void 0&&(o.error=bf),o.complete===void 0&&(o.complete=bf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ib(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function bf(){}function ah(a,t){return`${a} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,U(r<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(r)-56320;o=65536+(u<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},zo=function(a){let t=0;for(let i=0;i<a.length;i++){const r=a.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(a){return a&&a._delegate?a._delegate:a}class Ki{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Bo;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Lb(t))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=qi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qi){return this.instances.has(t)}getOptions(t=qi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qi){return this.component?this.component.multipleInstances?t:qi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kb(a){return a===qi?void 0:a}function Lb(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Mb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Se||(Se={}));const jb={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},Bb=Se.INFO,zb={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},Pb=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=zb[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rh{constructor(t){this.name=t,this._logLevel=Bb,this._logHandler=Pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const Hb=(a,t)=>t.some(i=>a instanceof i);let $g,e_;function qb(){return $g||($g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vb(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vy=new WeakMap,Uf=new WeakMap,Ey=new WeakMap,Sf=new WeakMap,lh=new WeakMap;function Gb(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",h)},u=()=>{i(hi(a.result)),o()},h=()=>{r(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&vy.set(i,a)}).catch(()=>{}),lh.set(t,a),t}function Yb(a){if(Uf.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",h),a.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",h),a.addEventListener("abort",h)});Uf.set(a,t)}let jf={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Uf.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Ey.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hi(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function Fb(a){jf=a(jf)}function Qb(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Tf(this),t,...i);return Ey.set(r,t.sort?t.sort():[t]),hi(r)}:Vb().includes(a)?function(...t){return a.apply(Tf(this),t),hi(vy.get(this))}:function(...t){return hi(a.apply(Tf(this),t))}}function Kb(a){return typeof a=="function"?Qb(a):(a instanceof IDBTransaction&&Yb(a),Hb(a,qb())?new Proxy(a,jf):a)}function hi(a){if(a instanceof IDBRequest)return Gb(a);if(Sf.has(a))return Sf.get(a);const t=Kb(a);return t!==a&&(Sf.set(a,t),lh.set(t,a)),t}const Tf=a=>lh.get(a);function Xb(a,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(a,t),d=hi(h);return r&&h.addEventListener("upgradeneeded",g=>{r(hi(h.result),g.oldVersion,g.newVersion,hi(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Wb=["get","getKey","getAll","getAllKeys","count"],Zb=["put","add","delete","clear"],wf=new Map;function t_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(wf.get(t))return wf.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=Zb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Wb.includes(i)))return;const u=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[i](...d),o&&g.done]))[0]};return wf.set(t,u),u}Fb(a=>({...a,get:(t,i,r)=>t_(t,i)||a.get(t,i,r),has:(t,i)=>!!t_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($b(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function $b(a){return a.getComponent()?.type==="VERSION"}const Bf="@firebase/app",n_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new rh("@firebase/app"),eS="@firebase/app-compat",tS="@firebase/analytics-compat",nS="@firebase/analytics",iS="@firebase/app-check-compat",sS="@firebase/app-check",aS="@firebase/auth",rS="@firebase/auth-compat",lS="@firebase/database",oS="@firebase/data-connect",cS="@firebase/database-compat",uS="@firebase/functions",fS="@firebase/functions-compat",hS="@firebase/installations",dS="@firebase/installations-compat",mS="@firebase/messaging",pS="@firebase/messaging-compat",gS="@firebase/performance",_S="@firebase/performance-compat",yS="@firebase/remote-config",vS="@firebase/remote-config-compat",ES="@firebase/storage",bS="@firebase/storage-compat",SS="@firebase/firestore",TS="@firebase/ai",wS="@firebase/firestore-compat",CS="firebase",xS="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",AS={[Bf]:"fire-core",[eS]:"fire-core-compat",[nS]:"fire-analytics",[tS]:"fire-analytics-compat",[sS]:"fire-app-check",[iS]:"fire-app-check-compat",[aS]:"fire-auth",[rS]:"fire-auth-compat",[lS]:"fire-rtdb",[oS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[uS]:"fire-fn",[fS]:"fire-fn-compat",[hS]:"fire-iid",[dS]:"fire-iid-compat",[mS]:"fire-fcm",[pS]:"fire-fcm-compat",[gS]:"fire-perf",[_S]:"fire-perf-compat",[yS]:"fire-rc",[vS]:"fire-rc-compat",[ES]:"fire-gcs",[bS]:"fire-gcs-compat",[SS]:"fire-fst",[wS]:"fire-fst-compat",[TS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Map,NS=new Map,Pf=new Map;function i_(a,t){try{a.container.addComponent(t)}catch(i){Rn.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Xs(a){const t=a.name;if(Pf.has(t))return Rn.debug(`There were multiple attempts to register component ${t}.`),!1;Pf.set(t,a);for(const i of yo.values())i_(i,a);for(const i of NS.values())i_(i,a);return!0}function oh(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function It(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new Dr("app","Firebase",RS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=xS;function by(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:zf,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw di.create("bad-app-name",{appName:String(o)});if(i||(i=dy()),!i)throw di.create("no-options");const u=yo.get(o);if(u){if(Qi(i,u.options)&&Qi(r,u.config))return u;throw di.create("duplicate-app",{appName:o})}const h=new Ub(o);for(const g of Pf.values())h.addComponent(g);const d=new OS(i,r,h);return yo.set(o,d),d}function Sy(a=zf){const t=yo.get(a);if(!t&&a===zf&&dy())return by();if(!t)throw di.create("no-app",{appName:a});return t}function mi(a,t,i){let r=AS[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rn.warn(h.join(" "));return}Xs(new Ki(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firebase-heartbeat-database",DS=1,br="firebase-heartbeat-store";let Cf=null;function Ty(){return Cf||(Cf=Xb(IS,DS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(br)}catch(i){console.warn(i)}}}}).catch(a=>{throw di.create("idb-open",{originalErrorMessage:a.message})})),Cf}async function MS(a){try{const i=(await Ty()).transaction(br),r=await i.objectStore(br).get(wy(a));return await i.done,r}catch(t){if(t instanceof bi)Rn.warn(t.message);else{const i=di.create("idb-get",{originalErrorMessage:t?.message});Rn.warn(i.message)}}}async function s_(a,t){try{const r=(await Ty()).transaction(br,"readwrite");await r.objectStore(br).put(t,wy(a)),await r.done}catch(i){if(i instanceof bi)Rn.warn(i.message);else{const r=di.create("idb-set",{originalErrorMessage:i?.message});Rn.warn(r.message)}}}function wy(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=1024,LS=30;class US{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>LS){const o=zS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Rn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=a_(),{heartbeatsToSend:i,unsentEntries:r}=jS(this._heartbeatsCache.heartbeats),o=po(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Rn.warn(t),""}}}function a_(){return new Date().toISOString().substring(0,10)}function jS(a,t=kS){const i=[];let r=a.slice();for(const o of a){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),r_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),r_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class BS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bb()?Sb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await MS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return s_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return s_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function r_(a){return po(JSON.stringify({version:2,heartbeats:a})).length}function zS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(a){Xs(new Ki("platform-logger",t=>new Jb(t),"PRIVATE")),Xs(new Ki("heartbeat",t=>new US(t),"PRIVATE")),mi(Bf,n_,a),mi(Bf,n_,"esm2020"),mi("fire-js","")}PS("");function Cy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HS=Cy,xy=new Dr("auth","Firebase",Cy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new rh("@firebase/auth");function qS(a,...t){vo.logLevel<=Se.WARN&&vo.warn(`Auth (${na}): ${a}`,...t)}function lo(a,...t){vo.logLevel<=Se.ERROR&&vo.error(`Auth (${na}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(a,...t){throw uh(a,...t)}function Xt(a,...t){return uh(a,...t)}function ch(a,t,i){const r={...HS(),[t]:i};return new Dr("auth","Firebase",r).create(t,{appName:a.name})}function An(a){return ch(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VS(a,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ht(a,"argument-error"),ch(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uh(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return xy.create(a,...t)}function X(a,t,...i){if(!a)throw uh(t,...i)}function wn(a){const t="INTERNAL ASSERTION FAILED: "+a;throw lo(t),new Error(t)}function On(a,t){a||wn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(){return typeof self<"u"&&self.location?.href||""}function GS(){return l_()==="http:"||l_()==="https:"}function l_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GS()||yb()||"connection"in navigator)?navigator.onLine:!0}function FS(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,i){this.shortDelay=t,this.longDelay=i,On(i>t,"Short delay should be less than long delay!"),this.isMobile=sh()||_y()}get(){return YS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(a,t){On(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XS=new Mr(3e4,6e4);function Mn(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function kn(a,t,i,r,o={}){return Ny(a,o,async()=>{let u={},h={};r&&(t==="GET"?h=r:u={body:JSON.stringify(r)});const d=ta({key:a.config.apiKey,...h}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const p={method:t,headers:g,...u};return _b()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&ea(a.emulatorConfig.host)&&(p.credentials="include"),Ay.fetch()(await Ry(a,a.config.apiHost,i,d),p)})}async function Ny(a,t,i){a._canInitEmulator=!1;const r={...QS,...t};try{const o=new ZS(a),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw so(a,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[g,p]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw so(a,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw so(a,"email-already-in-use",h);if(g==="USER_DISABLED")throw so(a,"user-disabled",h);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ch(a,E,p);Ht(a,E)}}catch(o){if(o instanceof bi)throw o;Ht(a,"network-request-failed",{message:String(o)})}}async function kr(a,t,i,r,o={}){const u=await kn(a,t,i,r,o);return"mfaPendingCredential"in u&&Ht(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ry(a,t,i,r){const o=`${t}${i}?${r}`,u=a,h=u.config.emulator?fh(a.config,o):`${a.config.apiScheme}://${o}`;return KS.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function WS(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Xt(this.auth,"network-request-failed")),XS.get())})}}function so(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Xt(a,t,r);return o.customData._tokenResponse=i,o}function o_(a){return a!==void 0&&a.enterprise!==void 0}class JS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return WS(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $S(a,t){return kn(a,"GET","/v2/recaptchaConfig",Mn(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(a,t){return kn(a,"POST","/v1/accounts:delete",t)}async function Eo(a,t){return kn(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tT(a,t=!1){const i=ut(a),r=await i.getIdToken(t),o=hh(r);X(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:mr(xf(o.auth_time)),issuedAtTime:mr(xf(o.iat)),expirationTime:mr(xf(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function xf(a){return Number(a)*1e3}function hh(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return lo("JWT malformed, contained fewer than 3 sections"),null;try{const o=go(i);return o?JSON.parse(o):(lo("Failed to decode base64 JWT payload"),null)}catch(o){return lo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function c_(a){const t=hh(a);return X(t,"internal-error"),X(typeof t.exp<"u","internal-error"),X(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sr(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof bi&&nT(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function nT({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(a){const t=a.auth,i=await a.getIdToken(),r=await Sr(a,Eo(t,{idToken:i}));X(r?.users.length,t,"internal-error");const o=r.users[0];a._notifyReloadListener(o);const u=o.providerUserInfo?.length?Oy(o.providerUserInfo):[],h=aT(a.providerData,u),d=a.isAnonymous,g=!(a.email&&o.passwordHash)&&!h?.length,p=d?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new qf(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(a,E)}async function sT(a){const t=ut(a);await bo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aT(a,t){return[...a.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function Oy(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(a,t){const i=await Ny(a,{},async()=>{const r=ta({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=a.config,h=await Ry(a,o,"/v1/token",`key=${u}`),d=await a._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:d,body:r};return a.emulatorConfig&&ea(a.emulatorConfig.host)&&(g.credentials="include"),Ay.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function lT(a,t){return kn(a,"POST","/v2/accounts:revokeToken",Mn(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){X(t.idToken,"internal-error"),X(typeof t.idToken<"u","internal-error"),X(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){X(t.length!==0,"internal-error");const i=c_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await rT(t,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,h=new Vs;return r&&(X(typeof r=="string","internal-error",{appName:t}),h.refreshToken=r),o&&(X(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(X(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vs,this.toJSON())}_performRefresh(){return wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(a,t){X(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Ft{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new iT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Sr(this,this.stsTokenManager.getToken(this.auth,t));return X(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return tT(this,t)}reload(){return sT(this)}_assign(t){this!==t&&(X(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ft({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await bo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(It(this.auth.app))return Promise.reject(An(this.auth));const t=await this.getIdToken();return await Sr(this,eT(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,d=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:L,providerData:j,stsTokenManager:q}=i;X(b&&q,t,"internal-error");const G=Vs.fromJSON(this.name,q);X(typeof b=="string",t,"internal-error"),oi(r,t.name),oi(o,t.name),X(typeof S=="boolean",t,"internal-error"),X(typeof L=="boolean",t,"internal-error"),oi(u,t.name),oi(h,t.name),oi(d,t.name),oi(g,t.name),oi(p,t.name),oi(E,t.name);const te=new Ft({uid:b,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:L,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:G,createdAt:p,lastLoginAt:E});return j&&Array.isArray(j)&&(te.providerData=j.map(ye=>({...ye}))),g&&(te._redirectEventId=g),te}static async _fromIdTokenResponse(t,i,r=!1){const o=new Vs;o.updateFromServerResponse(i);const u=new Ft({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await bo(u),u}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];X(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Oy(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new Vs;d.updateFromIdToken(r);const g=new Ft({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;function Cn(a){On(a instanceof Function,"Expected a class definition");let t=u_.get(a);return t?(On(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,u_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Iy.type="NONE";const f_=Iy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(a,t,i){return`firebase:${a}:${t}:${i}`}class Gs{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=oo(this.userKey,o.apiKey,u),this.fullPersistenceKey=oo("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Eo(this.auth,{idToken:t}).catch(()=>{});return i?Ft._fromGetAccountInfoResponse(this.auth,i,t):null}return Ft._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Gs(Cn(f_),t,r);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Cn(f_);const h=oo(r,t.config.apiKey,t.name);let d=null;for(const p of i)try{const E=await p._get(h);if(E){let b;if(typeof E=="string"){const S=await Eo(t,{idToken:E}).catch(()=>{});if(!S)break;b=await Ft._fromGetAccountInfoResponse(t,S,E)}else b=Ft._fromJSON(t,E);p!==u&&(d=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Gs(u,t,r):(u=g[0],d&&await u._set(h,d.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Gs(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ly(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Dy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jy(t))return"Blackberry";if(By(t))return"Webos";if(My(t))return"Safari";if((t.includes("chrome/")||ky(t))&&!t.includes("edge/"))return"Chrome";if(Uy(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function Dy(a=ct()){return/firefox\//i.test(a)}function My(a=ct()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ky(a=ct()){return/crios\//i.test(a)}function Ly(a=ct()){return/iemobile/i.test(a)}function Uy(a=ct()){return/android/i.test(a)}function jy(a=ct()){return/blackberry/i.test(a)}function By(a=ct()){return/webos/i.test(a)}function dh(a=ct()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function oT(a=ct()){return dh(a)&&!!window.navigator?.standalone}function cT(){return vb()&&document.documentMode===10}function zy(a=ct()){return dh(a)||Uy(a)||By(a)||jy(a)||/windows phone/i.test(a)||Ly(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(a,t=[]){let i;switch(a){case"Browser":i=h_(ct());break;case"Worker":i=`${h_(ct())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((h,d)=>{try{const g=t(u);h(g)}catch(g){d(g)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(a,t={}){return kn(a,"GET","/v2/passwordPolicy",Mn(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=6;class dT{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??hT,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new uT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Cn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gs.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Eo(this,{idToken:t}),r=await Ft._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(It(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===h)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await bo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(It(this.app))return Promise.reject(An(this));const i=t?ut(t):null;return i&&X(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&X(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return It(this.app)?Promise.reject(An(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return It(this.app)?Promise.reject(An(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fT(this),i=new dT(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Dr("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await lT(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Cn(t)||this._popupRedirectResolver;X(i,this,"argument-error"),this.redirectPersistenceManager=await Gs.create(this,[Cn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,r,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Py(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&qS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ln(a){return ut(a)}class d_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rb(i=>this.observer=i)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pT(a){Po=a}function Hy(a){return Po.loadJS(a)}function gT(){return Po.recaptchaEnterpriseScript}function _T(){return Po.gapiScript}function yT(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class vT{constructor(){this.enterprise=new ET}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class ET{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const bT="recaptcha-enterprise",qy="NO_RECAPTCHA";class ST{constructor(t){this.type=bT,this.auth=Ln(t)}async verify(t="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{$S(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new JS(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{d(g)})})}function o(u,h,d){const g=window.grecaptcha;o_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(p=>{h(p)}).catch(()=>{h(qy)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vT().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(d=>{if(!i&&o_(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=gT();g.length!==0&&(g+=d),Hy(g).then(()=>{o(d,u,h)}).catch(p=>{h(p)})}}).catch(d=>{h(d)})})}}async function m_(a,t,i,r=!1,o=!1){const u=new ST(a);let h;if(o)h=qy;else try{h=await u.verify(i)}catch{h=await u.verify(i,!0)}const d={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function So(a,t,i,r,o){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await m_(a,t,i,i==="getOobCode");return r(a,u)}else return r(a,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await m_(a,t,i,i==="getOobCode");return r(a,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(a,t){const i=oh(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Qi(u,t??{}))return o;Ht(o,"already-initialized")}return i.initialize({options:t})}function wT(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Cn);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function CT(a,t,i){const r=Ln(a);X(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=Vy(t),{host:h,port:d}=xT(t),g=d===null?"":`:${d}`,p={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(Qi(p,r.config.emulator)&&Qi(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,ea(h)?(py(`${u}//${h}${g}`),gy("Auth",!0)):AT()}function Vy(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function xT(a){const t=Vy(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:p_(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:p_(h)}}}function p_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function AT(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return wn("not implemented")}_getIdTokenResponse(t){return wn("not implemented")}_linkToIdToken(t,i){return wn("not implemented")}_getReauthenticationResolver(t){return wn("not implemented")}}async function NT(a,t){return kn(a,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(a,t){return kr(a,"POST","/v1/accounts:signInWithPassword",Mn(a,t))}async function OT(a,t){return kn(a,"POST","/v1/accounts:sendOobCode",Mn(a,t))}async function IT(a,t){return OT(a,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(a,t){return kr(a,"POST","/v1/accounts:signInWithEmailLink",Mn(a,t))}async function MT(a,t){return kr(a,"POST","/v1/accounts:signInWithEmailLink",Mn(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends mh{constructor(t,i,r,o=null){super("password",r),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Tr(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Tr(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return So(t,i,"signInWithPassword",RT);case"emailLink":return DT(t,{email:this._email,oobCode:this._password});default:Ht(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return So(t,r,"signUpPassword",NT);case"emailLink":return MT(t,{idToken:i,email:this._email,oobCode:this._password});default:Ht(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(a,t){return kr(a,"POST","/v1/accounts:signInWithIdp",Mn(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="http://localhost";class Xi extends mh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ht("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const h=new Xi(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return Ys(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ys(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ys(t,i)}buildRequest(){const t={requestUri:kT,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ta(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UT(a){const t=fr(hr(a)).link,i=t?fr(hr(t)).deep_link_id:null,r=fr(hr(a)).deep_link_id;return(r?fr(hr(r)).link:null)||r||i||t||a}class ph{constructor(t){const i=fr(hr(t)),r=i.apiKey??null,o=i.oobCode??null,u=LT(i.mode??null);X(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=UT(t);try{return new ph(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(t,i){return Tr._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=ph.parseLink(i);return X(r,"argument-error"),Tr._fromEmailAndCode(t,r.code,r.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends gh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Lr{constructor(){super("facebook.com")}static credential(t){return Xi._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ci.credentialFromTaggedObject(t)}static credentialFromError(t){return ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Lr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xi._fromParams({providerId:an.PROVIDER_ID,signInMethod:an.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return an.credentialFromTaggedObject(t)}static credentialFromError(t){return an.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return an.credential(i,r)}catch{return null}}}an.GOOGLE_SIGN_IN_METHOD="google.com";an.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Lr{constructor(){super("github.com")}static credential(t){return Xi._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ui.credentialFromTaggedObject(t)}static credentialFromError(t){return ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ui.credential(t.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Lr{constructor(){super("twitter.com")}static credential(t,i){return Xi._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return fi.credential(i,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(a,t){return kr(a,"POST","/v1/accounts:signUp",Mn(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const u=await Ft._fromIdTokenResponse(t,r,o),h=g_(r);return new Wi({user:u,providerId:h,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=g_(r);return new Wi({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function g_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends bi{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,To.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new To(t,i,r,o)}}function Gy(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?To._fromErrorAndOperation(a,u,t,r):u})}async function BT(a,t,i=!1){const r=await Sr(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Wi._forOperation(a,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(a,t,i=!1){const{auth:r}=a;if(It(r.app))return Promise.reject(An(r));const o="reauthenticate";try{const u=await Sr(a,Gy(r,o,t,a),i);X(u.idToken,r,"internal-error");const h=hh(u.idToken);X(h,r,"internal-error");const{sub:d}=h;return X(a.uid===d,r,"user-mismatch"),Wi._forOperation(a,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ht(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yy(a,t,i=!1){if(It(a.app))return Promise.reject(An(a));const r="signIn",o=await Gy(a,r,t),u=await Wi._fromIdTokenResponse(a,r,o);return i||await a._updateCurrentUser(u.user),u}async function PT(a,t){return Yy(Ln(a),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(a){const t=Ln(a);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function HT(a,t,i){const r=Ln(a);await So(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",IT)}async function qT(a,t,i){if(It(a.app))return Promise.reject(An(a));const r=Ln(a),h=await So(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jT).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Fy(a),g}),d=await Wi._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(d.user),d}function VT(a,t,i){return It(a.app)?Promise.reject(An(a)):PT(ut(a),ia.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fy(a),r})}function GT(a,t,i,r){return ut(a).onIdTokenChanged(t,i,r)}function YT(a,t,i){return ut(a).beforeAuthStateChanged(t,i)}function FT(a,t,i,r){return ut(a).onAuthStateChanged(t,i,r)}function Qy(a){return ut(a).signOut()}const wo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(wo,"1"),this.storage.removeItem(wo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=1e3,KT=10;class Xy extends Ky{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zy(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,d,g)=>{this.notifyListeners(h,g)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!i&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);cT()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,KT):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},QT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Xy.type="LOCAL";const XT=Xy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends Ky{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Wy.type="SESSION";const Zy=Wy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new Ho(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(h).map(async p=>p(i.origin,u)),g=await WT(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ho.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,g)=>{const p=_h("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return window}function JT(a){rn().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}async function $T(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ew(){return navigator?.serviceWorker?.controller||null}function tw(){return Jy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="firebaseLocalStorageDb",nw=1,Co="firebaseLocalStorage",ev="fbase_key";class Ur{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function qo(a,t){return a.transaction([Co],t?"readwrite":"readonly").objectStore(Co)}function iw(){const a=indexedDB.deleteDatabase($y);return new Ur(a).toPromise()}function Vf(){const a=indexedDB.open($y,nw);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Co,{keyPath:ev})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Co)?t(r):(r.close(),await iw(),t(await Vf()))})})}async function __(a,t,i){const r=qo(a,!0).put({[ev]:t,value:i});return new Ur(r).toPromise()}async function sw(a,t){const i=qo(a,!1).get(t),r=await new Ur(i).toPromise();return r===void 0?null:r.value}function y_(a,t){const i=qo(a,!0).delete(t);return new Ur(i).toPromise()}const aw=800,rw=3;class tv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vf(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>rw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ho._getInstance(tw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $T(),!this.activeServiceWorker)return;this.sender=new ZT(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ew()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vf();return await __(t,wo,"1"),await y_(t,wo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>__(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>sw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>y_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=qo(o,!1).getAll();return new Ur(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tv.type="LOCAL";const lw=tv;new Mr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(a,t){return t?Cn(t):(X(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends mh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ys(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ys(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ys(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ow(a){return Yy(a.auth,new yh(a),a.bypassAuthState)}function cw(a){const{auth:t,user:i}=a;return X(i,t,"internal-error"),zT(i,new yh(a),a.bypassAuthState)}async function uw(a){const{auth:t,user:i}=a;return X(i,t,"internal-error"),BT(i,new yh(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t,i,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:h,type:d}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ow;case"linkViaPopup":case"linkViaRedirect":return uw;case"reauthViaPopup":case"reauthViaRedirect":return cw;default:Ht(this.auth,"internal-error")}}resolve(t){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Mr(2e3,1e4);async function sv(a,t,i){if(It(a.app))return Promise.reject(Xt(a,"operation-not-supported-in-this-environment"));const r=Ln(a);VS(a,t,gh);const o=nv(r,i);return new Gi(r,"signInViaPopup",t,o).executeNotNull()}class Gi extends iv{constructor(t,i,r,o,u){super(t,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Gi.currentPopupAction&&Gi.currentPopupAction.cancel(),Gi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return X(t,this.auth,"internal-error"),t}async onExecution(){On(this.filter.length===1,"Popup operations only handle one event");const t=_h();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gi.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fw.get())};t()}}Gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="pendingRedirect",co=new Map;class dw extends iv{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=co.get(this.auth._key());if(!t){try{const r=await mw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}co.set(this.auth._key(),t)}return this.bypassAuthState||co.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mw(a,t){const i=_w(t),r=gw(a);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function pw(a,t){co.set(a._key(),t)}function gw(a){return Cn(a._redirectPersistence)}function _w(a){return oo(hw,a.config.apiKey,a.name)}async function yw(a,t,i=!1){if(It(a.app))return Promise.reject(An(a));const r=Ln(a),o=nv(r,t),h=await new dw(r,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=600*1e3;class Ew{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!av(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Xt(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(t))}saveEventToCache(t){this.cachedEventUids.add(v_(t)),this.lastProcessedEventTime=Date.now()}}function v_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function av({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function bw(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return av(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(a,t={}){return kn(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ww=/^https?/;async function Cw(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Sw(a);for(const i of t)try{if(xw(i))return}catch{}Ht(a,"unauthorized-domain")}function xw(a){const t=Hf(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===r}if(!ww.test(i))return!1;if(Tw.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Mr(3e4,6e4);function E_(){const a=rn().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Nw(a){return new Promise((t,i)=>{function r(){E_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E_(),i(Xt(a,"network-request-failed"))},timeout:Aw.get()})}if(rn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(rn().gapi?.load)r();else{const o=yT("iframefcb");return rn()[o]=()=>{gapi.load?r():i(Xt(a,"network-request-failed"))},Hy(`${_T()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw uo=null,t})}let uo=null;function Rw(a){return uo=uo||Nw(a),uo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Mr(5e3,15e3),Iw="__/auth/iframe",Dw="emulator/auth/iframe",Mw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lw(a){const t=a.config;X(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?fh(t,Dw):`https://${a.config.authDomain}/${Iw}`,r={apiKey:t.apiKey,appName:a.name,v:na},o=kw.get(a.config.apiHost);o&&(r.eid=o);const u=a._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${ta(r).slice(1)}`}async function Uw(a){const t=await Rw(a),i=rn().gapi;return X(i,a,"internal-error"),t.open({where:document.body,url:Lw(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mw,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=Xt(a,"network-request-failed"),d=rn().setTimeout(()=>{u(h)},Ow.get());function g(){rn().clearTimeout(d),o(r)}r.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bw=500,zw=600,Pw="_blank",Hw="http://localhost";class b_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qw(a,t,i,r=Bw,o=zw){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const g={...jw,width:r.toString(),height:o.toString(),top:u,left:h},p=ct().toLowerCase();i&&(d=ky(p)?Pw:i),Dy(p)&&(t=t||Hw,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[L,j])=>`${S}${L}=${j},`,"");if(oT(p)&&d!=="_self")return Vw(t||"",d),new b_(null);const b=window.open(t||"",d,E);X(b,a,"popup-blocked");try{b.focus()}catch{}return new b_(b)}function Vw(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="__/auth/handler",Yw="emulator/auth/handler",Fw=encodeURIComponent("fac");async function S_(a,t,i,r,o,u){X(a.config.authDomain,a,"auth-domain-config-required"),X(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:na,eventId:o};if(t instanceof gh){t.setDefaultLanguage(a.languageCode),h.providerId=t.providerId||"",Lf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(t instanceof Lr){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}a.tenantId&&(h.tid=a.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const g=await a._getAppCheckToken(),p=g?`#${Fw}=${encodeURIComponent(g)}`:"";return`${Qw(a)}?${ta(d).slice(1)}${p}`}function Qw({config:a}){return a.emulator?fh(a,Yw):`https://${a.authDomain}/${Gw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="webStorageSupport";class Kw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zy,this._completeRedirectFn=yw,this._overrideRedirectResult=pw}async _openPopup(t,i,r,o){On(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await S_(t,i,r,Hf(),o);return qw(t,u,_h())}async _openRedirect(t,i,r,o){await this._originValidation(t);const u=await S_(t,i,r,Hf(),o);return JT(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(On(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Uw(t),r=new Ew(t);return i.register("authEvent",o=>(X(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Af,{type:Af},o=>{const u=o?.[0]?.[Af];u!==void 0&&i(!!u),Ht(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Cw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return zy()||My()||dh()}}const Xw=Kw;var T_="@firebase/auth",w_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jw(a){Xs(new Ki("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=r.options;X(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:d,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Py(a)},p=new mT(r,o,u,g);return wT(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Xs(new Ki("auth-internal",t=>{const i=Ln(t.getProvider("auth").getImmediate());return(r=>new Ww(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(T_,w_,Zw(a)),mi(T_,w_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=300,eC=my("authIdTokenMaxAge")||$w;let C_=null;const tC=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>eC)return;const o=i?.token;C_!==o&&(C_=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nC(a=Sy()){const t=oh(a,"auth");if(t.isInitialized())return t.getImmediate();const i=TT(a,{popupRedirectResolver:Xw,persistence:[lw,XT,Zy]}),r=my("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=tC(u.toString());YT(i,h,()=>h(i.currentUser)),GT(i,d=>h(d))}}const o=hy("auth");return o&&CT(i,`http://${o}`),i}function iC(){return document.getElementsByTagName("head")?.[0]??document}pT({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=o=>{const u=Xt("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",iC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jw("Browser");var sC="firebase",aC="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(sC,aC,"app");var x_={};const A_="@firebase/database",N_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv="";function rC(a){rv=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),qe(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Er(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lC(t)}}catch{}return new oC},Yi=lv("localStorage"),cC=lv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new rh("@firebase/database"),uC=(function(){let a=1;return function(){return a++}})(),ov=function(a){const t=Db(a),i=new Nb;i.update(t);const r=i.digest();return nh.encodeByteArray(r)},jr=function(...a){let t="";for(let i=0;i<a.length;i++){const r=a[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=jr.apply(null,r):typeof r=="object"?t+=qe(r):t+=r,t+=" "}return t};let pr=null,R_=!0;const fC=function(a,t){U(!0,"Can't turn on custom loggers persistently."),Fs.logLevel=Se.VERBOSE,pr=Fs.log.bind(Fs)},rt=function(...a){if(R_===!0&&(R_=!1,pr===null&&cC.get("logging_enabled")===!0&&fC()),pr){const t=jr.apply(null,a);pr(t)}},Br=function(a){return function(...t){rt(a,...t)}},Gf=function(...a){const t="FIREBASE INTERNAL ERROR: "+jr(...a);Fs.error(t)},In=function(...a){const t=`FIREBASE FATAL ERROR: ${jr(...a)}`;throw Fs.error(t),new Error(t)},_t=function(...a){const t="FIREBASE WARNING: "+jr(...a);Fs.warn(t)},hC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cv=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},dC=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Ws="[MIN_NAME]",Zi="[MAX_NAME]",sa=function(a,t){if(a===t)return 0;if(a===Ws||t===Zi)return-1;if(t===Ws||a===Zi)return 1;{const i=O_(a),r=O_(t);return i!==null?r!==null?i-r===0?a.length-t.length:i-r:-1:r!==null?1:a<t?-1:1}},mC=function(a,t){return a===t?0:a<t?-1:1},lr=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+qe(t))},vh=function(a){if(typeof a!="object"||a===null)return qe(a);const t=[];for(const r in a)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=qe(t[r]),i+=":",i+=vh(a[t[r]]);return i+="}",i},uv=function(a,t){const i=a.length;if(i<=t)return[a];const r=[];for(let o=0;o<i;o+=t)o+t>i?r.push(a.substring(o,i)):r.push(a.substring(o,o+t));return r};function yt(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const fv=function(a){U(!cv(a),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let o,u,h,d,g;a===0?(u=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),r),u=d+r,h=Math.round(a*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,h=Math.round(a/Math.pow(2,1-r-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const E=p.join("");let b="";for(g=0;g<64;g+=8){let S=parseInt(E.substr(g,8),2).toString(16);S.length===1&&(S="0"+S),b=b+S}return b.toLowerCase()},pC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _C(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const r=new Error(a+" at "+t._path.toString()+": "+i);return r.code=a.toUpperCase(),r}const yC=new RegExp("^-?(0*)\\d{1,10}$"),vC=-2147483648,EC=2147483647,O_=function(a){if(yC.test(a)){const t=Number(a);if(t>=vC&&t<=EC)return t}return null},aa=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw _t("Exception was thrown by user callback.",i),t},Math.floor(0))}},bC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gr=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,It(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){_t(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_t(t)}}class fo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}fo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="5",hv="v",dv="s",mv="r",pv="f",gv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_v="ls",yv="p",Yf="ac",vv="websocket",Ev="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t,i,r,o,u=!1,h="",d=!1,g=!1,p=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Yi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function wC(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Sv(a,t,i){U(typeof t=="string","typeof type must == string"),U(typeof i=="object","typeof params must == object");let r;if(t===vv)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===Ev)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);wC(a)&&(i.ns=a.namespace);const o=[];return yt(i,(u,h)=>{o.push(u+"="+h)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.counters_={}}incrementCounter(t,i=1){Dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return lb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf={},Rf={};function bh(a){const t=a.toString();return Nf[t]||(Nf[t]=new CC),Nf[t]}function xC(a,t){const i=a.toString();return Rf[i]||(Rf[i]=t()),Rf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&aa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="start",NC="close",RC="pLPCommand",OC="pRTLPCB",Tv="id",wv="pw",Cv="ser",IC="cb",DC="seg",MC="ts",kC="d",LC="dframe",xv=1870,Av=30,UC=xv-Av,jC=25e3,BC=3e4;class qs{constructor(t,i,r,o,u,h,d){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Br(t),this.stats_=bh(i),this.urlFn=g=>(this.appCheckToken&&(g[Yf]=this.appCheckToken),Sv(i,Ev,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new AC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(BC)),dC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sh((...u)=>{const[h,d,g,p,E]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===I_)this.id=d,this.password=g;else if(h===NC)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const r={};r[I_]="t",r[Cv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[IC]=this.scriptTagHolder.uniqueCallbackIdentifier),r[hv]=Eh,this.transportSessionId&&(r[dv]=this.transportSessionId),this.lastSessionId&&(r[_v]=this.lastSessionId),this.applicationId&&(r[yv]=this.applicationId),this.appCheckToken&&(r[Yf]=this.appCheckToken),typeof location<"u"&&location.hostname&&gv.test(location.hostname)&&(r[mv]=pv);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qs.forceAllow_=!0}static forceDisallow(){qs.forceDisallow_=!0}static isAvailable(){return qs.forceAllow_?!0:!qs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pC()&&!gC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=qe(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=uy(i),o=uv(r,UC);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[LC]="t",r[Tv]=t,r[wv]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=qe(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Sh{constructor(t,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uC(),window[RC+this.uniqueCallbackIdentifier]=t,window[OC+this.uniqueCallbackIdentifier]=i,this.myIFrame=Sh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){rt("frame writing exception"),d.stack&&rt(d.stack),rt(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||rt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Tv]=this.myID,t[wv]=this.myPW,t[Cv]=this.currentSerial;let i=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Av+r.length<=xv;){const h=this.pendingSegs.shift();r=r+"&"+DC+o+"="+h.seg+"&"+MC+o+"="+h.ts+"&"+kC+o+"="+h.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(jC)),u=()=>{clearTimeout(o),r()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{rt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=16384,PC=45e3;let xo=null;typeof MozWebSocket<"u"?xo=MozWebSocket:typeof WebSocket<"u"&&(xo=WebSocket);class Yt{constructor(t,i,r,o,u,h,d){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Br(this.connId),this.stats_=bh(i),this.connURL=Yt.connectionURL_(i,h,d,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const h={};return h[hv]=Eh,typeof location<"u"&&location.hostname&&gv.test(location.hostname)&&(h[mv]=pv),i&&(h[dv]=i),r&&(h[_v]=r),o&&(h[Yf]=o),u&&(h[yv]=u),Sv(t,vv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yi.set("previous_websocket_failure",!0);try{let r;Eb(),this.mySock=new xo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&xo!==null&&!Yt.forceDisallow_}static previouslyFailed(){return Yi.isInMemoryStorage||Yi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Er(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(U(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=qe(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=uv(i,zC);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PC))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{static get ALL_TRANSPORTS(){return[qs,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Yt&&Yt.isAvailable();let r=i&&!Yt.previouslyFailed();if(t.webSocketOnly&&(i||_t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yt];else{const o=this.transports_=[];for(const u of wr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);wr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=6e4,qC=5e3,VC=10*1024,GC=100*1024,Of="t",D_="d",YC="s",M_="r",FC="e",k_="o",L_="a",U_="n",j_="p",QC="h";class KC{constructor(t,i,r,o,u,h,d,g,p,E){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Br("c:"+this.id+":"),this.transportManager_=new wr(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=gr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Of in t){const i=t[Of];i===L_?this.upgradeIfSecondaryHealthy_():i===M_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===k_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=lr("t",t),r=lr("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:j_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:L_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:U_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=lr("t",t),r=lr("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=lr(Of,t);if(D_ in t){const r=t[D_];if(i===QC){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===U_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===YC?this.onConnectionShutdown_(r):i===M_?this.onReset_(r):i===FC?Gf("Server Error: "+r):i===k_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Eh!==r&&_t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),gr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(HC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:j_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{put(t,i,r,o){}merge(t,i,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(t){this.allowedEvents_=t,this.listeners_={},U(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const o=this.getInitialEvent(t);o&&i.apply(r,o)}off(t,i,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(t){U(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Rv{static getInstance(){return new Ao}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return U(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=32,z_=768;class xe{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function he(){return new xe("")}function oe(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function _i(a){return a.pieces_.length-a.pieceNum_}function Ne(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new xe(a.pieces_,t)}function Ov(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function XC(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function Iv(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function Dv(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new xe(t,0)}function Ve(a,t){const i=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)i.push(a.pieces_[r]);if(t instanceof xe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new xe(i,0)}function re(a){return a.pieceNum_>=a.pieces_.length}function ot(a,t){const i=oe(a),r=oe(t);if(i===null)return t;if(i===r)return ot(Ne(a),Ne(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function Mv(a,t){if(_i(a)!==_i(t))return!1;for(let i=a.pieceNum_,r=t.pieceNum_;i<=a.pieces_.length;i++,r++)if(a.pieces_[i]!==t.pieces_[r])return!1;return!0}function Qt(a,t){let i=a.pieceNum_,r=t.pieceNum_;if(_i(a)>_i(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class WC{constructor(t,i){this.errorPrefix_=i,this.parts_=Iv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zo(this.parts_[r]);kv(this)}}function ZC(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=zo(t),kv(a)}function JC(a){const t=a.parts_.pop();a.byteLength_-=zo(t),a.parts_.length>0&&(a.byteLength_-=1)}function kv(a){if(a.byteLength_>z_)throw new Error(a.errorPrefix_+"has a key path longer than "+z_+" bytes ("+a.byteLength_+").");if(a.parts_.length>B_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+B_+") or object contains a cycle "+Vi(a))}function Vi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Rv{static getInstance(){return new Th}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return U(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=1e3,$C=300*1e3,P_=30*1e3,ex=1.3,tx=3e4,nx="server_kill",H_=3;class Nn extends Nv{constructor(t,i,r,o,u,h,d,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=g,this.id=Nn.nextPersistentConnectionId_++,this.log_=Br("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=or,this.maxReconnectDelay_=$C,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Th.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ao.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(qe(u)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Bo,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),U(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},h="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(h,u,d=>{const g=d.d,p=d.s;Nn.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Dn(t,"w")){const r=Ks(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();_t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Ab(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=P_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=xb(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),U(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},h="n";o&&(u.q=r,u.t=o),this.sendRequest(h,u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const h={p:i,d:r};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+qe(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Gf("Unrecognized action received from server: "+qe(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=or,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=or,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tx&&(this.reconnectDelay_=or),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ex)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Nn.nextConnectionId_++,u=this.lastSessionId;let h=!1,d=null;const g=function(){d?d.close():(h=!0,r())},p=function(b){U(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(b)};this.realtime_={close:g,sendRequest:p};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,S]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);h?rt("getToken() completed but was canceled"):(rt("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=S&&S.token,d=new KC(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,L=>{_t(L+" ("+this.repoInfo_.toString()+")"),this.interrupt(nx)},u))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&_t(b),g())}}}interrupt(t){rt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){rt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Lf(this.interruptReasons_)&&(this.reconnectDelay_=or,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(u=>vh(u)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new xe(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){rt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=H_&&(this.reconnectDelay_=P_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){rt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=H_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+rv.replace(/\./g,"-")]=1,sh()?t["framework.cordova"]=1:_y()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ao.getInstance().currentlyOnline();return Lf(this.interruptReasons_)&&t}}Nn.nextPersistentConnectionId_=0;Nn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ie(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new ie(Ws,t),o=new ie(Ws,i);return this.compare(r,o)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao;class Lv extends Vo{static get __EMPTY_NODE(){return ao}static set __EMPTY_NODE(t){ao=t}compare(t,i){return sa(t.name,i.name)}isDefinedOn(t){throw $s("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ie.MIN}maxPost(){return new ie(Zi,ao)}makePost(t,i){return U(typeof t=="string","KeyIndex indexValue must always be a string."),new ie(t,ao)}toString(){return".key"}}const Qs=new Lv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?r(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Xe{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Xe.RED,this.left=o??gt.EMPTY_NODE,this.right=u??gt.EMPTY_NODE}copy(t,i,r,o,u){return new Xe(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return gt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return gt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Xe.RED=!0;Xe.BLACK=!1;class ix{copy(t,i,r,o,u){return this}insert(t,i,r){return new Xe(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gt{constructor(t,i=gt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new gt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Xe.BLACK,null,null))}remove(t){return new gt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Xe.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ro(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new ro(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new ro(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new ro(this.root_,null,this.comparator_,!0,t)}}gt.EMPTY_NODE=new ix;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(a,t){return sa(a.name,t.name)}function wh(a,t){return sa(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;function ax(a){Ff=a}const Uv=function(a){return typeof a=="number"?"number:"+fv(a):"string:"+a},jv=function(a){if(a.isLeafNode()){const t=a.val();U(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Dn(t,".sv"),"Priority must be a string or number.")}else U(a===Ff||a.isEmpty(),"priority of unexpected type.");U(a===Ff||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q_;class Ke{static set __childrenNodeConstructor(t){q_=t}static get __childrenNodeConstructor(){return q_}constructor(t,i=Ke.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ke(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return re(t)?this:oe(t)===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Ke.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=oe(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||_i(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ke.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Uv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=fv(this.value_):t+=this.value_,this.lazyHash_=ov(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ke.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ke.__childrenNodeConstructor?-1:(U(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=Ke.VALUE_TYPE_ORDER.indexOf(i),u=Ke.VALUE_TYPE_ORDER.indexOf(r);return U(o>=0,"Unknown leaf type: "+i),U(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Ke.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bv,zv;function rx(a){Bv=a}function lx(a){zv=a}class ox extends Vo{compare(t,i){const r=t.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?sa(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(Zi,new Ke("[PRIORITY-POST]",zv))}makePost(t,i){const r=Bv(t);return new ie(i,new Ke("[PRIORITY-POST]",r))}toString(){return".priority"}}const Le=new ox;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=Math.log(2);class ux{constructor(t){const i=u=>parseInt(Math.log(u)/cx,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const No=function(a,t,i,r){a.sort(t);const o=function(g,p){const E=p-g;let b,S;if(E===0)return null;if(E===1)return b=a[g],S=i?i(b):b,new Xe(S,b.node,Xe.BLACK,null,null);{const L=parseInt(E/2,10)+g,j=o(g,L),q=o(L+1,p);return b=a[L],S=i?i(b):b,new Xe(S,b.node,Xe.BLACK,j,q)}},u=function(g){let p=null,E=null,b=a.length;const S=function(j,q){const G=b-j,te=b;b-=j;const ye=o(G+1,te),me=a[G],Te=i?i(me):me;L(new Xe(Te,me.node,q,null,ye))},L=function(j){p?(p.left=j,p=j):(E=j,p=j)};for(let j=0;j<g.count;++j){const q=g.nextBitIsOne(),G=Math.pow(2,g.count-(j+1));q?S(G,Xe.BLACK):(S(G,Xe.BLACK),S(G,Xe.RED))}return E},h=new ux(a.length),d=u(h);return new gt(r||t,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If;const Hs={};class xn{static get Default(){return U(Hs&&Le,"ChildrenNode.ts has not been loaded"),If=If||new xn({".priority":Hs},{".priority":Le}),If}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=Ks(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof gt?i:null}hasIndex(t){return Dn(this.indexSet_,t.toString())}addIndex(t,i){U(t!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(ie.Wrap);let h=u.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=u.getNext();let d;o?d=No(r,t.getCompare()):d=Hs;const g=t.toString(),p={...this.indexSet_};p[g]=t;const E={...this.indexes_};return E[g]=d,new xn(E,p)}addToIndexes(t,i){const r=_o(this.indexes_,(o,u)=>{const h=Ks(this.indexSet_,u);if(U(h,"Missing index implementation for "+u),o===Hs)if(h.isDefinedOn(t.node)){const d=[],g=i.getIterator(ie.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&d.push(p),p=g.getNext();return d.push(t),No(d,h.getCompare())}else return Hs;else{const d=i.get(t.name);let g=o;return d&&(g=g.remove(new ie(t.name,d))),g.insert(t,t.node)}});return new xn(r,this.indexSet_)}removeFromIndexes(t,i){const r=_o(this.indexes_,o=>{if(o===Hs)return o;{const u=i.get(t.name);return u?o.remove(new ie(t.name,u)):o}});return new xn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr;class W{static get EMPTY_NODE(){return cr||(cr=new W(new gt(wh),null,xn.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jv(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cr}updatePriority(t){return this.children_.isEmpty()?this:new W(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?cr:i}}getChild(t){const i=oe(t);return i===null?this:this.getImmediateChild(i).getChild(Ne(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(U(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new ie(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?cr:this.priorityNode_;return new W(o,h,u)}}updateChild(t,i){const r=oe(t);if(r===null)return i;{U(oe(t)!==".priority"||_i(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ne(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Le,(h,d)=>{i[h]=d.val(t),r++,u&&W.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*r){const h=[];for(const d in i)h[d]=i[d];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Uv(this.getPriority().val())+":"),this.forEachChild(Le,(i,r)=>{const o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":ov(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ie(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ie(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ie(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,ie.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,ie.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zr?-1:0}withIndex(t){if(t===Qs||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new W(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Qs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Le),o=i.getIterator(Le);let u=r.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===Qs?null:this.indexMap_.get(t.toString())}}W.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fx extends W{constructor(){super(new gt(wh),W.EMPTY_NODE,xn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return W.EMPTY_NODE}isEmpty(){return!1}}const zr=new fx;Object.defineProperties(ie,{MIN:{value:new ie(Ws,W.EMPTY_NODE)},MAX:{value:new ie(Zi,zr)}});Lv.__EMPTY_NODE=W.EMPTY_NODE;Ke.__childrenNodeConstructor=W;ax(zr);lx(zr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=!0;function We(a,t=null){if(a===null)return W.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),U(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new Ke(i,We(t))}if(!(a instanceof Array)&&hx){const i=[];let r=!1;if(yt(a,(h,d)=>{if(h.substring(0,1)!=="."){const g=We(d);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),i.push(new ie(h,g)))}}),i.length===0)return W.EMPTY_NODE;const u=No(i,sx,h=>h.name,wh);if(r){const h=No(i,Le.getCompare());return new W(u,We(t),new xn({".priority":h},{".priority":Le}))}else return new W(u,We(t),xn.Default)}else{let i=W.EMPTY_NODE;return yt(a,(r,o)=>{if(Dn(a,r)&&r.substring(0,1)!=="."){const u=We(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(We(t))}}rx(We);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends Vo{constructor(t){super(),this.indexPath_=t,U(!re(t)&&oe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?sa(t.name,i.name):u}makePost(t,i){const r=We(t),o=W.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(i,o)}maxPost(){const t=W.EMPTY_NODE.updateChild(this.indexPath_,zr);return new ie(Zi,t)}toString(){return Iv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends Vo{compare(t,i){const r=t.node.compareTo(i.node);return r===0?sa(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(t,i){const r=We(t);return new ie(i,r)}toString(){return".value"}}const px=new mx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(a){return{type:"value",snapshotNode:a}}function Zs(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function Cr(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function xr(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function gx(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t){this.index_=t}updateChild(t,i,r,o,u,h){U(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(i);return d.getChild(o).equals(r.getChild(o))&&d.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?t.hasChild(i)?h.trackChildChange(Cr(i,d)):U(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(Zs(i,r)):h.trackChildChange(xr(i,r,d))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Le,(o,u)=>{i.hasChild(o)||r.trackChildChange(Cr(o,u))}),i.isLeafNode()||i.forEachChild(Le,(o,u)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(u)||r.trackChildChange(xr(o,u,h))}else r.trackChildChange(Zs(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?W.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t){this.indexedFilter_=new Ch(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ar.getStartPost_(t),this.endPost_=Ar.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,o,u,h){return this.matches(new ie(i,r))||(r=W.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,o,u,h)}updateFullNode(t,i,r){i.isLeafNode()&&(i=W.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(W.EMPTY_NODE);const u=this;return i.forEachChild(Le,(h,d)=>{u.matches(new ie(h,d))||(o=o.updateImmediateChild(h,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ar(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,o,u,h){return this.rangedFilter_.matches(new ie(i,r))||(r=W.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,o,u,h):this.fullLimitUpdateChild_(t,i,r,u,h)}updateFullNode(t,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=W.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(W.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const d=u.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,o,u){let h;if(this.reverse_){const b=this.index_.getCompare();h=(S,L)=>b(L,S)}else h=this.index_.getCompare();const d=t;U(d.numChildren()===this.limit_,"");const g=new ie(i,r),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),E=this.rangedFilter_.matches(g);if(d.hasChild(i)){const b=d.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,p,this.reverse_);for(;S!=null&&(S.name===i||d.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const L=S==null?1:h(S,g);if(E&&!r.isEmpty()&&L>=0)return u?.trackChildChange(xr(i,r,b)),d.updateImmediateChild(i,r);{u?.trackChildChange(Cr(i,b));const q=d.updateImmediateChild(i,W.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(u?.trackChildChange(Zs(S.name,S.node)),q.updateImmediateChild(S.name,S.node)):q}}else return r.isEmpty()?t:E&&h(p,g)>=0?(u!=null&&(u.trackChildChange(Cr(p.name,p.node)),u.trackChildChange(Zs(i,r))),d.updateImmediateChild(i,r).updateImmediateChild(p.name,W.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ws}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const t=new xh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function yx(a){return a.loadsAllData()?new Ch(a.getIndex()):a.hasLimit()?new _x(a):new Ar(a)}function V_(a){const t={};if(a.isDefault())return t;let i;if(a.index_===Le?i="$priority":a.index_===px?i="$value":a.index_===Qs?i="$key":(U(a.index_ instanceof dx,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=qe(i),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";t[r]=qe(a.indexStartValue_),a.startNameSet_&&(t[r]+=","+qe(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";t[r]=qe(a.indexEndValue_),a.endNameSet_&&(t[r]+=","+qe(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function G_(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==Le&&(t.i=a.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Nv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(U(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Br("p:rest:"),this.listens_={}}listen(t,i,r,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=Ro.getListenId_(t,r),d={};this.listens_[h]=d;const g=V_(t._queryParams);this.restRequest_(u+".json",g,(p,E)=>{let b=E;if(p===404&&(b=null,p=null),p===null&&this.onDataUpdate_(u,b,!1,r),Ks(this.listens_,h)===d){let S;p?p===401?S="permission_denied":S="rest_error:"+p:S="ok",o(S,null)}})}unlisten(t,i){const r=Ro.getListenId_(t,i);delete this.listens_[r]}get(t){const i=V_(t._queryParams),r=t._path.toString(),o=new Bo;return this.restRequest_(r+".json",i,(u,h)=>{let d=h;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(r,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ta(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let g=null;if(d.status>=200&&d.status<300){try{g=Er(d.responseText)}catch{_t("Failed to parse JSON response for "+h+": "+d.responseText)}r(null,g)}else d.status!==401&&d.status!==404&&_t("Got unsuccessful REST response for "+h+" Status: "+d.status),r(d.status);r=null}},d.open("GET",h,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(){return{value:null,children:new Map}}function Hv(a,t,i){if(re(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const r=oe(t);a.children.has(r)||a.children.set(r,Oo());const o=a.children.get(r);t=Ne(t),Hv(o,t,i)}}function Qf(a,t,i){a.value!==null?i(t,a.value):Ex(a,(r,o)=>{const u=new xe(t.toString()+"/"+r);Qf(o,u,i)})}function Ex(a,t){a.children.forEach((i,r)=>{t(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&yt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=10*1e3,Sx=30*1e3,Tx=300*1e3;class wx{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new bx(t);const r=Y_+(Sx-Y_)*Math.random();gr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;yt(t,(o,u)=>{u>0&&Dn(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),gr(this.reportStats_.bind(this),Math.floor(Math.random()*2*Tx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Kt||(Kt={}));function qv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ah(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Nh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=Kt.ACK_USER_WRITE,this.source=qv()}operationForChild(t){if(re(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new xe(t));return new Io(he(),i,this.revert)}}else return U(oe(this.path)===t,"operationForChild called for unrelated child."),new Io(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,i){this.source=t,this.path=i,this.type=Kt.LISTEN_COMPLETE}operationForChild(t){return re(this.path)?new Nr(this.source,he()):new Nr(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=Kt.OVERWRITE}operationForChild(t){return re(this.path)?new Ji(this.source,he(),this.snap.getImmediateChild(t)):new Ji(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=Kt.MERGE}operationForChild(t){if(re(this.path)){const i=this.children.subtree(new xe(t));return i.isEmpty()?null:i.value?new Ji(this.source,he(),i.value):new Rr(this.source,he(),i)}else return U(oe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Rr(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(re(t))return this.isFullyInitialized()&&!this.filtered_;const i=oe(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function xx(a,t,i,r){const o=[],u=[];return t.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(gx(h.childName,h.snapshotNode))}),ur(a,o,"child_removed",t,r,i),ur(a,o,"child_added",t,r,i),ur(a,o,"child_moved",u,r,i),ur(a,o,"child_changed",t,r,i),ur(a,o,"value",t,r,i),o}function ur(a,t,i,r,o,u){const h=r.filter(d=>d.type===i);h.sort((d,g)=>Nx(a,d,g)),h.forEach(d=>{const g=Ax(a,d,u);o.forEach(p=>{p.respondsTo(d.type)&&t.push(p.createEvent(g,a.query_))})})}function Ax(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function Nx(a,t,i){if(t.childName==null||i.childName==null)throw $s("Should only compare child_ events.");const r=new ie(t.childName,t.snapshotNode),o=new ie(i.childName,i.snapshotNode);return a.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(a,t){return{eventCache:a,serverCache:t}}function _r(a,t,i,r){return Go(new yi(t,i,r),a.serverCache)}function Vv(a,t,i,r){return Go(a.eventCache,new yi(t,i,r))}function Do(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function $i(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df;const Rx=()=>(Df||(Df=new gt(mC)),Df);class Re{static fromObject(t){let i=new Re(null);return yt(t,(r,o)=>{i=i.set(new xe(r),o)}),i}constructor(t,i=Rx()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:he(),value:this.value};if(re(t))return null;{const r=oe(t),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ne(t),i);return u!=null?{path:Ve(new xe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(re(t))return this;{const i=oe(t),r=this.children.get(i);return r!==null?r.subtree(Ne(t)):new Re(null)}}set(t,i){if(re(t))return new Re(i,this.children);{const r=oe(t),u=(this.children.get(r)||new Re(null)).set(Ne(t),i),h=this.children.insert(r,u);return new Re(this.value,h)}}remove(t){if(re(t))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const i=oe(t),r=this.children.get(i);if(r){const o=r.remove(Ne(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Re(null):new Re(this.value,u)}else return this}}get(t){if(re(t))return this.value;{const i=oe(t),r=this.children.get(i);return r?r.get(Ne(t)):null}}setTree(t,i){if(re(t))return i;{const r=oe(t),u=(this.children.get(r)||new Re(null)).setTree(Ne(t),i);let h;return u.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,u),new Re(this.value,h)}}fold(t){return this.fold_(he(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(Ve(t,o),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,he(),i)}findOnPath_(t,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(re(t))return null;{const u=oe(t),h=this.children.get(u);return h?h.findOnPath_(Ne(t),Ve(i,u),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,he(),i)}foreachOnPath_(t,i,r){if(re(t))return this;{this.value&&r(i,this.value);const o=oe(t),u=this.children.get(o);return u?u.foreachOnPath_(Ne(t),Ve(i,o),r):new Re(null)}}foreach(t){this.foreach_(he(),t)}foreach_(t,i){this.children.inorderTraversal((r,o)=>{o.foreach_(Ve(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.writeTree_=t}static empty(){return new Wt(new Re(null))}}function yr(a,t,i){if(re(t))return new Wt(new Re(i));{const r=a.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let u=r.value;const h=ot(o,t);return u=u.updateChild(h,i),new Wt(a.writeTree_.set(o,u))}else{const o=new Re(i),u=a.writeTree_.setTree(t,o);return new Wt(u)}}}function F_(a,t,i){let r=a;return yt(i,(o,u)=>{r=yr(r,Ve(t,o),u)}),r}function Q_(a,t){if(re(t))return Wt.empty();{const i=a.writeTree_.setTree(t,new Re(null));return new Wt(i)}}function Kf(a,t){return es(a,t)!=null}function es(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(ot(i.path,t)):null}function K_(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Le,(r,o)=>{t.push(new ie(r,o))}):a.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new ie(r,o.value))}),t}function pi(a,t){if(re(t))return a;{const i=es(a,t);return i!=null?new Wt(new Re(i)):new Wt(a.writeTree_.subtree(t))}}function Xf(a){return a.writeTree_.isEmpty()}function Js(a,t){return Gv(he(),a.writeTree_,t)}function Gv(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let r=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(U(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=Gv(Ve(a,o),u,i)}),!i.getChild(a).isEmpty()&&r!==null&&(i=i.updateChild(Ve(a,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(a,t){return Kv(t,a)}function Ox(a,t,i,r,o){U(r>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:r,visible:o}),o&&(a.visibleWrites=yr(a.visibleWrites,t,i)),a.lastWriteId=r}function Ix(a,t){for(let i=0;i<a.allWrites.length;i++){const r=a.allWrites[i];if(r.writeId===t)return r}return null}function Dx(a,t){const i=a.allWrites.findIndex(d=>d.writeId===t);U(i>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[i];a.allWrites.splice(i,1);let o=r.visible,u=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const d=a.allWrites[h];d.visible&&(h>=i&&Mx(d,r.path)?o=!1:Qt(r.path,d.path)&&(u=!0)),h--}if(o){if(u)return kx(a),!0;if(r.snap)a.visibleWrites=Q_(a.visibleWrites,r.path);else{const d=r.children;yt(d,g=>{a.visibleWrites=Q_(a.visibleWrites,Ve(r.path,g))})}return!0}else return!1}function Mx(a,t){if(a.snap)return Qt(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&Qt(Ve(a.path,i),t))return!0;return!1}function kx(a){a.visibleWrites=Yv(a.allWrites,Lx,he()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function Lx(a){return a.visible}function Yv(a,t,i){let r=Wt.empty();for(let o=0;o<a.length;++o){const u=a[o];if(t(u)){const h=u.path;let d;if(u.snap)Qt(i,h)?(d=ot(i,h),r=yr(r,d,u.snap)):Qt(h,i)&&(d=ot(h,i),r=yr(r,he(),u.snap.getChild(d)));else if(u.children){if(Qt(i,h))d=ot(i,h),r=F_(r,d,u.children);else if(Qt(h,i))if(d=ot(h,i),re(d))r=F_(r,he(),u.children);else{const g=Ks(u.children,oe(d));if(g){const p=g.getChild(Ne(d));r=yr(r,he(),p)}}}else throw $s("WriteRecord should have .snap or .children")}}return r}function Fv(a,t,i,r,o){if(!r&&!o){const u=es(a.visibleWrites,t);if(u!=null)return u;{const h=pi(a.visibleWrites,t);if(Xf(h))return i;if(i==null&&!Kf(h,he()))return null;{const d=i||W.EMPTY_NODE;return Js(h,d)}}}else{const u=pi(a.visibleWrites,t);if(!o&&Xf(u))return i;if(!o&&i==null&&!Kf(u,he()))return null;{const h=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(Qt(p.path,t)||Qt(t,p.path))},d=Yv(a.allWrites,h,t),g=i||W.EMPTY_NODE;return Js(d,g)}}}function Ux(a,t,i){let r=W.EMPTY_NODE;const o=es(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Le,(u,h)=>{r=r.updateImmediateChild(u,h)}),r;if(i){const u=pi(a.visibleWrites,t);return i.forEachChild(Le,(h,d)=>{const g=Js(pi(u,new xe(h)),d);r=r.updateImmediateChild(h,g)}),K_(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const u=pi(a.visibleWrites,t);return K_(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function jx(a,t,i,r,o){U(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=Ve(t,i);if(Kf(a.visibleWrites,u))return null;{const h=pi(a.visibleWrites,u);return Xf(h)?o.getChild(i):Js(h,o.getChild(i))}}function Bx(a,t,i,r){const o=Ve(t,i),u=es(a.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const h=pi(a.visibleWrites,o);return Js(h,r.getNode().getImmediateChild(i))}else return null}function zx(a,t){return es(a.visibleWrites,t)}function Px(a,t,i,r,o,u,h){let d;const g=pi(a.visibleWrites,t),p=es(g,he());if(p!=null)d=p;else if(i!=null)d=Js(g,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const E=[],b=h.getCompare(),S=u?d.getReverseIteratorFrom(r,h):d.getIteratorFrom(r,h);let L=S.getNext();for(;L&&E.length<o;)b(L,r)!==0&&E.push(L),L=S.getNext();return E}else return[]}function Hx(){return{visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1}}function Mo(a,t,i,r){return Fv(a.writeTree,a.treePath,t,i,r)}function Rh(a,t){return Ux(a.writeTree,a.treePath,t)}function X_(a,t,i,r){return jx(a.writeTree,a.treePath,t,i,r)}function ko(a,t){return zx(a.writeTree,Ve(a.treePath,t))}function qx(a,t,i,r,o,u){return Px(a.writeTree,a.treePath,t,i,r,o,u)}function Oh(a,t,i){return Bx(a.writeTree,a.treePath,t,i)}function Qv(a,t){return Kv(Ve(a.treePath,t),a.writeTree)}function Kv(a,t){return{treePath:a,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;U(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,xr(r,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Cr(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,Zs(r,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,xr(r,t.snapshotNode,o.oldSnap));else throw $s("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const Xv=new Gx;class Ih{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new yi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Oh(this.writes_,t,r)}}getChildAfterChild(t,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$i(this.viewCache_),u=qx(this.writes_,o,i,1,r,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(a){return{filter:a}}function Fx(a,t){U(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),U(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function Qx(a,t,i,r,o){const u=new Vx;let h,d;if(i.type===Kt.OVERWRITE){const p=i;p.source.fromUser?h=Wf(a,t,p.path,p.snap,r,o,u):(U(p.source.fromServer,"Unknown source."),d=p.source.tagged||t.serverCache.isFiltered()&&!re(p.path),h=Lo(a,t,p.path,p.snap,r,o,d,u))}else if(i.type===Kt.MERGE){const p=i;p.source.fromUser?h=Xx(a,t,p.path,p.children,r,o,u):(U(p.source.fromServer,"Unknown source."),d=p.source.tagged||t.serverCache.isFiltered(),h=Zf(a,t,p.path,p.children,r,o,d,u))}else if(i.type===Kt.ACK_USER_WRITE){const p=i;p.revert?h=Jx(a,t,p.path,r,o,u):h=Wx(a,t,p.path,p.affectedTree,r,o,u)}else if(i.type===Kt.LISTEN_COMPLETE)h=Zx(a,t,i.path,r,u);else throw $s("Unknown operation type: "+i.type);const g=u.getChanges();return Kx(t,h,g),{viewCache:h,changes:g}}function Kx(a,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Do(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(Pv(Do(t)))}}function Wv(a,t,i,r,o,u){const h=t.eventCache;if(ko(r,i)!=null)return t;{let d,g;if(re(i))if(U(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=$i(t),E=p instanceof W?p:W.EMPTY_NODE,b=Rh(r,E);d=a.filter.updateFullNode(t.eventCache.getNode(),b,u)}else{const p=Mo(r,$i(t));d=a.filter.updateFullNode(t.eventCache.getNode(),p,u)}else{const p=oe(i);if(p===".priority"){U(_i(i)===1,"Can't have a priority with additional path components");const E=h.getNode();g=t.serverCache.getNode();const b=X_(r,i,E,g);b!=null?d=a.filter.updatePriority(E,b):d=h.getNode()}else{const E=Ne(i);let b;if(h.isCompleteForChild(p)){g=t.serverCache.getNode();const S=X_(r,i,h.getNode(),g);S!=null?b=h.getNode().getImmediateChild(p).updateChild(E,S):b=h.getNode().getImmediateChild(p)}else b=Oh(r,p,t.serverCache);b!=null?d=a.filter.updateChild(h.getNode(),p,b,E,o,u):d=h.getNode()}}return _r(t,d,h.isFullyInitialized()||re(i),a.filter.filtersNodes())}}function Lo(a,t,i,r,o,u,h,d){const g=t.serverCache;let p;const E=h?a.filter:a.filter.getIndexedFilter();if(re(i))p=E.updateFullNode(g.getNode(),r,null);else if(E.filtersNodes()&&!g.isFiltered()){const L=g.getNode().updateChild(i,r);p=E.updateFullNode(g.getNode(),L,null)}else{const L=oe(i);if(!g.isCompleteForPath(i)&&_i(i)>1)return t;const j=Ne(i),G=g.getNode().getImmediateChild(L).updateChild(j,r);L===".priority"?p=E.updatePriority(g.getNode(),G):p=E.updateChild(g.getNode(),L,G,j,Xv,null)}const b=Vv(t,p,g.isFullyInitialized()||re(i),E.filtersNodes()),S=new Ih(o,b,u);return Wv(a,b,i,o,S,d)}function Wf(a,t,i,r,o,u,h){const d=t.eventCache;let g,p;const E=new Ih(o,t,u);if(re(i))p=a.filter.updateFullNode(t.eventCache.getNode(),r,h),g=_r(t,p,!0,a.filter.filtersNodes());else{const b=oe(i);if(b===".priority")p=a.filter.updatePriority(t.eventCache.getNode(),r),g=_r(t,p,d.isFullyInitialized(),d.isFiltered());else{const S=Ne(i),L=d.getNode().getImmediateChild(b);let j;if(re(S))j=r;else{const q=E.getCompleteChild(b);q!=null?Ov(S)===".priority"&&q.getChild(Dv(S)).isEmpty()?j=q:j=q.updateChild(S,r):j=W.EMPTY_NODE}if(L.equals(j))g=t;else{const q=a.filter.updateChild(d.getNode(),b,j,S,E,h);g=_r(t,q,d.isFullyInitialized(),a.filter.filtersNodes())}}}return g}function W_(a,t){return a.eventCache.isCompleteForChild(t)}function Xx(a,t,i,r,o,u,h){let d=t;return r.foreach((g,p)=>{const E=Ve(i,g);W_(t,oe(E))&&(d=Wf(a,d,E,p,o,u,h))}),r.foreach((g,p)=>{const E=Ve(i,g);W_(t,oe(E))||(d=Wf(a,d,E,p,o,u,h))}),d}function Z_(a,t,i){return i.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function Zf(a,t,i,r,o,u,h,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;re(i)?p=r:p=new Re(null).setTree(i,r);const E=t.serverCache.getNode();return p.children.inorderTraversal((b,S)=>{if(E.hasChild(b)){const L=t.serverCache.getNode().getImmediateChild(b),j=Z_(a,L,S);g=Lo(a,g,new xe(b),j,o,u,h,d)}}),p.children.inorderTraversal((b,S)=>{const L=!t.serverCache.isCompleteForChild(b)&&S.value===null;if(!E.hasChild(b)&&!L){const j=t.serverCache.getNode().getImmediateChild(b),q=Z_(a,j,S);g=Lo(a,g,new xe(b),q,o,u,h,d)}}),g}function Wx(a,t,i,r,o,u,h){if(ko(o,i)!=null)return t;const d=t.serverCache.isFiltered(),g=t.serverCache;if(r.value!=null){if(re(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Lo(a,t,i,g.getNode().getChild(i),o,u,d,h);if(re(i)){let p=new Re(null);return g.getNode().forEachChild(Qs,(E,b)=>{p=p.set(new xe(E),b)}),Zf(a,t,i,p,o,u,d,h)}else return t}else{let p=new Re(null);return r.foreach((E,b)=>{const S=Ve(i,E);g.isCompleteForPath(S)&&(p=p.set(E,g.getNode().getChild(S)))}),Zf(a,t,i,p,o,u,d,h)}}function Zx(a,t,i,r,o){const u=t.serverCache,h=Vv(t,u.getNode(),u.isFullyInitialized()||re(i),u.isFiltered());return Wv(a,h,i,r,Xv,o)}function Jx(a,t,i,r,o,u){let h;if(ko(r,i)!=null)return t;{const d=new Ih(r,t,o),g=t.eventCache.getNode();let p;if(re(i)||oe(i)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=Mo(r,$i(t));else{const b=t.serverCache.getNode();U(b instanceof W,"serverChildren would be complete if leaf node"),E=Rh(r,b)}E=E,p=a.filter.updateFullNode(g,E,u)}else{const E=oe(i);let b=Oh(r,E,t.serverCache);b==null&&t.serverCache.isCompleteForChild(E)&&(b=g.getImmediateChild(E)),b!=null?p=a.filter.updateChild(g,E,b,Ne(i),d,u):t.eventCache.getNode().hasChild(E)?p=a.filter.updateChild(g,E,W.EMPTY_NODE,Ne(i),d,u):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Mo(r,$i(t)),h.isLeafNode()&&(p=a.filter.updateFullNode(p,h,u)))}return h=t.serverCache.isFullyInitialized()||ko(r,he())!=null,_r(t,p,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Ch(r.getIndex()),u=yx(r);this.processor_=Yx(u);const h=i.serverCache,d=i.eventCache,g=o.updateFullNode(W.EMPTY_NODE,h.getNode(),null),p=u.updateFullNode(W.EMPTY_NODE,d.getNode(),null),E=new yi(g,h.isFullyInitialized(),o.filtersNodes()),b=new yi(p,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=Go(b,E),this.eventGenerator_=new Cx(this.query_)}get query(){return this.query_}}function eA(a){return a.viewCache_.serverCache.getNode()}function tA(a){return Do(a.viewCache_)}function nA(a,t){const i=$i(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!re(t)&&!i.getImmediateChild(oe(t)).isEmpty())?i.getChild(t):null}function J_(a){return a.eventRegistrations_.length===0}function iA(a,t){a.eventRegistrations_.push(t)}function $_(a,t,i){const r=[];if(i){U(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&r.push(h)})}if(t){let o=[];for(let u=0;u<a.eventRegistrations_.length;++u){const h=a.eventRegistrations_[u];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(u+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return r}function ey(a,t,i,r){t.type===Kt.MERGE&&t.source.queryId!==null&&(U($i(a.viewCache_),"We should always have a full cache before handling merges"),U(Do(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,u=Qx(a.processor_,o,t,i,r);return Fx(a.processor_,u.viewCache),U(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=u.viewCache,Zv(a,u.changes,u.viewCache.eventCache.getNode(),null)}function sA(a,t){const i=a.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Le,(u,h)=>{r.push(Zs(u,h))}),i.isFullyInitialized()&&r.push(Pv(i.getNode())),Zv(a,r,i.getNode(),t)}function Zv(a,t,i,r){const o=r?[r]:a.eventRegistrations_;return xx(a.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class Jv{constructor(){this.views=new Map}}function aA(a){U(!Uo,"__referenceConstructor has already been defined"),Uo=a}function rA(){return U(Uo,"Reference.ts has not been loaded"),Uo}function lA(a){return a.views.size===0}function Dh(a,t,i,r){const o=t.source.queryId;if(o!==null){const u=a.views.get(o);return U(u!=null,"SyncTree gave us an op for an invalid query."),ey(u,t,i,r)}else{let u=[];for(const h of a.views.values())u=u.concat(ey(h,t,i,r));return u}}function $v(a,t,i,r,o){const u=t._queryIdentifier,h=a.views.get(u);if(!h){let d=Mo(i,o?r:null),g=!1;d?g=!0:r instanceof W?(d=Rh(i,r),g=!1):(d=W.EMPTY_NODE,g=!1);const p=Go(new yi(d,g,!1),new yi(r,o,!1));return new $x(t,p)}return h}function oA(a,t,i,r,o,u){const h=$v(a,t,r,o,u);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,h),iA(h,i),sA(h,i)}function cA(a,t,i,r){const o=t._queryIdentifier,u=[];let h=[];const d=vi(a);if(o==="default")for(const[g,p]of a.views.entries())h=h.concat($_(p,i,r)),J_(p)&&(a.views.delete(g),p.query._queryParams.loadsAllData()||u.push(p.query));else{const g=a.views.get(o);g&&(h=h.concat($_(g,i,r)),J_(g)&&(a.views.delete(o),g.query._queryParams.loadsAllData()||u.push(g.query)))}return d&&!vi(a)&&u.push(new(rA())(t._repo,t._path)),{removed:u,events:h}}function e0(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function gi(a,t){let i=null;for(const r of a.views.values())i=i||nA(r,t);return i}function t0(a,t){if(t._queryParams.loadsAllData())return Fo(a);{const r=t._queryIdentifier;return a.views.get(r)}}function n0(a,t){return t0(a,t)!=null}function vi(a){return Fo(a)!=null}function Fo(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo;function uA(a){U(!jo,"__referenceConstructor has already been defined"),jo=a}function fA(){return U(jo,"Reference.ts has not been loaded"),jo}let hA=1;class ty{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Re(null),this.pendingWriteTree_=Hx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function i0(a,t,i,r,o){return Ox(a.pendingWriteTree_,t,i,r,o),o?Hr(a,new Ji(qv(),t,i)):[]}function Fi(a,t,i=!1){const r=Ix(a.pendingWriteTree_,t);if(Dx(a.pendingWriteTree_,t)){let u=new Re(null);return r.snap!=null?u=u.set(he(),!0):yt(r.children,h=>{u=u.set(new xe(h),!0)}),Hr(a,new Io(r.path,u,i))}else return[]}function Pr(a,t,i){return Hr(a,new Ji(Ah(),t,i))}function dA(a,t,i){const r=Re.fromObject(i);return Hr(a,new Rr(Ah(),t,r))}function mA(a,t){return Hr(a,new Nr(Ah(),t))}function pA(a,t,i){const r=kh(a,i);if(r){const o=Lh(r),u=o.path,h=o.queryId,d=ot(u,t),g=new Nr(Nh(h),d);return Uh(a,u,g)}else return[]}function s0(a,t,i,r,o=!1){const u=t._path,h=a.syncPointTree_.get(u);let d=[];if(h&&(t._queryIdentifier==="default"||n0(h,t))){const g=cA(h,t,i,r);lA(h)&&(a.syncPointTree_=a.syncPointTree_.remove(u));const p=g.removed;if(d=g.events,!o){const E=p.findIndex(S=>S._queryParams.loadsAllData())!==-1,b=a.syncPointTree_.findOnPath(u,(S,L)=>vi(L));if(E&&!b){const S=a.syncPointTree_.subtree(u);if(!S.isEmpty()){const L=vA(S);for(let j=0;j<L.length;++j){const q=L[j],G=q.query,te=o0(a,q);a.listenProvider_.startListening(vr(G),Or(a,G),te.hashFn,te.onComplete)}}}!b&&p.length>0&&!r&&(E?a.listenProvider_.stopListening(vr(t),null):p.forEach(S=>{const L=a.queryToTagMap.get(Qo(S));a.listenProvider_.stopListening(vr(S),L)}))}EA(a,p)}return d}function a0(a,t,i,r){const o=kh(a,r);if(o!=null){const u=Lh(o),h=u.path,d=u.queryId,g=ot(h,t),p=new Ji(Nh(d),g,i);return Uh(a,h,p)}else return[]}function gA(a,t,i,r){const o=kh(a,r);if(o){const u=Lh(o),h=u.path,d=u.queryId,g=ot(h,t),p=Re.fromObject(i),E=new Rr(Nh(d),g,p);return Uh(a,h,E)}else return[]}function _A(a,t,i,r=!1){const o=t._path;let u=null,h=!1;a.syncPointTree_.foreachOnPath(o,(S,L)=>{const j=ot(S,o);u=u||gi(L,j),h=h||vi(L)});let d=a.syncPointTree_.get(o);d?(h=h||vi(d),u=u||gi(d,he())):(d=new Jv,a.syncPointTree_=a.syncPointTree_.set(o,d));let g;u!=null?g=!0:(g=!1,u=W.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((L,j)=>{const q=gi(j,he());q&&(u=u.updateImmediateChild(L,q))}));const p=n0(d,t);if(!p&&!t._queryParams.loadsAllData()){const S=Qo(t);U(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const L=bA();a.queryToTagMap.set(S,L),a.tagToQueryMap.set(L,S)}const E=Yo(a.pendingWriteTree_,o);let b=oA(d,t,i,E,u,g);if(!p&&!h&&!r){const S=t0(d,t);b=b.concat(SA(a,t,S))}return b}function Mh(a,t,i){const o=a.pendingWriteTree_,u=a.syncPointTree_.findOnPath(t,(h,d)=>{const g=ot(h,t),p=gi(d,g);if(p)return p});return Fv(o,t,u,i,!0)}function yA(a,t){const i=t._path;let r=null;a.syncPointTree_.foreachOnPath(i,(p,E)=>{const b=ot(p,i);r=r||gi(E,b)});let o=a.syncPointTree_.get(i);o?r=r||gi(o,he()):(o=new Jv,a.syncPointTree_=a.syncPointTree_.set(i,o));const u=r!=null,h=u?new yi(r,!0,!1):null,d=Yo(a.pendingWriteTree_,t._path),g=$v(o,t,d,u?h.getNode():W.EMPTY_NODE,u);return tA(g)}function Hr(a,t){return r0(t,a.syncPointTree_,null,Yo(a.pendingWriteTree_,he()))}function r0(a,t,i,r){if(re(a.path))return l0(a,t,i,r);{const o=t.get(he());i==null&&o!=null&&(i=gi(o,he()));let u=[];const h=oe(a.path),d=a.operationForChild(h),g=t.children.get(h);if(g&&d){const p=i?i.getImmediateChild(h):null,E=Qv(r,h);u=u.concat(r0(d,g,p,E))}return o&&(u=u.concat(Dh(o,a,r,i))),u}}function l0(a,t,i,r){const o=t.get(he());i==null&&o!=null&&(i=gi(o,he()));let u=[];return t.children.inorderTraversal((h,d)=>{const g=i?i.getImmediateChild(h):null,p=Qv(r,h),E=a.operationForChild(h);E&&(u=u.concat(l0(E,d,g,p)))}),o&&(u=u.concat(Dh(o,a,r,i))),u}function o0(a,t){const i=t.query,r=Or(a,i);return{hashFn:()=>(eA(t)||W.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?pA(a,i._path,r):mA(a,i._path);{const u=_C(o,i);return s0(a,i,null,u)}}}}function Or(a,t){const i=Qo(t);return a.queryToTagMap.get(i)}function Qo(a){return a._path.toString()+"$"+a._queryIdentifier}function kh(a,t){return a.tagToQueryMap.get(t)}function Lh(a){const t=a.indexOf("$");return U(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new xe(a.substr(0,t))}}function Uh(a,t,i){const r=a.syncPointTree_.get(t);U(r,"Missing sync point for query tag that we're tracking");const o=Yo(a.pendingWriteTree_,t);return Dh(r,i,o,null)}function vA(a){return a.fold((t,i,r)=>{if(i&&vi(i))return[Fo(i)];{let o=[];return i&&(o=e0(i)),yt(r,(u,h)=>{o=o.concat(h)}),o}})}function vr(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(fA())(a._repo,a._path):a}function EA(a,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const o=Qo(r),u=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(u)}}}function bA(){return hA++}function SA(a,t,i){const r=t._path,o=Or(a,t),u=o0(a,i),h=a.listenProvider_.startListening(vr(t),o,u.hashFn,u.onComplete),d=a.syncPointTree_.subtree(r);if(o)U(!vi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const g=d.fold((p,E,b)=>{if(!re(p)&&E&&vi(E))return[Fo(E).query];{let S=[];return E&&(S=S.concat(e0(E).map(L=>L.query))),yt(b,(L,j)=>{S=S.concat(j)}),S}});for(let p=0;p<g.length;++p){const E=g[p];a.listenProvider_.stopListening(vr(E),Or(a,E))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new jh(i)}node(){return this.node_}}class Bh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ve(this.path_,t);return new Bh(this.syncTree_,i)}node(){return Mh(this.syncTree_,this.path_)}}const TA=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},ny=function(a,t,i){if(!a||typeof a!="object")return a;if(U(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return wA(a[".sv"],t,i);if(typeof a[".sv"]=="object")return CA(a[".sv"],t);U(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},wA=function(a,t,i){switch(a){case"timestamp":return i.timestamp;default:U(!1,"Unexpected server value: "+a)}},CA=function(a,t,i){a.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const o=t.node();if(U(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},xA=function(a,t,i,r){return zh(t,new Bh(i,a),r)},c0=function(a,t,i){return zh(a,new jh(t),i)};function zh(a,t,i){const r=a.getPriority().val(),o=ny(r,t.getImmediateChild(".priority"),i);let u;if(a.isLeafNode()){const h=a,d=ny(h.getValue(),t,i);return d!==h.getValue()||o!==h.getPriority().val()?new Ke(d,We(o)):a}else{const h=a;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new Ke(o))),h.forEachChild(Le,(d,g)=>{const p=zh(g,t.getImmediateChild(d),i);p!==g&&(u=u.updateImmediateChild(d,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function Hh(a,t){let i=t instanceof xe?t:new xe(t),r=a,o=oe(i);for(;o!==null;){const u=Ks(r.node.children,o)||{children:{},childCount:0};r=new Ph(o,r,u),i=Ne(i),o=oe(i)}return r}function ra(a){return a.node.value}function u0(a,t){a.node.value=t,Jf(a)}function f0(a){return a.node.childCount>0}function AA(a){return ra(a)===void 0&&!f0(a)}function Ko(a,t){yt(a.node.children,(i,r)=>{t(new Ph(i,a,r))})}function h0(a,t,i,r){i&&t(a),Ko(a,o=>{h0(o,t,!0)})}function NA(a,t,i){let r=a.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function qr(a){return new xe(a.parent===null?a.name:qr(a.parent)+"/"+a.name)}function Jf(a){a.parent!==null&&RA(a.parent,a.name,a)}function RA(a,t,i){const r=AA(i),o=Dn(a.node.children,t);r&&o?(delete a.node.children[t],a.node.childCount--,Jf(a)):!r&&!o&&(a.node.children[t]=i.node,a.node.childCount++,Jf(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=/[\[\].#$\/\u0000-\u001F\u007F]/,IA=/[\[\].#$\u0000-\u001F\u007F]/,Mf=10*1024*1024,d0=function(a){return typeof a=="string"&&a.length!==0&&!OA.test(a)},m0=function(a){return typeof a=="string"&&a.length!==0&&!IA.test(a)},DA=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),m0(a)},MA=function(a,t,i,r){qh(ah(a,"value"),t,i)},qh=function(a,t,i){const r=i instanceof xe?new WC(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+Vi(r));if(typeof t=="function")throw new Error(a+"contains a function "+Vi(r)+" with contents = "+t.toString());if(cv(t))throw new Error(a+"contains "+t.toString()+" "+Vi(r));if(typeof t=="string"&&t.length>Mf/3&&zo(t)>Mf)throw new Error(a+"contains a string greater than "+Mf+" utf8 bytes "+Vi(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(yt(t,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!d0(h)))throw new Error(a+" contains an invalid key ("+h+") "+Vi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZC(r,h),qh(a,d,r),JC(r)}),o&&u)throw new Error(a+' contains ".value" child '+Vi(r)+" in addition to actual children.")}},p0=function(a,t,i,r){if(!m0(i))throw new Error(ah(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},kA=function(a,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),p0(a,t,i)},LA=function(a,t){if(oe(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},UA=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!d0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!DA(i))throw new Error(ah(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function g0(a,t){let i=null;for(let r=0;r<t.length;r++){const o=t[r],u=o.getPath();i!==null&&!Mv(u,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&a.eventLists_.push(i)}function ln(a,t,i){g0(a,i),BA(a,r=>Qt(r,t)||Qt(t,r))}function BA(a,t){a.recursionDepth_++;let i=!0;for(let r=0;r<a.eventLists_.length;r++){const o=a.eventLists_[r];if(o){const u=o.path;t(u)?(zA(a.eventLists_[r]),a.eventLists_[r]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function zA(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const r=i.getEventRunner();pr&&rt("event: "+i.toString()),aa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="repo_interrupt",HA=25;class qA{constructor(t,i,r,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oo(),this.transactionQueueTree_=new Ph,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VA(a,t,i){if(a.stats_=bh(a.repoInfo_),a.forceRestClient_||bC())a.server_=new Ro(a.repoInfo_,(r,o,u,h)=>{iy(a,r,o,u,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>sy(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qe(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new Nn(a.repoInfo_,t,(r,o,u,h)=>{iy(a,r,o,u,h)},r=>{sy(a,r)},r=>{YA(a,r)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=xC(a.repoInfo_,()=>new wx(a.stats_,a.server_)),a.infoData_=new vx,a.infoSyncTree_=new ty({startListening:(r,o,u,h)=>{let d=[];const g=a.infoData_.getNode(r._path);return g.isEmpty()||(d=Pr(a.infoSyncTree_,r._path,g),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),Gh(a,"connected",!1),a.serverSyncTree_=new ty({startListening:(r,o,u,h)=>(a.server_.listen(r,u,o,(d,g)=>{const p=h(d,g);ln(a.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{a.server_.unlisten(r,o)}})}function GA(a){const i=a.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Vh(a){return TA({timestamp:GA(a)})}function iy(a,t,i,r,o){a.dataUpdateCount++;const u=new xe(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(r){const g=_o(i,p=>We(p));h=gA(a.serverSyncTree_,u,g,o)}else{const g=We(i);h=a0(a.serverSyncTree_,u,g,o)}else if(r){const g=_o(i,p=>We(p));h=dA(a.serverSyncTree_,u,g)}else{const g=We(i);h=Pr(a.serverSyncTree_,u,g)}let d=u;h.length>0&&(d=Wo(a,u)),ln(a.eventQueue_,d,h)}function sy(a,t){Gh(a,"connected",t),t===!1&&KA(a)}function YA(a,t){yt(t,(i,r)=>{Gh(a,i,r)})}function Gh(a,t,i){const r=new xe("/.info/"+t),o=We(i);a.infoData_.updateSnapshot(r,o);const u=Pr(a.infoSyncTree_,r,o);ln(a.eventQueue_,r,u)}function _0(a){return a.nextWriteId_++}function FA(a,t,i){const r=yA(a.serverSyncTree_,t);return r!=null?Promise.resolve(r):a.server_.get(t).then(o=>{const u=We(o).withIndex(t._queryParams.getIndex());_A(a.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Pr(a.serverSyncTree_,t._path,u);else{const d=Or(a.serverSyncTree_,t);h=a0(a.serverSyncTree_,t._path,u,d)}return ln(a.eventQueue_,t._path,h),s0(a.serverSyncTree_,t,i,null,!0),u},o=>(Xo(a,"get for query "+qe(t)+" failed: "+o),Promise.reject(new Error(o))))}function QA(a,t,i,r,o){Xo(a,"set",{path:t.toString(),value:i,priority:r});const u=Vh(a),h=We(i,r),d=Mh(a.serverSyncTree_,t),g=c0(h,d,u),p=_0(a),E=i0(a.serverSyncTree_,t,g,p,!0);g0(a.eventQueue_,E),a.server_.put(t.toString(),h.val(!0),(S,L)=>{const j=S==="ok";j||_t("set at "+t+" failed: "+S);const q=Fi(a.serverSyncTree_,p,!j);ln(a.eventQueue_,t,q),WA(a,o,S,L)});const b=S0(a,t);Wo(a,b),ln(a.eventQueue_,b,[])}function KA(a){Xo(a,"onDisconnectEvents");const t=Vh(a),i=Oo();Qf(a.onDisconnect_,he(),(o,u)=>{const h=xA(o,u,a.serverSyncTree_,t);Hv(i,o,h)});let r=[];Qf(i,he(),(o,u)=>{r=r.concat(Pr(a.serverSyncTree_,o,u));const h=S0(a,o);Wo(a,h)}),a.onDisconnect_=Oo(),ln(a.eventQueue_,he(),r)}function XA(a){a.persistentConnection_&&a.persistentConnection_.interrupt(PA)}function Xo(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),rt(i,...t)}function WA(a,t,i,r){t&&aa(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const h=new Error(u);h.code=o,t(h)}})}function y0(a,t,i){return Mh(a.serverSyncTree_,t,i)||W.EMPTY_NODE}function Yh(a,t=a.transactionQueueTree_){if(t||Zo(a,t),ra(t)){const i=E0(a,t);U(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&ZA(a,qr(t),i)}else f0(t)&&Ko(t,i=>{Yh(a,i)})}function ZA(a,t,i){const r=i.map(p=>p.currentWriteId),o=y0(a,t,r);let u=o;const h=o.hash();for(let p=0;p<i.length;p++){const E=i[p];U(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const b=ot(t,E.path);u=u.updateChild(b,E.currentOutputSnapshotRaw)}const d=u.val(!0),g=t;a.server_.put(g.toString(),d,p=>{Xo(a,"transaction put response",{path:g.toString(),status:p});let E=[];if(p==="ok"){const b=[];for(let S=0;S<i.length;S++)i[S].status=2,E=E.concat(Fi(a.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&b.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();Zo(a,Hh(a.transactionQueueTree_,t)),Yh(a,a.transactionQueueTree_),ln(a.eventQueue_,t,E);for(let S=0;S<b.length;S++)aa(b[S])}else{if(p==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{_t("transaction at "+g.toString()+" failed: "+p);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=p}Wo(a,t)}},h)}function Wo(a,t){const i=v0(a,t),r=qr(i),o=E0(a,i);return JA(a,o,r),r}function JA(a,t,i){if(t.length===0)return;const r=[];let o=[];const h=t.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const g=t[d],p=ot(i,g.path);let E=!1,b;if(U(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)E=!0,b=g.abortReason,o=o.concat(Fi(a.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=HA)E=!0,b="maxretry",o=o.concat(Fi(a.serverSyncTree_,g.currentWriteId,!0));else{const S=y0(a,g.path,h);g.currentInputSnapshot=S;const L=t[d].update(S.val());if(L!==void 0){qh("transaction failed: Data returned ",L,g.path);let j=We(L);typeof L=="object"&&L!=null&&Dn(L,".priority")||(j=j.updatePriority(S.getPriority()));const G=g.currentWriteId,te=Vh(a),ye=c0(j,S,te);g.currentOutputSnapshotRaw=j,g.currentOutputSnapshotResolved=ye,g.currentWriteId=_0(a),h.splice(h.indexOf(G),1),o=o.concat(i0(a.serverSyncTree_,g.path,ye,g.currentWriteId,g.applyLocally)),o=o.concat(Fi(a.serverSyncTree_,G,!0))}else E=!0,b="nodata",o=o.concat(Fi(a.serverSyncTree_,g.currentWriteId,!0))}ln(a.eventQueue_,i,o),o=[],E&&(t[d].status=2,(function(S){setTimeout(S,Math.floor(0))})(t[d].unwatcher),t[d].onComplete&&(b==="nodata"?r.push(()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot)):r.push(()=>t[d].onComplete(new Error(b),!1,null))))}Zo(a,a.transactionQueueTree_);for(let d=0;d<r.length;d++)aa(r[d]);Yh(a,a.transactionQueueTree_)}function v0(a,t){let i,r=a.transactionQueueTree_;for(i=oe(t);i!==null&&ra(r)===void 0;)r=Hh(r,i),t=Ne(t),i=oe(t);return r}function E0(a,t){const i=[];return b0(a,t,i),i.sort((r,o)=>r.order-o.order),i}function b0(a,t,i){const r=ra(t);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);Ko(t,o=>{b0(a,o,i)})}function Zo(a,t){const i=ra(t);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,u0(t,i.length>0?i:void 0)}Ko(t,r=>{Zo(a,r)})}function S0(a,t){const i=qr(v0(a,t)),r=Hh(a.transactionQueueTree_,t);return NA(r,o=>{kf(a,o)}),kf(a,r),h0(r,o=>{kf(a,o)}),i}function kf(a,t){const i=ra(t);if(i){const r=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(U(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(U(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Fi(a.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&r.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?u0(t,void 0):i.length=u+1,ln(a.eventQueue_,qr(t),o);for(let h=0;h<r.length;h++)aa(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(a){let t="";const i=a.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function eN(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_t(`Invalid query segment '${i}' in query '${a}'`)}return t}const ay=function(a,t){const i=tN(a),r=i.namespace;i.domain==="firebase.com"&&In(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&In("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||hC();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new bv(i.host,i.secure,r,o,t,"",r!==i.subdomain),path:new xe(i.pathString)}},tN=function(a){let t="",i="",r="",o="",u="",h=!0,d="https",g=443;if(typeof a=="string"){let p=a.indexOf("//");p>=0&&(d=a.substring(0,p-1),a=a.substring(p+2));let E=a.indexOf("/");E===-1&&(E=a.length);let b=a.indexOf("?");b===-1&&(b=a.length),t=a.substring(0,Math.min(E,b)),E<b&&(o=$A(a.substring(E,b)));const S=eN(a.substring(Math.min(a.length,b)));p=t.indexOf(":"),p>=0?(h=d==="https"||d==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const L=t.slice(0,p);if(L.toLowerCase()==="localhost")i="localhost";else if(L.split(".").length<=2)i=L;else{const j=t.indexOf(".");r=t.substring(0,j).toLowerCase(),i=t.substring(j+1),u=r}"ns"in S&&(u=S.ns)}return{host:t,port:g,domain:i,subdomain:r,secure:h,scheme:d,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t,i,r,o){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qe(this.snapshot.exportVal())}}class iN{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,i,r,o){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return re(this._path)?null:Ov(this._path)}get ref(){return new Un(this._repo,this._path)}get _queryIdentifier(){const t=G_(this._queryParams),i=vh(t);return i==="{}"?"default":i}get _queryObject(){return G_(this._queryParams)}isEqual(t){if(t=ut(t),!(t instanceof Fh))return!1;const i=this._repo===t._repo,r=Mv(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+XC(this._path)}}class Un extends Fh{constructor(t,i){super(t,i,new xh,!1)}get parent(){const t=Dv(this._path);return t===null?null:new Un(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ir{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new xe(t),r=$f(this.ref,t);return new Ir(this._node.getChild(i),r,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new Ir(o,$f(this.ref,r),Le)))}hasChild(t){const i=new xe(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ho(a,t){return a=ut(a),a._checkNotDeleted("ref"),t!==void 0?$f(a._root,t):a._root}function $f(a,t){return a=ut(a),oe(a._path)===null?kA("child","path",t):p0("child","path",t),new Un(a._repo,Ve(a._path,t))}function T0(a,t){a=ut(a),LA("set",a._path),MA("set",t,a._path);const i=new Bo;return QA(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}function ry(a){a=ut(a);const t=new sN(()=>{}),i=new Qh(t);return FA(a._repo,a,i).then(r=>new Ir(r,new Un(a._repo,a._path),a._queryParams.getIndex()))}class Qh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new nN("value",this,new Ir(t.snapshotNode,new Un(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new iN(this,t,i):null}matches(t){return t instanceof Qh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}aA(Un);uA(Un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="FIREBASE_DATABASE_EMULATOR_HOST",eh={};let rN=!1;function lN(a,t,i,r){const o=t.lastIndexOf(":"),u=t.substring(0,o),h=ea(u);a.repoInfo_=new bv(t,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(a.authTokenProvider_=r)}function oN(a,t,i,r,o){let u=r||a.options.databaseURL;u===void 0&&(a.options.projectId||In("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rt("Using default host for project ",a.options.projectId),u=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=ay(u,o),d=h.repoInfo,g;typeof process<"u"&&x_&&(g=x_[aN]),g?(u=`http://${g}?ns=${d.namespace}`,h=ay(u,o),d=h.repoInfo):h.repoInfo.secure;const p=new TC(a.name,a.options,t);UA("Invalid Firebase Database URL",h),re(h.path)||In("Database URL must point to the root of a Firebase Database (not including a child path).");const E=uN(d,a,p,new SC(a,i));return new fN(E,a)}function cN(a,t){const i=eh[t];(!i||i[a.key]!==a)&&In(`Database ${t}(${a.repoInfo_}) has already been deleted.`),XA(a),delete i[a.key]}function uN(a,t,i,r){let o=eh[t.name];o||(o={},eh[t.name]=o);let u=o[a.toURLString()];return u&&In("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new qA(a,rN,i,r),o[a.toURLString()]=u,u}class fN{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Un(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&In("Cannot call "+t+" on a deleted database.")}}function hN(a=Sy(),t){const i=oh(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=db("database");r&&dN(i,...r)}return i}function dN(a,t,i,r={}){a=ut(a),a._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&Qi(r,u.repoInfo_.emulatorOptions))return;In("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&In('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new fo(fo.OWNER);else if(r.mockUserToken){const d=typeof r.mockUserToken=="string"?r.mockUserToken:mb(r.mockUserToken,a.app.options.projectId);h=new fo(d)}ea(t)&&(py(t),gy("Database",!0)),lN(u,o,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(a){rC(na),Xs(new Ki("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return oN(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),mi(A_,N_,a),mi(A_,N_,"esm2020")}Nn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Nn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};mN();const pN={apiKey:"AIzaSyD_b9wrt2arX4Kn4lVpamW4CCvjRzh4HfQ",authDomain:"foodshare-6b9cd.firebaseapp.com",projectId:"foodshare-6b9cd",storageBucket:"foodshare-6b9cd.firebasestorage.app",messagingSenderId:"915356278039",appId:"1:915356278039:web:0bf110f0398bcc34bf2b52",databaseURL:"https://foodshare-6b9cd-default-rtdb.asia-southeast1.firebasedatabase.app",measurementId:"G-V2DB7H8229"},w0=by(pN),Ei=nC(w0),mo=hN(w0),la="/FoodShare_MINIProjuct/assets/Logo-Km2Q-M3Q.png";function gN({onFinish:a}){const[t,i]=_e.useState(!0),[r,o]=_e.useState(!1);return _e.useEffect(()=>{const u=setTimeout(()=>o(!0),1800),h=setTimeout(()=>{i(!1),a()},2e3);return()=>{clearTimeout(u),clearTimeout(h)}},[a]),t?y.jsx("div",{className:"w-full h-screen bg-[#2e2eff] font-sans text-white flex justify-center",children:y.jsxs("div",{className:`text-center mt-[250px] transition-all duration-500 ${r?"animate-slide-up-fade":""}`,children:[y.jsx("img",{src:la,alt:"Logo",className:"w-24 h-auto mx-auto mb-3"}),y.jsx("h1",{className:"text-2xl font-bold tracking-widest",children:"MA THAN"})]})}):null}const C0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMaSURBVHgBrVRdSFRBFP5m5m676UplBkU/mhWVRj9G9EOmQj30EoJFRUQQVC/RDz0EQbBBRFRQTxEEBRUWWyEJgfWi2C+oqVSi66qtf6WVrZard70z09zrdblua/XggcO9M3POd8535pwBJlnIBPtUqTTVtxoZiGIlU4tBhg8X36PVYSP+B1DLzwf8LhTPSkIR+pWjtOFN62lAG4c/8yl2m7ZKjb8B0pICrCn0opp/g2CadR5vIwWHoKlgLw0U5JahIp5aLLNH+cgpZKgW/eAmmBAqLzMHr9JkpYo3V5lyM2cVpjSIjviA1PE1iryoEjo4kaBSOY7MRsPpbizLDsF9rgzsWC+yh2ajzjUD2oFmpF0OImQX4w8hoefum3wb4TJHUdoC0bkd5xOwsP5PZGC6Xb+JRXZ6hAx4hHFWE5GtqB0LNFYO/FtozNB3GAsQVs7fJdhBDWe6jCKMbwtj45W3gWg4/DMBDGFJqW5Wfjn3zbOHfRagB9qC2OUrmGu30Ia42rTrS5cYelfC1LiYhRTBNqvfUguQMoM4WY21nFMkiduz1qMEBBUmqoxRHuEIWi2hTFhEx8k9nnQ8GG53UEaG+1NAd/f+ssApYVE9il6euYpRA4y5lDtpgDMR+cWjo2XYdejrNqnPTGu8m3s/2z6XSDARa32V5V2RmXlUpeGdM48ETqYSu2KjBJpq2N113Xtlp0ihfRG+fN+9ggs2GHWAWfYrjz+5FIpm5hHVsobqWtbRXOKohG2YD3rw+oGRnsawQQmlfKqLzp8Wra+6VLt3kRYKtLaCkrkLM7ecyXpcH9yYVfX6CLzJ7cKTvoa1HqXEDiacdWa7fYtXiR2ba4bafnDlzszRc6clkaRkNWtqdCKDEtG+IU5dQ9Q97OWVTX4tPXBqffWdq+/GWMRfJtl1dllO8p4N1T2NA5wxYU/tuPuWOtfk3CwvJf5Xa2/7gnXOy0v4fJnRdvrz/ClL5+8KDxgw9NFiTlEvxvQ0RetjyN9y48X+igprm4/LCIklNiWbClcsinoHszWdQXcN1tcWfw7ZfgQJHthJl9/L/jKeg65HLwAAAABJRU5ErkJggg==";function _N({onSignUpClick:a,onForgotPasswordClick:t,onLoginSuccess:i}){const[r,o]=_e.useState(!1),[u,h]=_e.useState(!1),[d,g]=_e.useState(""),[p,E]=_e.useState("");_e.useEffect(()=>{const q=setTimeout(()=>o(!0),100);return()=>clearTimeout(q)},[]);const b=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
      <circle cx="12" cy="12" r="3"/>
    </svg>
  `),S=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 
      a18.2 18.2 0 0 1 2.53-3.69"/>
      <path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/>
      <path d="M3 3l18 18"/>
    </svg>
  `),L=async q=>{q.preventDefault();try{const te=(await VT(Ei,d,p)).user,ye=await ry(ho(mo,"users/"+te.uid));let me={};ye.exists()&&(me=ye.val()),console.log("Login success!",te.email),i&&i({email:te.email,uid:te.uid,...me})}catch(G){console.error("Login error:",G.code,G.message),G.code==="auth/user-not-found"?alert("ไม่พบบัญชีนี้ กรุณาสมัครก่อน ❌"):G.code==="auth/wrong-password"?alert("รหัสผ่านไม่ถูกต้อง ❌"):G.code==="auth/invalid-credential"?alert("อีเมลหรือรหัสผ่านไม่ถูกต้อง ❌"):alert("เกิดข้อผิดพลาด: "+G.message)}},j=async()=>{const q=new an;try{const te=(await sv(Ei,q)).user;(await ry(ho(mo,"users/"+te.uid))).exists()||await T0(ho(mo,"users/"+te.uid),{email:te.email,name:te.displayName||"",uid:te.uid}),i&&i({email:te.email,name:te.displayName,uid:te.uid})}catch(G){console.error(G),alert(G.message)}};return y.jsxs("div",{className:"w-full bg-[#2e2eff] flex flex-col justify-start items-center pt-8",children:[y.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${r?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Log In"}),y.jsx("p",{className:"text-white text-sm",children:"Please sign in to your existing account"})]}),y.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${r?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:y.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[y.jsxs("form",{onSubmit:L,children:[y.jsxs("div",{className:"mt-6 mb-4",children:[y.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),y.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:d,onChange:q=>g(q.target.value)})]}),y.jsxs("div",{className:"mb-4 relative",children:[y.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),y.jsx("input",{type:u?"text":"password",id:"password",placeholder:"Enter your password",className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:p,onChange:q=>E(q.target.value)}),y.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${u?S:b}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>h(!u)})]}),y.jsxs("div",{className:"flex justify-between items-center mb-6 text-sm",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"remember-me",className:"form-checkbox text-[#2e2eff] rounded border-gray-300 focus:ring-[#2e2eff]"}),y.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-gray-700",children:"Remember me"})]}),y.jsx("button",{type:"button",onClick:t,className:"text-[#2e2eff] font-medium",children:"Forgot Password"})]}),y.jsx("div",{className:"flex flex-col items-center mt-16",children:y.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"LOG IN"})})]}),y.jsxs("div",{className:"relative flex items-center justify-center my-4",children:[y.jsx("span",{className:"absolute text-gray-400 bg-white px-2",children:"or"}),y.jsx("hr",{className:"w-full border-t border-gray-300"})]}),y.jsx("div",{className:"flex justify-center mt-4",children:y.jsxs("button",{onClick:j,className:"flex items-center justify-center w-[200px] py-3 bg-white text-gray-600 font-medium rounded-[4vw] border border-gray-300 shadow transition hover:bg-gray-100",children:[y.jsx("img",{src:C0,alt:"Google",className:"h-5 w-5 mr-2"}),"Google"]})}),y.jsx("div",{className:"flex justify-center mt-6 text-sm",children:y.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",y.jsx("button",{onClick:a,className:"text-[#2e2eff] font-medium",children:"SIGN UP"})]})})]})})]})}function yN({onLoginClick:a,onGoogleClick:t,onRegisterClick:i,onLoginSuccess:r}){const[o,u]=_e.useState(!1);_e.useEffect(()=>{const d=setTimeout(()=>u(!0),100);return()=>clearTimeout(d)},[]);const h=async()=>{const d=new an;try{const p=(await sv(Ei,d)).user;console.log("Google login user:",p),alert("Google Login Success!"),r&&r(p)}catch(g){console.error(g),alert(g.message)}};return y.jsxs("div",{className:"w-full h-screen bg-[#2e2eff] flex flex-col justify-between items-center px-6 py-8",children:[y.jsxs("div",{className:`flex flex-col items-center mt-12 transition-all duration-700 ease-out 
                       ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[y.jsx("img",{src:la,alt:"MA THAN Logo",className:"w-20 h-20 mb-2"}),y.jsx("div",{className:"text-white text-base font-bold",children:"MA THAN"})]}),y.jsxs("div",{className:`flex flex-col items-center w-full max-w-sm mt-[-180px] transition-all duration-700 ease-out delay-200
                       ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[y.jsx("h1",{className:"text-white text-3xl font-bold mb-2",children:"Log In"}),y.jsx("p",{className:"text-white text-center mb-6",children:"Please sign in with your student email to continue."}),y.jsx("button",{onClick:a,className:"w-[300px] h-[70px] py-3 bg-white text-[#2e2eff] rounded-[4vw] text-lg font-medium mb-4 shadow hover:bg-gray-100 transition",children:"Sign in with Email"}),y.jsxs("button",{onClick:h,className:"w-[150px] py-3 bg-white text-[#2e2eff] flex items-center justify-center rounded-[4vw] text-sm font-medium shadow hover:bg-gray-100 transition",children:[y.jsx("img",{src:C0,alt:"Google",className:"w-5 h-5 mr-2"}),"Google"]})]}),y.jsx("button",{onClick:i,className:`text-white text-sm hover:underline mb-4 transition-all duration-700 ease-out delay-400
                    ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:"Create an Account"})]})}function vN({onBackToLogin:a}){const[t,i]=_e.useState(!1),[r,o]=_e.useState(!1),[u,h]=_e.useState(!1),[d,g]=_e.useState(""),[p,E]=_e.useState(""),[b,S]=_e.useState(""),[L,j]=_e.useState(""),[q,G]=_e.useState(!1);_e.useEffect(()=>{const Te=setTimeout(()=>i(!0),100);return()=>clearTimeout(Te)},[]);const te=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none"  stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>'),ye=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 a18.2 18.2 0 0 1 2.53-3.69"/><path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/><path d="M3 3l18 18"/></svg>'),me=async Te=>{if(Te.preventDefault(),b!==L){alert("Passwords do not match!");return}try{G(!0);const et=(await qT(Ei,p,b)).user;await T0(ho(mo,"users/"+et.uid),{name:d,email:p,uid:et.uid,createdAt:new Date().toISOString()}),await Qy(Ei),setTimeout(()=>{G(!1),alert("Sign Up Success! Please login."),a()},1e3)}catch(le){console.error(le),G(!1),alert(le.message)}};return q?y.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-[#2e2eff] text-white",children:[y.jsx("div",{className:"loader border-t-4 border-b-4 border-white rounded-full w-12 h-12 animate-spin mb-4"}),y.jsx("p",{className:"text-lg font-medium",children:"Signing up, please wait..."})]}):y.jsxs("div",{className:"w-full bg-[#2e2eff] flex flex-col justify-start items-center pt-8",children:[y.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Sign Up"}),y.jsx("p",{className:"text-white text-sm",children:"Create an account to get started"})]}),y.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:y.jsx("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:y.jsxs("form",{onSubmit:me,children:[y.jsxs("div",{className:"mt-6 mb-4",children:[y.jsx("label",{htmlFor:"name",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"NAME"}),y.jsx("input",{type:"text",id:"name",placeholder:"John Doe",value:d,onChange:Te=>g(Te.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),y.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:p,onChange:Te=>E(Te.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),y.jsxs("div",{className:"mb-4 relative",children:[y.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),y.jsx("input",{type:r?"text":"password",id:"password",placeholder:"Enter your password",value:b,onChange:Te=>S(Te.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),y.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${r?ye:te}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>o(!r)})]}),y.jsxs("div",{className:"mb-6 relative",children:[y.jsx("label",{htmlFor:"retype-password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"RE-TYPE PASSWORD"}),y.jsx("input",{type:u?"text":"password",id:"retype-password",placeholder:"Re-enter your password",value:L,onChange:Te=>j(Te.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),y.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${u?ye:te}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>h(!u)})]}),y.jsxs("div",{className:"flex flex-col items-center mt-8",children:[y.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SIGN UP"}),y.jsx("button",{type:"button",onClick:a,className:"w-[250px] flex justify-center py-3 text-[#2e2eff] font-medium rounded-[4vw] border border-[#2e2eff] hover:bg-white hover:text-[#2e2eff] transition",children:"Back to Login"})]})]})})})]})}function EN({onBackToLogin:a}){const[t,i]=_e.useState(!1),[r,o]=_e.useState("");_e.useEffect(()=>{const h=setTimeout(()=>i(!0),100);return()=>clearTimeout(h)},[]);const u=async h=>{if(h.preventDefault(),!r)return alert("Please enter your email!");try{await HT(Ei,r),alert("Password reset email sent! Check your inbox."),a()}catch(d){console.error(d),alert(d.message)}};return y.jsxs("div",{className:"w-full bg-[#2e2eff] flex flex-col justify-start items-center pt-8",children:[y.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Forgot Password"}),y.jsx("p",{className:"text-white text-sm",children:"Enter your email to reset your password"})]}),y.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:y.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[y.jsxs("form",{onSubmit:u,children:[y.jsxs("div",{className:"mt-6 mb-4",children:[y.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),y.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:r,onChange:h=>o(h.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),y.jsx("div",{className:"flex flex-col items-center mt-8",children:y.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SEND RESET EMAIL"})})]}),y.jsx("div",{className:"flex justify-center mt-6 text-sm",children:y.jsx("button",{onClick:a,className:"text-[#2e2eff] font-medium",children:"Back to Login"})})]})})]})}function bN({userData:a,onLogout:t}){const i=async()=>{try{await Qy(Ei),t()}catch(r){console.error(r),alert("Logout failed: "+r.message)}};return y.jsxs("div",{className:"min-h-screen bg-[#2e2eff] flex flex-col items-center justify-start p-8",children:[y.jsxs("div",{className:"text-center mt-12 text-white",children:[y.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome, ",a.name||a.email]}),y.jsx("p",{className:"text-lg text-gray-200",children:"Your account details"})]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-10 w-full max-w-md",children:[y.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Profile Information"}),y.jsxs("div",{className:"space-y-2 text-gray-700",children:[y.jsxs("p",{children:[y.jsx("span",{className:"font-bold",children:"UID:"})," ",a.uid]}),y.jsxs("p",{children:[y.jsx("span",{className:"font-bold",children:"Name:"})," ",a.name||"-"]}),y.jsxs("p",{children:[y.jsx("span",{className:"font-bold",children:"Email:"})," ",a.email]}),y.jsxs("p",{children:[y.jsx("span",{className:"font-bold",children:"Created At:"})," ",a.createdAt||"-"]})]})]}),y.jsx("button",{onClick:i,className:"mt-10 px-6 py-3 bg-white text-[#2e2eff] font-bold rounded-lg shadow hover:bg-gray-100 transition",children:"Logout"})]})}const Jo="/FoodShare_MINIProjuct/assets/profile-CN0Wr-CP.jpg",SN="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87-Dk8nk2Qa.png",TN="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B8%99%E0%B8%A1-DDcJMfBx.png",wN="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%94%E0%B8%B7%E0%B9%88%E0%B8%A1-skj4bCgd.png",ly="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A3%E0%B8%B0%E0%B9%80%E0%B8%9E%E0%B8%A3%E0%B8%B2-CxgV-7-f.png";function CN({userData:a,onLogout:t,onGoToDashboard:i,onGoToMenu:r,onGoToNotifications:o,onGoToProfile:u,onBack:h}){return y.jsxs("div",{className:"flex flex-col h-screen bg-white",children:[y.jsxs("header",{className:"p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("img",{src:la,alt:"Logo",className:"w-10 h-10 rounded-full "}),y.jsx("span",{className:"text-xl font-bold text-white",children:"MA THAN"})]}),y.jsx("div",{className:"flex items-center space-x-4",children:y.jsx("img",{src:Jo,alt:"Profile",className:"w-10 h-10 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300",onClick:u})})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[y.jsx("div",{className:"my-4 animate-fadeIn",children:y.jsxs("h1",{className:"text-[16px] font-bold text-gray-800",children:["HEY! HELLO,"," ",y.jsx("span",{className:"text-[#2e2eff]",children:"Good Afternoon!"})]})}),y.jsxs("div",{className:"relative my-4",children:[y.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] transition-shadow duration-300 hover:shadow-md"}),y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),y.jsxs("section",{className:"my-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"All Categories"}),y.jsx("a",{href:"#",className:"text-[#2e2eff] text-sm font-semibold hover:underline transition",children:"See All >"})]}),y.jsx("div",{className:"flex justify-between space-x-4",children:[{name:"Lunch Boxes",img:SN},{name:"Snacks",img:TN},{name:"Beverages",img:wN}].map((d,g)=>y.jsxs("div",{className:"flex flex-col items-center w-1/4 cursor-pointer transform transition duration-300 shadow-md hover:scale-105 hover:shadow-lg rounded-lg",children:[y.jsx("img",{src:d.img,alt:d.name,className:"w-20 h-20 object-contain rounded-lg"}),y.jsx("span",{className:"mt-2 text-sm text-center font-medium",children:d.name})]},g))})]}),y.jsxs("section",{className:"my-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"What's Being Shared Nearby?"}),y.jsx("a",{href:"#",className:"text-[#2e2eff] text-sm font-semibold hover:underline transition",children:"See All >"})]}),y.jsxs("div",{className:"bg-gray-100 rounded-xl overflow-hidden shadow-md hover:shadow-lg transform transition duration-300 hover:-translate-y-1",children:[y.jsx("img",{src:ly,alt:"Post",className:"w-full h-48 object-cover"}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"ข้าวหมูทอด - ข้าวกล่องจากกิจกรรม"}),y.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📍 หอพักชาย - หอตาหลา - ใต้หอพัก"}),y.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📅 วันผลิต - 22/2/2222 หมดอายุ - 24/2/2222"})]})]}),y.jsxs("div",{className:"bg-gray-100 rounded-xl overflow-hidden shadow-md mt-4",children:[y.jsx("img",{src:ly,alt:"Post",className:"w-full h-48 object-cover"}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"ข้าวหมูทอด - ข้าวกล่องจากกิจกรรม"}),y.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📍 หอพักชาย - หอตาหลา - ใต้หอพัก"}),y.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📅 วันผลิต - 22/2/2222 หมดอายุ - 24/2/2222"})]})]})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:y.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300",onClick:i,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),y.jsx("nav",{className:"bg-white p-4 shadow-inner flex rounded-t-3xl transition-colors duration-300",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!0,action:()=>h("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>r()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>o()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>u()}].map((d,g)=>d.empty?y.jsx("div",{className:"w-16"},g):y.jsxs("button",{onClick:d.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${d.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{d:d.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),y.jsx("span",{className:"text-xs mt-1",children:d.name})]},g))})]})]})}const xN="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%AB%E0%B8%A1%E0%B8%B9%E0%B8%81%E0%B8%A3%E0%B8%AD%E0%B8%9A-Cfm-dgeg.png",AN="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%A1%E0%B8%B1%E0%B8%99%E0%B9%84%E0%B8%81%E0%B9%88-SFj_wRX3.png",NN="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%A5%E0%B8%A2%E0%B9%8C-srr38ati.png";function RN({onBack:a,onNavigate:t,onGoToDashboard:i,onGoToMenu:r,onLogout:o,onGoToNotifications:u,onGoToProfile:h}){const[d,g]=_e.useState("ALL"),p=[{img:xN,title:"ข้าวหมูกรอบ",category:"Lunch Boxes",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`},{img:AN,title:"ข้าวมันไก่",category:"Lunch Boxes",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`},{img:NN,title:"ขนมเลย์ถุงลมเข้า",category:"Snacks",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`}],E=["ALL","Lunch Boxes","Snacks","Beverages"];return y.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[y.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("img",{src:la,alt:"Logo",className:"w-10 h-10 rounded-full "}),y.jsx("span",{className:"text-white text-xl font-bold",children:"MA THAN"})]}),y.jsx("img",{src:Jo,alt:"Profile",className:"w-10 h-10 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300"})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[y.jsxs("button",{onClick:a,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),y.jsx("span",{className:"text-lg font-semibold",children:"Shared Food Board"})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white placeholder-gray-400 shadow transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] hover:shadow-md"}),y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),y.jsx("div",{className:"flex space-x-4 overflow-x-auto text-gray-600 mb-4",children:E.map((b,S)=>y.jsx("span",{onClick:()=>g(b),className:`whitespace-nowrap px-4 py-2 border-b-2 cursor-pointer transition-colors duration-300 ease-in-out
                ${d===b?"border-[#2e2eff] text-[#2e2eff]":"border-transparent hover:border-gray-300 hover:text-[#2e2eff]"}`,children:b},S))}),y.jsx("section",{className:"space-y-4",children:p.filter(b=>d==="ALL"||b.category===d).map((b,S)=>y.jsxs("div",{className:"flex bg-white rounded-xl shadow p-3 space-x-4 items-center transform transition duration-300 hover:scale-105 hover:shadow-lg",children:[y.jsx("img",{src:b.img,alt:b.title,className:"w-24 h-24 object-cover rounded-lg"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:b.title}),y.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a2 2 0 01-2.828 0L6.343 16.657a8 8 0 1111.314 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),y.jsx("span",{children:b.location})]}),y.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1 whitespace-pre-line",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsx("span",{children:b.date})]})]})]},S))})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:y.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300",onClick:i,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),y.jsx("nav",{className:"bg-white p-4 shadow-inner flex rounded-t-3xl transition-colors duration-300",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>a("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!0,action:()=>r()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>u()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>h()}].map((b,S)=>b.empty?y.jsx("div",{className:"w-16"},S):y.jsxs("button",{onClick:b.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${b.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{d:b.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),y.jsx("span",{className:"text-xs mt-1",children:b.name})]},S))})]})]})}function ON({onBack:a,onGoToDashboard:t,onGoToMenu:i,onGoToNotifications:r,userData:o,onGoToProfile:u}){const[h,d]=_e.useState("shares"),g={shares:[{title:"“ข้าวหมูกรอบ” has been successfully claimed.",status:"Claimed by Natcha",date:"July 29, 2025 at 12:45 PM"},{title:"“ข้าวมันไก่” has been posted and is now visible to others.",status:"Active",date:"July 29, 2025 at 11:03 AM"},{title:"“ขนมเลย์ถุงลมเข้า” was removed due to inactivity.",status:"Auto-expired",date:"July 29, 2025 at 9:41 AM"}],pickups:[{title:"Pickup: ข้าวหมูกรอบ is ready.",status:"Pending",date:"July 29, 2025 at 1:00 PM"}]};return y.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[y.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("img",{src:la,alt:"Logo",className:"w-10 h-10 rounded-full"}),y.jsx("span",{className:"text-white text-xl font-bold",children:"MA THAN"})]}),y.jsx("img",{src:Jo,alt:"Profile",className:"w-10 h-10 rounded-full"})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto p-4",children:[y.jsxs("button",{onClick:a,className:"flex items-center text-gray-700 mb-4",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),y.jsx("span",{className:"text-lg font-semibold",children:"Notifications"})]}),y.jsxs("div",{className:"relative border-b mb-4 flex",children:[y.jsx("button",{onClick:()=>d("shares"),className:`flex-1 text-center pb-2 ${h==="shares"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Shares"}),y.jsx("button",{onClick:()=>d("pickups"),className:`flex-1 text-center pb-2 ${h==="pickups"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Pickups"}),y.jsx("span",{className:"absolute bottom-0 left-0 w-1/2 h-0.5 bg-[#2e2eff] transition-transform duration-300",style:{transform:h==="shares"?"translateX(0%)":"translateX(100%)"}})]}),y.jsx("section",{className:"space-y-4",children:g[h].map((p,E)=>y.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:p.title}),y.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),y.jsx("span",{children:p.status})]}),y.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsx("span",{children:p.date})]})]},E))})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:y.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition",onClick:t,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),y.jsx("nav",{className:"bg-white p-4 shadow-inner shadow-lg flex rounded-t-3xl",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>a("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>i()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!0,action:()=>r()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>u()}].map((p,E)=>p.empty?y.jsx("div",{className:"w-16"},E):y.jsxs("button",{onClick:p.action,className:`flex-1 flex flex-col items-center ${p.active?"text-[#2e2eff]":"text-gray-400"}`,children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{d:p.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),y.jsx("span",{className:"text-xs mt-1",children:p.name})]},E))})]})]})}function IN({onBack:a,onGoToDashboard:t,onGoToMenu:i,onLogout:r,onGoToNotifications:o,userData:u}){const h={name:"Natcha J.",department:"Computer Science",email:"natcha123@university.ac.th",studentId:"65123456",phone:"081-234-5678",avatar:Jo};return y.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[y.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("img",{src:la,alt:"Logo",className:"w-10 h-10 rounded-full"}),y.jsx("span",{className:"text-white text-xl font-bold",children:"MA THAN"})]}),y.jsx("img",{src:h.avatar,alt:"Profile",className:"w-10 h-10 rounded-full"})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto p-6 flex flex-col items-center",children:[y.jsxs("button",{onClick:a,className:"flex items-center self-start text-gray-700 mb-4",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),y.jsx("span",{className:"text-lg font-semibold",children:"Profile"})]}),y.jsx("img",{src:h.avatar,alt:"User Avatar",className:"w-32 h-32 rounded-full object-cover mb-4 shadow-lg"}),y.jsxs("div",{className:"text-center space-y-2 mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-800",children:h.name}),y.jsx("p",{className:"text-gray-600",children:h.department}),y.jsxs("p",{className:"text-gray-600",children:["📧 ",h.email]}),y.jsxs("p",{className:"text-gray-600",children:["🎓 Student ID: ",h.studentId]}),y.jsxs("p",{className:"text-gray-600",children:["📱 ",h.phone]})]}),y.jsx("button",{onClick:r,className:"px-6 py-3 border border-[#2e2eff] text-[#2e2eff] rounded-xl hover:bg-[#2e2eff] hover:text-white transition",children:"Edit Profile"}),y.jsx("button",{onClick:r,className:"px-6 py-3 mt-8 bg-red-500 text-white rounded-xl hover:bg-red-600 transition",children:"Logout"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:y.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition",onClick:t,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),y.jsx("nav",{className:"bg-white p-4 shadow-inner shadow-lg flex rounded-t-3xl",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>a("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>i()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>o()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!0,action:()=>{}}].map((d,g)=>d.empty?y.jsx("div",{className:"w-16"},g):y.jsxs("button",{onClick:d.action,className:`flex-1 flex flex-col items-center ${d.active?"text-[#2e2eff]":"text-gray-400"}`,children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{d:d.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),y.jsx("span",{className:"text-xs mt-1",children:d.name})]},g))})]})]})}function DN(){const[a,t]=_e.useState("welcome"),[i,r]=_e.useState(null),[o,u]=_e.useState(!1);return _e.useEffect(()=>{const h=FT(Ei,d=>{d?(r({email:d.email,uid:d.uid}),t("home")):(r(null),t("welcome"))});return()=>h()},[]),o?a==="welcome"?y.jsx(yN,{onLoginClick:()=>t("login"),onRegisterClick:()=>t("signup")}):a==="login"?y.jsx(_N,{onLoginSuccess:h=>{r(h),t("home")},onSignUpClick:()=>t("signup"),onForgotPasswordClick:()=>t("forgot")}):a==="signup"?y.jsx(vN,{onBackToLogin:()=>t("login"),onSignUp:()=>{alert("Sign Up Success! Please log in."),t("login")}}):a==="forgot"?y.jsx(EN,{onBackToLogin:()=>t("login")}):a==="dashboard"&&i?y.jsx(bN,{userData:i,onLogout:()=>{r(null),t("login")}}):a==="home"&&i?y.jsx(CN,{userData:i,onGoToDashboard:()=>t("dashboard"),onGoToMenu:()=>t("menu"),onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onLogout:()=>{r(null),t("login")}}):a==="menu"?y.jsx(RN,{onBack:()=>t("home"),onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onLogout:()=>{r(null),t("login")}}):a==="notifications"?y.jsx(ON,{onGoToMenu:()=>t("menu"),onGoToProfile:()=>t("profile"),onBack:()=>t("home")}):a==="profile"&&i?y.jsx(IN,{userData:i,onGoToMenu:()=>t("menu"),onGoToNotifications:()=>t("notifications"),onBack:()=>t("home"),onLogout:()=>{r(null),t("login")}}):y.jsx("div",{children:"Loading..."}):y.jsx(gN,{onFinish:()=>u(!0)})}ib.createRoot(document.getElementById("root")).render(y.jsx(_e.StrictMode,{children:y.jsx(DN,{})}));
