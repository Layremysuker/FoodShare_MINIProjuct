(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const _ of m.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&a(_)}).observe(document,{childList:!0,subtree:!0});function i(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function a(c){if(c.ep)return;c.ep=!0;const m=i(c);fetch(c.href,m)}})();function A0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lm={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function _E(){if(qv)return ju;qv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,c,m){var _=null;if(m!==void 0&&(_=""+m),c.key!==void 0&&(_=""+c.key),"key"in c){m={};for(var y in c)y!=="key"&&(m[y]=c[y])}else m=c;return c=m.ref,{$$typeof:r,type:a,key:_,ref:c!==void 0?c:null,props:m}}return ju.Fragment=t,ju.jsx=i,ju.jsxs=i,ju}var Fv;function gE(){return Fv||(Fv=1,lm.exports=_E()),lm.exports}var C=gE(),um={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function vE(){if(Gv)return jt;Gv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),_=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.iterator;function D(I){return I===null||typeof I!="object"?null:(I=k&&I[k]||I["@@iterator"],typeof I=="function"?I:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,at={};function mt(I,tt,ct){this.props=I,this.context=tt,this.refs=at,this.updater=ct||nt}mt.prototype.isReactComponent={},mt.prototype.setState=function(I,tt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,tt,"setState")},mt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Nt(){}Nt.prototype=mt.prototype;function Mt(I,tt,ct){this.props=I,this.context=tt,this.refs=at,this.updater=ct||nt}var ft=Mt.prototype=new Nt;ft.constructor=Mt,et(ft,mt.prototype),ft.isPureReactComponent=!0;var xt=Array.isArray,Ct={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function V(I,tt,ct,lt,gt,yt){return ct=yt.ref,{$$typeof:r,type:I,key:tt,ref:ct!==void 0?ct:null,props:yt}}function M(I,tt){return V(I.type,tt,void 0,void 0,void 0,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function H(I){var tt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ct){return tt[ct]})}var U=/\/+/g;function q(I,tt){return typeof I=="object"&&I!==null&&I.key!=null?H(""+I.key):tt.toString(36)}function B(){}function we(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(B,B):(I.status="pending",I.then(function(tt){I.status==="pending"&&(I.status="fulfilled",I.value=tt)},function(tt){I.status==="pending"&&(I.status="rejected",I.reason=tt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Oe(I,tt,ct,lt,gt){var yt=typeof I;(yt==="undefined"||yt==="boolean")&&(I=null);var _t=!1;if(I===null)_t=!0;else switch(yt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(I.$$typeof){case r:case t:_t=!0;break;case R:return _t=I._init,Oe(_t(I._payload),tt,ct,lt,gt)}}if(_t)return gt=gt(I),_t=lt===""?"."+q(I,0):lt,xt(gt)?(ct="",_t!=null&&(ct=_t.replace(U,"$&/")+"/"),Oe(gt,tt,ct,"",function(ii){return ii})):gt!=null&&(O(gt)&&(gt=M(gt,ct+(gt.key==null||I&&I.key===gt.key?"":(""+gt.key).replace(U,"$&/")+"/")+_t)),tt.push(gt)),1;_t=0;var pe=lt===""?".":lt+":";if(xt(I))for(var Qt=0;Qt<I.length;Qt++)lt=I[Qt],yt=pe+q(lt,Qt),_t+=Oe(lt,tt,ct,yt,gt);else if(Qt=D(I),typeof Qt=="function")for(I=Qt.call(I),Qt=0;!(lt=I.next()).done;)lt=lt.value,yt=pe+q(lt,Qt++),_t+=Oe(lt,tt,ct,yt,gt);else if(yt==="object"){if(typeof I.then=="function")return Oe(we(I),tt,ct,lt,gt);throw tt=String(I),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return _t}function $(I,tt,ct){if(I==null)return I;var lt=[],gt=0;return Oe(I,lt,"","",function(yt){return tt.call(ct,yt,gt++)}),lt}function pt(I){if(I._status===-1){var tt=I._result;tt=tt(),tt.then(function(ct){(I._status===0||I._status===-1)&&(I._status=1,I._result=ct)},function(ct){(I._status===0||I._status===-1)&&(I._status=2,I._result=ct)}),I._status===-1&&(I._status=0,I._result=tt)}if(I._status===1)return I._result.default;throw I._result}var ut=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Jt(){}return jt.Children={map:$,forEach:function(I,tt,ct){$(I,function(){tt.apply(this,arguments)},ct)},count:function(I){var tt=0;return $(I,function(){tt++}),tt},toArray:function(I){return $(I,function(tt){return tt})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},jt.Component=mt,jt.Fragment=i,jt.Profiler=c,jt.PureComponent=Mt,jt.StrictMode=a,jt.Suspense=b,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ct,jt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Ct.H.useMemoCache(I)}},jt.cache=function(I){return function(){return I.apply(null,arguments)}},jt.cloneElement=function(I,tt,ct){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var lt=et({},I.props),gt=I.key,yt=void 0;if(tt!=null)for(_t in tt.ref!==void 0&&(yt=void 0),tt.key!==void 0&&(gt=""+tt.key),tt)!Vt.call(tt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&tt.ref===void 0||(lt[_t]=tt[_t]);var _t=arguments.length-2;if(_t===1)lt.children=ct;else if(1<_t){for(var pe=Array(_t),Qt=0;Qt<_t;Qt++)pe[Qt]=arguments[Qt+2];lt.children=pe}return V(I.type,gt,void 0,void 0,yt,lt)},jt.createContext=function(I){return I={$$typeof:_,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:m,_context:I},I},jt.createElement=function(I,tt,ct){var lt,gt={},yt=null;if(tt!=null)for(lt in tt.key!==void 0&&(yt=""+tt.key),tt)Vt.call(tt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(gt[lt]=tt[lt]);var _t=arguments.length-2;if(_t===1)gt.children=ct;else if(1<_t){for(var pe=Array(_t),Qt=0;Qt<_t;Qt++)pe[Qt]=arguments[Qt+2];gt.children=pe}if(I&&I.defaultProps)for(lt in _t=I.defaultProps,_t)gt[lt]===void 0&&(gt[lt]=_t[lt]);return V(I,yt,void 0,void 0,null,gt)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(I){return{$$typeof:y,render:I}},jt.isValidElement=O,jt.lazy=function(I){return{$$typeof:R,_payload:{_status:-1,_result:I},_init:pt}},jt.memo=function(I,tt){return{$$typeof:T,type:I,compare:tt===void 0?null:tt}},jt.startTransition=function(I){var tt=Ct.T,ct={};Ct.T=ct;try{var lt=I(),gt=Ct.S;gt!==null&&gt(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Jt,ut)}catch(yt){ut(yt)}finally{Ct.T=tt}},jt.unstable_useCacheRefresh=function(){return Ct.H.useCacheRefresh()},jt.use=function(I){return Ct.H.use(I)},jt.useActionState=function(I,tt,ct){return Ct.H.useActionState(I,tt,ct)},jt.useCallback=function(I,tt){return Ct.H.useCallback(I,tt)},jt.useContext=function(I){return Ct.H.useContext(I)},jt.useDebugValue=function(){},jt.useDeferredValue=function(I,tt){return Ct.H.useDeferredValue(I,tt)},jt.useEffect=function(I,tt,ct){var lt=Ct.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(I,tt)},jt.useId=function(){return Ct.H.useId()},jt.useImperativeHandle=function(I,tt,ct){return Ct.H.useImperativeHandle(I,tt,ct)},jt.useInsertionEffect=function(I,tt){return Ct.H.useInsertionEffect(I,tt)},jt.useLayoutEffect=function(I,tt){return Ct.H.useLayoutEffect(I,tt)},jt.useMemo=function(I,tt){return Ct.H.useMemo(I,tt)},jt.useOptimistic=function(I,tt){return Ct.H.useOptimistic(I,tt)},jt.useReducer=function(I,tt,ct){return Ct.H.useReducer(I,tt,ct)},jt.useRef=function(I){return Ct.H.useRef(I)},jt.useState=function(I){return Ct.H.useState(I)},jt.useSyncExternalStore=function(I,tt,ct){return Ct.H.useSyncExternalStore(I,tt,ct)},jt.useTransition=function(){return Ct.H.useTransition()},jt.version="19.1.1",jt}var Zv;function $m(){return Zv||(Zv=1,um.exports=vE()),um.exports}var bt=$m();const Im=A0(bt);var cm={exports:{}},Hu={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function yE(){return Yv||(Yv=1,(function(r){function t($,pt){var ut=$.length;$.push(pt);t:for(;0<ut;){var Jt=ut-1>>>1,I=$[Jt];if(0<c(I,pt))$[Jt]=pt,$[ut]=I,ut=Jt;else break t}}function i($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var pt=$[0],ut=$.pop();if(ut!==pt){$[0]=ut;t:for(var Jt=0,I=$.length,tt=I>>>1;Jt<tt;){var ct=2*(Jt+1)-1,lt=$[ct],gt=ct+1,yt=$[gt];if(0>c(lt,ut))gt<I&&0>c(yt,lt)?($[Jt]=yt,$[gt]=ut,Jt=gt):($[Jt]=lt,$[ct]=ut,Jt=ct);else if(gt<I&&0>c(yt,ut))$[Jt]=yt,$[gt]=ut,Jt=gt;else break t}}return pt}function c($,pt){var ut=$.sortIndex-pt.sortIndex;return ut!==0?ut:$.id-pt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;r.unstable_now=function(){return m.now()}}else{var _=Date,y=_.now();r.unstable_now=function(){return _.now()-y}}var b=[],T=[],R=1,k=null,D=3,nt=!1,et=!1,at=!1,mt=!1,Nt=typeof setTimeout=="function"?setTimeout:null,Mt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function xt($){for(var pt=i(T);pt!==null;){if(pt.callback===null)a(T);else if(pt.startTime<=$)a(T),pt.sortIndex=pt.expirationTime,t(b,pt);else break;pt=i(T)}}function Ct($){if(at=!1,xt($),!et)if(i(b)!==null)et=!0,Vt||(Vt=!0,q());else{var pt=i(T);pt!==null&&Oe(Ct,pt.startTime-$)}}var Vt=!1,V=-1,M=5,O=-1;function H(){return mt?!0:!(r.unstable_now()-O<M)}function U(){if(mt=!1,Vt){var $=r.unstable_now();O=$;var pt=!0;try{t:{et=!1,at&&(at=!1,Mt(V),V=-1),nt=!0;var ut=D;try{e:{for(xt($),k=i(b);k!==null&&!(k.expirationTime>$&&H());){var Jt=k.callback;if(typeof Jt=="function"){k.callback=null,D=k.priorityLevel;var I=Jt(k.expirationTime<=$);if($=r.unstable_now(),typeof I=="function"){k.callback=I,xt($),pt=!0;break e}k===i(b)&&a(b),xt($)}else a(b);k=i(b)}if(k!==null)pt=!0;else{var tt=i(T);tt!==null&&Oe(Ct,tt.startTime-$),pt=!1}}break t}finally{k=null,D=ut,nt=!1}pt=void 0}}finally{pt?q():Vt=!1}}}var q;if(typeof ft=="function")q=function(){ft(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,we=B.port2;B.port1.onmessage=U,q=function(){we.postMessage(null)}}else q=function(){Nt(U,0)};function Oe($,pt){V=Nt(function(){$(r.unstable_now())},pt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function($){switch(D){case 1:case 2:case 3:var pt=3;break;default:pt=D}var ut=D;D=pt;try{return $()}finally{D=ut}},r.unstable_requestPaint=function(){mt=!0},r.unstable_runWithPriority=function($,pt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ut=D;D=$;try{return pt()}finally{D=ut}},r.unstable_scheduleCallback=function($,pt,ut){var Jt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Jt+ut:Jt):ut=Jt,$){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ut+I,$={id:R++,callback:pt,priorityLevel:$,startTime:ut,expirationTime:I,sortIndex:-1},ut>Jt?($.sortIndex=ut,t(T,$),i(b)===null&&$===i(T)&&(at?(Mt(V),V=-1):at=!0,Oe(Ct,ut-Jt))):($.sortIndex=I,t(b,$),et||nt||(et=!0,Vt||(Vt=!0,q()))),$},r.unstable_shouldYield=H,r.unstable_wrapCallback=function($){var pt=D;return function(){var ut=D;D=pt;try{return $.apply(this,arguments)}finally{D=ut}}}})(fm)),fm}var Wv;function wE(){return Wv||(Wv=1,hm.exports=yE()),hm.exports}var dm={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function bE(){if(Kv)return On;Kv=1;var r=$m();function t(b){var T="https://react.dev/errors/"+b;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)T+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+b+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function m(b,T,R){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:k==null?null:""+k,children:b,containerInfo:T,implementation:R}}var _=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,T){if(b==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,On.createPortal=function(b,T){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return m(b,T,null,R)},On.flushSync=function(b){var T=_.T,R=a.p;try{if(_.T=null,a.p=2,b)return b()}finally{_.T=T,a.p=R,a.d.f()}},On.preconnect=function(b,T){typeof b=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,a.d.C(b,T))},On.prefetchDNS=function(b){typeof b=="string"&&a.d.D(b)},On.preinit=function(b,T){if(typeof b=="string"&&T&&typeof T.as=="string"){var R=T.as,k=y(R,T.crossOrigin),D=typeof T.integrity=="string"?T.integrity:void 0,nt=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;R==="style"?a.d.S(b,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:k,integrity:D,fetchPriority:nt}):R==="script"&&a.d.X(b,{crossOrigin:k,integrity:D,fetchPriority:nt,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},On.preinitModule=function(b,T){if(typeof b=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var R=y(T.as,T.crossOrigin);a.d.M(b,{crossOrigin:R,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&a.d.M(b)},On.preload=function(b,T){if(typeof b=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var R=T.as,k=y(R,T.crossOrigin);a.d.L(b,R,{crossOrigin:k,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},On.preloadModule=function(b,T){if(typeof b=="string")if(T){var R=y(T.as,T.crossOrigin);a.d.m(b,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:R,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else a.d.m(b)},On.requestFormReset=function(b){a.d.r(b)},On.unstable_batchedUpdates=function(b,T){return b(T)},On.useFormState=function(b,T,R){return _.H.useFormState(b,T,R)},On.useFormStatus=function(){return _.H.useHostTransitionStatus()},On.version="19.1.1",On}var Xv;function N0(){if(Xv)return dm.exports;Xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dm.exports=bE(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function EE(){if(Qv)return Hu;Qv=1;var r=wE(),t=$m(),i=N0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function _(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(m(e)!==e)throw Error(a(188))}function b(e){var n=e.alternate;if(!n){if(n=m(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,u=n;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return y(d),e;if(p===u)return y(d),n;p=p.sibling}throw Error(a(188))}if(o.return!==u.return)o=d,u=p;else{for(var S=!1,A=d.child;A;){if(A===o){S=!0,o=d,u=p;break}if(A===u){S=!0,u=d,o=p;break}A=A.sibling}if(!S){for(A=p.child;A;){if(A===o){S=!0,o=p,u=d;break}if(A===u){S=!0,u=p,o=d;break}A=A.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,k=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Nt=Symbol.for("react.provider"),Mt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var B=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===B?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case mt:return"Profiler";case at:return"StrictMode";case Ct:return"Suspense";case Vt:return"SuspenseList";case O:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case nt:return"Portal";case ft:return(e.displayName||"Context")+".Provider";case Mt:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:we(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return we(e(n))}catch{}}return null}var Oe=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Jt=[],I=-1;function tt(e){return{current:e}}function ct(e){0>I||(e.current=Jt[I],Jt[I]=null,I--)}function lt(e,n){I++,Jt[I]=e.current,e.current=n}var gt=tt(null),yt=tt(null),_t=tt(null),pe=tt(null);function Qt(e,n){switch(lt(_t,n),lt(yt,e),lt(gt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?gv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=gv(n),e=vv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(gt),lt(gt,e)}function ii(){ct(gt),ct(yt),ct(_t)}function Si(e){e.memoizedState!==null&&lt(pe,e);var n=gt.current,o=vv(n,e.type);n!==o&&(lt(yt,e),lt(gt,o))}function si(e){yt.current===e&&(ct(gt),ct(yt)),pe.current===e&&(ct(pe),Du._currentValue=ut)}var ri=Object.prototype.hasOwnProperty,qi=r.unstable_scheduleCallback,qs=r.unstable_cancelCallback,Lr=r.unstable_shouldYield,Vo=r.unstable_requestPaint,Tn=r.unstable_now,kr=r.unstable_getCurrentPriorityLevel,qo=r.unstable_ImmediatePriority,Fs=r.unstable_UserBlockingPriority,Fi=r.unstable_NormalPriority,Ga=r.unstable_LowPriority,Gs=r.unstable_IdlePriority,Fo=r.log,Za=r.unstable_setDisableYieldValue,Te=null,se=null;function Sn(e){if(typeof Fo=="function"&&Za(e),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(Te,e)}catch{}}var sn=Math.clz32?Math.clz32:Zs,Go=Math.log,Ya=Math.LN2;function Zs(e){return e>>>=0,e===0?32:31-(Go(e)/Ya|0)|0}var _s=256,Gi=4194304;function Gn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dr(e,n,o){var u=e.pendingLanes;if(u===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?d=Gn(u):(S&=A,S!==0?d=Gn(S):o||(o=A&~e,o!==0&&(d=Gn(o))))):(A=u&~p,A!==0?d=Gn(A):S!==0?d=Gn(S):o||(o=u&~e,o!==0&&(d=Gn(o)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,o=n&-n,p>=o||p===32&&(o&4194048)!==0)?n:d}function oi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Zo(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yo(){var e=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),e}function Wo(){var e=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),e}function xi(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Ci(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ko(e,n,o,u,d,p){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var A=e.entanglements,z=e.expirationTimes,W=e.hiddenUpdates;for(o=S&~o;0<o;){var it=31-sn(o),rt=1<<it;A[it]=0,z[it]=-1;var K=W[it];if(K!==null)for(W[it]=null,it=0;it<K.length;it++){var X=K[it];X!==null&&(X.lane&=-536870913)}o&=~rt}u!==0&&Zi(e,u,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function Zi(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-sn(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|o&4194090}function Xo(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var u=31-sn(o),d=1<<u;d&n|e[u]&n&&(e[u]|=n),o&=~d}}function Ys(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gs(){var e=pt.p;return e!==0?e:(e=window.event,e===void 0?32:zv(e.type))}function zr(e,n){var o=pt.p;try{return pt.p=e,n()}finally{pt.p=o}}var Se=Math.random().toString(36).slice(2),He="__reactFiber$"+Se,Be="__reactProps$"+Se,Zn="__reactContainer$"+Se,xn="__reactEvents$"+Se,St="__reactListeners$"+Se,Yi="__reactHandles$"+Se,Qo="__reactResources$"+Se,vs="__reactMarker$"+Se;function ys(e){delete e[He],delete e[Be],delete e[xn],delete e[St],delete e[Yi]}function Ai(e){var n=e[He];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Zn]||o[He]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Ev(e);e!==null;){if(o=e[He])return o;e=Ev(e)}return n}e=o,o=e.parentNode}return null}function ai(e){if(e=e[He]||e[Zn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function rn(e){var n=e[Qo];return n||(n=e[Qo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(e){e[vs]=!0}var Jo=new Set,Br={};function li(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(Br[e]=n,e=0;e<n.length;e++)Jo.add(n[e])}var Wa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ws={},Ks={};function Ka(e){return ri.call(Ks,e)?!0:ri.call(Ws,e)?!1:Wa.test(e)?Ks[e]=!0:(Ws[e]=!0,!1)}function ws(e,n,o){if(Ka(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Ri(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Qe(e,n,o,u){if(u===null)e.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+u)}}var Wi,bs;function Ii(e){if(Wi===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Wi=n&&n[1]||"",bs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+e+bs}var Xs=!1;function Mi(e,n){if(!e||Xs)return"";Xs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(X){var K=X}Reflect.construct(e,[],rt)}else{try{rt.call()}catch(X){K=X}e.call(rt.prototype)}}else{try{throw Error()}catch(X){K=X}(rt=e())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],A=p[1];if(S&&A){var z=S.split(`
`),W=A.split(`
`);for(d=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===z.length||d===W.length)for(u=z.length-1,d=W.length-1;1<=u&&0<=d&&z[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(z[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||z[u]!==W[d]){var it=`
`+z[u].replace(" at new "," at ");return e.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",e.displayName)),it}while(1<=u&&0<=d);break}}}finally{Xs=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Ii(o):""}function qt(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Mi(e.type,!1);case 11:return Mi(e.type.render,!1);case 1:return Mi(e.type,!0);case 31:return Ii("Activity");default:return""}}function ce(e){try{var n="";do n+=qt(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Es(e){var n=Oi(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ts(e){e._valueTracker||(e._valueTracker=Es(e))}function Bt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return e&&(u=Oi(e)?e.checked?"true":"false":e.value),e=u,e!==o?(n.setValue(e),!0):!1}function fe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $o=/[\n"\\]/g;function Ie(e){return e.replace($o,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xe(e,n,o,u,d,p,S,A){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ge(n)):e.value!==""+Ge(n)&&(e.value=""+Ge(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?ui(e,S,Ge(n)):o!=null?ui(e,S,Ge(o)):u!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Ge(A):e.removeAttribute("name")}function Qs(e,n,o,u,d,p,S,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||n!=null))return;o=o!=null?""+Ge(o):"",n=n!=null?""+Ge(n):o,A||n===e.value||(e.value=n),e.defaultValue=n}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=A?e.checked:!!u,e.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function ui(e,n,o){n==="number"&&fe(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function gn(e,n,o,u){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&u&&(e[o].defaultSelected=!0)}else{for(o=""+Ge(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,u&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Lt(e,n,o){if(n!=null&&(n=""+Ge(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Ge(o):""}function kn(e,n,o,u){if(n==null){if(u!=null){if(o!=null)throw Error(a(92));if(Oe(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),n=o}o=Ge(n),e.defaultValue=o,u=e.textContent,u===o&&u!==""&&u!==null&&(e.value=u)}function on(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var ci=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ur(e,n,o){var u=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,o):typeof o!="number"||o===0||ci.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Ki(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var d in n)u=n[d],n.hasOwnProperty(d)&&o[d]!==u&&Ur(e,d,u)}else for(var p in n)n.hasOwnProperty(p)&&Ur(e,p,n[p])}function Js(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(e){return jr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var hi=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Li=null,fi=null;function ea(e){var n=ai(e);if(n&&(e=n.stateNode)){var o=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(xe(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ie(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==e&&u.form===e.form){var d=u[Be]||null;if(!d)throw Error(a(90));xe(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)u=o[n],u.form===e.form&&Bt(u)}break t;case"textarea":Lt(e,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&gn(e,!!o.multiple,n,!1)}}}var Rt=!1;function Dn(e,n,o){if(Rt)return e(n,o);Rt=!0;try{var u=e(n);return u}finally{if(Rt=!1,(Li!==null||fi!==null)&&(fh(),Li&&(n=Li,e=fi,fi=Li=null,ea(n),e)))for(n=0;n<e.length;n++)ea(e[n])}}function $t(e,n){var o=e.stateNode;if(o===null)return null;var u=o[Be]||null;if(u===null)return null;o=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Yn)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Cn=!1}var Wn=null,An=null,di=null;function Qi(){if(di)return di;var e,n=An,o=n.length,u,d="value"in Wn?Wn.value:Wn.textContent,p=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(u=1;u<=S&&n[o-u]===d[p-u];u++);return di=d.slice(e,1<u?1-u:void 0)}function _e(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function an(){return!0}function Hr(){return!1}function Ve(e){function n(o,u,d,p,S){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(o=e[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?an:Hr,this.isPropagationStopped=Hr,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),n}var le={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Ve(le),Ji=R({},le,{view:0,detail:0}),Xa=Ve(Ji),tr,Ut,ki,Je=R({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(tr=e.screenX-ki.screenX,Ut=e.screenY-ki.screenY):Ut=tr=0,ki=e),tr)},movementY:function(e){return"movementY"in e?e.movementY:Ut}}),ln=Ve(Je),na=R({},Je,{dataTransfer:0}),Jl=Ve(na),$i=R({},Ji,{relatedTarget:0}),Vr=Ve($i),qr=R({},le,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=Ve(qr),Qa=R({},le,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xs=Ve(Qa),$l=R({},le,{data:0}),Nn=Ve($l),er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ia={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gr(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mi[e])?!!n[e]:!1}function Cs(){return Gr}var Zr=R({},Ji,{key:function(e){if(e.key){var n=er[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_e(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ia[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?_e(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_e(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yr=Ve(Zr),sa=R({},Je,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wr=Ve(sa),ts=R({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Ja=Ve(ts),Kr=R({},le,{propertyName:0,elapsedTime:0,pseudoElement:0}),$a=Ve(Kr),ra=R({},Je,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yn=Ve(ra),nr=R({},le,{newState:0,oldState:0}),Di=Ve(nr),As=[9,13,27,32],h=Yn&&"CompositionEvent"in window,v=null;Yn&&"documentMode"in document&&(v=document.documentMode);var E=Yn&&"TextEvent"in window&&!v,N=Yn&&(!h||v&&8<v&&11>=v),Z=" ",J=!1;function ht(e,n){switch(e){case"keyup":return As.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ce=!1;function Zt(e,n){switch(e){case"compositionend":return re(n);case"keypress":return n.which!==32?null:(J=!0,Z);case"textInput":return e=n.data,e===Z&&J?null:e;default:return null}}function Ze(e,n){if(Ce)return e==="compositionend"||!h&&ht(e,n)?(e=Qi(),di=An=Wn=null,Ce=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return N&&n.locale!=="ko"?null:n.data;default:return null}}var he={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!he[e.type]:n==="textarea"}function In(e,n,o,u){Li?fi?fi.push(u):fi=[u]:Li=u,n=vh(n,"onChange"),0<n.length&&(o=new $s("onChange","change",null,o,u),e.push({event:o,listeners:n}))}var Ye=null,es=null;function Xr(e){fv(e,0)}function tl(e){var n=_n(e);if(Bt(n))return e}function Qr(e,n){if(e==="change")return n}var tu=!1;if(Yn){var Jr;if(Yn){var eu="oninput"in document;if(!eu){var ns=document.createElement("div");ns.setAttribute("oninput","return;"),eu=typeof ns.oninput=="function"}Jr=eu}else Jr=!1;tu=Jr&&(!document.documentMode||9<document.documentMode)}function oa(){Ye&&(Ye.detachEvent("onpropertychange",Mc),es=Ye=null)}function Mc(e){if(e.propertyName==="value"&&tl(es)){var n=[];In(n,es,e,vn(e)),Dn(Xr,n)}}function nu(e,n,o){e==="focusin"?(oa(),Ye=n,es=o,Ye.attachEvent("onpropertychange",Mc)):e==="focusout"&&oa()}function Of(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(es)}function is(e,n){if(e==="click")return tl(n)}function Lf(e,n){if(e==="input"||e==="change")return tl(n)}function $r(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pn=typeof Object.is=="function"?Object.is:$r;function zn(e,n){if(Pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!ri.call(n,d)||!Pn(e[d],n[d]))return!1}return!0}function aa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iu(e,n){var o=aa(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=n&&u>=n)return{node:o,offset:n-e};e=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=aa(o)}}function el(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?el(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function la(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fe(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=fe(e.document)}return n}function ua(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var nl=Yn&&"documentMode"in document&&11>=document.documentMode,pi=null,to=null,ir=null,il=!1;function Oc(e,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;il||pi==null||pi!==fe(u)||(u=pi,"selectionStart"in u&&ua(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ir&&zn(ir,u)||(ir=u,u=vh(to,"onSelect"),0<u.length&&(n=new $s("onSelect","select",null,n,o),e.push({event:n,listeners:u}),n.target=pi)))}function Pi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var eo={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},sl={},Lc={};Yn&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Ns(e){if(sl[e])return sl[e];if(!eo[e])return e;var n=eo[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Lc)return sl[e]=n[o];return e}var kc=Ns("animationend"),_i=Ns("animationiteration"),ca=Ns("animationstart"),kf=Ns("transitionrun"),rl=Ns("transitionstart"),Df=Ns("transitioncancel"),su=Ns("transitionend"),Dc=new Map,sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sr.push("scrollEnd");function gi(e,n){Dc.set(e,n),li(n,[e])}var rr=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var o=rr.get(e);return o!==void 0?o:(n={value:e,source:n,stack:ce(n)},rr.set(e,n),n)}return{value:e,source:n,stack:ce(n)}}var Un=[],no=0,vi=0;function ha(){for(var e=no,n=vi=no=0;n<e;){var o=Un[n];Un[n++]=null;var u=Un[n];Un[n++]=null;var d=Un[n];Un[n++]=null;var p=Un[n];if(Un[n++]=null,u!==null&&d!==null){var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}p!==0&&da(o,d,p)}}function fa(e,n,o,u){Un[no++]=e,Un[no++]=n,Un[no++]=o,Un[no++]=u,vi|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function or(e,n,o,u){return fa(e,n,o,u),Rs(e)}function io(e,n){return fa(e,null,null,n),Rs(e)}function da(e,n,o){e.lanes|=o;var u=e.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=e.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&n!==null&&(d=31-sn(o),e=p.hiddenUpdates,u=e[d],u===null?e[d]=[n]:u.push(n),n.lane=o|536870912),p):null}function Rs(e){if(50<Au)throw Au=0,Od=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ar={};function Pc(e,n,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,n,o,u){return new Pc(e,n,o,u)}function ol(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var o=e.alternate;return o===null?(o=jn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function ru(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ma(e,n,o,u,d,p){var S=0;if(u=e,typeof e=="function")ol(e)&&(S=1);else if(typeof e=="string")S=iE(e,o,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case O:return e=jn(31,o,n,d),e.elementType=O,e.lanes=p,e;case et:return Is(o.children,d,p,n);case at:S=8,d|=24;break;case mt:return e=jn(12,o,n,d|2),e.elementType=mt,e.lanes=p,e;case Ct:return e=jn(13,o,n,d),e.elementType=Ct,e.lanes=p,e;case Vt:return e=jn(19,o,n,d),e.elementType=Vt,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nt:case ft:S=10;break t;case Mt:S=9;break t;case xt:S=11;break t;case V:S=14;break t;case M:S=16,u=null;break t}S=29,o=Error(a(130,e===null?"null":typeof e,"")),u=null}return n=jn(S,o,n,d),n.elementType=e,n.type=u,n.lanes=p,n}function Is(e,n,o,u){return e=jn(7,e,u,n),e.lanes=o,e}function ou(e,n,o){return e=jn(6,e,null,n),e.lanes=o,e}function al(e,n,o){return n=jn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var lr=[],so=0,s=null,l=0,f=[],g=0,w=null,x=1,P="";function G(e,n){lr[so++]=l,lr[so++]=s,s=e,l=n}function Q(e,n,o){f[g++]=x,f[g++]=P,f[g++]=w,w=e;var u=x;e=P;var d=32-sn(u)-1;u&=~(1<<d),o+=1;var p=32-sn(n)+d;if(30<p){var S=d-d%5;p=(u&(1<<S)-1).toString(32),u>>=S,d-=S,x=1<<32-sn(n)+d|o<<d|u,P=p+e}else x=1<<p|o<<d|u,P=e}function ot(e){e.return!==null&&(G(e,1),Q(e,1,0))}function vt(e){for(;e===s;)s=lr[--so],lr[so]=null,l=lr[--so],lr[so]=null;for(;e===w;)w=f[--g],f[g]=null,P=f[--g],f[g]=null,x=f[--g],f[g]=null}var wt=null,Tt=null,zt=!1,Ae=null,Pe=!1,un=Error(a(519));function Kn(e){var n=Error(a(418,""));throw oo(Bn(n,e)),un}function zc(e){var n=e.stateNode,o=e.type,u=e.memoizedProps;switch(n[He]=e,n[Be]=u,o){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(o=0;o<Ru.length;o++)Wt(Ru[o],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":Wt("invalid",n),Qs(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ts(n);break;case"select":Wt("invalid",n);break;case"textarea":Wt("invalid",n),kn(n,u.value,u.defaultValue,u.children),Ts(n)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||u.suppressHydrationWarning===!0||_v(n.textContent,o)?(u.popover!=null&&(Wt("beforetoggle",n),Wt("toggle",n)),u.onScroll!=null&&Wt("scroll",n),u.onScrollEnd!=null&&Wt("scrollend",n),u.onClick!=null&&(n.onclick=yh),n=!0):n=!1,n||Kn(e)}function Bc(e){for(wt=e.return;wt;)switch(wt.tag){case 5:case 13:Pe=!1;return;case 27:case 3:Pe=!0;return;default:wt=wt.return}}function pa(e){if(e!==wt)return!1;if(!zt)return Bc(e),zt=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Wd(e.type,e.memoizedProps)),o=!o),o&&Tt&&Kn(e),Bc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){Tt=as(e.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}Tt=null}}else n===27?(n=Tt,Eo(e.type)?(e=Jd,Jd=null,Tt=e):Tt=n):Tt=wt?as(e.stateNode.nextSibling):null;return!0}function ro(){Tt=wt=null,zt=!1}function Uc(){var e=Ae;return e!==null&&(Jn===null?Jn=e:Jn.push.apply(Jn,e),Ae=null),e}function oo(e){Ae===null?Ae=[e]:Ae.push(e)}var Le=tt(null),Bi=null,ss=null;function Ms(e,n,o){lt(Le,n._currentValue),n._currentValue=o}function rs(e){e._currentValue=Le.current,ct(Le)}function _a(e,n,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===o)break;e=e.return}}function ll(e,n,o,u){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=d;for(var z=0;z<n.length;z++)if(A.context===n[z]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),_a(p.return,o,e),u||(S=null);break t}p=A.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),_a(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function ga(e,n,o,u){e=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var A=d.type;Pn(d.pendingProps.value,S.value)||(e!==null?e.push(A):e=[A])}}else if(d===pe.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Du):e=[Du])}d=d.return}e!==null&&ll(n,e,o,u),n.flags|=262144}function jc(e){for(e=e.firstContext;e!==null;){if(!Pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){Bi=e,ss=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Mn(e){return n_(Bi,e)}function Hc(e,n){return Bi===null&&va(e),n_(e,n)}function n_(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},ss===null){if(e===null)throw Error(a(308));ss=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ss=ss.next=n;return o}var nb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},ib=r.unstable_scheduleCallback,sb=r.unstable_NormalPriority,$e={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new nb,data:new Map,refCount:0}}function au(e){e.refCount--,e.refCount===0&&ib(sb,function(){e.controller.abort()})}var lu=null,zf=0,ul=0,cl=null;function rb(e,n){if(lu===null){var o=lu=[];zf=0,ul=Ud(),cl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return zf++,n.then(i_,i_),n}function i_(){if(--zf===0&&lu!==null){cl!==null&&(cl.status="fulfilled");var e=lu;lu=null,ul=0,cl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ob(e,n){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var s_=$.S;$.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&rb(e,n),s_!==null&&s_(e,n)};var ya=tt(null);function Bf(){var e=ya.current;return e!==null?e:Ne.pooledCache}function Vc(e,n){n===null?lt(ya,ya.current):lt(ya,n.pool)}function r_(){var e=Bf();return e===null?null:{parent:$e._currentValue,pool:e}}var uu=Error(a(460)),o_=Error(a(474)),qc=Error(a(542)),Uf={then:function(){}};function a_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fc(){}function l_(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Fc,Fc),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,c_(e),e;default:if(typeof n.status=="string")n.then(Fc,Fc);else{if(e=Ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=u}},function(u){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,c_(e),e}throw cu=n,uu}}var cu=null;function u_(){if(cu===null)throw Error(a(459));var e=cu;return cu=null,e}function c_(e){if(e===uu||e===qc)throw Error(a(483))}var ao=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function lo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function uo(e,n,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(de&2)!==0){var d=u.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),u.pending=n,n=Rs(e),da(e,null,o),n}return fa(e,u,n,o),Rs(e)}function hu(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,Xo(e,o)}}function Vf(e,n){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?d=p=n:p=p.next=n}else d=p=n;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var qf=!1;function fu(){if(qf){var e=cl;if(e!==null)throw e}}function du(e,n,o,u){qf=!1;var d=e.updateQueue;ao=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var z=A,W=z.next;z.next=null,S===null?p=W:S.next=W,S=z;var it=e.alternate;it!==null&&(it=it.updateQueue,A=it.lastBaseUpdate,A!==S&&(A===null?it.firstBaseUpdate=W:A.next=W,it.lastBaseUpdate=z))}if(p!==null){var rt=d.baseState;S=0,it=W=z=null,A=p;do{var K=A.lane&-536870913,X=K!==A.lane;if(X?(te&K)===K:(u&K)===K){K!==0&&K===ul&&(qf=!0),it!==null&&(it=it.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Pt=e,It=A;K=n;var ye=o;switch(It.tag){case 1:if(Pt=It.payload,typeof Pt=="function"){rt=Pt.call(ye,rt,K);break t}rt=Pt;break t;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=It.payload,K=typeof Pt=="function"?Pt.call(ye,rt,K):Pt,K==null)break t;rt=R({},rt,K);break t;case 2:ao=!0}}K=A.callback,K!==null&&(e.flags|=64,X&&(e.flags|=8192),X=d.callbacks,X===null?d.callbacks=[K]:X.push(K))}else X={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},it===null?(W=it=X,z=rt):it=it.next=X,S|=K;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;X=A,A=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);it===null&&(z=rt),d.baseState=z,d.firstBaseUpdate=W,d.lastBaseUpdate=it,p===null&&(d.shared.lanes=0),vo|=S,e.lanes=S,e.memoizedState=rt}}function h_(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function f_(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)h_(o[e],n)}var hl=tt(null),Gc=tt(0);function d_(e,n){e=pr,lt(Gc,e),lt(hl,n),pr=e|n.baseLanes}function Ff(){lt(Gc,pr),lt(hl,hl.current)}function Gf(){pr=Gc.current,ct(hl),ct(Gc)}var co=0,Ht=null,ge=null,We=null,Zc=!1,fl=!1,wa=!1,Yc=0,mu=0,dl=null,ab=0;function qe(){throw Error(a(321))}function Zf(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Pn(e[o],n[o]))return!1;return!0}function Yf(e,n,o,u,d,p){return co=p,Ht=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?X_:Q_,wa=!1,p=o(u,d),wa=!1,fl&&(p=p_(n,o,u,d)),m_(e),p}function m_(e){$.H=$c;var n=ge!==null&&ge.next!==null;if(co=0,We=ge=Ht=null,Zc=!1,mu=0,dl=null,n)throw Error(a(300));e===null||cn||(e=e.dependencies,e!==null&&jc(e)&&(cn=!0))}function p_(e,n,o,u){Ht=e;var d=0;do{if(fl&&(dl=null),mu=0,fl=!1,25<=d)throw Error(a(301));if(d+=1,We=ge=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=mb,p=n(o,u)}while(fl);return p}function lb(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?pu(n):n,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&(Ht.flags|=1024),n}function Wf(){var e=Yc!==0;return Yc=0,e}function Kf(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Xf(e){if(Zc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Zc=!1}co=0,We=ge=Ht=null,fl=!1,mu=Yc=0,dl=null}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ht.memoizedState=We=e:We=We.next=e,We}function Ke(){if(ge===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var n=We===null?Ht.memoizedState:We.next;if(n!==null)We=n,ge=e;else{if(e===null)throw Ht.alternate===null?Error(a(467)):Error(a(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},We===null?Ht.memoizedState=We=e:We=We.next=e}return We}function Qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(e){var n=mu;return mu+=1,dl===null&&(dl=[]),e=l_(dl,e,n),n=Ht,(We===null?n.memoizedState:We.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?X_:Q_),e}function Wc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pu(e);if(e.$$typeof===ft)return Mn(e)}throw Error(a(438,String(e)))}function Jf(e){var n=null,o=Ht.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var u=Ht.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Qf(),Ht.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),u=0;u<e;u++)o[u]=H;return n.index++,o}function ur(e,n){return typeof n=="function"?n(e):n}function Kc(e){var n=Ke();return $f(n,ge,e)}function $f(e,n,o){var u=e.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var d=e.baseQueue,p=u.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}n.baseQueue=d=p,u.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{n=d.next;var A=S=null,z=null,W=n,it=!1;do{var rt=W.lane&-536870913;if(rt!==W.lane?(te&rt)===rt:(co&rt)===rt){var K=W.revertLane;if(K===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),rt===ul&&(it=!0);else if((co&K)===K){W=W.next,K===ul&&(it=!0);continue}else rt={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(A=z=rt,S=p):z=z.next=rt,Ht.lanes|=K,vo|=K;rt=W.action,wa&&o(p,rt),p=W.hasEagerState?W.eagerState:o(p,rt)}else K={lane:rt,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(A=z=K,S=p):z=z.next=K,Ht.lanes|=rt,vo|=rt;W=W.next}while(W!==null&&W!==n);if(z===null?S=p:z.next=A,!Pn(p,e.memoizedState)&&(cn=!0,it&&(o=cl,o!==null)))throw o;e.memoizedState=p,e.baseState=S,e.baseQueue=z,u.lastRenderedState=p}return d===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function td(e){var n=Ke(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var u=o.dispatch,d=o.pending,p=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);Pn(p,n.memoizedState)||(cn=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),o.lastRenderedState=p}return[p,u]}function __(e,n,o){var u=Ht,d=Ke(),p=zt;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!Pn((ge||d).memoizedState,o);S&&(d.memoizedState=o,cn=!0),d=d.queue;var A=y_.bind(null,u,d,e);if(_u(2048,8,A,[e]),d.getSnapshot!==n||S||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,ml(9,Xc(),v_.bind(null,u,d,o,n),null),Ne===null)throw Error(a(349));p||(co&124)!==0||g_(u,n,o)}return o}function g_(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ht.updateQueue,n===null?(n=Qf(),Ht.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function v_(e,n,o,u){n.value=o,n.getSnapshot=u,w_(n)&&b_(e)}function y_(e,n,o){return o(function(){w_(n)&&b_(e)})}function w_(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Pn(e,o)}catch{return!0}}function b_(e){var n=io(e,2);n!==null&&Ti(n,e,2)}function ed(e){var n=Xn();if(typeof e=="function"){var o=e;if(e=o(),wa){Sn(!0);try{o()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:e},n}function E_(e,n,o,u){return e.baseState=o,$f(e,ge,typeof u=="function"?u:ur)}function ub(e,n,o,u,d){if(Jc(e))throw Error(a(485));if(e=n.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};$.T!==null?o(!0):p.isTransition=!1,u(p),o=n.pending,o===null?(p.next=n.pending=p,T_(n,p)):(p.next=o.next,n.pending=o.next=p)}}function T_(e,n){var o=n.action,u=n.payload,d=e.state;if(n.isTransition){var p=$.T,S={};$.T=S;try{var A=o(d,u),z=$.S;z!==null&&z(S,A),S_(e,n,A)}catch(W){nd(e,n,W)}finally{$.T=p}}else try{p=o(d,u),S_(e,n,p)}catch(W){nd(e,n,W)}}function S_(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){x_(e,n,u)},function(u){return nd(e,n,u)}):x_(e,n,o)}function x_(e,n,o){n.status="fulfilled",n.value=o,C_(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,T_(e,o)))}function nd(e,n,o){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=o,C_(n),n=n.next;while(n!==u)}e.action=null}function C_(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function A_(e,n){return n}function N_(e,n){if(zt){var o=Ne.formState;if(o!==null){t:{var u=Ht;if(zt){if(Tt){e:{for(var d=Tt,p=Pe;d.nodeType!==8;){if(!p){d=null;break e}if(d=as(d.nextSibling),d===null){d=null;break e}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Tt=as(d.nextSibling),u=d.data==="F!";break t}}Kn(u)}u=!1}u&&(n=o[0])}}return o=Xn(),o.memoizedState=o.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A_,lastRenderedState:n},o.queue=u,o=Y_.bind(null,Ht,u),u.dispatch=o,u=ed(!1),p=ad.bind(null,Ht,!1,u.queue),u=Xn(),d={state:n,dispatch:null,action:e,pending:null},u.queue=d,o=ub.bind(null,Ht,d,p,o),d.dispatch=o,u.memoizedState=e,[n,o,!1]}function R_(e){var n=Ke();return I_(n,ge,e)}function I_(e,n,o){if(n=$f(e,n,A_)[0],e=Kc(ur)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=pu(n)}catch(S){throw S===uu?qc:S}else u=n;n=Ke();var d=n.queue,p=d.dispatch;return o!==n.memoizedState&&(Ht.flags|=2048,ml(9,Xc(),cb.bind(null,d,o),null)),[u,p,e]}function cb(e,n){e.action=n}function M_(e){var n=Ke(),o=ge;if(o!==null)return I_(n,o,e);Ke(),n=n.memoizedState,o=Ke();var u=o.queue.dispatch;return o.memoizedState=e,[n,u,!1]}function ml(e,n,o,u){return e={tag:e,create:o,deps:u,inst:n,next:null},n=Ht.updateQueue,n===null&&(n=Qf(),Ht.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,n.lastEffect=e),e}function Xc(){return{destroy:void 0,resource:void 0}}function O_(){return Ke().memoizedState}function Qc(e,n,o,u){var d=Xn();u=u===void 0?null:u,Ht.flags|=e,d.memoizedState=ml(1|n,Xc(),o,u)}function _u(e,n,o,u){var d=Ke();u=u===void 0?null:u;var p=d.memoizedState.inst;ge!==null&&u!==null&&Zf(u,ge.memoizedState.deps)?d.memoizedState=ml(n,p,o,u):(Ht.flags|=e,d.memoizedState=ml(1|n,p,o,u))}function L_(e,n){Qc(8390656,8,e,n)}function k_(e,n){_u(2048,8,e,n)}function D_(e,n){return _u(4,2,e,n)}function P_(e,n){return _u(4,4,e,n)}function z_(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function B_(e,n,o){o=o!=null?o.concat([e]):null,_u(4,4,z_.bind(null,n,e),o)}function id(){}function U_(e,n){var o=Ke();n=n===void 0?null:n;var u=o.memoizedState;return n!==null&&Zf(n,u[1])?u[0]:(o.memoizedState=[e,n],e)}function j_(e,n){var o=Ke();n=n===void 0?null:n;var u=o.memoizedState;if(n!==null&&Zf(n,u[1]))return u[0];if(u=e(),wa){Sn(!0);try{e()}finally{Sn(!1)}}return o.memoizedState=[u,n],u}function sd(e,n,o){return o===void 0||(co&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=qg(),Ht.lanes|=e,vo|=e,o)}function H_(e,n,o,u){return Pn(o,n)?o:hl.current!==null?(e=sd(e,o,u),Pn(e,n)||(cn=!0),e):(co&42)===0?(cn=!0,e.memoizedState=o):(e=qg(),Ht.lanes|=e,vo|=e,n)}function V_(e,n,o,u,d){var p=pt.p;pt.p=p!==0&&8>p?p:8;var S=$.T,A={};$.T=A,ad(e,!1,n,o);try{var z=d(),W=$.S;if(W!==null&&W(A,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var it=ob(z,u);gu(e,n,it,Ei(e))}else gu(e,n,u,Ei(e))}catch(rt){gu(e,n,{then:function(){},status:"rejected",reason:rt},Ei())}finally{pt.p=p,$.T=S}}function hb(){}function rd(e,n,o,u){if(e.tag!==5)throw Error(a(476));var d=q_(e).queue;V_(e,d,n,ut,o===null?hb:function(){return F_(e),o(u)})}function q_(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:ut},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function F_(e){var n=q_(e).next.queue;gu(e,n,{},Ei())}function od(){return Mn(Du)}function G_(){return Ke().memoizedState}function Z_(){return Ke().memoizedState}function fb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Ei();e=lo(o);var u=uo(n,e,o);u!==null&&(Ti(u,n,o),hu(u,n,o)),n={cache:Pf()},e.payload=n;return}n=n.return}}function db(e,n,o){var u=Ei();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Jc(e)?W_(n,o):(o=or(e,n,o,u),o!==null&&(Ti(o,e,u),K_(o,n,u)))}function Y_(e,n,o){var u=Ei();gu(e,n,o,u)}function gu(e,n,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jc(e))W_(n,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,A=p(S,o);if(d.hasEagerState=!0,d.eagerState=A,Pn(A,S))return fa(e,n,d,0),Ne===null&&ha(),!1}catch{}finally{}if(o=or(e,n,d,u),o!==null)return Ti(o,e,u),K_(o,n,u),!0}return!1}function ad(e,n,o,u){if(u={lane:2,revertLane:Ud(),action:u,hasEagerState:!1,eagerState:null,next:null},Jc(e)){if(n)throw Error(a(479))}else n=or(e,o,u,2),n!==null&&Ti(n,e,2)}function Jc(e){var n=e.alternate;return e===Ht||n!==null&&n===Ht}function W_(e,n){fl=Zc=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function K_(e,n,o){if((o&4194048)!==0){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,Xo(e,o)}}var $c={readContext:Mn,use:Wc,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},X_={readContext:Mn,use:Wc,useCallback:function(e,n){return Xn().memoizedState=[e,n===void 0?null:n],e},useContext:Mn,useEffect:L_,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Qc(4194308,4,z_.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Qc(4194308,4,e,n)},useInsertionEffect:function(e,n){Qc(4,2,e,n)},useMemo:function(e,n){var o=Xn();n=n===void 0?null:n;var u=e();if(wa){Sn(!0);try{e()}finally{Sn(!1)}}return o.memoizedState=[u,n],u},useReducer:function(e,n,o){var u=Xn();if(o!==void 0){var d=o(n);if(wa){Sn(!0);try{o(n)}finally{Sn(!1)}}}else d=n;return u.memoizedState=u.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},u.queue=e,e=e.dispatch=db.bind(null,Ht,e),[u.memoizedState,e]},useRef:function(e){var n=Xn();return e={current:e},n.memoizedState=e},useState:function(e){e=ed(e);var n=e.queue,o=Y_.bind(null,Ht,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:id,useDeferredValue:function(e,n){var o=Xn();return sd(o,e,n)},useTransition:function(){var e=ed(!1);return e=V_.bind(null,Ht,e.queue,!0,!1),Xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var u=Ht,d=Xn();if(zt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Ne===null)throw Error(a(349));(te&124)!==0||g_(u,n,o)}d.memoizedState=o;var p={value:o,getSnapshot:n};return d.queue=p,L_(y_.bind(null,u,p,e),[e]),u.flags|=2048,ml(9,Xc(),v_.bind(null,u,p,o,n),null),o},useId:function(){var e=Xn(),n=Ne.identifierPrefix;if(zt){var o=P,u=x;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,n="«"+n+"R"+o,o=Yc++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=ab++,n="«"+n+"r"+o.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:od,useFormState:N_,useActionState:N_,useOptimistic:function(e){var n=Xn();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=ad.bind(null,Ht,!0,o),o.dispatch=n,[e,n]},useMemoCache:Jf,useCacheRefresh:function(){return Xn().memoizedState=fb.bind(null,Ht)}},Q_={readContext:Mn,use:Wc,useCallback:U_,useContext:Mn,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:D_,useLayoutEffect:P_,useMemo:j_,useReducer:Kc,useRef:O_,useState:function(){return Kc(ur)},useDebugValue:id,useDeferredValue:function(e,n){var o=Ke();return H_(o,ge.memoizedState,e,n)},useTransition:function(){var e=Kc(ur)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:pu(e),n]},useSyncExternalStore:__,useId:G_,useHostTransitionStatus:od,useFormState:R_,useActionState:R_,useOptimistic:function(e,n){var o=Ke();return E_(o,ge,e,n)},useMemoCache:Jf,useCacheRefresh:Z_},mb={readContext:Mn,use:Wc,useCallback:U_,useContext:Mn,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:D_,useLayoutEffect:P_,useMemo:j_,useReducer:td,useRef:O_,useState:function(){return td(ur)},useDebugValue:id,useDeferredValue:function(e,n){var o=Ke();return ge===null?sd(o,e,n):H_(o,ge.memoizedState,e,n)},useTransition:function(){var e=td(ur)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:pu(e),n]},useSyncExternalStore:__,useId:G_,useHostTransitionStatus:od,useFormState:M_,useActionState:M_,useOptimistic:function(e,n){var o=Ke();return ge!==null?E_(o,ge,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Z_},pl=null,vu=0;function th(e){var n=vu;return vu+=1,pl===null&&(pl=[]),l_(pl,e,n)}function yu(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function eh(e,n){throw n.$$typeof===k?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function J_(e){var n=e._init;return n(e._payload)}function $_(e){function n(F,j){if(e){var Y=F.deletions;Y===null?(F.deletions=[j],F.flags|=16):Y.push(j)}}function o(F,j){if(!e)return null;for(;j!==null;)n(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function d(F,j){return F=zi(F,j),F.index=0,F.sibling=null,F}function p(F,j,Y){return F.index=Y,e?(Y=F.alternate,Y!==null?(Y=Y.index,Y<j?(F.flags|=67108866,j):Y):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function S(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function A(F,j,Y,st){return j===null||j.tag!==6?(j=ou(Y,F.mode,st),j.return=F,j):(j=d(j,Y),j.return=F,j)}function z(F,j,Y,st){var Et=Y.type;return Et===et?it(F,j,Y.props.children,st,Y.key):j!==null&&(j.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===M&&J_(Et)===j.type)?(j=d(j,Y.props),yu(j,Y),j.return=F,j):(j=ma(Y.type,Y.key,Y.props,null,F.mode,st),yu(j,Y),j.return=F,j)}function W(F,j,Y,st){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=al(Y,F.mode,st),j.return=F,j):(j=d(j,Y.children||[]),j.return=F,j)}function it(F,j,Y,st,Et){return j===null||j.tag!==7?(j=Is(Y,F.mode,st,Et),j.return=F,j):(j=d(j,Y),j.return=F,j)}function rt(F,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=ou(""+j,F.mode,Y),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case D:return Y=ma(j.type,j.key,j.props,null,F.mode,Y),yu(Y,j),Y.return=F,Y;case nt:return j=al(j,F.mode,Y),j.return=F,j;case M:var st=j._init;return j=st(j._payload),rt(F,j,Y)}if(Oe(j)||q(j))return j=Is(j,F.mode,Y,null),j.return=F,j;if(typeof j.then=="function")return rt(F,th(j),Y);if(j.$$typeof===ft)return rt(F,Hc(F,j),Y);eh(F,j)}return null}function K(F,j,Y,st){var Et=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Et!==null?null:A(F,j,""+Y,st);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return Y.key===Et?z(F,j,Y,st):null;case nt:return Y.key===Et?W(F,j,Y,st):null;case M:return Et=Y._init,Y=Et(Y._payload),K(F,j,Y,st)}if(Oe(Y)||q(Y))return Et!==null?null:it(F,j,Y,st,null);if(typeof Y.then=="function")return K(F,j,th(Y),st);if(Y.$$typeof===ft)return K(F,j,Hc(F,Y),st);eh(F,Y)}return null}function X(F,j,Y,st,Et){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return F=F.get(Y)||null,A(j,F,""+st,Et);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case D:return F=F.get(st.key===null?Y:st.key)||null,z(j,F,st,Et);case nt:return F=F.get(st.key===null?Y:st.key)||null,W(j,F,st,Et);case M:var Ft=st._init;return st=Ft(st._payload),X(F,j,Y,st,Et)}if(Oe(st)||q(st))return F=F.get(Y)||null,it(j,F,st,Et,null);if(typeof st.then=="function")return X(F,j,Y,th(st),Et);if(st.$$typeof===ft)return X(F,j,Y,Hc(j,st),Et);eh(j,st)}return null}function Pt(F,j,Y,st){for(var Et=null,Ft=null,At=j,Ot=j=0,fn=null;At!==null&&Ot<Y.length;Ot++){At.index>Ot?(fn=At,At=null):fn=At.sibling;var oe=K(F,At,Y[Ot],st);if(oe===null){At===null&&(At=fn);break}e&&At&&oe.alternate===null&&n(F,At),j=p(oe,j,Ot),Ft===null?Et=oe:Ft.sibling=oe,Ft=oe,At=fn}if(Ot===Y.length)return o(F,At),zt&&G(F,Ot),Et;if(At===null){for(;Ot<Y.length;Ot++)At=rt(F,Y[Ot],st),At!==null&&(j=p(At,j,Ot),Ft===null?Et=At:Ft.sibling=At,Ft=At);return zt&&G(F,Ot),Et}for(At=u(At);Ot<Y.length;Ot++)fn=X(At,F,Ot,Y[Ot],st),fn!==null&&(e&&fn.alternate!==null&&At.delete(fn.key===null?Ot:fn.key),j=p(fn,j,Ot),Ft===null?Et=fn:Ft.sibling=fn,Ft=fn);return e&&At.forEach(function(Ao){return n(F,Ao)}),zt&&G(F,Ot),Et}function It(F,j,Y,st){if(Y==null)throw Error(a(151));for(var Et=null,Ft=null,At=j,Ot=j=0,fn=null,oe=Y.next();At!==null&&!oe.done;Ot++,oe=Y.next()){At.index>Ot?(fn=At,At=null):fn=At.sibling;var Ao=K(F,At,oe.value,st);if(Ao===null){At===null&&(At=fn);break}e&&At&&Ao.alternate===null&&n(F,At),j=p(Ao,j,Ot),Ft===null?Et=Ao:Ft.sibling=Ao,Ft=Ao,At=fn}if(oe.done)return o(F,At),zt&&G(F,Ot),Et;if(At===null){for(;!oe.done;Ot++,oe=Y.next())oe=rt(F,oe.value,st),oe!==null&&(j=p(oe,j,Ot),Ft===null?Et=oe:Ft.sibling=oe,Ft=oe);return zt&&G(F,Ot),Et}for(At=u(At);!oe.done;Ot++,oe=Y.next())oe=X(At,F,Ot,oe.value,st),oe!==null&&(e&&oe.alternate!==null&&At.delete(oe.key===null?Ot:oe.key),j=p(oe,j,Ot),Ft===null?Et=oe:Ft.sibling=oe,Ft=oe);return e&&At.forEach(function(pE){return n(F,pE)}),zt&&G(F,Ot),Et}function ye(F,j,Y,st){if(typeof Y=="object"&&Y!==null&&Y.type===et&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:t:{for(var Et=Y.key;j!==null;){if(j.key===Et){if(Et=Y.type,Et===et){if(j.tag===7){o(F,j.sibling),st=d(j,Y.props.children),st.return=F,F=st;break t}}else if(j.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===M&&J_(Et)===j.type){o(F,j.sibling),st=d(j,Y.props),yu(st,Y),st.return=F,F=st;break t}o(F,j);break}else n(F,j);j=j.sibling}Y.type===et?(st=Is(Y.props.children,F.mode,st,Y.key),st.return=F,F=st):(st=ma(Y.type,Y.key,Y.props,null,F.mode,st),yu(st,Y),st.return=F,F=st)}return S(F);case nt:t:{for(Et=Y.key;j!==null;){if(j.key===Et)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){o(F,j.sibling),st=d(j,Y.children||[]),st.return=F,F=st;break t}else{o(F,j);break}else n(F,j);j=j.sibling}st=al(Y,F.mode,st),st.return=F,F=st}return S(F);case M:return Et=Y._init,Y=Et(Y._payload),ye(F,j,Y,st)}if(Oe(Y))return Pt(F,j,Y,st);if(q(Y)){if(Et=q(Y),typeof Et!="function")throw Error(a(150));return Y=Et.call(Y),It(F,j,Y,st)}if(typeof Y.then=="function")return ye(F,j,th(Y),st);if(Y.$$typeof===ft)return ye(F,j,Hc(F,Y),st);eh(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(o(F,j.sibling),st=d(j,Y),st.return=F,F=st):(o(F,j),st=ou(Y,F.mode,st),st.return=F,F=st),S(F)):o(F,j)}return function(F,j,Y,st){try{vu=0;var Et=ye(F,j,Y,st);return pl=null,Et}catch(At){if(At===uu||At===qc)throw At;var Ft=jn(29,At,null,F.mode);return Ft.lanes=st,Ft.return=F,Ft}finally{}}}var _l=$_(!0),tg=$_(!1),Ui=tt(null),Os=null;function ho(e){var n=e.alternate;lt(tn,tn.current&1),lt(Ui,e),Os===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(Os=e)}function eg(e){if(e.tag===22){if(lt(tn,tn.current),lt(Ui,e),Os===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Os=e)}}else fo()}function fo(){lt(tn,tn.current),lt(Ui,Ui.current)}function cr(e){ct(Ui),Os===e&&(Os=null),ct(tn)}var tn=tt(0);function nh(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Qd(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ld(e,n,o,u){n=e.memoizedState,o=o(u,n),o=o==null?n:R({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var ud={enqueueSetState:function(e,n,o){e=e._reactInternals;var u=Ei(),d=lo(u);d.payload=n,o!=null&&(d.callback=o),n=uo(e,d,u),n!==null&&(Ti(n,e,u),hu(n,e,u))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var u=Ei(),d=lo(u);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=uo(e,d,u),n!==null&&(Ti(n,e,u),hu(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Ei(),u=lo(o);u.tag=2,n!=null&&(u.callback=n),n=uo(e,u,o),n!==null&&(Ti(n,e,o),hu(n,e,o))}};function ng(e,n,o,u,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,S):n.prototype&&n.prototype.isPureReactComponent?!zn(o,u)||!zn(d,p):!0}function ig(e,n,o,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==e&&ud.enqueueReplaceState(n,n.state,null)}function ba(e,n){var o=n;if("ref"in n){o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}if(e=e.defaultProps){o===n&&(o=R({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}var ih=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sg(e){ih(e)}function rg(e){console.error(e)}function og(e){ih(e)}function sh(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function ag(e,n,o){try{var u=e.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function cd(e,n,o){return o=lo(o),o.tag=3,o.payload={element:null},o.callback=function(){sh(e,n)},o}function lg(e){return e=lo(e),e.tag=3,e}function ug(e,n,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;e.payload=function(){return d(p)},e.callback=function(){ag(n,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){ag(n,o,u),typeof d!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function pb(e,n,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=o.alternate,n!==null&&ga(n,o,d,!0),o=Ui.current,o!==null){switch(o.tag){case 13:return Os===null?kd():o.alternate===null&&Ue===0&&(Ue=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Uf?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([u]):n.add(u),Pd(e,u,d)),!1;case 22:return o.flags|=65536,u===Uf?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([u]):o.add(u)),Pd(e,u,d)),!1}throw Error(a(435,o.tag))}return Pd(e,u,d),kd(),!1}if(zt)return n=Ui.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,u!==un&&(e=Error(a(422),{cause:u}),oo(Bn(e,o)))):(u!==un&&(n=Error(a(423),{cause:u}),oo(Bn(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,u=Bn(u,o),d=cd(e.stateNode,u,d),Vf(e,d),Ue!==4&&(Ue=2)),!1;var p=Error(a(520),{cause:u});if(p=Bn(p,o),Cu===null?Cu=[p]:Cu.push(p),Ue!==4&&(Ue=2),n===null)return!0;u=Bn(u,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=cd(o.stateNode,u,e),Vf(o,e),!1;case 1:if(n=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(yo===null||!yo.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=lg(d),ug(d,e,o,u),Vf(o,d),!1}o=o.return}while(o!==null);return!1}var cg=Error(a(461)),cn=!1;function wn(e,n,o,u){n.child=e===null?tg(n,null,o,u):_l(n,e.child,o,u)}function hg(e,n,o,u,d){o=o.render;var p=n.ref;if("ref"in u){var S={};for(var A in u)A!=="ref"&&(S[A]=u[A])}else S=u;return va(n),u=Yf(e,n,o,S,p,d),A=Wf(),e!==null&&!cn?(Kf(e,n,d),hr(e,n,d)):(zt&&A&&ot(n),n.flags|=1,wn(e,n,u,d),n.child)}function fg(e,n,o,u,d){if(e===null){var p=o.type;return typeof p=="function"&&!ol(p)&&p.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=p,dg(e,n,p,u,d)):(e=ma(o.type,null,u,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!vd(e,d)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:zn,o(S,u)&&e.ref===n.ref)return hr(e,n,d)}return n.flags|=1,e=zi(p,u),e.ref=n.ref,e.return=n,n.child=e}function dg(e,n,o,u,d){if(e!==null){var p=e.memoizedProps;if(zn(p,u)&&e.ref===n.ref)if(cn=!1,n.pendingProps=u=p,vd(e,d))(e.flags&131072)!==0&&(cn=!0);else return n.lanes=e.lanes,hr(e,n,d)}return hd(e,n,o,u,d)}function mg(e,n,o){var u=n.pendingProps,d=u.children,p=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,e!==null){for(d=n.child=e.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;n.childLanes=p&~u}else n.childLanes=0,n.child=null;return pg(e,n,u,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vc(n,p!==null?p.cachePool:null),p!==null?d_(n,p):Ff(),eg(n);else return n.lanes=n.childLanes=536870912,pg(e,n,p!==null?p.baseLanes|o:o,o)}else p!==null?(Vc(n,p.cachePool),d_(n,p),fo(),n.memoizedState=null):(e!==null&&Vc(n,null),Ff(),fo());return wn(e,n,d,o),n.child}function pg(e,n,o,u){var d=Bf();return d=d===null?null:{parent:$e._currentValue,pool:d},n.memoizedState={baseLanes:o,cachePool:d},e!==null&&Vc(n,null),Ff(),eg(n),e!==null&&ga(e,n,u,!0),null}function rh(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function hd(e,n,o,u,d){return va(n),o=Yf(e,n,o,u,void 0,d),u=Wf(),e!==null&&!cn?(Kf(e,n,d),hr(e,n,d)):(zt&&u&&ot(n),n.flags|=1,wn(e,n,o,d),n.child)}function _g(e,n,o,u,d,p){return va(n),n.updateQueue=null,o=p_(n,u,o,d),m_(e),u=Wf(),e!==null&&!cn?(Kf(e,n,p),hr(e,n,p)):(zt&&u&&ot(n),n.flags|=1,wn(e,n,o,p),n.child)}function gg(e,n,o,u,d){if(va(n),n.stateNode===null){var p=ar,S=o.contextType;typeof S=="object"&&S!==null&&(p=Mn(S)),p=new o(u,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ud,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=u,p.state=n.memoizedState,p.refs={},jf(n),S=o.contextType,p.context=typeof S=="object"&&S!==null?Mn(S):ar,p.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(ld(n,o,S,u),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&ud.enqueueReplaceState(p,p.state,null),du(n,u,p,d),fu(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){p=n.stateNode;var A=n.memoizedProps,z=ba(o,A);p.props=z;var W=p.context,it=o.contextType;S=ar,typeof it=="object"&&it!==null&&(S=Mn(it));var rt=o.getDerivedStateFromProps;it=typeof rt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,it||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||W!==S)&&ig(n,p,u,S),ao=!1;var K=n.memoizedState;p.state=K,du(n,u,p,d),fu(),W=n.memoizedState,A||K!==W||ao?(typeof rt=="function"&&(ld(n,o,rt,u),W=n.memoizedState),(z=ao||ng(n,o,z,u,K,W,S))?(it||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=W),p.props=u,p.state=W,p.context=S,u=z):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{p=n.stateNode,Hf(e,n),S=n.memoizedProps,it=ba(o,S),p.props=it,rt=n.pendingProps,K=p.context,W=o.contextType,z=ar,typeof W=="object"&&W!==null&&(z=Mn(W)),A=o.getDerivedStateFromProps,(W=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==rt||K!==z)&&ig(n,p,u,z),ao=!1,K=n.memoizedState,p.state=K,du(n,u,p,d),fu();var X=n.memoizedState;S!==rt||K!==X||ao||e!==null&&e.dependencies!==null&&jc(e.dependencies)?(typeof A=="function"&&(ld(n,o,A,u),X=n.memoizedState),(it=ao||ng(n,o,it,u,K,X,z)||e!==null&&e.dependencies!==null&&jc(e.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,z),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,z)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=X),p.props=u,p.state=X,p.context=z,u=it):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),u=!1)}return p=u,rh(e,n),u=(n.flags&128)!==0,p||u?(p=n.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&u?(n.child=_l(n,e.child,null,d),n.child=_l(n,null,o,d)):wn(e,n,o,d),n.memoizedState=p.state,e=n.child):e=hr(e,n,d),e}function vg(e,n,o,u){return ro(),n.flags|=256,wn(e,n,o,u),n.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(e){return{baseLanes:e,cachePool:r_()}}function md(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=ji),e}function yg(e,n,o){var u=n.pendingProps,d=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(d?ho(n):fo(),zt){var A=Tt,z;if(z=A){t:{for(z=A,A=Pe;z.nodeType!==8;){if(!A){A=null;break t}if(z=as(z.nextSibling),z===null){A=null;break t}}A=z}A!==null?(n.memoizedState={dehydrated:A,treeContext:w!==null?{id:x,overflow:P}:null,retryLane:536870912,hydrationErrors:null},z=jn(18,null,null,0),z.stateNode=A,z.return=n,n.child=z,wt=n,Tt=null,z=!0):z=!1}z||Kn(n)}if(A=n.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Qd(A)?n.lanes=32:n.lanes=536870912,null;cr(n)}return A=u.children,u=u.fallback,d?(fo(),d=n.mode,A=oh({mode:"hidden",children:A},d),u=Is(u,d,o,null),A.return=n,u.return=n,A.sibling=u,n.child=A,d=n.child,d.memoizedState=dd(o),d.childLanes=md(e,S,o),n.memoizedState=fd,u):(ho(n),pd(n,A))}if(z=e.memoizedState,z!==null&&(A=z.dehydrated,A!==null)){if(p)n.flags&256?(ho(n),n.flags&=-257,n=_d(e,n,o)):n.memoizedState!==null?(fo(),n.child=e.child,n.flags|=128,n=null):(fo(),d=u.fallback,A=n.mode,u=oh({mode:"visible",children:u.children},A),d=Is(d,A,o,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,_l(n,e.child,null,o),u=n.child,u.memoizedState=dd(o),u.childLanes=md(e,S,o),n.memoizedState=fd,n=d);else if(ho(n),Qd(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var W=S.dgst;S=W,u=Error(a(419)),u.stack="",u.digest=S,oo({value:u,source:null,stack:null}),n=_d(e,n,o)}else if(cn||ga(e,n,o,!1),S=(o&e.childLanes)!==0,cn||S){if(S=Ne,S!==null&&(u=o&-o,u=(u&42)!==0?1:Ys(u),u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==z.retryLane))throw z.retryLane=u,io(e,u),Ti(S,e,u),cg;A.data==="$?"||kd(),n=_d(e,n,o)}else A.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=z.treeContext,Tt=as(A.nextSibling),wt=n,zt=!0,Ae=null,Pe=!1,e!==null&&(f[g++]=x,f[g++]=P,f[g++]=w,x=e.id,P=e.overflow,w=n),n=pd(n,u.children),n.flags|=4096);return n}return d?(fo(),d=u.fallback,A=n.mode,z=e.child,W=z.sibling,u=zi(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,W!==null?d=zi(W,d):(d=Is(d,A,o,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,A=e.child.memoizedState,A===null?A=dd(o):(z=A.cachePool,z!==null?(W=$e._currentValue,z=z.parent!==W?{parent:W,pool:W}:z):z=r_(),A={baseLanes:A.baseLanes|o,cachePool:z}),d.memoizedState=A,d.childLanes=md(e,S,o),n.memoizedState=fd,u):(ho(n),o=e.child,e=o.sibling,o=zi(o,{mode:"visible",children:u.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function pd(e,n){return n=oh({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function oh(e,n){return e=jn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function _d(e,n,o){return _l(n,e.child,null,o),e=pd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wg(e,n,o){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),_a(e.return,n,o)}function gd(e,n,o,u,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function bg(e,n,o){var u=n.pendingProps,d=u.revealOrder,p=u.tail;if(wn(e,n,u.children,o),u=tn.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wg(e,o,n);else if(e.tag===19)wg(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(lt(tn,u),d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&nh(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),gd(n,!1,d,o,p);break;case"backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&nh(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}gd(n,!0,o,null,p);break;case"together":gd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function hr(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),vo|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(ga(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=zi(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=zi(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function vd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&jc(e)))}function _b(e,n,o){switch(n.tag){case 3:Qt(n,n.stateNode.containerInfo),Ms(n,$e,e.memoizedState.cache),ro();break;case 27:case 5:Si(n);break;case 4:Qt(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(ho(n),n.flags|=128,null):(o&n.child.childLanes)!==0?yg(e,n,o):(ho(n),e=hr(e,n,o),e!==null?e.sibling:null);ho(n);break;case 19:var d=(e.flags&128)!==0;if(u=(o&n.childLanes)!==0,u||(ga(e,n,o,!1),u=(o&n.childLanes)!==0),d){if(u)return bg(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),lt(tn,tn.current),u)break;return null;case 22:case 23:return n.lanes=0,mg(e,n,o);case 24:Ms(n,$e,e.memoizedState.cache)}return hr(e,n,o)}function Eg(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)cn=!0;else{if(!vd(e,o)&&(n.flags&128)===0)return cn=!1,_b(e,n,o);cn=(e.flags&131072)!==0}else cn=!1,zt&&(n.flags&1048576)!==0&&Q(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var u=n.elementType,d=u._init;if(u=d(u._payload),n.type=u,typeof u=="function")ol(u)?(e=ba(u,e),n.tag=1,n=gg(null,n,u,e,o)):(n.tag=0,n=hd(null,n,u,e,o));else{if(u!=null){if(d=u.$$typeof,d===xt){n.tag=11,n=hg(null,n,u,e,o);break t}else if(d===V){n.tag=14,n=fg(null,n,u,e,o);break t}}throw n=we(u)||u,Error(a(306,n,""))}}return n;case 0:return hd(e,n,n.type,n.pendingProps,o);case 1:return u=n.type,d=ba(u,n.pendingProps),gg(e,n,u,d,o);case 3:t:{if(Qt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));u=n.pendingProps;var p=n.memoizedState;d=p.element,Hf(e,n),du(n,u,null,o);var S=n.memoizedState;if(u=S.cache,Ms(n,$e,u),u!==p.cache&&ll(n,[$e],o,!0),fu(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=vg(e,n,u,o);break t}else if(u!==d){d=Bn(Error(a(424)),n),oo(d),n=vg(e,n,u,o);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Tt=as(e.firstChild),wt=n,zt=!0,Ae=null,Pe=!0,o=tg(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ro(),u===d){n=hr(e,n,o);break t}wn(e,n,u,o)}n=n.child}return n;case 26:return rh(e,n),e===null?(o=Cv(n.type,null,n.pendingProps,null))?n.memoizedState=o:zt||(o=n.type,e=n.pendingProps,u=wh(_t.current).createElement(o),u[He]=n,u[Be]=e,En(u,o,e),De(u),n.stateNode=u):n.memoizedState=Cv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Si(n),e===null&&zt&&(u=n.stateNode=Tv(n.type,n.pendingProps,_t.current),wt=n,Pe=!0,d=Tt,Eo(n.type)?(Jd=d,Tt=as(u.firstChild)):Tt=d),wn(e,n,n.pendingProps.children,o),rh(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((d=u=Tt)&&(u=Fb(u,n.type,n.pendingProps,Pe),u!==null?(n.stateNode=u,wt=n,Tt=as(u.firstChild),Pe=!1,d=!0):d=!1),d||Kn(n)),Si(n),d=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,u=p.children,Wd(d,p)?u=null:S!==null&&Wd(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Yf(e,n,lb,null,null,o),Du._currentValue=d),rh(e,n),wn(e,n,u,o),n.child;case 6:return e===null&&zt&&((e=o=Tt)&&(o=Gb(o,n.pendingProps,Pe),o!==null?(n.stateNode=o,wt=n,Tt=null,e=!0):e=!1),e||Kn(n)),null;case 13:return yg(e,n,o);case 4:return Qt(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=_l(n,null,u,o):wn(e,n,u,o),n.child;case 11:return hg(e,n,n.type,n.pendingProps,o);case 7:return wn(e,n,n.pendingProps,o),n.child;case 8:return wn(e,n,n.pendingProps.children,o),n.child;case 12:return wn(e,n,n.pendingProps.children,o),n.child;case 10:return u=n.pendingProps,Ms(n,n.type,u.value),wn(e,n,u.children,o),n.child;case 9:return d=n.type._context,u=n.pendingProps.children,va(n),d=Mn(d),u=u(d),n.flags|=1,wn(e,n,u,o),n.child;case 14:return fg(e,n,n.type,n.pendingProps,o);case 15:return dg(e,n,n.type,n.pendingProps,o);case 19:return bg(e,n,o);case 31:return u=n.pendingProps,o=n.mode,u={mode:u.mode,children:u.children},e===null?(o=oh(u,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=zi(e.child,u),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return mg(e,n,o);case 24:return va(n),u=Mn($e),e===null?(d=Bf(),d===null&&(d=Ne,p=Pf(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),n.memoizedState={parent:u,cache:d},jf(n),Ms(n,$e,d)):((e.lanes&o)!==0&&(Hf(e,n),du(n,null,null,o),fu()),d=e.memoizedState,p=n.memoizedState,d.parent!==u?(d={parent:u,cache:u},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ms(n,$e,u)):(u=p.cache,Ms(n,$e,u),u!==d.cache&&ll(n,[$e],o,!0))),wn(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function fr(e){e.flags|=4}function Tg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mv(n)){if(n=Ui.current,n!==null&&((te&4194048)===te?Os!==null:(te&62914560)!==te&&(te&536870912)===0||n!==Os))throw cu=Uf,o_;e.flags|=8192}}function ah(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wo():536870912,e.lanes|=n,wl|=n)}function wu(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=u,e.childLanes=o,n}function gb(e,n,o){var u=n.pendingProps;switch(vt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return o=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),rs($e),ii(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(pa(n)?fr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Uc())),ze(n),null;case 26:return o=n.memoizedState,e===null?(fr(n),o!==null?(ze(n),Tg(n,o)):(ze(n),n.flags&=-16777217)):o?o!==e.memoizedState?(fr(n),ze(n),Tg(n,o)):(ze(n),n.flags&=-16777217):(e.memoizedProps!==u&&fr(n),ze(n),n.flags&=-16777217),null;case 27:si(n),o=_t.current;var d=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==u&&fr(n);else{if(!u){if(n.stateNode===null)throw Error(a(166));return ze(n),null}e=gt.current,pa(n)?zc(n):(e=Tv(d,u,o),n.stateNode=e,fr(n))}return ze(n),null;case 5:if(si(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&fr(n);else{if(!u){if(n.stateNode===null)throw Error(a(166));return ze(n),null}if(e=gt.current,pa(n))zc(n);else{switch(d=wh(_t.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}e[He]=n,e[Be]=u;t:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=e;t:switch(En(e,o,u),o){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&fr(n)}}return ze(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&fr(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(a(166));if(e=_t.current,pa(n)){if(e=n.stateNode,o=n.memoizedProps,u=null,d=wt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}e[He]=n,e=!!(e.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||_v(e.nodeValue,o)),e||Kn(n)}else e=wh(e).createTextNode(u),e[He]=n,n.stateNode=e}return ze(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=pa(n),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[He]=n}else ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),d=!1}else d=Uc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(cr(n),n):(cr(n),null)}if(cr(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=u!==null,e=e!==null&&e.memoizedState!==null,o){u=n.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),ah(n,n.updateQueue),ze(n),null;case 4:return ii(),e===null&&qd(n.stateNode.containerInfo),ze(n),null;case 10:return rs(n.type),ze(n),null;case 19:if(ct(tn),d=n.memoizedState,d===null)return ze(n),null;if(u=(n.flags&128)!==0,p=d.rendering,p===null)if(u)wu(d,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=nh(e),p!==null){for(n.flags|=128,wu(d,!1),e=p.updateQueue,n.updateQueue=e,ah(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)ru(o,e),o=o.sibling;return lt(tn,tn.current&1|2),n.child}e=e.sibling}d.tail!==null&&Tn()>ch&&(n.flags|=128,u=!0,wu(d,!1),n.lanes=4194304)}else{if(!u)if(e=nh(p),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,ah(n,e),wu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!zt)return ze(n),null}else 2*Tn()-d.renderingStartTime>ch&&o!==536870912&&(n.flags|=128,u=!0,wu(d,!1),n.lanes=4194304);d.isBackwards?(p.sibling=n.child,n.child=p):(e=d.last,e!==null?e.sibling=p:n.child=p,d.last=p)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Tn(),n.sibling=null,e=tn.current,lt(tn,u?e&1|2:e&1),n):(ze(n),null);case 22:case 23:return cr(n),Gf(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(o&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),o=n.updateQueue,o!==null&&ah(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==o&&(n.flags|=2048),e!==null&&ct(ya),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs($e),ze(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function vb(e,n){switch(vt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return rs($e),ii(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(cr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ro()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ct(tn),null;case 4:return ii(),null;case 10:return rs(n.type),null;case 22:case 23:return cr(n),Gf(),e!==null&&ct(ya),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return rs($e),null;case 25:return null;default:return null}}function Sg(e,n){switch(vt(n),n.tag){case 3:rs($e),ii();break;case 26:case 27:case 5:si(n);break;case 4:ii();break;case 13:cr(n);break;case 19:ct(tn);break;case 10:rs(n.type);break;case 22:case 23:cr(n),Gf(),e!==null&&ct(ya);break;case 24:rs($e)}}function bu(e,n){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&e)===e){u=void 0;var p=o.create,S=o.inst;u=p(),S.destroy=u}o=o.next}while(o!==d)}}catch(A){be(n,n.return,A)}}function mo(e,n,o){try{var u=n.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&e)===e){var S=u.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,d=n;var z=o,W=A;try{W()}catch(it){be(d,z,it)}}}u=u.next}while(u!==p)}}catch(it){be(n,n.return,it)}}function xg(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{f_(n,o)}catch(u){be(e,e.return,u)}}}function Cg(e,n,o){o.props=ba(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(u){be(e,n,u)}}function Eu(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof o=="function"?e.refCleanup=o(u):o.current=u}}catch(d){be(e,n,d)}}function Ls(e,n){var o=e.ref,u=e.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){be(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){be(e,n,d)}else o.current=null}function Ag(e){var n=e.type,o=e.memoizedProps,u=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){be(e,e.return,d)}}function yd(e,n,o){try{var u=e.stateNode;Ub(u,e.type,o,n),u[Be]=n}catch(d){be(e,e.return,d)}}function Ng(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Eo(e.type)||e.tag===4}function wd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ng(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Eo(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bd(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=yh));else if(u!==4&&(u===27&&Eo(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(bd(e,n,o),e=e.sibling;e!==null;)bd(e,n,o),e=e.sibling}function lh(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(u!==4&&(u===27&&Eo(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(lh(e,n,o),e=e.sibling;e!==null;)lh(e,n,o),e=e.sibling}function Rg(e){var n=e.stateNode,o=e.memoizedProps;try{for(var u=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);En(n,u,o),n[He]=e,n[Be]=o}catch(p){be(e,e.return,p)}}var dr=!1,Fe=!1,Ed=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,hn=null;function yb(e,n){if(e=e.containerInfo,Zd=Ch,e=la(e),ua(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var S=0,A=-1,z=-1,W=0,it=0,rt=e,K=null;e:for(;;){for(var X;rt!==o||d!==0&&rt.nodeType!==3||(A=S+d),rt!==p||u!==0&&rt.nodeType!==3||(z=S+u),rt.nodeType===3&&(S+=rt.nodeValue.length),(X=rt.firstChild)!==null;)K=rt,rt=X;for(;;){if(rt===e)break e;if(K===o&&++W===d&&(A=S),K===p&&++it===u&&(z=S),(X=rt.nextSibling)!==null)break;rt=K,K=rt.parentNode}rt=X}o=A===-1||z===-1?null:{start:A,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yd={focusedElem:e,selectionRange:o},Ch=!1,hn=n;hn!==null;)if(n=hn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,hn=e;else for(;hn!==null;){switch(n=hn,p=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=n,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Pt=ba(o.type,d,o.elementType===o.type);e=u.getSnapshotBeforeUpdate(Pt,p),u.__reactInternalSnapshotBeforeUpdate=e}catch(It){be(o,o.return,It)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Xd(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,hn=e;break}hn=n.return}}function Mg(e,n,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:po(e,o),u&4&&bu(5,o);break;case 1:if(po(e,o),u&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){be(o,o.return,S)}else{var d=ba(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){be(o,o.return,S)}}u&64&&xg(o),u&512&&Eu(o,o.return);break;case 3:if(po(e,o),u&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{f_(e,n)}catch(S){be(o,o.return,S)}}break;case 27:n===null&&u&4&&Rg(o);case 26:case 5:po(e,o),n===null&&u&4&&Ag(o),u&512&&Eu(o,o.return);break;case 12:po(e,o);break;case 13:po(e,o),u&4&&kg(e,o),u&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Nb.bind(null,o),Zb(e,o))));break;case 22:if(u=o.memoizedState!==null||dr,!u){n=n!==null&&n.memoizedState!==null||Fe,d=dr;var p=Fe;dr=u,(Fe=n)&&!p?_o(e,o,(o.subtreeFlags&8772)!==0):po(e,o),dr=d,Fe=p}break;case 30:break;default:po(e,o)}}function Og(e){var n=e.alternate;n!==null&&(e.alternate=null,Og(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ys(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Qn=!1;function mr(e,n,o){for(o=o.child;o!==null;)Lg(e,n,o),o=o.sibling}function Lg(e,n,o){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(Te,o)}catch{}switch(o.tag){case 26:Fe||Ls(o,n),mr(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Fe||Ls(o,n);var u=ke,d=Qn;Eo(o.type)&&(ke=o.stateNode,Qn=!1),mr(e,n,o),Mu(o.stateNode),ke=u,Qn=d;break;case 5:Fe||Ls(o,n);case 6:if(u=ke,d=Qn,ke=null,mr(e,n,o),ke=u,Qn=d,ke!==null)if(Qn)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(p){be(o,n,p)}else try{ke.removeChild(o.stateNode)}catch(p){be(o,n,p)}break;case 18:ke!==null&&(Qn?(e=ke,bv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Uu(e)):bv(ke,o.stateNode));break;case 4:u=ke,d=Qn,ke=o.stateNode.containerInfo,Qn=!0,mr(e,n,o),ke=u,Qn=d;break;case 0:case 11:case 14:case 15:Fe||mo(2,o,n),Fe||mo(4,o,n),mr(e,n,o);break;case 1:Fe||(Ls(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Cg(o,n,u)),mr(e,n,o);break;case 21:mr(e,n,o);break;case 22:Fe=(u=Fe)||o.memoizedState!==null,mr(e,n,o),Fe=u;break;default:mr(e,n,o)}}function kg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Uu(e)}catch(o){be(n,n.return,o)}}function wb(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ig),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ig),n;default:throw Error(a(435,e.tag))}}function Td(e,n){var o=wb(e);n.forEach(function(u){var d=Rb.bind(null,e,u);o.has(u)||(o.add(u),u.then(d,d))})}function yi(e,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=e,S=n,A=S;t:for(;A!==null;){switch(A.tag){case 27:if(Eo(A.type)){ke=A.stateNode,Qn=!1;break t}break;case 5:ke=A.stateNode,Qn=!1;break t;case 3:case 4:ke=A.stateNode.containerInfo,Qn=!0;break t}A=A.return}if(ke===null)throw Error(a(160));Lg(p,S,d),ke=null,Qn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dg(n,e),n=n.sibling}var os=null;function Dg(e,n){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yi(n,e),wi(e),u&4&&(mo(3,e,e.return),bu(3,e),mo(5,e,e.return));break;case 1:yi(n,e),wi(e),u&512&&(Fe||o===null||Ls(o,o.return)),u&64&&dr&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=os;if(yi(n,e),wi(e),u&512&&(Fe||o===null||Ls(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=e.memoizedState,o===null)if(u===null)if(e.stateNode===null){t:{u=e.type,o=e.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[vs]||p[He]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),En(p,u,o),p[He]=e,De(p),u=p;break t;case"link":var S=Rv("link","href",d).get(u+(o.href||""));if(S){for(var A=0;A<S.length;A++)if(p=S[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(A,1);break e}}p=d.createElement(u),En(p,u,o),d.head.appendChild(p);break;case"meta":if(S=Rv("meta","content",d).get(u+(o.content||""))){for(A=0;A<S.length;A++)if(p=S[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(A,1);break e}}p=d.createElement(u),En(p,u,o),d.head.appendChild(p);break;default:throw Error(a(468,u))}p[He]=e,De(p),u=p}e.stateNode=u}else Iv(d,e.type,e.stateNode);else e.stateNode=Nv(d,u,e.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?Iv(d,e.type,e.stateNode):Nv(d,u,e.memoizedProps)):u===null&&e.stateNode!==null&&yd(e,e.memoizedProps,o.memoizedProps)}break;case 27:yi(n,e),wi(e),u&512&&(Fe||o===null||Ls(o,o.return)),o!==null&&u&4&&yd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(yi(n,e),wi(e),u&512&&(Fe||o===null||Ls(o,o.return)),e.flags&32){d=e.stateNode;try{on(d,"")}catch(X){be(e,e.return,X)}}u&4&&e.stateNode!=null&&(d=e.memoizedProps,yd(e,d,o!==null?o.memoizedProps:d)),u&1024&&(Ed=!0);break;case 6:if(yi(n,e),wi(e),u&4){if(e.stateNode===null)throw Error(a(162));u=e.memoizedProps,o=e.stateNode;try{o.nodeValue=u}catch(X){be(e,e.return,X)}}break;case 3:if(Th=null,d=os,os=bh(n.containerInfo),yi(n,e),os=d,wi(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Uu(n.containerInfo)}catch(X){be(e,e.return,X)}Ed&&(Ed=!1,Pg(e));break;case 4:u=os,os=bh(e.stateNode.containerInfo),yi(n,e),wi(e),os=u;break;case 12:yi(n,e),wi(e);break;case 13:yi(n,e),wi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rd=Tn()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Td(e,u)));break;case 22:d=e.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,W=dr,it=Fe;if(dr=W||d,Fe=it||z,yi(n,e),Fe=it,dr=W,wi(e),u&8192)t:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||z||dr||Fe||Ea(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){z=o=n;try{if(p=z.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=z.stateNode;var rt=z.memoizedProps.style,K=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){be(z,z.return,X)}}}else if(n.tag===6){if(o===null){z=n;try{z.stateNode.nodeValue=d?"":z.memoizedProps}catch(X){be(z,z.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Td(e,o))));break;case 19:yi(n,e),wi(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Td(e,u)));break;case 30:break;case 21:break;default:yi(n,e),wi(e)}}function wi(e){var n=e.flags;if(n&2){try{for(var o,u=e.return;u!==null;){if(Ng(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,p=wd(e);lh(e,p,d);break;case 5:var S=o.stateNode;o.flags&32&&(on(S,""),o.flags&=-33);var A=wd(e);lh(e,A,S);break;case 3:case 4:var z=o.stateNode.containerInfo,W=wd(e);bd(e,W,z);break;default:throw Error(a(161))}}catch(it){be(e,e.return,it)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function po(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mg(e,n.alternate,n),n=n.sibling}function Ea(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:mo(4,n,n.return),Ea(n);break;case 1:Ls(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Cg(n,n.return,o),Ea(n);break;case 27:Mu(n.stateNode);case 26:case 5:Ls(n,n.return),Ea(n);break;case 22:n.memoizedState===null&&Ea(n);break;case 30:Ea(n);break;default:Ea(n)}e=e.sibling}}function _o(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,d=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:_o(d,p,o),bu(4,p);break;case 1:if(_o(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){be(u,u.return,W)}if(u=p,d=u.updateQueue,d!==null){var A=u.stateNode;try{var z=d.shared.hiddenCallbacks;if(z!==null)for(d.shared.hiddenCallbacks=null,d=0;d<z.length;d++)h_(z[d],A)}catch(W){be(u,u.return,W)}}o&&S&64&&xg(p),Eu(p,p.return);break;case 27:Rg(p);case 26:case 5:_o(d,p,o),o&&u===null&&S&4&&Ag(p),Eu(p,p.return);break;case 12:_o(d,p,o);break;case 13:_o(d,p,o),o&&S&4&&kg(d,p);break;case 22:p.memoizedState===null&&_o(d,p,o),Eu(p,p.return);break;case 30:break;default:_o(d,p,o)}n=n.sibling}}function Sd(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&au(o))}function xd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&au(e))}function ks(e,n,o,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zg(e,n,o,u),n=n.sibling}function zg(e,n,o,u){var d=n.flags;switch(n.tag){case 0:case 11:case 15:ks(e,n,o,u),d&2048&&bu(9,n);break;case 1:ks(e,n,o,u);break;case 3:ks(e,n,o,u),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&au(e)));break;case 12:if(d&2048){ks(e,n,o,u),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,A=p.onPostCommit;typeof A=="function"&&A(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){be(n,n.return,z)}}else ks(e,n,o,u);break;case 13:ks(e,n,o,u);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?ks(e,n,o,u):Tu(e,n):p._visibility&2?ks(e,n,o,u):(p._visibility|=2,gl(e,n,o,u,(n.subtreeFlags&10256)!==0)),d&2048&&Sd(S,n);break;case 24:ks(e,n,o,u),d&2048&&xd(n.alternate,n);break;default:ks(e,n,o,u)}}function gl(e,n,o,u,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var p=e,S=n,A=o,z=u,W=S.flags;switch(S.tag){case 0:case 11:case 15:gl(p,S,A,z,d),bu(8,S);break;case 23:break;case 22:var it=S.stateNode;S.memoizedState!==null?it._visibility&2?gl(p,S,A,z,d):Tu(p,S):(it._visibility|=2,gl(p,S,A,z,d)),d&&W&2048&&Sd(S.alternate,S);break;case 24:gl(p,S,A,z,d),d&&W&2048&&xd(S.alternate,S);break;default:gl(p,S,A,z,d)}n=n.sibling}}function Tu(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,u=n,d=u.flags;switch(u.tag){case 22:Tu(o,u),d&2048&&Sd(u.alternate,u);break;case 24:Tu(o,u),d&2048&&xd(u.alternate,u);break;default:Tu(o,u)}n=n.sibling}}var Su=8192;function vl(e){if(e.subtreeFlags&Su)for(e=e.child;e!==null;)Bg(e),e=e.sibling}function Bg(e){switch(e.tag){case 26:vl(e),e.flags&Su&&e.memoizedState!==null&&rE(os,e.memoizedState,e.memoizedProps);break;case 5:vl(e);break;case 3:case 4:var n=os;os=bh(e.stateNode.containerInfo),vl(e),os=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Su,Su=16777216,vl(e),Su=n):vl(e));break;default:vl(e)}}function Ug(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];hn=u,Hg(u,e)}Ug(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jg(e),e=e.sibling}function jg(e){switch(e.tag){case 0:case 11:case 15:xu(e),e.flags&2048&&mo(9,e,e.return);break;case 3:xu(e);break;case 12:xu(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,uh(e)):xu(e);break;default:xu(e)}}function uh(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];hn=u,Hg(u,e)}Ug(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:mo(8,n,n.return),uh(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,uh(n));break;default:uh(n)}e=e.sibling}}function Hg(e,n){for(;hn!==null;){var o=hn;switch(o.tag){case 0:case 11:case 15:mo(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:au(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,hn=u;else t:for(o=e;hn!==null;){u=hn;var d=u.sibling,p=u.return;if(Og(u),u===o){hn=null;break t}if(d!==null){d.return=p,hn=d;break t}hn=p}}}var bb={getCacheForType:function(e){var n=Mn($e),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},Eb=typeof WeakMap=="function"?WeakMap:Map,de=0,Ne=null,Yt=null,te=0,me=0,bi=null,go=!1,yl=!1,Cd=!1,pr=0,Ue=0,vo=0,Ta=0,Ad=0,ji=0,wl=0,Cu=null,Jn=null,Nd=!1,Rd=0,ch=1/0,hh=null,yo=null,bn=0,wo=null,bl=null,El=0,Id=0,Md=null,Vg=null,Au=0,Od=null;function Ei(){if((de&2)!==0&&te!==0)return te&-te;if($.T!==null){var e=ul;return e!==0?e:Ud()}return gs()}function qg(){ji===0&&(ji=(te&536870912)===0||zt?Yo():536870912);var e=Ui.current;return e!==null&&(e.flags|=32),ji}function Ti(e,n,o){(e===Ne&&(me===2||me===9)||e.cancelPendingCommit!==null)&&(Tl(e,0),bo(e,te,ji,!1)),Ci(e,o),((de&2)===0||e!==Ne)&&(e===Ne&&((de&2)===0&&(Ta|=o),Ue===4&&bo(e,te,ji,!1)),Ds(e))}function Fg(e,n,o){if((de&6)!==0)throw Error(a(327));var u=!o&&(n&124)===0&&(n&e.expiredLanes)===0||oi(e,n),d=u?xb(e,n):Dd(e,n,!0),p=u;do{if(d===0){yl&&!u&&bo(e,n,0,!1);break}else{if(o=e.current.alternate,p&&!Tb(o)){d=Dd(e,n,!1),p=!1;continue}if(d===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;t:{var A=e;d=Cu;var z=A.current.memoizedState.isDehydrated;if(z&&(Tl(A,S).flags|=256),S=Dd(A,S,!1),S!==2){if(Cd&&!z){A.errorRecoveryDisabledLanes|=p,Ta|=p,d=4;break t}p=Jn,Jn=d,p!==null&&(Jn===null?Jn=p:Jn.push.apply(Jn,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){Tl(e,0),bo(e,n,0,!0);break}t:{switch(u=e,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:bo(u,n,ji,!go);break t;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Rd+300-Tn(),10<d)){if(bo(u,n,ji,!go),Dr(u,0,!0)!==0)break t;u.timeoutHandle=yv(Gg.bind(null,u,o,Jn,hh,Nd,n,ji,Ta,wl,go,p,2,-0,0),d);break t}Gg(u,o,Jn,hh,Nd,n,ji,Ta,wl,go,p,0,-0,0)}}break}while(!0);Ds(e)}function Gg(e,n,o,u,d,p,S,A,z,W,it,rt,K,X){if(e.timeoutHandle=-1,rt=n.subtreeFlags,(rt&8192||(rt&16785408)===16785408)&&(ku={stylesheets:null,count:0,unsuspend:sE},Bg(n),rt=oE(),rt!==null)){e.cancelPendingCommit=rt(Jg.bind(null,e,n,p,o,u,d,S,A,z,it,1,K,X)),bo(e,p,S,!W);return}Jg(e,n,p,o,u,d,S,A,z)}function Tb(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Pn(p(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bo(e,n,o,u){n&=~Ad,n&=~Ta,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var d=n;0<d;){var p=31-sn(d),S=1<<p;u[p]=-1,d&=~S}o!==0&&Zi(e,o,n)}function fh(){return(de&6)===0?(Nu(0),!1):!0}function Ld(){if(Yt!==null){if(me===0)var e=Yt.return;else e=Yt,ss=Bi=null,Xf(e),pl=null,vu=0,e=Yt;for(;e!==null;)Sg(e.alternate,e),e=e.return;Yt=null}}function Tl(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Hb(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Ld(),Ne=e,Yt=o=zi(e.current,null),te=n,me=0,bi=null,go=!1,yl=oi(e,n),Cd=!1,wl=ji=Ad=Ta=vo=Ue=0,Jn=Cu=null,Nd=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var d=31-sn(u),p=1<<d;n|=e[d],u&=~p}return pr=n,ha(),o}function Zg(e,n){Ht=null,$.H=$c,n===uu||n===qc?(n=u_(),me=3):n===o_?(n=u_(),me=4):me=n===cg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bi=n,Yt===null&&(Ue=1,sh(e,Bn(n,e.current)))}function Yg(){var e=$.H;return $.H=$c,e===null?$c:e}function Wg(){var e=$.A;return $.A=bb,e}function kd(){Ue=4,go||(te&4194048)!==te&&Ui.current!==null||(yl=!0),(vo&134217727)===0&&(Ta&134217727)===0||Ne===null||bo(Ne,te,ji,!1)}function Dd(e,n,o){var u=de;de|=2;var d=Yg(),p=Wg();(Ne!==e||te!==n)&&(hh=null,Tl(e,n)),n=!1;var S=Ue;t:do try{if(me!==0&&Yt!==null){var A=Yt,z=bi;switch(me){case 8:Ld(),S=6;break t;case 3:case 2:case 9:case 6:Ui.current===null&&(n=!0);var W=me;if(me=0,bi=null,Sl(e,A,z,W),o&&yl){S=0;break t}break;default:W=me,me=0,bi=null,Sl(e,A,z,W)}}Sb(),S=Ue;break}catch(it){Zg(e,it)}while(!0);return n&&e.shellSuspendCounter++,ss=Bi=null,de=u,$.H=d,$.A=p,Yt===null&&(Ne=null,te=0,ha()),S}function Sb(){for(;Yt!==null;)Kg(Yt)}function xb(e,n){var o=de;de|=2;var u=Yg(),d=Wg();Ne!==e||te!==n?(hh=null,ch=Tn()+500,Tl(e,n)):yl=oi(e,n);t:do try{if(me!==0&&Yt!==null){n=Yt;var p=bi;e:switch(me){case 1:me=0,bi=null,Sl(e,n,p,1);break;case 2:case 9:if(a_(p)){me=0,bi=null,Xg(n);break}n=function(){me!==2&&me!==9||Ne!==e||(me=7),Ds(e)},p.then(n,n);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:a_(p)?(me=0,bi=null,Xg(n)):(me=0,bi=null,Sl(e,n,p,7));break;case 5:var S=null;switch(Yt.tag){case 26:S=Yt.memoizedState;case 5:case 27:var A=Yt;if(!S||Mv(S)){me=0,bi=null;var z=A.sibling;if(z!==null)Yt=z;else{var W=A.return;W!==null?(Yt=W,dh(W)):Yt=null}break e}}me=0,bi=null,Sl(e,n,p,5);break;case 6:me=0,bi=null,Sl(e,n,p,6);break;case 8:Ld(),Ue=6;break t;default:throw Error(a(462))}}Cb();break}catch(it){Zg(e,it)}while(!0);return ss=Bi=null,$.H=u,$.A=d,de=o,Yt!==null?0:(Ne=null,te=0,ha(),Ue)}function Cb(){for(;Yt!==null&&!Lr();)Kg(Yt)}function Kg(e){var n=Eg(e.alternate,e,pr);e.memoizedProps=e.pendingProps,n===null?dh(e):Yt=n}function Xg(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=_g(o,n,n.pendingProps,n.type,void 0,te);break;case 11:n=_g(o,n,n.pendingProps,n.type.render,n.ref,te);break;case 5:Xf(n);default:Sg(o,n),n=Yt=ru(n,pr),n=Eg(o,n,pr)}e.memoizedProps=e.pendingProps,n===null?dh(e):Yt=n}function Sl(e,n,o,u){ss=Bi=null,Xf(n),pl=null,vu=0;var d=n.return;try{if(pb(e,d,n,o,te)){Ue=1,sh(e,Bn(o,e.current)),Yt=null;return}}catch(p){if(d!==null)throw Yt=d,p;Ue=1,sh(e,Bn(o,e.current)),Yt=null;return}n.flags&32768?(zt||u===1?e=!0:yl||(te&536870912)!==0?e=!1:(go=e=!0,(u===2||u===9||u===3||u===6)&&(u=Ui.current,u!==null&&u.tag===13&&(u.flags|=16384))),Qg(n,e)):dh(n)}function dh(e){var n=e;do{if((n.flags&32768)!==0){Qg(n,go);return}e=n.return;var o=gb(n.alternate,n,pr);if(o!==null){Yt=o;return}if(n=n.sibling,n!==null){Yt=n;return}Yt=n=e}while(n!==null);Ue===0&&(Ue=5)}function Qg(e,n){do{var o=vb(e.alternate,e);if(o!==null){o.flags&=32767,Yt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Yt=e;return}Yt=e=o}while(e!==null);Ue=6,Yt=null}function Jg(e,n,o,u,d,p,S,A,z){e.cancelPendingCommit=null;do mh();while(bn!==0);if((de&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=vi,Ko(e,o,p,S,A,z),e===Ne&&(Yt=Ne=null,te=0),bl=n,wo=e,El=o,Id=p,Md=d,Vg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ib(Fi,function(){return iv(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,d=pt.p,pt.p=2,S=de,de|=4;try{yb(e,n,o)}finally{de=S,pt.p=d,$.T=u}}bn=1,$g(),tv(),ev()}}function $g(){if(bn===1){bn=0;var e=wo,n=bl,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=pt.p;pt.p=2;var d=de;de|=4;try{Dg(n,e);var p=Yd,S=la(e.containerInfo),A=p.focusedElem,z=p.selectionRange;if(S!==A&&A&&A.ownerDocument&&el(A.ownerDocument.documentElement,A)){if(z!==null&&ua(A)){var W=z.start,it=z.end;if(it===void 0&&(it=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(it,A.value.length);else{var rt=A.ownerDocument||document,K=rt&&rt.defaultView||window;if(K.getSelection){var X=K.getSelection(),Pt=A.textContent.length,It=Math.min(z.start,Pt),ye=z.end===void 0?It:Math.min(z.end,Pt);!X.extend&&It>ye&&(S=ye,ye=It,It=S);var F=iu(A,It),j=iu(A,ye);if(F&&j&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var Y=rt.createRange();Y.setStart(F.node,F.offset),X.removeAllRanges(),It>ye?(X.addRange(Y),X.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),X.addRange(Y))}}}}for(rt=[],X=A;X=X.parentNode;)X.nodeType===1&&rt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<rt.length;A++){var st=rt[A];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Ch=!!Zd,Yd=Zd=null}finally{de=d,pt.p=u,$.T=o}}e.current=n,bn=2}}function tv(){if(bn===2){bn=0;var e=wo,n=bl,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=pt.p;pt.p=2;var d=de;de|=4;try{Mg(e,n.alternate,n)}finally{de=d,pt.p=u,$.T=o}}bn=3}}function ev(){if(bn===4||bn===3){bn=0,Vo();var e=wo,n=bl,o=El,u=Vg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?bn=5:(bn=0,bl=wo=null,nv(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(yo=null),Pr(o),n=n.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(Te,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=$.T,d=pt.p,pt.p=2,$.T=null;try{for(var p=e.onRecoverableError,S=0;S<u.length;S++){var A=u[S];p(A.value,{componentStack:A.stack})}}finally{$.T=n,pt.p=d}}(El&3)!==0&&mh(),Ds(e),d=e.pendingLanes,(o&4194090)!==0&&(d&42)!==0?e===Od?Au++:(Au=0,Od=e):Au=0,Nu(0)}}function nv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,au(n)))}function mh(e){return $g(),tv(),ev(),iv()}function iv(){if(bn!==5)return!1;var e=wo,n=Id;Id=0;var o=Pr(El),u=$.T,d=pt.p;try{pt.p=32>o?32:o,$.T=null,o=Md,Md=null;var p=wo,S=El;if(bn=0,bl=wo=null,El=0,(de&6)!==0)throw Error(a(331));var A=de;if(de|=4,jg(p.current),zg(p,p.current,S,o),de=A,Nu(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(Te,p)}catch{}return!0}finally{pt.p=d,$.T=u,nv(e,n)}}function sv(e,n,o){n=Bn(o,n),n=cd(e.stateNode,n,2),e=uo(e,n,2),e!==null&&(Ci(e,2),Ds(e))}function be(e,n,o){if(e.tag===3)sv(e,e,o);else for(;n!==null;){if(n.tag===3){sv(n,e,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(yo===null||!yo.has(u))){e=Bn(o,e),o=lg(2),u=uo(n,o,2),u!==null&&(ug(o,u,n,e),Ci(u,2),Ds(u));break}}n=n.return}}function Pd(e,n,o){var u=e.pingCache;if(u===null){u=e.pingCache=new Eb;var d=new Set;u.set(n,d)}else d=u.get(n),d===void 0&&(d=new Set,u.set(n,d));d.has(o)||(Cd=!0,d.add(o),e=Ab.bind(null,e,n,o),n.then(e,e))}function Ab(e,n,o){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ne===e&&(te&o)===o&&(Ue===4||Ue===3&&(te&62914560)===te&&300>Tn()-Rd?(de&2)===0&&Tl(e,0):Ad|=o,wl===te&&(wl=0)),Ds(e)}function rv(e,n){n===0&&(n=Wo()),e=io(e,n),e!==null&&(Ci(e,n),Ds(e))}function Nb(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),rv(e,o)}function Rb(e,n){var o=0;switch(e.tag){case 13:var u=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(n),rv(e,o)}function Ib(e,n){return qi(e,n)}var ph=null,xl=null,zd=!1,_h=!1,Bd=!1,Sa=0;function Ds(e){e!==xl&&e.next===null&&(xl===null?ph=xl=e:xl=xl.next=e),_h=!0,zd||(zd=!0,Ob())}function Nu(e,n){if(!Bd&&_h){Bd=!0;do for(var o=!1,u=ph;u!==null;){if(e!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var S=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-sn(42|e)+1)-1,p&=d&~(S&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,uv(u,p))}else p=te,p=Dr(u,u===Ne?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||oi(u,p)||(o=!0,uv(u,p));u=u.next}while(o);Bd=!1}}function Mb(){ov()}function ov(){_h=zd=!1;var e=0;Sa!==0&&(jb()&&(e=Sa),Sa=0);for(var n=Tn(),o=null,u=ph;u!==null;){var d=u.next,p=av(u,n);p===0?(u.next=null,o===null?ph=d:o.next=d,d===null&&(xl=o)):(o=u,(e!==0||(p&3)!==0)&&(_h=!0)),u=d}Nu(e)}function av(e,n){for(var o=e.suspendedLanes,u=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-sn(p),A=1<<S,z=d[S];z===-1?((A&o)===0||(A&u)!==0)&&(d[S]=Zo(A,n)):z<=n&&(e.expiredLanes|=A),p&=~A}if(n=Ne,o=te,o=Dr(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,o===0||e===n&&(me===2||me===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&qs(u),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||oi(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(u!==null&&qs(u),Pr(o)){case 2:case 8:o=Fs;break;case 32:o=Fi;break;case 268435456:o=Gs;break;default:o=Fi}return u=lv.bind(null,e),o=qi(o,u),e.callbackPriority=n,e.callbackNode=o,n}return u!==null&&u!==null&&qs(u),e.callbackPriority=2,e.callbackNode=null,2}function lv(e,n){if(bn!==0&&bn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(mh()&&e.callbackNode!==o)return null;var u=te;return u=Dr(e,e===Ne?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Fg(e,u,n),av(e,Tn()),e.callbackNode!=null&&e.callbackNode===o?lv.bind(null,e):null)}function uv(e,n){if(mh())return null;Fg(e,n,!0)}function Ob(){Vb(function(){(de&6)!==0?qi(qo,Mb):ov()})}function Ud(){return Sa===0&&(Sa=Yo()),Sa}function cv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ss(""+e)}function hv(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Lb(e,n,o,u,d){if(n==="submit"&&o&&o.stateNode===d){var p=cv((d[Be]||null).action),S=u.submitter;S&&(n=(n=S[Be]||null)?cv(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var A=new $s("action","action",null,u,d);e.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Sa!==0){var z=S?hv(d,S):new FormData(d);rd(o,{pending:!0,data:z,method:d.method,action:p},null,z)}}else typeof p=="function"&&(A.preventDefault(),z=S?hv(d,S):new FormData(d),rd(o,{pending:!0,data:z,method:d.method,action:p},p,z))},currentTarget:d}]})}}for(var jd=0;jd<sr.length;jd++){var Hd=sr[jd],kb=Hd.toLowerCase(),Db=Hd[0].toUpperCase()+Hd.slice(1);gi(kb,"on"+Db)}gi(kc,"onAnimationEnd"),gi(_i,"onAnimationIteration"),gi(ca,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(kf,"onTransitionRun"),gi(rl,"onTransitionStart"),gi(Df,"onTransitionCancel"),gi(su,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function fv(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],d=u.event;u=u.listeners;t:{var p=void 0;if(n)for(var S=u.length-1;0<=S;S--){var A=u[S],z=A.instance,W=A.currentTarget;if(A=A.listener,z!==p&&d.isPropagationStopped())break t;p=A,d.currentTarget=W;try{p(d)}catch(it){ih(it)}d.currentTarget=null,p=z}else for(S=0;S<u.length;S++){if(A=u[S],z=A.instance,W=A.currentTarget,A=A.listener,z!==p&&d.isPropagationStopped())break t;p=A,d.currentTarget=W;try{p(d)}catch(it){ih(it)}d.currentTarget=null,p=z}}}}function Wt(e,n){var o=n[xn];o===void 0&&(o=n[xn]=new Set);var u=e+"__bubble";o.has(u)||(dv(n,e,2,!1),o.add(u))}function Vd(e,n,o){var u=0;n&&(u|=4),dv(o,e,u,n)}var gh="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[gh]){e[gh]=!0,Jo.forEach(function(o){o!=="selectionchange"&&(Pb.has(o)||Vd(o,!1,e),Vd(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[gh]||(n[gh]=!0,Vd("selectionchange",!1,n))}}function dv(e,n,o,u){switch(zv(n)){case 2:var d=uE;break;case 8:d=cE;break;default:d=im}o=d.bind(null,n,o,e),d=void 0,!Cn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),u?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Fd(e,n,o,u,d){var p=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var A=u.stateNode.containerInfo;if(A===d)break;if(S===4)for(S=u.return;S!==null;){var z=S.tag;if((z===3||z===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;A!==null;){if(S=Ai(A),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){u=p=S;continue t}A=A.parentNode}}u=u.return}Dn(function(){var W=p,it=vn(o),rt=[];t:{var K=Dc.get(e);if(K!==void 0){var X=$s,Pt=e;switch(e){case"keypress":if(_e(o)===0)break t;case"keydown":case"keyup":X=Yr;break;case"focusin":Pt="focus",X=Vr;break;case"focusout":Pt="blur",X=Vr;break;case"beforeblur":case"afterblur":X=Vr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ja;break;case kc:case _i:case ca:X=Fr;break;case su:X=$a;break;case"scroll":case"scrollend":X=Xa;break;case"wheel":X=yn;break;case"copy":case"cut":case"paste":X=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Wr;break;case"toggle":case"beforetoggle":X=Di}var It=(n&4)!==0,ye=!It&&(e==="scroll"||e==="scrollend"),F=It?K!==null?K+"Capture":null:K;It=[];for(var j=W,Y;j!==null;){var st=j;if(Y=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||Y===null||F===null||(st=$t(j,F),st!=null&&It.push(Iu(j,st,Y))),ye)break;j=j.return}0<It.length&&(K=new X(K,Pt,null,o,it),rt.push({event:K,listeners:It}))}}if((n&7)===0){t:{if(K=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",K&&o!==hi&&(Pt=o.relatedTarget||o.fromElement)&&(Ai(Pt)||Pt[Zn]))break t;if((X||K)&&(K=it.window===it?it:(K=it.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Pt=o.relatedTarget||o.toElement,X=W,Pt=Pt?Ai(Pt):null,Pt!==null&&(ye=m(Pt),It=Pt.tag,Pt!==ye||It!==5&&It!==27&&It!==6)&&(Pt=null)):(X=null,Pt=W),X!==Pt)){if(It=ln,st="onMouseLeave",F="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(It=Wr,st="onPointerLeave",F="onPointerEnter",j="pointer"),ye=X==null?K:_n(X),Y=Pt==null?K:_n(Pt),K=new It(st,j+"leave",X,o,it),K.target=ye,K.relatedTarget=Y,st=null,Ai(it)===W&&(It=new It(F,j+"enter",Pt,o,it),It.target=Y,It.relatedTarget=ye,st=It),ye=st,X&&Pt)e:{for(It=X,F=Pt,j=0,Y=It;Y;Y=Cl(Y))j++;for(Y=0,st=F;st;st=Cl(st))Y++;for(;0<j-Y;)It=Cl(It),j--;for(;0<Y-j;)F=Cl(F),Y--;for(;j--;){if(It===F||F!==null&&It===F.alternate)break e;It=Cl(It),F=Cl(F)}It=null}else It=null;X!==null&&mv(rt,K,X,It,!1),Pt!==null&&ye!==null&&mv(rt,ye,Pt,It,!0)}}t:{if(K=W?_n(W):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Et=Qr;else if(Rn(K))if(tu)Et=Lf;else{Et=Of;var Ft=nu}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&Js(W.elementType)&&(Et=Qr):Et=is;if(Et&&(Et=Et(e,W))){In(rt,Et,o,it);break t}Ft&&Ft(e,K,W),e==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&ui(K,"number",K.value)}switch(Ft=W?_n(W):window,e){case"focusin":(Rn(Ft)||Ft.contentEditable==="true")&&(pi=Ft,to=W,ir=null);break;case"focusout":ir=to=pi=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,Oc(rt,o,it);break;case"selectionchange":if(nl)break;case"keydown":case"keyup":Oc(rt,o,it)}var At;if(h)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Ce?ht(e,o)&&(Ot="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ot="onCompositionStart");Ot&&(N&&o.locale!=="ko"&&(Ce||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Ce&&(At=Qi()):(Wn=it,An="value"in Wn?Wn.value:Wn.textContent,Ce=!0)),Ft=vh(W,Ot),0<Ft.length&&(Ot=new Nn(Ot,e,null,o,it),rt.push({event:Ot,listeners:Ft}),At?Ot.data=At:(At=re(o),At!==null&&(Ot.data=At)))),(At=E?Zt(e,o):Ze(e,o))&&(Ot=vh(W,"onBeforeInput"),0<Ot.length&&(Ft=new Nn("onBeforeInput","beforeinput",null,o,it),rt.push({event:Ft,listeners:Ot}),Ft.data=At)),Lb(rt,e,W,o,it)}fv(rt,n)})}function Iu(e,n,o){return{instance:e,listener:n,currentTarget:o}}function vh(e,n){for(var o=n+"Capture",u=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=$t(e,o),d!=null&&u.unshift(Iu(e,d,p)),d=$t(e,n),d!=null&&u.push(Iu(e,d,p))),e.tag===3)return u;e=e.return}return[]}function Cl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mv(e,n,o,u,d){for(var p=n._reactName,S=[];o!==null&&o!==u;){var A=o,z=A.alternate,W=A.stateNode;if(A=A.tag,z!==null&&z===u)break;A!==5&&A!==26&&A!==27||W===null||(z=W,d?(W=$t(o,p),W!=null&&S.unshift(Iu(o,W,z))):d||(W=$t(o,p),W!=null&&S.push(Iu(o,W,z)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var zb=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function pv(e){return(typeof e=="string"?e:""+e).replace(zb,`
`).replace(Bb,"")}function _v(e,n){return n=pv(n),pv(e)===n}function yh(){}function ve(e,n,o,u,d,p){switch(o){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||on(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&on(e,""+u);break;case"className":Ri(e,"class",u);break;case"tabIndex":Ri(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(e,o,u);break;case"style":Ki(e,u,p);break;case"data":if(n!=="object"){Ri(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=Ss(""+u),e.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(n!=="input"&&ve(e,n,"name",d.name,d,null),ve(e,n,"formEncType",d.formEncType,d,null),ve(e,n,"formMethod",d.formMethod,d,null),ve(e,n,"formTarget",d.formTarget,d,null)):(ve(e,n,"encType",d.encType,d,null),ve(e,n,"method",d.method,d,null),ve(e,n,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=Ss(""+u),e.setAttribute(o,u);break;case"onClick":u!=null&&(e.onclick=yh);break;case"onScroll":u!=null&&Wt("scroll",e);break;case"onScrollEnd":u!=null&&Wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}o=Ss(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""+u):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":u===!0?e.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,u):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(o,u):e.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(o):e.setAttribute(o,u);break;case"popover":Wt("beforetoggle",e),Wt("toggle",e),ws(e,"popover",u);break;case"xlinkActuate":Qe(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qe(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qe(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qe(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qe(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qe(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qe(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ws(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ta.get(o)||o,ws(e,o,u))}}function Gd(e,n,o,u,d,p){switch(o){case"style":Ki(e,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof u=="string"?on(e,u):(typeof u=="number"||typeof u=="bigint")&&on(e,""+u);break;case"onScroll":u!=null&&Wt("scroll",e);break;case"onScrollEnd":u!=null&&Wt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),p=e[Be]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(n,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,u,d);break t}o in e?e[o]=u:u===!0?e.setAttribute(o,""):ws(e,o,u)}}}function En(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wt("error",e),Wt("load",e);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ve(e,n,p,S,o,null)}}d&&ve(e,n,"srcSet",o.srcSet,o,null),u&&ve(e,n,"src",o.src,o,null);return;case"input":Wt("invalid",e);var A=p=S=d=null,z=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var it=o[u];if(it!=null)switch(u){case"name":d=it;break;case"type":S=it;break;case"checked":z=it;break;case"defaultChecked":W=it;break;case"value":p=it;break;case"defaultValue":A=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,n));break;default:ve(e,n,u,it,o,null)}}Qs(e,p,A,z,W,S,d,!1),Ts(e);return;case"select":Wt("invalid",e),u=S=p=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":p=A;break;case"defaultValue":S=A;break;case"multiple":u=A;default:ve(e,n,d,A,o,null)}n=p,o=S,e.multiple=!!u,n!=null?gn(e,!!u,n,!1):o!=null&&gn(e,!!u,o,!0);return;case"textarea":Wt("invalid",e),p=d=u=null;for(S in o)if(o.hasOwnProperty(S)&&(A=o[S],A!=null))switch(S){case"value":u=A;break;case"defaultValue":d=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:ve(e,n,S,A,o,null)}kn(e,u,d,p),Ts(e);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(u=o[z],u!=null))switch(z){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ve(e,n,z,u,o,null)}return;case"dialog":Wt("beforetoggle",e),Wt("toggle",e),Wt("cancel",e),Wt("close",e);break;case"iframe":case"object":Wt("load",e);break;case"video":case"audio":for(u=0;u<Ru.length;u++)Wt(Ru[u],e);break;case"image":Wt("error",e),Wt("load",e);break;case"details":Wt("toggle",e);break;case"embed":case"source":case"link":Wt("error",e),Wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ve(e,n,W,u,o,null)}return;default:if(Js(n)){for(it in o)o.hasOwnProperty(it)&&(u=o[it],u!==void 0&&Gd(e,n,it,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ve(e,n,A,u,o,null))}function Ub(e,n,o,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,A=null,z=null,W=null,it=null;for(X in o){var rt=o[X];if(o.hasOwnProperty(X)&&rt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":z=rt;default:u.hasOwnProperty(X)||ve(e,n,X,null,u,rt)}}for(var K in u){var X=u[K];if(rt=o[K],u.hasOwnProperty(K)&&(X!=null||rt!=null))switch(K){case"type":p=X;break;case"name":d=X;break;case"checked":W=X;break;case"defaultChecked":it=X;break;case"value":S=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:X!==rt&&ve(e,n,K,X,u,rt)}}xe(e,S,A,z,W,it,p,d);return;case"select":X=S=A=K=null;for(p in o)if(z=o[p],o.hasOwnProperty(p)&&z!=null)switch(p){case"value":break;case"multiple":X=z;default:u.hasOwnProperty(p)||ve(e,n,p,null,u,z)}for(d in u)if(p=u[d],z=o[d],u.hasOwnProperty(d)&&(p!=null||z!=null))switch(d){case"value":K=p;break;case"defaultValue":A=p;break;case"multiple":S=p;default:p!==z&&ve(e,n,d,p,u,z)}n=A,o=S,u=X,K!=null?gn(e,!!o,K,!1):!!u!=!!o&&(n!=null?gn(e,!!o,n,!0):gn(e,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ve(e,n,A,null,u,d)}for(S in u)if(d=u[S],p=o[S],u.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":K=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&ve(e,n,S,d,u,p)}Lt(e,K,X);return;case"option":for(var Pt in o)if(K=o[Pt],o.hasOwnProperty(Pt)&&K!=null&&!u.hasOwnProperty(Pt))switch(Pt){case"selected":e.selected=!1;break;default:ve(e,n,Pt,null,u,K)}for(z in u)if(K=u[z],X=o[z],u.hasOwnProperty(z)&&K!==X&&(K!=null||X!=null))switch(z){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ve(e,n,z,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in o)K=o[It],o.hasOwnProperty(It)&&K!=null&&!u.hasOwnProperty(It)&&ve(e,n,It,null,u,K);for(W in u)if(K=u[W],X=o[W],u.hasOwnProperty(W)&&K!==X&&(K!=null||X!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:ve(e,n,W,K,u,X)}return;default:if(Js(n)){for(var ye in o)K=o[ye],o.hasOwnProperty(ye)&&K!==void 0&&!u.hasOwnProperty(ye)&&Gd(e,n,ye,void 0,u,K);for(it in u)K=u[it],X=o[it],!u.hasOwnProperty(it)||K===X||K===void 0&&X===void 0||Gd(e,n,it,K,u,X);return}}for(var F in o)K=o[F],o.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&ve(e,n,F,null,u,K);for(rt in u)K=u[rt],X=o[rt],!u.hasOwnProperty(rt)||K===X||K==null&&X==null||ve(e,n,rt,K,u,X)}var Zd=null,Yd=null;function wh(e){return e.nodeType===9?e:e.ownerDocument}function gv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Wd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kd=null;function jb(){var e=window.event;return e&&e.type==="popstate"?e===Kd?!1:(Kd=e,!0):(Kd=null,!1)}var yv=typeof setTimeout=="function"?setTimeout:void 0,Hb=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(e){return wv.resolve(null).then(e).catch(qb)}:yv;function qb(e){setTimeout(function(){throw e})}function Eo(e){return e==="head"}function bv(e,n){var o=n,u=0,d=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var S=e.ownerDocument;if(o&1&&Mu(S.documentElement),o&2&&Mu(S.body),o&4)for(o=S.head,Mu(o),S=o.firstChild;S;){var A=S.nextSibling,z=S.nodeName;S[vs]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=A}}if(d===0){e.removeChild(p),Uu(n);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);Uu(n)}function Xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xd(o),ys(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Fb(e,n,o,u){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[vs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=as(e.nextSibling),e===null)break}return null}function Gb(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=as(e.nextSibling),e===null))return null;return e}function Qd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Zb(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var u=function(){n(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function as(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Jd=null;function Ev(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function Tv(e,n,o){switch(n=wh(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Mu(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ys(e)}var Hi=new Map,Sv=new Set;function bh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _r=pt.d;pt.d={f:Yb,r:Wb,D:Kb,C:Xb,L:Qb,m:Jb,X:tE,S:$b,M:eE};function Yb(){var e=_r.f(),n=fh();return e||n}function Wb(e){var n=ai(e);n!==null&&n.tag===5&&n.type==="form"?F_(n):_r.r(e)}var Al=typeof document>"u"?null:document;function xv(e,n,o){var u=Al;if(u&&typeof n=="string"&&n){var d=Ie(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Sv.has(d)||(Sv.add(d),e={rel:e,crossOrigin:o,href:n},u.querySelector(d)===null&&(n=u.createElement("link"),En(n,"link",e),De(n),u.head.appendChild(n)))}}function Kb(e){_r.D(e),xv("dns-prefetch",e,null)}function Xb(e,n){_r.C(e,n),xv("preconnect",e,n)}function Qb(e,n,o){_r.L(e,n,o);var u=Al;if(u&&e&&n){var d='link[rel="preload"][as="'+Ie(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ie(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ie(o.imageSizes)+'"]')):d+='[href="'+Ie(e)+'"]';var p=d;switch(n){case"style":p=Nl(e);break;case"script":p=Rl(e)}Hi.has(p)||(e=R({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Hi.set(p,e),u.querySelector(d)!==null||n==="style"&&u.querySelector(Ou(p))||n==="script"&&u.querySelector(Lu(p))||(n=u.createElement("link"),En(n,"link",e),De(n),u.head.appendChild(n)))}}function Jb(e,n){_r.m(e,n);var o=Al;if(o&&e){var u=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Ie(u)+'"][href="'+Ie(e)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Rl(e)}if(!Hi.has(p)&&(e=R({rel:"modulepreload",href:e},n),Hi.set(p,e),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Lu(p)))return}u=o.createElement("link"),En(u,"link",e),De(u),o.head.appendChild(u)}}}function $b(e,n,o){_r.S(e,n,o);var u=Al;if(u&&e){var d=rn(u).hoistableStyles,p=Nl(e);n=n||"default";var S=d.get(p);if(!S){var A={loading:0,preload:null};if(S=u.querySelector(Ou(p)))A.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Hi.get(p))&&$d(e,o);var z=S=u.createElement("link");De(z),En(z,"link",e),z._p=new Promise(function(W,it){z.onload=W,z.onerror=it}),z.addEventListener("load",function(){A.loading|=1}),z.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Eh(S,n,u)}S={type:"stylesheet",instance:S,count:1,state:A},d.set(p,S)}}}function tE(e,n){_r.X(e,n);var o=Al;if(o&&e){var u=rn(o).hoistableScripts,d=Rl(e),p=u.get(d);p||(p=o.querySelector(Lu(d)),p||(e=R({src:e,async:!0},n),(n=Hi.get(d))&&tm(e,n),p=o.createElement("script"),De(p),En(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function eE(e,n){_r.M(e,n);var o=Al;if(o&&e){var u=rn(o).hoistableScripts,d=Rl(e),p=u.get(d);p||(p=o.querySelector(Lu(d)),p||(e=R({src:e,async:!0,type:"module"},n),(n=Hi.get(d))&&tm(e,n),p=o.createElement("script"),De(p),En(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function Cv(e,n,o,u){var d=(d=_t.current)?bh(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Nl(o.href),o=rn(d).hoistableStyles,u=o.get(n),u||(u={type:"style",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Nl(o.href);var p=rn(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(Ou(e)))&&!p._p&&(S.instance=p,S.state.loading=5),Hi.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hi.set(e,o),p||nE(d,e,o,S.state))),n&&u===null)throw Error(a(528,""));return S}if(n&&u!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rl(o),o=rn(d).hoistableScripts,u=o.get(n),u||(u={type:"script",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Nl(e){return'href="'+Ie(e)+'"'}function Ou(e){return'link[rel="stylesheet"]['+e+"]"}function Av(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function nE(e,n,o,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),En(n,"link",o),De(n),e.head.appendChild(n))}function Rl(e){return'[src="'+Ie(e)+'"]'}function Lu(e){return"script[async]"+e}function Nv(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+Ie(o.href)+'"]');if(u)return n.instance=u,De(u),u;var d=R({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),De(u),En(u,"style",d),Eh(u,o.precedence,e),n.instance=u;case"stylesheet":d=Nl(o.href);var p=e.querySelector(Ou(d));if(p)return n.state.loading|=4,n.instance=p,De(p),p;u=Av(o),(d=Hi.get(d))&&$d(u,d),p=(e.ownerDocument||e).createElement("link"),De(p);var S=p;return S._p=new Promise(function(A,z){S.onload=A,S.onerror=z}),En(p,"link",u),n.state.loading|=4,Eh(p,o.precedence,e),n.instance=p;case"script":return p=Rl(o.src),(d=e.querySelector(Lu(p)))?(n.instance=d,De(d),d):(u=o,(d=Hi.get(p))&&(u=R({},o),tm(u,d)),e=e.ownerDocument||e,d=e.createElement("script"),De(d),En(d,"link",u),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Eh(u,o.precedence,e));return n.instance}function Eh(e,n,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,S=0;S<u.length;S++){var A=u[S];if(A.dataset.precedence===n)p=A;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function $d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function tm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Th=null;function Rv(e,n,o){if(Th===null){var u=new Map,d=Th=new Map;d.set(o,u)}else d=Th,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(e))return u;for(u.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var p=o[d];if(!(p[vs]||p[He]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var A=u.get(S);A?A.push(p):u.set(S,[p])}}return u}function Iv(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function iE(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Mv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ku=null;function sE(){}function rE(e,n,o){if(ku===null)throw Error(a(475));var u=ku;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Nl(o.href),p=e.querySelector(Ou(d));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=Sh.bind(u),e.then(u,u)),n.state.loading|=4,n.instance=p,De(p);return}p=e.ownerDocument||e,o=Av(o),(d=Hi.get(d))&&$d(o,d),p=p.createElement("link"),De(p);var S=p;S._p=new Promise(function(A,z){S.onload=A,S.onerror=z}),En(p,"link",o),n.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Sh.bind(u),e.addEventListener("load",n),e.addEventListener("error",n))}}function oE(){if(ku===null)throw Error(a(475));var e=ku;return e.stylesheets&&e.count===0&&em(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&em(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function Sh(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xh=null;function em(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xh=new Map,n.forEach(aE,e),xh=null,Sh.call(e))}function aE(e,n){if(!(n.state.loading&4)){var o=xh.get(e);if(o)var u=o.get(null);else{o=new Map,xh.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}d=n.instance,S=d.getAttribute("data-precedence"),p=o.get(S)||u,p===u&&o.set(null,d),o.set(S,d),this.count++,u=Sh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Du={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function lE(e,n,o,u,d,p,S,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Ov(e,n,o,u,d,p,S,A,z,W,it,rt){return e=new lE(e,n,o,S,A,z,W,rt),n=1,p===!0&&(n|=24),p=jn(3,null,null,n),e.current=p,p.stateNode=e,n=Pf(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:n},jf(p),e}function Lv(e){return e?(e=ar,e):ar}function kv(e,n,o,u,d,p){d=Lv(d),u.context===null?u.context=d:u.pendingContext=d,u=lo(n),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=uo(e,u,n),o!==null&&(Ti(o,e,n),hu(o,e,n))}function Dv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function nm(e,n){Dv(e,n),(e=e.alternate)&&Dv(e,n)}function Pv(e){if(e.tag===13){var n=io(e,67108864);n!==null&&Ti(n,e,67108864),nm(e,67108864)}}var Ch=!0;function uE(e,n,o,u){var d=$.T;$.T=null;var p=pt.p;try{pt.p=2,im(e,n,o,u)}finally{pt.p=p,$.T=d}}function cE(e,n,o,u){var d=$.T;$.T=null;var p=pt.p;try{pt.p=8,im(e,n,o,u)}finally{pt.p=p,$.T=d}}function im(e,n,o,u){if(Ch){var d=sm(u);if(d===null)Fd(e,n,u,Ah,o),Bv(e,u);else if(fE(d,e,n,o,u))u.stopPropagation();else if(Bv(e,u),n&4&&-1<hE.indexOf(e)){for(;d!==null;){var p=ai(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Gn(p.pendingLanes);if(S!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var z=1<<31-sn(S);A.entanglements[1]|=z,S&=~z}Ds(p),(de&6)===0&&(ch=Tn()+500,Nu(0))}}break;case 13:A=io(p,2),A!==null&&Ti(A,p,2),fh(),nm(p,2)}if(p=sm(u),p===null&&Fd(e,n,u,Ah,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Fd(e,n,u,null,o)}}function sm(e){return e=vn(e),rm(e)}var Ah=null;function rm(e){if(Ah=null,e=Ai(e),e!==null){var n=m(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=_(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ah=e,null}function zv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kr()){case qo:return 2;case Fs:return 8;case Fi:case Ga:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var om=!1,To=null,So=null,xo=null,Pu=new Map,zu=new Map,Co=[],hE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(e,n){switch(e){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Pu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(n.pointerId)}}function Bu(e,n,o,u,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},n!==null&&(n=ai(n),n!==null&&Pv(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function fE(e,n,o,u,d){switch(n){case"focusin":return To=Bu(To,e,n,o,u,d),!0;case"dragenter":return So=Bu(So,e,n,o,u,d),!0;case"mouseover":return xo=Bu(xo,e,n,o,u,d),!0;case"pointerover":var p=d.pointerId;return Pu.set(p,Bu(Pu.get(p)||null,e,n,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,zu.set(p,Bu(zu.get(p)||null,e,n,o,u,d)),!0}return!1}function Uv(e){var n=Ai(e.target);if(n!==null){var o=m(n);if(o!==null){if(n=o.tag,n===13){if(n=_(o),n!==null){e.blockedOn=n,zr(e.priority,function(){if(o.tag===13){var u=Ei();u=Ys(u);var d=io(o,u);d!==null&&Ti(d,o,u),nm(o,u)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nh(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=sm(e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);hi=u,o.target.dispatchEvent(u),hi=null}else return n=ai(o),n!==null&&Pv(n),e.blockedOn=o,!1;n.shift()}return!0}function jv(e,n,o){Nh(e)&&o.delete(n)}function dE(){om=!1,To!==null&&Nh(To)&&(To=null),So!==null&&Nh(So)&&(So=null),xo!==null&&Nh(xo)&&(xo=null),Pu.forEach(jv),zu.forEach(jv)}function Rh(e,n){e.blockedOn===n&&(e.blockedOn=null,om||(om=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dE)))}var Ih=null;function Hv(e){Ih!==e&&(Ih=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ih===e&&(Ih=null);for(var n=0;n<e.length;n+=3){var o=e[n],u=e[n+1],d=e[n+2];if(typeof u!="function"){if(rm(u||o)===null)continue;break}var p=ai(o);p!==null&&(e.splice(n,3),n-=3,rd(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Uu(e){function n(z){return Rh(z,e)}To!==null&&Rh(To,e),So!==null&&Rh(So,e),xo!==null&&Rh(xo,e),Pu.forEach(n),zu.forEach(n);for(var o=0;o<Co.length;o++){var u=Co[o];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Co.length&&(o=Co[0],o.blockedOn===null);)Uv(o),o.blockedOn===null&&Co.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],S=d[Be]||null;if(typeof p=="function")S||Hv(o);else if(S){var A=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[Be]||null)A=S.formAction;else if(rm(d)!==null)continue}else A=S.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),Hv(o)}}}function am(e){this._internalRoot=e}Mh.prototype.render=am.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,u=Ei();kv(o,u,e,n,null,null)},Mh.prototype.unmount=am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;kv(e.current,2,null,e,null,null),fh(),n[Zn]=null}};function Mh(e){this._internalRoot=e}Mh.prototype.unstable_scheduleHydration=function(e){if(e){var n=gs();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Co.length&&n!==0&&n<Co[o].priority;o++);Co.splice(o,0,e),o===0&&Uv(e)}};var Vv=t.version;if(Vv!=="19.1.1")throw Error(a(527,Vv,"19.1.1"));pt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=b(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var mE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Te=Oh.inject(mE),se=Oh}catch{}}return Hu.createRoot=function(e,n){if(!c(e))throw Error(a(299));var o=!1,u="",d=sg,p=rg,S=og,A=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(A=n.unstable_transitionCallbacks)),n=Ov(e,1,!1,null,null,o,u,d,p,S,A,null),e[Zn]=n.current,qd(e),new am(n)},Hu.hydrateRoot=function(e,n,o){if(!c(e))throw Error(a(299));var u=!1,d="",p=sg,S=rg,A=og,z=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),n=Ov(e,1,!0,n,o??null,u,d,p,S,A,z,W),n.context=Lv(null),o=n.current,u=Ei(),u=Ys(u),d=lo(u),d.callback=null,uo(o,d,u),o=u,n.current.lanes=o,Ci(n,o),Ds(n),e[Zn]=n.current,qd(e),new Mh(n)},Hu.version="19.1.1",Hu}var Jv;function TE(){if(Jv)return cm.exports;Jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),cm.exports=EE(),cm.exports}var SE=TE();const xE=()=>{};var $v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt=function(r,t){if(!r)throw Zl(t)},Zl=function(r){return new Error("Firebase Database ("+R0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let c=r.charCodeAt(a);c<128?t[i++]=c:c<2048?(t[i++]=c>>6|192,t[i++]=c&63|128):(c&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(c=65536+((c&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=c>>18|240,t[i++]=c>>12&63|128,t[i++]=c>>6&63|128,t[i++]=c&63|128):(t[i++]=c>>12|224,t[i++]=c>>6&63|128,t[i++]=c&63|128)}return t},CE=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const c=r[i++];if(c<128)t[a++]=String.fromCharCode(c);else if(c>191&&c<224){const m=r[i++];t[a++]=String.fromCharCode((c&31)<<6|m&63)}else if(c>239&&c<365){const m=r[i++],_=r[i++],y=r[i++],b=((c&7)<<18|(m&63)<<12|(_&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(b>>10)),t[a++]=String.fromCharCode(56320+(b&1023))}else{const m=r[i++],_=r[i++];t[a++]=String.fromCharCode((c&15)<<12|(m&63)<<6|_&63)}}return t.join("")},tp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let c=0;c<r.length;c+=3){const m=r[c],_=c+1<r.length,y=_?r[c+1]:0,b=c+2<r.length,T=b?r[c+2]:0,R=m>>2,k=(m&3)<<4|y>>4;let D=(y&15)<<2|T>>6,nt=T&63;b||(nt=64,_||(D=64)),a.push(i[R],i[k],i[D],i[nt])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(I0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):CE(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let c=0;c<r.length;){const m=i[r.charAt(c++)],y=c<r.length?i[r.charAt(c)]:0;++c;const T=c<r.length?i[r.charAt(c)]:64;++c;const k=c<r.length?i[r.charAt(c)]:64;if(++c,m==null||y==null||T==null||k==null)throw new AE;const D=m<<2|y>>4;if(a.push(D),T!==64){const nt=y<<4&240|T>>2;if(a.push(nt),k!==64){const et=T<<6&192|k;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M0=function(r){const t=I0(r);return tp.encodeByteArray(t,!0)},Fh=function(r){return M0(r).replace(/\./g,"")},Gh=function(r){try{return tp.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r){return O0(void 0,r)}function O0(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!RE(i)||(r[i]=O0(r[i],t[i]));return r}function RE(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=()=>IE().__FIREBASE_DEFAULTS__,OE=()=>{if(typeof process>"u"||typeof $v>"u")return;const r=$v.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},LE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Gh(r[1]);return t&&JSON.parse(t)},ep=()=>{try{return xE()||ME()||OE()||LE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},L0=r=>ep()?.emulatorHosts?.[r],k0=r=>{const t=L0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},D0=()=>ep()?.config,P0=r=>ep()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function np(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",c=r.iat||0,m=r.sub||r.user_id;if(!m)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _={iss:`https://securetoken.google.com/${a}`,aud:a,iat:c,exp:c+3600,auth_time:c,sub:m,user_id:m,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fh(JSON.stringify(i)),Fh(JSON.stringify(_)),""].join(".")}const Ku={};function kE(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ku))Ku[t]?r.emulator.push(t):r.prod.push(t);return r}function DE(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let ty=!1;function ip(r,t){if(typeof window>"u"||typeof document>"u"||!Ha(window.location.host)||Ku[r]===t||Ku[r]||ty)return;Ku[r]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",m=kE().prod.length>0;function _(){const D=document.getElementById(a);D&&D.remove()}function y(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function b(D,nt){D.setAttribute("width","24"),D.setAttribute("id",nt),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function T(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{ty=!0,_()},D}function R(D,nt){D.setAttribute("id",nt),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function k(){const D=DE(a),nt=i("text"),et=document.getElementById(nt)||document.createElement("span"),at=i("learnmore"),mt=document.getElementById(at)||document.createElement("a"),Nt=i("preprendIcon"),Mt=document.getElementById(Nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ft=D.element;y(ft),R(mt,at);const xt=T();b(Mt,Nt),ft.append(Mt,et,mt,xt),document.body.appendChild(ft)}m?(et.innerText="Preview backend disconnected.",Mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",nt)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",k):k()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function PE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function B0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BE(){const r=qn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function UE(){return R0.NODE_ADMIN===!0}function jE(){try{return typeof indexedDB=="object"}catch{return!1}}function HE(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(a);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{t(c.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="FirebaseError";class Ar extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=VE,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},c=`${this.service}/${t}`,m=this.errors[t],_=m?qE(m,a):"Error",y=`${this.serviceName}: ${_} (${c}).`;return new Ar(c,y,a)}}function qE(r,t){return r.replace(FE,(i,a)=>{const c=t[a];return c!=null?String(c):`<${a}?>`})}const FE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(r){return JSON.parse(r)}function en(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=function(r){let t={},i={},a={},c="";try{const m=r.split(".");t=rc(Gh(m[0])||""),i=rc(Gh(m[1])||""),c=m[2],a=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:a,signature:c}},GE=function(r){const t=U0(r),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},ZE=function(r){const t=U0(r).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function jl(r,t){if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}function Mm(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Zh(r,t,i){const a={};for(const c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=t.call(i,r[c],c,r));return a}function Po(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const c of i){if(!a.includes(c))return!1;const m=r[c],_=t[c];if(ey(m)&&ey(_)){if(!Po(m,_))return!1}else if(m!==_)return!1}for(const c of a)if(!i.includes(c))return!1;return!0}function ey(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(c=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Zu(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[c,m]=a.split("=");t[decodeURIComponent(c)]=decodeURIComponent(m)}}),t}function Yu(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const a=this.W_;if(typeof t=="string")for(let k=0;k<16;k++)a[k]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let k=0;k<16;k++)a[k]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let k=16;k<80;k++){const D=a[k-3]^a[k-8]^a[k-14]^a[k-16];a[k]=(D<<1|D>>>31)&4294967295}let c=this.chain_[0],m=this.chain_[1],_=this.chain_[2],y=this.chain_[3],b=this.chain_[4],T,R;for(let k=0;k<80;k++){k<40?k<20?(T=y^m&(_^y),R=1518500249):(T=m^_^y,R=1859775393):k<60?(T=m&_|y&(m|_),R=2400959708):(T=m^_^y,R=3395469782);const D=(c<<5|c>>>27)+T+b+R+a[k]&4294967295;b=y,y=_,_=(m<<30|m>>>2)&4294967295,m=c,c=D}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+m&4294967295,this.chain_[2]=this.chain_[2]+_&4294967295,this.chain_[3]=this.chain_[3]+y&4294967295,this.chain_[4]=this.chain_[4]+b&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const a=i-this.blockSize;let c=0;const m=this.buf_;let _=this.inbuf_;for(;c<i;){if(_===0)for(;c<=a;)this.compress_(t,c),c+=this.blockSize;if(typeof t=="string"){for(;c<i;)if(m[_]=t.charCodeAt(c),++_,++c,_===this.blockSize){this.compress_(m),_=0;break}}else for(;c<i;)if(m[_]=t[c],++_,++c,_===this.blockSize){this.compress_(m),_=0;break}}this.inbuf_=_,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let c=0;c<5;c++)for(let m=24;m>=0;m-=8)t[a]=this.chain_[c]>>m&255,++a;return t}}function WE(r,t){const i=new KE(r,t);return i.subscribe.bind(i)}class KE{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let c;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");XE(t,["next","error","complete"])?c=t:c={next:t,error:i,complete:a},c.next===void 0&&(c.next=mm),c.error===void 0&&(c.error=mm),c.complete===void 0&&(c.complete=mm);const m=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),m}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XE(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function mm(){}function rp(r,t){return`${r} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let c=r.charCodeAt(a);if(c>=55296&&c<=56319){const m=c-55296;a++,dt(a<r.length,"Surrogate pair missing trail surrogate.");const _=r.charCodeAt(a)-56320;c=65536+(m<<10)+_}c<128?t[i++]=c:c<2048?(t[i++]=c>>6|192,t[i++]=c&63|128):c<65536?(t[i++]=c>>12|224,t[i++]=c>>6&63|128,t[i++]=c&63|128):(t[i++]=c>>18|240,t[i++]=c>>12&63|128,t[i++]=c>>6&63|128,t[i++]=c&63|128)}return t},_f=function(r){let t=0;for(let i=0;i<r.length;i++){const a=r.charCodeAt(i);a<128?t++:a<2048?t+=2:a>=55296&&a<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(r){return r&&r._delegate?r._delegate:r}class zo{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new pf;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&a.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tT(t))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const m=this.getOrInitializeService({instanceIdentifier:c});a.resolve(m)}catch{}}}}clearInstance(t=xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xa){return this.instances.has(t)}getOptions(t=xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[m,_]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(m);a===y&&_.resolve(c)}return c}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),c=this.onInitCallbacks.get(a)??new Set;c.add(t),this.onInitCallbacks.set(a,c);const m=this.instances.get(a);return m&&t(m,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const c of a)try{c(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$E(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=xa){return this.component?this.component.multipleInstances?t:xa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $E(r){return r===xa?void 0:r}function tT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new JE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ue||(ue={}));const nT={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},iT=ue.INFO,sT={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},rT=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),c=sT[t];if(c)console[c](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gf{constructor(t){this.name=t,this._logLevel=iT,this._logHandler=rT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ue))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...t),this._logHandler(this,ue.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...t),this._logHandler(this,ue.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...t),this._logHandler(this,ue.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...t),this._logHandler(this,ue.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...t),this._logHandler(this,ue.ERROR,...t)}}const oT=(r,t)=>t.some(i=>r instanceof i);let ny,iy;function aT(){return ny||(ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lT(){return iy||(iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j0=new WeakMap,Om=new WeakMap,H0=new WeakMap,pm=new WeakMap,op=new WeakMap;function uT(r){const t=new Promise((i,a)=>{const c=()=>{r.removeEventListener("success",m),r.removeEventListener("error",_)},m=()=>{i(Oo(r.result)),c()},_=()=>{a(r.error),c()};r.addEventListener("success",m),r.addEventListener("error",_)});return t.then(i=>{i instanceof IDBCursor&&j0.set(i,r)}).catch(()=>{}),op.set(t,r),t}function cT(r){if(Om.has(r))return;const t=new Promise((i,a)=>{const c=()=>{r.removeEventListener("complete",m),r.removeEventListener("error",_),r.removeEventListener("abort",_)},m=()=>{i(),c()},_=()=>{a(r.error||new DOMException("AbortError","AbortError")),c()};r.addEventListener("complete",m),r.addEventListener("error",_),r.addEventListener("abort",_)});Om.set(r,t)}let Lm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Om.get(r);if(t==="objectStoreNames")return r.objectStoreNames||H0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Oo(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function hT(r){Lm=r(Lm)}function fT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(_m(this),t,...i);return H0.set(a,t.sort?t.sort():[t]),Oo(a)}:lT().includes(r)?function(...t){return r.apply(_m(this),t),Oo(j0.get(this))}:function(...t){return Oo(r.apply(_m(this),t))}}function dT(r){return typeof r=="function"?fT(r):(r instanceof IDBTransaction&&cT(r),oT(r,aT())?new Proxy(r,Lm):r)}function Oo(r){if(r instanceof IDBRequest)return uT(r);if(pm.has(r))return pm.get(r);const t=dT(r);return t!==r&&(pm.set(r,t),op.set(t,r)),t}const _m=r=>op.get(r);function mT(r,t,{blocked:i,upgrade:a,blocking:c,terminated:m}={}){const _=indexedDB.open(r,t),y=Oo(_);return a&&_.addEventListener("upgradeneeded",b=>{a(Oo(_.result),b.oldVersion,b.newVersion,Oo(_.transaction),b)}),i&&_.addEventListener("blocked",b=>i(b.oldVersion,b.newVersion,b)),y.then(b=>{m&&b.addEventListener("close",()=>m()),c&&b.addEventListener("versionchange",T=>c(T.oldVersion,T.newVersion,T))}).catch(()=>{}),y}const pT=["get","getKey","getAll","getAllKeys","count"],_T=["put","add","delete","clear"],gm=new Map;function sy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(gm.get(t))return gm.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,c=_T.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(c||pT.includes(i)))return;const m=async function(_,...y){const b=this.transaction(_,c?"readwrite":"readonly");let T=b.store;return a&&(T=T.index(y.shift())),(await Promise.all([T[i](...y),c&&b.done]))[0]};return gm.set(t,m),m}hT(r=>({...r,get:(t,i,a)=>sy(t,i)||r.get(t,i,a),has:(t,i)=>!!sy(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function vT(r){return r.getComponent()?.type==="VERSION"}const km="@firebase/app",ry="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new gf("@firebase/app"),yT="@firebase/app-compat",wT="@firebase/analytics-compat",bT="@firebase/analytics",ET="@firebase/app-check-compat",TT="@firebase/app-check",ST="@firebase/auth",xT="@firebase/auth-compat",CT="@firebase/database",AT="@firebase/data-connect",NT="@firebase/database-compat",RT="@firebase/functions",IT="@firebase/functions-compat",MT="@firebase/installations",OT="@firebase/installations-compat",LT="@firebase/messaging",kT="@firebase/messaging-compat",DT="@firebase/performance",PT="@firebase/performance-compat",zT="@firebase/remote-config",BT="@firebase/remote-config-compat",UT="@firebase/storage",jT="@firebase/storage-compat",HT="@firebase/firestore",VT="@firebase/ai",qT="@firebase/firestore-compat",FT="firebase",GT="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",ZT={[km]:"fire-core",[yT]:"fire-core-compat",[bT]:"fire-analytics",[wT]:"fire-analytics-compat",[TT]:"fire-app-check",[ET]:"fire-app-check-compat",[ST]:"fire-auth",[xT]:"fire-auth-compat",[CT]:"fire-rtdb",[AT]:"fire-data-connect",[NT]:"fire-rtdb-compat",[RT]:"fire-fn",[IT]:"fire-fn-compat",[MT]:"fire-iid",[OT]:"fire-iid-compat",[LT]:"fire-fcm",[kT]:"fire-fcm-compat",[DT]:"fire-perf",[PT]:"fire-perf-compat",[zT]:"fire-rc",[BT]:"fire-rc-compat",[UT]:"fire-gcs",[jT]:"fire-gcs-compat",[HT]:"fire-fst",[qT]:"fire-fst-compat",[VT]:"fire-vertex","fire-js":"fire-js",[FT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,YT=new Map,Pm=new Map;function oy(r,t){try{r.container.addComponent(t)}catch(i){Tr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ka(r){const t=r.name;if(Pm.has(t))return Tr.debug(`There were multiple attempts to register component ${t}.`),!1;Pm.set(t,r);for(const i of Yh.values())oy(i,r);for(const i of YT.values())oy(i,r);return!0}function vf(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lo=new vc("app","Firebase",WT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=GT;function V0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Dm,automaticDataCollectionEnabled:!0,...t},c=a.name;if(typeof c!="string"||!c)throw Lo.create("bad-app-name",{appName:String(c)});if(i||(i=D0()),!i)throw Lo.create("no-options");const m=Yh.get(c);if(m){if(Po(i,m.options)&&Po(a,m.config))return m;throw Lo.create("duplicate-app",{appName:c})}const _=new eT(c);for(const b of Pm.values())_.addComponent(b);const y=new KT(i,a,_);return Yh.set(c,y),y}function ap(r=Dm){const t=Yh.get(r);if(!t&&r===Dm&&D0())return V0();if(!t)throw Lo.create("no-app",{appName:r});return t}function js(r,t,i){let a=ZT[r]??r;i&&(a+=`-${i}`);const c=a.match(/\s|\//),m=t.match(/\s|\//);if(c||m){const _=[`Unable to register library "${a}" with version "${t}":`];c&&_.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&m&&_.push("and"),m&&_.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tr.warn(_.join(" "));return}ka(new zo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebase-heartbeat-database",QT=1,oc="firebase-heartbeat-store";let vm=null;function q0(){return vm||(vm=mT(XT,QT,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(oc)}catch(i){console.warn(i)}}}}).catch(r=>{throw Lo.create("idb-open",{originalErrorMessage:r.message})})),vm}async function JT(r){try{const i=(await q0()).transaction(oc),a=await i.objectStore(oc).get(F0(r));return await i.done,a}catch(t){if(t instanceof Ar)Tr.warn(t.message);else{const i=Lo.create("idb-get",{originalErrorMessage:t?.message});Tr.warn(i.message)}}}async function ay(r,t){try{const a=(await q0()).transaction(oc,"readwrite");await a.objectStore(oc).put(t,F0(r)),await a.done}catch(i){if(i instanceof Ar)Tr.warn(i.message);else{const a=Lo.create("idb-set",{originalErrorMessage:i?.message});Tr.warn(a.message)}}}function F0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=1024,tS=30;class eS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ly();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>tS){const c=sS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Tr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ly(),{heartbeatsToSend:i,unsentEntries:a}=nS(this._heartbeatsCache.heartbeats),c=Fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Tr.warn(t),""}}}function ly(){return new Date().toISOString().substring(0,10)}function nS(r,t=$T){const i=[];let a=r.slice();for(const c of r){const m=i.find(_=>_.agent===c.agent);if(m){if(m.dates.push(c.date),uy(i)>t){m.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),uy(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class iS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jE()?HE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ay(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ay(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function uy(r){return Fh(JSON.stringify({version:2,heartbeats:r})).length}function sS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r){ka(new zo("platform-logger",t=>new gT(t),"PRIVATE")),ka(new zo("heartbeat",t=>new eS(t),"PRIVATE")),js(km,ry,r),js(km,ry,"esm2020"),js("fire-js","")}rS("");function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oS=G0,Z0=new vc("auth","Firebase",G0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new gf("@firebase/auth");function aS(r,...t){Wh.logLevel<=ue.WARN&&Wh.warn(`Auth (${Va}): ${r}`,...t)}function Bh(r,...t){Wh.logLevel<=ue.ERROR&&Wh.error(`Auth (${Va}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(r,...t){throw up(r,...t)}function ms(r,...t){return up(r,...t)}function lp(r,t,i){const a={...oS(),[t]:i};return new vc("auth","Firebase",a).create(t,{appName:r.name})}function br(r){return lp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lS(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Vi(r,"argument-error"),lp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function up(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Z0.create(r,...t)}function kt(r,t,...i){if(!r)throw up(t,...i)}function vr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bh(t),new Error(t)}function Sr(r,t){r||vr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(){return typeof self<"u"&&self.location?.href||""}function uS(){return cy()==="http:"||cy()==="https:"}function cy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uS()||zE()||"connection"in navigator)?navigator.onLine:!0}function hS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,i){this.shortDelay=t,this.longDelay=i,Sr(i>t,"Short delay should be less than long delay!"),this.isMobile=sp()||B0()}get(){return cS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r,t){Sr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mS=new yc(3e4,6e4);function Rr(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ir(r,t,i,a,c={}){return W0(r,c,async()=>{let m={},_={};a&&(t==="GET"?_=a:m={body:JSON.stringify(a)});const y=Yl({key:r.config.apiKey,..._}).slice(1),b=await r._getAdditionalHeaders();b["Content-Type"]="application/json",r.languageCode&&(b["X-Firebase-Locale"]=r.languageCode);const T={method:t,headers:b,...m};return PE()||(T.referrerPolicy="no-referrer"),r.emulatorConfig&&Ha(r.emulatorConfig.host)&&(T.credentials="include"),Y0.fetch()(await K0(r,r.config.apiHost,i,y),T)})}async function W0(r,t,i){r._canInitEmulator=!1;const a={...fS,...t};try{const c=new _S(r),m=await Promise.race([i(),c.promise]);c.clearNetworkTimeout();const _=await m.json();if("needConfirmation"in _)throw Lh(r,"account-exists-with-different-credential",_);if(m.ok&&!("errorMessage"in _))return _;{const y=m.ok?_.errorMessage:_.error.message,[b,T]=y.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(r,"credential-already-in-use",_);if(b==="EMAIL_EXISTS")throw Lh(r,"email-already-in-use",_);if(b==="USER_DISABLED")throw Lh(r,"user-disabled",_);const R=a[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw lp(r,R,T);Vi(r,R)}}catch(c){if(c instanceof Ar)throw c;Vi(r,"network-request-failed",{message:String(c)})}}async function wc(r,t,i,a,c={}){const m=await Ir(r,t,i,a,c);return"mfaPendingCredential"in m&&Vi(r,"multi-factor-auth-required",{_serverResponse:m}),m}async function K0(r,t,i,a){const c=`${t}${i}?${a}`,m=r,_=m.config.emulator?cp(r.config,c):`${r.config.apiScheme}://${c}`;return dS.includes(i)&&(await m._persistenceManagerAvailable,m._getPersistenceType()==="COOKIE")?m._getPersistence()._getFinalTarget(_).toString():_}function pS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _S{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ms(this.auth,"network-request-failed")),mS.get())})}}function Lh(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const c=ms(r,t,a);return c.customData._tokenResponse=i,c}function hy(r){return r!==void 0&&r.enterprise!==void 0}class gS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return pS(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vS(r,t){return Ir(r,"GET","/v2/recaptchaConfig",Rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(r,t){return Ir(r,"POST","/v1/accounts:delete",t)}async function Kh(r,t){return Ir(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wS(r,t=!1){const i=Fn(r),a=await i.getIdToken(t),c=hp(a);kt(c&&c.exp&&c.auth_time&&c.iat,i.auth,"internal-error");const m=typeof c.firebase=="object"?c.firebase:void 0,_=m?.sign_in_provider;return{claims:c,token:a,authTime:Xu(ym(c.auth_time)),issuedAtTime:Xu(ym(c.iat)),expirationTime:Xu(ym(c.exp)),signInProvider:_||null,signInSecondFactor:m?.sign_in_second_factor||null}}function ym(r){return Number(r)*1e3}function hp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const c=Gh(i);return c?JSON.parse(c):(Bh("Failed to decode base64 JWT payload"),null)}catch(c){return Bh("Caught error parsing JWT payload as JSON",c?.toString()),null}}function fy(r){const t=hp(r);return kt(t,"internal-error"),kt(typeof t.exp<"u","internal-error"),kt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ar&&bS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function bS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(r){const t=r.auth,i=await r.getIdToken(),a=await ac(r,Kh(t,{idToken:i}));kt(a?.users.length,t,"internal-error");const c=a.users[0];r._notifyReloadListener(c);const m=c.providerUserInfo?.length?X0(c.providerUserInfo):[],_=SS(r.providerData,m),y=r.isAnonymous,b=!(r.email&&c.passwordHash)&&!_?.length,T=y?b:!1,R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:_,metadata:new Bm(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,R)}async function TS(r){const t=Fn(r);await Xh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SS(r,t){return[...r.filter(a=>!t.some(c=>c.providerId===a.providerId)),...t]}function X0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(r,t){const i=await W0(r,{},async()=>{const a=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:c,apiKey:m}=r.config,_=await K0(r,c,"/v1/token",`key=${m}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:y,body:a};return r.emulatorConfig&&Ha(r.emulatorConfig.host)&&(b.credentials="include"),Y0.fetch()(_,b)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function CS(r,t){return Ir(r,"POST","/v2/accounts:revokeToken",Rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){kt(t.idToken,"internal-error"),kt(typeof t.idToken<"u","internal-error"),kt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){kt(t.length!==0,"internal-error");const i=fy(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(kt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:c,expiresIn:m}=await xS(t,i);this.updateTokensAndExpiration(a,c,Number(m))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:c,expirationTime:m}=i,_=new Ol;return a&&(kt(typeof a=="string","internal-error",{appName:t}),_.refreshToken=a),c&&(kt(typeof c=="string","internal-error",{appName:t}),_.accessToken=c),m&&(kt(typeof m=="number","internal-error",{appName:t}),_.expirationTime=m),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(r,t){kt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class cs{constructor({uid:t,auth:i,stsTokenManager:a,...c}){this.providerId="firebase",this.proactiveRefresh=new ES(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Bm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await ac(this,this.stsTokenManager.getToken(this.auth,t));return kt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return wS(this,t)}reload(){return TS(this)}_assign(t){this!==t&&(kt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new cs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(br(this.auth));const t=await this.getIdToken();return await ac(this,yS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,c=i.email??void 0,m=i.phoneNumber??void 0,_=i.photoURL??void 0,y=i.tenantId??void 0,b=i._redirectEventId??void 0,T=i.createdAt??void 0,R=i.lastLoginAt??void 0,{uid:k,emailVerified:D,isAnonymous:nt,providerData:et,stsTokenManager:at}=i;kt(k&&at,t,"internal-error");const mt=Ol.fromJSON(this.name,at);kt(typeof k=="string",t,"internal-error"),No(a,t.name),No(c,t.name),kt(typeof D=="boolean",t,"internal-error"),kt(typeof nt=="boolean",t,"internal-error"),No(m,t.name),No(_,t.name),No(y,t.name),No(b,t.name),No(T,t.name),No(R,t.name);const Nt=new cs({uid:k,auth:t,email:c,emailVerified:D,displayName:a,isAnonymous:nt,photoURL:_,phoneNumber:m,tenantId:y,stsTokenManager:mt,createdAt:T,lastLoginAt:R});return et&&Array.isArray(et)&&(Nt.providerData=et.map(Mt=>({...Mt}))),b&&(Nt._redirectEventId=b),Nt}static async _fromIdTokenResponse(t,i,a=!1){const c=new Ol;c.updateFromServerResponse(i);const m=new cs({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:a});return await Xh(m),m}static async _fromGetAccountInfoResponse(t,i,a){const c=i.users[0];kt(c.localId!==void 0,"internal-error");const m=c.providerUserInfo!==void 0?X0(c.providerUserInfo):[],_=!(c.email&&c.passwordHash)&&!m?.length,y=new Ol;y.updateFromIdToken(a);const b=new cs({uid:c.localId,auth:t,stsTokenManager:y,isAnonymous:_}),T={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new Bm(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!m?.length};return Object.assign(b,T),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map;function yr(r){Sr(r instanceof Function,"Expected a class definition");let t=dy.get(r);return t?(Sr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,dy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Q0.type="NONE";const my=Q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r,t,i){return`firebase:${r}:${t}:${i}`}class Ll{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:c,name:m}=this.auth;this.fullUserKey=Uh(this.userKey,c.apiKey,m),this.fullPersistenceKey=Uh("persistence",c.apiKey,m),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kh(this.auth,{idToken:t}).catch(()=>{});return i?cs._fromGetAccountInfoResponse(this.auth,i,t):null}return cs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ll(yr(my),t,a);const c=(await Promise.all(i.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let m=c[0]||yr(my);const _=Uh(a,t.config.apiKey,t.name);let y=null;for(const T of i)try{const R=await T._get(_);if(R){let k;if(typeof R=="string"){const D=await Kh(t,{idToken:R}).catch(()=>{});if(!D)break;k=await cs._fromGetAccountInfoResponse(t,D,R)}else k=cs._fromJSON(t,R);T!==m&&(y=k),m=T;break}}catch{}const b=c.filter(T=>T._shouldAllowMigration);return!m._shouldAllowMigration||!b.length?new Ll(m,t,a):(m=b[0],y&&await m._set(_,y.toJSON()),await Promise.all(i.map(async T=>{if(T!==m)try{await T._remove(_)}catch{}})),new Ll(m,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(e1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(i1(t))return"Blackberry";if(s1(t))return"Webos";if($0(t))return"Safari";if((t.includes("chrome/")||t1(t))&&!t.includes("edge/"))return"Chrome";if(n1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function J0(r=qn()){return/firefox\//i.test(r)}function $0(r=qn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function t1(r=qn()){return/crios\//i.test(r)}function e1(r=qn()){return/iemobile/i.test(r)}function n1(r=qn()){return/android/i.test(r)}function i1(r=qn()){return/blackberry/i.test(r)}function s1(r=qn()){return/webos/i.test(r)}function fp(r=qn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AS(r=qn()){return fp(r)&&!!window.navigator?.standalone}function NS(){return BE()&&document.documentMode===10}function r1(r=qn()){return fp(r)||n1(r)||s1(r)||i1(r)||/windows phone/i.test(r)||e1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r,t=[]){let i;switch(r){case"Browser":i=py(qn());break;case"Worker":i=`${py(qn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Va}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=m=>new Promise((_,y)=>{try{const b=t(m);_(b)}catch(b){y(b)}});a.onAbort=i,this.queue.push(a);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const c of i)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(r,t={}){return Ir(r,"GET","/v2/passwordPolicy",Rr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=6;class OS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??MS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),c&&(i.meetsMaxPasswordLength=t.length<=c)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let c=0;c<t.length;c++)a=t.charAt(c),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,c,m){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,i,a,c){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _y(this),this.idTokenSubscription=new _y(this),this.beforeStateQueue=new RS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(m=>this._resolvePersistenceManagerAvailable=m)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=yr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ll.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kh(this,{idToken:t}),a=await cs._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(_=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(_,_))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=this.redirectUser?._redirectEventId,_=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!m||m===_)&&y?.user&&(a=y.user,c=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(a)}catch(m){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(br(this));const i=t?Fn(t):null;return i&&kt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&kt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IS(this),i=new OS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new vc("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await CS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&yr(t)||this._popupRedirectResolver;kt(i,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[yr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,c){if(this._deleted)return()=>{};const m=typeof i=="function"?i:i.next.bind(i);let _=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(kt(y,this,"internal-error"),y.then(()=>{_||m(this.currentUser)}),typeof i=="function"){const b=t.addObserver(i,a,c);return()=>{_=!0,b()}}else{const b=t.addObserver(i);return()=>{_=!0,b()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=o1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&aS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Mr(r){return Fn(r)}class _y{constructor(t){this.auth=t,this.observer=null,this.addObserver=WE(i=>this.observer=i)}get next(){return kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kS(r){yf=r}function a1(r){return yf.loadJS(r)}function DS(){return yf.recaptchaEnterpriseScript}function PS(){return yf.gapiScript}function zS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class BS{constructor(){this.enterprise=new US}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class US{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const jS="recaptcha-enterprise",l1="NO_RECAPTCHA";class HS{constructor(t){this.type=jS,this.auth=Mr(t)}async verify(t="verify",i=!1){async function a(m){if(!i){if(m.tenantId==null&&m._agentRecaptchaConfig!=null)return m._agentRecaptchaConfig.siteKey;if(m.tenantId!=null&&m._tenantRecaptchaConfigs[m.tenantId]!==void 0)return m._tenantRecaptchaConfigs[m.tenantId].siteKey}return new Promise(async(_,y)=>{vS(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(b.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const T=new gS(b);return m.tenantId==null?m._agentRecaptchaConfig=T:m._tenantRecaptchaConfigs[m.tenantId]=T,_(T.siteKey)}}).catch(b=>{y(b)})})}function c(m,_,y){const b=window.grecaptcha;hy(b)?b.enterprise.ready(()=>{b.enterprise.execute(m,{action:t}).then(T=>{_(T)}).catch(()=>{_(l1)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BS().execute("siteKey",{action:"verify"}):new Promise((m,_)=>{a(this.auth).then(y=>{if(!i&&hy(window.grecaptcha))c(y,m,_);else{if(typeof window>"u"){_(new Error("RecaptchaVerifier is only supported in browser"));return}let b=DS();b.length!==0&&(b+=y),a1(b).then(()=>{c(y,m,_)}).catch(T=>{_(T)})}}).catch(y=>{_(y)})})}}async function gy(r,t,i,a=!1,c=!1){const m=new HS(r);let _;if(c)_=l1;else try{_=await m.verify(i)}catch{_=await m.verify(i,!0)}const y={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const b=y.phoneEnrollmentInfo.phoneNumber,T=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:b,recaptchaToken:T,captchaResponse:_,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const b=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:b,captchaResponse:_,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return a?Object.assign(y,{captchaResp:_}):Object.assign(y,{captchaResponse:_}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function Qh(r,t,i,a,c){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await gy(r,t,i,i==="getOobCode");return a(r,m)}else return a(r,t).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const _=await gy(r,t,i,i==="getOobCode");return a(r,_)}else return Promise.reject(m)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(r,t){const i=vf(r,"auth");if(i.isInitialized()){const c=i.getImmediate(),m=i.getOptions();if(Po(m,t??{}))return c;Vi(c,"already-initialized")}return i.initialize({options:t})}function qS(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(yr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function FS(r,t,i){const a=Mr(r);kt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const c=!1,m=u1(t),{host:_,port:y}=GS(t),b=y===null?"":`:${y}`,T={url:`${m}//${_}${b}/`},R=Object.freeze({host:_,port:y,protocol:m.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!a._canInitEmulator){kt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),kt(Po(T,a.config.emulator)&&Po(R,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=T,a.emulatorConfig=R,a.settings.appVerificationDisabledForTesting=!0,Ha(_)?(np(`${m}//${_}${b}`),ip("Auth",!0)):ZS()}function u1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function GS(r){const t=u1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(a);if(c){const m=c[1];return{host:m,port:vy(a.substr(m.length+1))}}else{const[m,_]=a.split(":");return{host:m,port:vy(_)}}}function vy(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function ZS(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return vr("not implemented")}_getIdTokenResponse(t){return vr("not implemented")}_linkToIdToken(t,i){return vr("not implemented")}_getReauthenticationResolver(t){return vr("not implemented")}}async function YS(r,t){return Ir(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(r,t){return wc(r,"POST","/v1/accounts:signInWithPassword",Rr(r,t))}async function KS(r,t){return Ir(r,"POST","/v1/accounts:sendOobCode",Rr(r,t))}async function XS(r,t){return KS(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(r,t){return wc(r,"POST","/v1/accounts:signInWithEmailLink",Rr(r,t))}async function JS(r,t){return wc(r,"POST","/v1/accounts:signInWithEmailLink",Rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends dp{constructor(t,i,a,c=null){super("password",a),this._email=t,this._password=i,this._tenantId=c}static _fromEmailAndPassword(t,i){return new lc(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new lc(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(t,i,"signInWithPassword",WS);case"emailLink":return QS(t,{email:this._email,oobCode:this._password});default:Vi(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(t,a,"signUpPassword",YS);case"emailLink":return JS(t,{idToken:i,email:this._email,oobCode:this._password});default:Vi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,t){return wc(r,"POST","/v1/accounts:signInWithIdp",Rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="http://localhost";class Da extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Vi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:c,...m}=i;if(!a||!c)return null;const _=new Da(a,c);return _.idToken=m.idToken||void 0,_.accessToken=m.accessToken||void 0,_.secret=m.secret,_.nonce=m.nonce,_.pendingToken=m.pendingToken||null,_}_getIdTokenResponse(t){const i=this.buildRequest();return kl(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,kl(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,kl(t,i)}buildRequest(){const t={requestUri:$S,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Yl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ex(r){const t=Zu(Yu(r)).link,i=t?Zu(Yu(t)).deep_link_id:null,a=Zu(Yu(r)).deep_link_id;return(a?Zu(Yu(a)).link:null)||a||i||t||r}class mp{constructor(t){const i=Zu(Yu(t)),a=i.apiKey??null,c=i.oobCode??null,m=tx(i.mode??null);kt(a&&c&&m,"argument-error"),this.apiKey=a,this.operation=m,this.code=c,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=ex(t);try{return new mp(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(t,i){return lc._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=mp.parseLink(i);return kt(a,"argument-error"),lc._fromEmailAndCode(t,a.code,a.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends pp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends bc{constructor(){super("facebook.com")}static credential(t){return Da._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ro.credentialFromTaggedObject(t)}static credentialFromError(t){return Ro.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ro.credential(t.oauthAccessToken)}catch{return null}}}Ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Da._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends bc{constructor(){super("github.com")}static credential(t){return Da._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Io.credentialFromTaggedObject(t)}static credentialFromError(t){return Io.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Io.credential(t.oauthAccessToken)}catch{return null}}}Io.GITHUB_SIGN_IN_METHOD="github.com";Io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends bc{constructor(){super("twitter.com")}static credential(t,i){return Da._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Mo.credentialFromTaggedObject(t)}static credentialFromError(t){return Mo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Mo.credential(i,a)}catch{return null}}}Mo.TWITTER_SIGN_IN_METHOD="twitter.com";Mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(r,t){return wc(r,"POST","/v1/accounts:signUp",Rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,c=!1){const m=await cs._fromIdTokenResponse(t,a,c),_=yy(a);return new Pa({user:m,providerId:_,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const c=yy(a);return new Pa({user:t,providerId:c,_tokenResponse:a,operationType:i})}}function yy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Ar{constructor(t,i,a,c){super(i.code,i.message),this.operationType=a,this.user=c,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,c){return new Jh(t,i,a,c)}}function c1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(m=>{throw m.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(r,m,t,a):m})}async function ix(r,t,i=!1){const a=await ac(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Pa._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(r,t,i=!1){const{auth:a}=r;if($n(a.app))return Promise.reject(br(a));const c="reauthenticate";try{const m=await ac(r,c1(a,c,t,r),i);kt(m.idToken,a,"internal-error");const _=hp(m.idToken);kt(_,a,"internal-error");const{sub:y}=_;return kt(r.uid===y,a,"user-mismatch"),Pa._forOperation(r,c,m)}catch(m){throw m?.code==="auth/user-not-found"&&Vi(a,"user-mismatch"),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(r,t,i=!1){if($n(r.app))return Promise.reject(br(r));const a="signIn",c=await c1(r,a,t),m=await Pa._fromIdTokenResponse(r,a,c);return i||await r._updateCurrentUser(m.user),m}async function rx(r,t){return h1(Mr(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r){const t=Mr(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ox(r,t,i){const a=Mr(r);await Qh(a,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",XS)}async function ax(r,t,i){if($n(r.app))return Promise.reject(br(r));const a=Mr(r),_=await Qh(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nx).catch(b=>{throw b.code==="auth/password-does-not-meet-requirements"&&f1(r),b}),y=await Pa._fromIdTokenResponse(a,"signIn",_);return await a._updateCurrentUser(y.user),y}function lx(r,t,i){return $n(r.app)?Promise.reject(br(r)):rx(Fn(r),Wl.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&f1(r),a})}function ux(r,t,i,a){return Fn(r).onIdTokenChanged(t,i,a)}function cx(r,t,i){return Fn(r).beforeAuthStateChanged(t,i)}function hx(r,t,i,a){return Fn(r).onAuthStateChanged(t,i,a)}function _p(r){return Fn(r).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=1e3,dx=10;class m1 extends d1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),c=this.localCache[i];a!==c&&t(i,c,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((_,y,b)=>{this.notifyListeners(_,b)});return}const a=t.key;i?this.detachListener():this.stopPolling();const c=()=>{const _=this.storage.getItem(a);!i&&this.localCache[a]===_||this.notifyListeners(a,_)},m=this.storage.getItem(a);NS()&&m!==t.newValue&&t.newValue!==t.oldValue?setTimeout(c,dx):c()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const c of Array.from(a))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},fx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}m1.type="LOCAL";const mx=m1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends d1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}p1.type="SESSION";const _1=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(c=>c.isListeningto(t));if(i)return i;const a=new wf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:c,data:m}=i.data,_=this.handlersMap[c];if(!_?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:c});const y=Array.from(_).map(async T=>T(i.origin,m)),b=await px(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:c,response:b})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let m,_;return new Promise((y,b)=>{const T=gp("",20);c.port1.start();const R=setTimeout(()=>{b(new Error("unsupported_event"))},a);_={messageChannel:c,onMessage(k){const D=k;if(D.data.eventId===T)switch(D.data.status){case"ack":clearTimeout(R),m=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(m),y(D.data.response);break;default:clearTimeout(R),clearTimeout(m),b(new Error("invalid_response"));break}}},this.handlers.add(_),c.port1.addEventListener("message",_.onMessage),this.target.postMessage({eventType:t,eventId:T,data:i},[c.port2])}).finally(()=>{_&&this.removeMessageHandler(_)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(){return window}function gx(r){Hs().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return typeof Hs().WorkerGlobalScope<"u"&&typeof Hs().importScripts=="function"}async function vx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yx(){return navigator?.serviceWorker?.controller||null}function wx(){return g1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebaseLocalStorageDb",bx=1,tf="firebaseLocalStorage",y1="fbase_key";class Ec{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bf(r,t){return r.transaction([tf],t?"readwrite":"readonly").objectStore(tf)}function Ex(){const r=indexedDB.deleteDatabase(v1);return new Ec(r).toPromise()}function Um(){const r=indexedDB.open(v1,bx);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(tf,{keyPath:y1})}catch(c){i(c)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(tf)?t(a):(a.close(),await Ex(),t(await Um()))})})}async function wy(r,t,i){const a=bf(r,!0).put({[y1]:t,value:i});return new Ec(a).toPromise()}async function Tx(r,t){const i=bf(r,!1).get(t),a=await new Ec(i).toPromise();return a===void 0?null:a.value}function by(r,t){const i=bf(r,!0).delete(t);return new Ec(i).toPromise()}const Sx=800,xx=3;class w1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>xx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(wx()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vx(),!this.activeServiceWorker)return;this.sender=new _x(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Um();return await wy(t,$h,"1"),await by(t,$h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>wy(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Tx(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>by(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(c=>{const m=bf(c,!1).getAll();return new Ec(m).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:c,value:m}of t)a.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(m)&&(this.notifyListeners(c,m),i.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!a.has(c)&&(this.notifyListeners(c,null),i.push(c));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const c of Array.from(a))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w1.type="LOCAL";const Cx=w1;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r,t){return t?yr(t):(kt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends dp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return kl(t,this._buildIdpRequest())}_linkToIdToken(t,i){return kl(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return kl(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Ax(r){return h1(r.auth,new vp(r),r.bypassAuthState)}function Nx(r){const{auth:t,user:i}=r;return kt(i,t,"internal-error"),sx(i,new vp(r),r.bypassAuthState)}async function Rx(r){const{auth:t,user:i}=r;return kt(i,t,"internal-error"),ix(i,new vp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,i,a,c,m=!1){this.auth=t,this.resolver=a,this.user=c,this.bypassAuthState=m,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:c,tenantId:m,error:_,type:y}=t;if(_){this.reject(_);return}const b={auth:this.auth,requestUri:i,sessionId:a,tenantId:m||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(b))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ax;case"linkViaPopup":case"linkViaRedirect":return Rx;case"reauthViaPopup":case"reauthViaRedirect":return Nx;default:Vi(this.auth,"internal-error")}}resolve(t){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new yc(2e3,1e4);async function T1(r,t,i){if($n(r.app))return Promise.reject(ms(r,"operation-not-supported-in-this-environment"));const a=Mr(r);lS(r,t,pp);const c=b1(a,i);return new Na(a,"signInViaPopup",t,c).executeNotNull()}class Na extends E1{constructor(t,i,a,c,m){super(t,i,c,m),this.provider=a,this.authWindow=null,this.pollId=null,Na.currentPopupAction&&Na.currentPopupAction.cancel(),Na.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return kt(t,this.auth,"internal-error"),t}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const t=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Na.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ix.get())};t()}}Na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="pendingRedirect",jh=new Map;class Ox extends E1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=jh.get(this.auth._key());if(!t){try{const a=await Lx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}jh.set(this.auth._key(),t)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lx(r,t){const i=Px(t),a=Dx(r);if(!await a._isAvailable())return!1;const c=await a._get(i)==="true";return await a._remove(i),c}function kx(r,t){jh.set(r._key(),t)}function Dx(r){return yr(r._redirectPersistence)}function Px(r){return Uh(Mx,r.config.apiKey,r.name)}async function zx(r,t,i=!1){if($n(r.app))return Promise.reject(br(r));const a=Mr(r),c=b1(a,t),_=await new Ox(a,c,i).execute();return _&&!i&&(delete _.user._redirectEventId,await a._persistUserIfCurrent(_.user),await a._setRedirectUser(null,t)),_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=600*1e3;class Ux{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jx(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!S1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ms(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Bx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ey(t))}saveEventToCache(t){this.cachedEventUids.add(Ey(t)),this.lastProcessedEventTime=Date.now()}}function Ey(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function S1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function jx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(r,t={}){return Ir(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qx=/^https?/;async function Fx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Hx(r);for(const i of t)try{if(Gx(i))return}catch{}Vi(r,"unauthorized-domain")}function Gx(r){const t=zm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const _=new URL(r);return _.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&_.hostname===a}if(!qx.test(i))return!1;if(Vx.test(r))return a===r;const c=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new yc(3e4,6e4);function Ty(){const r=Hs().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Yx(r){return new Promise((t,i)=>{function a(){Ty(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ty(),i(ms(r,"network-request-failed"))},timeout:Zx.get()})}if(Hs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Hs().gapi?.load)a();else{const c=zS("iframefcb");return Hs()[c]=()=>{gapi.load?a():i(ms(r,"network-request-failed"))},a1(`${PS()}?onload=${c}`).catch(m=>i(m))}}).catch(t=>{throw Hh=null,t})}let Hh=null;function Wx(r){return Hh=Hh||Yx(r),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new yc(5e3,15e3),Xx="__/auth/iframe",Qx="emulator/auth/iframe",Jx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$x=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t2(r){const t=r.config;kt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?cp(t,Qx):`https://${r.config.authDomain}/${Xx}`,a={apiKey:t.apiKey,appName:r.name,v:Va},c=$x.get(r.config.apiHost);c&&(a.eid=c);const m=r._getFrameworks();return m.length&&(a.fw=m.join(",")),`${i}?${Yl(a).slice(1)}`}async function e2(r){const t=await Wx(r),i=Hs().gapi;return kt(i,r,"internal-error"),t.open({where:document.body,url:t2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jx,dontclear:!0},a=>new Promise(async(c,m)=>{await a.restyle({setHideOnLeave:!1});const _=ms(r,"network-request-failed"),y=Hs().setTimeout(()=>{m(_)},Kx.get());function b(){Hs().clearTimeout(y),c(a)}a.ping(b).then(b,()=>{m(_)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i2=500,s2=600,r2="_blank",o2="http://localhost";class Sy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(r,t,i,a=i2,c=s2){const m=Math.max((window.screen.availHeight-c)/2,0).toString(),_=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const b={...n2,width:a.toString(),height:c.toString(),top:m,left:_},T=qn().toLowerCase();i&&(y=t1(T)?r2:i),J0(T)&&(t=t||o2,b.scrollbars="yes");const R=Object.entries(b).reduce((D,[nt,et])=>`${D}${nt}=${et},`,"");if(AS(T)&&y!=="_self")return l2(t||"",y),new Sy(null);const k=window.open(t||"",y,R);kt(k,r,"popup-blocked");try{k.focus()}catch{}return new Sy(k)}function l2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="__/auth/handler",c2="emulator/auth/handler",h2=encodeURIComponent("fac");async function xy(r,t,i,a,c,m){kt(r.config.authDomain,r,"auth-domain-config-required"),kt(r.config.apiKey,r,"invalid-api-key");const _={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Va,eventId:c};if(t instanceof pp){t.setDefaultLanguage(r.languageCode),_.providerId=t.providerId||"",Mm(t.getCustomParameters())||(_.customParameters=JSON.stringify(t.getCustomParameters()));for(const[R,k]of Object.entries({}))_[R]=k}if(t instanceof bc){const R=t.getScopes().filter(k=>k!=="");R.length>0&&(_.scopes=R.join(","))}r.tenantId&&(_.tid=r.tenantId);const y=_;for(const R of Object.keys(y))y[R]===void 0&&delete y[R];const b=await r._getAppCheckToken(),T=b?`#${h2}=${encodeURIComponent(b)}`:"";return`${f2(r)}?${Yl(y).slice(1)}${T}`}function f2({config:r}){return r.emulator?cp(r,c2):`https://${r.authDomain}/${u2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class d2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=zx,this._overrideRedirectResult=kx}async _openPopup(t,i,a,c){Sr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const m=await xy(t,i,a,zm(),c);return a2(t,m,gp())}async _openRedirect(t,i,a,c){await this._originValidation(t);const m=await xy(t,i,a,zm(),c);return gx(m),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:c,promise:m}=this.eventManagers[i];return c?Promise.resolve(c):(Sr(m,"If manager is not set, promise should be"),m)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await e2(t),a=new Ux(t);return i.register("authEvent",c=>(kt(c?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(wm,{type:wm},c=>{const m=c?.[0]?.[wm];m!==void 0&&i(!!m),Vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Fx(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return r1()||$0()||fp()}}const m2=d2;var Cy="@firebase/auth",Ay="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(r){ka(new zo("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),c=t.getProvider("heartbeat"),m=t.getProvider("app-check-internal"),{apiKey:_,authDomain:y}=a.options;kt(_&&!_.includes(":"),"invalid-api-key",{appName:a.name});const b={apiKey:_,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o1(r)},T=new LS(a,c,m,b);return qS(T,i),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ka(new zo("auth-internal",t=>{const i=Mr(t.getProvider("auth").getImmediate());return(a=>new p2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(Cy,Ay,_2(r)),js(Cy,Ay,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=300,y2=P0("authIdTokenMaxAge")||v2;let Ny=null;const w2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>y2)return;const c=i?.token;Ny!==c&&(Ny=c,await fetch(r,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function b2(r=ap()){const t=vf(r,"auth");if(t.isInitialized())return t.getImmediate();const i=VS(r,{popupRedirectResolver:m2,persistence:[Cx,mx,_1]}),a=P0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const m=new URL(a,location.origin);if(location.origin===m.origin){const _=w2(m.toString());cx(i,_,()=>_(i.currentUser)),ux(i,y=>_(y))}}const c=L0("auth");return c&&FS(i,`http://${c}`),i}function E2(){return document.getElementsByTagName("head")?.[0]??document}kS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=c=>{const m=ms("internal-error");m.customData=c,i(m)},a.type="text/javascript",a.charset="UTF-8",E2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");var T2="firebase",S2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(T2,S2,"app");var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yp;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,M){function O(){}O.prototype=M.prototype,V.D=M.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(H,U,q){for(var B=Array(arguments.length-2),we=2;we<arguments.length;we++)B[we-2]=arguments[we];return M.prototype[U].apply(H,B)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(V,M,O){O||(O=0);var H=Array(16);if(typeof M=="string")for(var U=0;16>U;++U)H[U]=M.charCodeAt(O++)|M.charCodeAt(O++)<<8|M.charCodeAt(O++)<<16|M.charCodeAt(O++)<<24;else for(U=0;16>U;++U)H[U]=M[O++]|M[O++]<<8|M[O++]<<16|M[O++]<<24;M=V.g[0],O=V.g[1],U=V.g[2];var q=V.g[3],B=M+(q^O&(U^q))+H[0]+3614090360&4294967295;M=O+(B<<7&4294967295|B>>>25),B=q+(U^M&(O^U))+H[1]+3905402710&4294967295,q=M+(B<<12&4294967295|B>>>20),B=U+(O^q&(M^O))+H[2]+606105819&4294967295,U=q+(B<<17&4294967295|B>>>15),B=O+(M^U&(q^M))+H[3]+3250441966&4294967295,O=U+(B<<22&4294967295|B>>>10),B=M+(q^O&(U^q))+H[4]+4118548399&4294967295,M=O+(B<<7&4294967295|B>>>25),B=q+(U^M&(O^U))+H[5]+1200080426&4294967295,q=M+(B<<12&4294967295|B>>>20),B=U+(O^q&(M^O))+H[6]+2821735955&4294967295,U=q+(B<<17&4294967295|B>>>15),B=O+(M^U&(q^M))+H[7]+4249261313&4294967295,O=U+(B<<22&4294967295|B>>>10),B=M+(q^O&(U^q))+H[8]+1770035416&4294967295,M=O+(B<<7&4294967295|B>>>25),B=q+(U^M&(O^U))+H[9]+2336552879&4294967295,q=M+(B<<12&4294967295|B>>>20),B=U+(O^q&(M^O))+H[10]+4294925233&4294967295,U=q+(B<<17&4294967295|B>>>15),B=O+(M^U&(q^M))+H[11]+2304563134&4294967295,O=U+(B<<22&4294967295|B>>>10),B=M+(q^O&(U^q))+H[12]+1804603682&4294967295,M=O+(B<<7&4294967295|B>>>25),B=q+(U^M&(O^U))+H[13]+4254626195&4294967295,q=M+(B<<12&4294967295|B>>>20),B=U+(O^q&(M^O))+H[14]+2792965006&4294967295,U=q+(B<<17&4294967295|B>>>15),B=O+(M^U&(q^M))+H[15]+1236535329&4294967295,O=U+(B<<22&4294967295|B>>>10),B=M+(U^q&(O^U))+H[1]+4129170786&4294967295,M=O+(B<<5&4294967295|B>>>27),B=q+(O^U&(M^O))+H[6]+3225465664&4294967295,q=M+(B<<9&4294967295|B>>>23),B=U+(M^O&(q^M))+H[11]+643717713&4294967295,U=q+(B<<14&4294967295|B>>>18),B=O+(q^M&(U^q))+H[0]+3921069994&4294967295,O=U+(B<<20&4294967295|B>>>12),B=M+(U^q&(O^U))+H[5]+3593408605&4294967295,M=O+(B<<5&4294967295|B>>>27),B=q+(O^U&(M^O))+H[10]+38016083&4294967295,q=M+(B<<9&4294967295|B>>>23),B=U+(M^O&(q^M))+H[15]+3634488961&4294967295,U=q+(B<<14&4294967295|B>>>18),B=O+(q^M&(U^q))+H[4]+3889429448&4294967295,O=U+(B<<20&4294967295|B>>>12),B=M+(U^q&(O^U))+H[9]+568446438&4294967295,M=O+(B<<5&4294967295|B>>>27),B=q+(O^U&(M^O))+H[14]+3275163606&4294967295,q=M+(B<<9&4294967295|B>>>23),B=U+(M^O&(q^M))+H[3]+4107603335&4294967295,U=q+(B<<14&4294967295|B>>>18),B=O+(q^M&(U^q))+H[8]+1163531501&4294967295,O=U+(B<<20&4294967295|B>>>12),B=M+(U^q&(O^U))+H[13]+2850285829&4294967295,M=O+(B<<5&4294967295|B>>>27),B=q+(O^U&(M^O))+H[2]+4243563512&4294967295,q=M+(B<<9&4294967295|B>>>23),B=U+(M^O&(q^M))+H[7]+1735328473&4294967295,U=q+(B<<14&4294967295|B>>>18),B=O+(q^M&(U^q))+H[12]+2368359562&4294967295,O=U+(B<<20&4294967295|B>>>12),B=M+(O^U^q)+H[5]+4294588738&4294967295,M=O+(B<<4&4294967295|B>>>28),B=q+(M^O^U)+H[8]+2272392833&4294967295,q=M+(B<<11&4294967295|B>>>21),B=U+(q^M^O)+H[11]+1839030562&4294967295,U=q+(B<<16&4294967295|B>>>16),B=O+(U^q^M)+H[14]+4259657740&4294967295,O=U+(B<<23&4294967295|B>>>9),B=M+(O^U^q)+H[1]+2763975236&4294967295,M=O+(B<<4&4294967295|B>>>28),B=q+(M^O^U)+H[4]+1272893353&4294967295,q=M+(B<<11&4294967295|B>>>21),B=U+(q^M^O)+H[7]+4139469664&4294967295,U=q+(B<<16&4294967295|B>>>16),B=O+(U^q^M)+H[10]+3200236656&4294967295,O=U+(B<<23&4294967295|B>>>9),B=M+(O^U^q)+H[13]+681279174&4294967295,M=O+(B<<4&4294967295|B>>>28),B=q+(M^O^U)+H[0]+3936430074&4294967295,q=M+(B<<11&4294967295|B>>>21),B=U+(q^M^O)+H[3]+3572445317&4294967295,U=q+(B<<16&4294967295|B>>>16),B=O+(U^q^M)+H[6]+76029189&4294967295,O=U+(B<<23&4294967295|B>>>9),B=M+(O^U^q)+H[9]+3654602809&4294967295,M=O+(B<<4&4294967295|B>>>28),B=q+(M^O^U)+H[12]+3873151461&4294967295,q=M+(B<<11&4294967295|B>>>21),B=U+(q^M^O)+H[15]+530742520&4294967295,U=q+(B<<16&4294967295|B>>>16),B=O+(U^q^M)+H[2]+3299628645&4294967295,O=U+(B<<23&4294967295|B>>>9),B=M+(U^(O|~q))+H[0]+4096336452&4294967295,M=O+(B<<6&4294967295|B>>>26),B=q+(O^(M|~U))+H[7]+1126891415&4294967295,q=M+(B<<10&4294967295|B>>>22),B=U+(M^(q|~O))+H[14]+2878612391&4294967295,U=q+(B<<15&4294967295|B>>>17),B=O+(q^(U|~M))+H[5]+4237533241&4294967295,O=U+(B<<21&4294967295|B>>>11),B=M+(U^(O|~q))+H[12]+1700485571&4294967295,M=O+(B<<6&4294967295|B>>>26),B=q+(O^(M|~U))+H[3]+2399980690&4294967295,q=M+(B<<10&4294967295|B>>>22),B=U+(M^(q|~O))+H[10]+4293915773&4294967295,U=q+(B<<15&4294967295|B>>>17),B=O+(q^(U|~M))+H[1]+2240044497&4294967295,O=U+(B<<21&4294967295|B>>>11),B=M+(U^(O|~q))+H[8]+1873313359&4294967295,M=O+(B<<6&4294967295|B>>>26),B=q+(O^(M|~U))+H[15]+4264355552&4294967295,q=M+(B<<10&4294967295|B>>>22),B=U+(M^(q|~O))+H[6]+2734768916&4294967295,U=q+(B<<15&4294967295|B>>>17),B=O+(q^(U|~M))+H[13]+1309151649&4294967295,O=U+(B<<21&4294967295|B>>>11),B=M+(U^(O|~q))+H[4]+4149444226&4294967295,M=O+(B<<6&4294967295|B>>>26),B=q+(O^(M|~U))+H[11]+3174756917&4294967295,q=M+(B<<10&4294967295|B>>>22),B=U+(M^(q|~O))+H[2]+718787259&4294967295,U=q+(B<<15&4294967295|B>>>17),B=O+(q^(U|~M))+H[9]+3951481745&4294967295,V.g[0]=V.g[0]+M&4294967295,V.g[1]=V.g[1]+(U+(B<<21&4294967295|B>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+q&4294967295}a.prototype.u=function(V,M){M===void 0&&(M=V.length);for(var O=M-this.blockSize,H=this.B,U=this.h,q=0;q<M;){if(U==0)for(;q<=O;)c(this,V,q),q+=this.blockSize;if(typeof V=="string"){for(;q<M;)if(H[U++]=V.charCodeAt(q++),U==this.blockSize){c(this,H),U=0;break}}else for(;q<M;)if(H[U++]=V[q++],U==this.blockSize){c(this,H),U=0;break}}this.h=U,this.o+=M},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var M=1;M<V.length-8;++M)V[M]=0;var O=8*this.o;for(M=V.length-8;M<V.length;++M)V[M]=O&255,O/=256;for(this.u(V),V=Array(16),M=O=0;4>M;++M)for(var H=0;32>H;H+=8)V[O++]=this.g[M]>>>H&255;return V};function m(V,M){var O=y;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=M(V)}function _(V,M){this.h=M;for(var O=[],H=!0,U=V.length-1;0<=U;U--){var q=V[U]|0;H&&q==M||(O[U]=q,H=!1)}this.g=O}var y={};function b(V){return-128<=V&&128>V?m(V,function(M){return new _([M|0],0>M?-1:0)}):new _([V|0],0>V?-1:0)}function T(V){if(isNaN(V)||!isFinite(V))return k;if(0>V)return mt(T(-V));for(var M=[],O=1,H=0;V>=O;H++)M[H]=V/O|0,O*=4294967296;return new _(M,0)}function R(V,M){if(V.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V.charAt(0)=="-")return mt(R(V.substring(1),M));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=T(Math.pow(M,8)),H=k,U=0;U<V.length;U+=8){var q=Math.min(8,V.length-U),B=parseInt(V.substring(U,U+q),M);8>q?(q=T(Math.pow(M,q)),H=H.j(q).add(T(B))):(H=H.j(O),H=H.add(T(B)))}return H}var k=b(0),D=b(1),nt=b(16777216);r=_.prototype,r.m=function(){if(at(this))return-mt(this).m();for(var V=0,M=1,O=0;O<this.g.length;O++){var H=this.i(O);V+=(0<=H?H:4294967296+H)*M,M*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(et(this))return"0";if(at(this))return"-"+mt(this).toString(V);for(var M=T(Math.pow(V,6)),O=this,H="";;){var U=xt(O,M).g;O=Nt(O,U.j(M));var q=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=U,et(O))return q+H;for(;6>q.length;)q="0"+q;H=q+H}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function et(V){if(V.h!=0)return!1;for(var M=0;M<V.g.length;M++)if(V.g[M]!=0)return!1;return!0}function at(V){return V.h==-1}r.l=function(V){return V=Nt(this,V),at(V)?-1:et(V)?0:1};function mt(V){for(var M=V.g.length,O=[],H=0;H<M;H++)O[H]=~V.g[H];return new _(O,~V.h).add(D)}r.abs=function(){return at(this)?mt(this):this},r.add=function(V){for(var M=Math.max(this.g.length,V.g.length),O=[],H=0,U=0;U<=M;U++){var q=H+(this.i(U)&65535)+(V.i(U)&65535),B=(q>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);H=B>>>16,q&=65535,B&=65535,O[U]=B<<16|q}return new _(O,O[O.length-1]&-2147483648?-1:0)};function Nt(V,M){return V.add(mt(M))}r.j=function(V){if(et(this)||et(V))return k;if(at(this))return at(V)?mt(this).j(mt(V)):mt(mt(this).j(V));if(at(V))return mt(this.j(mt(V)));if(0>this.l(nt)&&0>V.l(nt))return T(this.m()*V.m());for(var M=this.g.length+V.g.length,O=[],H=0;H<2*M;H++)O[H]=0;for(H=0;H<this.g.length;H++)for(var U=0;U<V.g.length;U++){var q=this.i(H)>>>16,B=this.i(H)&65535,we=V.i(U)>>>16,Oe=V.i(U)&65535;O[2*H+2*U]+=B*Oe,Mt(O,2*H+2*U),O[2*H+2*U+1]+=q*Oe,Mt(O,2*H+2*U+1),O[2*H+2*U+1]+=B*we,Mt(O,2*H+2*U+1),O[2*H+2*U+2]+=q*we,Mt(O,2*H+2*U+2)}for(H=0;H<M;H++)O[H]=O[2*H+1]<<16|O[2*H];for(H=M;H<2*M;H++)O[H]=0;return new _(O,0)};function Mt(V,M){for(;(V[M]&65535)!=V[M];)V[M+1]+=V[M]>>>16,V[M]&=65535,M++}function ft(V,M){this.g=V,this.h=M}function xt(V,M){if(et(M))throw Error("division by zero");if(et(V))return new ft(k,k);if(at(V))return M=xt(mt(V),M),new ft(mt(M.g),mt(M.h));if(at(M))return M=xt(V,mt(M)),new ft(mt(M.g),M.h);if(30<V.g.length){if(at(V)||at(M))throw Error("slowDivide_ only works with positive integers.");for(var O=D,H=M;0>=H.l(V);)O=Ct(O),H=Ct(H);var U=Vt(O,1),q=Vt(H,1);for(H=Vt(H,2),O=Vt(O,2);!et(H);){var B=q.add(H);0>=B.l(V)&&(U=U.add(O),q=B),H=Vt(H,1),O=Vt(O,1)}return M=Nt(V,U.j(M)),new ft(U,M)}for(U=k;0<=V.l(M);){for(O=Math.max(1,Math.floor(V.m()/M.m())),H=Math.ceil(Math.log(O)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),q=T(O),B=q.j(M);at(B)||0<B.l(V);)O-=H,q=T(O),B=q.j(M);et(q)&&(q=D),U=U.add(q),V=Nt(V,B)}return new ft(U,V)}r.A=function(V){return xt(this,V).h},r.and=function(V){for(var M=Math.max(this.g.length,V.g.length),O=[],H=0;H<M;H++)O[H]=this.i(H)&V.i(H);return new _(O,this.h&V.h)},r.or=function(V){for(var M=Math.max(this.g.length,V.g.length),O=[],H=0;H<M;H++)O[H]=this.i(H)|V.i(H);return new _(O,this.h|V.h)},r.xor=function(V){for(var M=Math.max(this.g.length,V.g.length),O=[],H=0;H<M;H++)O[H]=this.i(H)^V.i(H);return new _(O,this.h^V.h)};function Ct(V){for(var M=V.g.length+1,O=[],H=0;H<M;H++)O[H]=V.i(H)<<1|V.i(H-1)>>>31;return new _(O,V.h)}function Vt(V,M){var O=M>>5;M%=32;for(var H=V.g.length-O,U=[],q=0;q<H;q++)U[q]=0<M?V.i(q+O)>>>M|V.i(q+O+1)<<32-M:V.i(q+O);return new _(U,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=T,_.fromString=R,yp=_}).apply(typeof Ry<"u"?Ry:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=i(this);function c(h,v){if(v)t:{var E=a;h=h.split(".");for(var N=0;N<h.length-1;N++){var Z=h[N];if(!(Z in E))break t;E=E[Z]}h=h[h.length-1],N=E[h],v=v(N),v!=N&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}function m(h,v){h instanceof String&&(h+="");var E=0,N=!1,Z={next:function(){if(!N&&E<h.length){var J=E++;return{value:v(J,h[J]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}c("Array.prototype.values",function(h){return h||function(){return m(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var _=_||{},y=this||self;function b(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function T(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function R(h,v,E){return h.call.apply(h.bind,arguments)}function k(h,v,E){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,N),h.apply(v,Z)}}return function(){return h.apply(v,arguments)}}function D(h,v,E){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:k,D.apply(null,arguments)}function nt(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function et(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(N,Z,J){for(var ht=Array(arguments.length-2),re=2;re<arguments.length;re++)ht[re-2]=arguments[re];return v.prototype[Z].apply(N,ht)}}function at(h){const v=h.length;if(0<v){const E=Array(v);for(let N=0;N<v;N++)E[N]=h[N];return E}return[]}function mt(h,v){for(let E=1;E<arguments.length;E++){const N=arguments[E];if(b(N)){const Z=h.length||0,J=N.length||0;h.length=Z+J;for(let ht=0;ht<J;ht++)h[Z+ht]=N[ht]}else h.push(N)}}class Nt{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Mt(h){return/^[\s\xa0]*$/.test(h)}function ft(){var h=y.navigator;return h&&(h=h.userAgent)?h:""}function xt(h){return xt[" "](h),h}xt[" "]=function(){};var Ct=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Vt(h,v,E){for(const N in h)v.call(E,h[N],N,h)}function V(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function M(h){const v={};for(const E in h)v[E]=h[E];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(h,v){let E,N;for(let Z=1;Z<arguments.length;Z++){N=arguments[Z];for(E in N)h[E]=N[E];for(let J=0;J<O.length;J++)E=O[J],Object.prototype.hasOwnProperty.call(N,E)&&(h[E]=N[E])}}function U(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function q(h){y.setTimeout(()=>{throw h},0)}function B(){var h=Jt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class we{constructor(){this.h=this.g=null}add(v,E){const N=Oe.get();N.set(v,E),this.h?this.h.next=N:this.g=N,this.h=N}}var Oe=new Nt(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,ut=!1,Jt=new we,I=()=>{const h=y.Promise.resolve(void 0);pt=()=>{h.then(tt)}};var tt=()=>{for(var h;h=B();){try{h.h.call(h.g)}catch(E){q(E)}var v=Oe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ut=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var gt=(function(){if(!y.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};y.addEventListener("test",E,v),y.removeEventListener("test",E,v)}catch{}return h})();function yt(h,v){if(lt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Ct){t:{try{xt(v.nodeName);var Z=!0;break t}catch{}Z=!1}Z||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:_t[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&yt.aa.h.call(this)}}et(yt,lt);var _t={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function ii(h,v,E,N,Z){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!N,this.ha=Z,this.key=++Qt,this.da=this.fa=!1}function Si(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function si(h){this.src=h,this.g={},this.h=0}si.prototype.add=function(h,v,E,N,Z){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var ht=qi(h,v,N,Z);return-1<ht?(v=h[ht],E||(v.fa=!1)):(v=new ii(v,this.src,J,!!N,Z),v.fa=E,h.push(v)),v};function ri(h,v){var E=v.type;if(E in h.g){var N=h.g[E],Z=Array.prototype.indexOf.call(N,v,void 0),J;(J=0<=Z)&&Array.prototype.splice.call(N,Z,1),J&&(Si(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function qi(h,v,E,N){for(var Z=0;Z<h.length;++Z){var J=h[Z];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==N)return Z}return-1}var qs="closure_lm_"+(1e6*Math.random()|0),Lr={};function Vo(h,v,E,N,Z){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Vo(h,v[J],E,N,Z);return null}return E=Za(E),h&&h[pe]?h.K(v,E,T(N)?!!N.capture:!1,Z):Tn(h,v,E,!1,N,Z)}function Tn(h,v,E,N,Z,J){if(!v)throw Error("Invalid event type");var ht=T(Z)?!!Z.capture:!!Z,re=Gs(h);if(re||(h[qs]=re=new si(h)),E=re.add(v,E,N,ht,J),E.proxy)return E;if(N=kr(),E.proxy=N,N.src=h,N.listener=E,h.addEventListener)gt||(Z=ht),Z===void 0&&(Z=!1),h.addEventListener(v.toString(),N,Z);else if(h.attachEvent)h.attachEvent(Fi(v.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function kr(){function h(E){return v.call(h.src,h.listener,E)}const v=Ga;return h}function qo(h,v,E,N,Z){if(Array.isArray(v))for(var J=0;J<v.length;J++)qo(h,v[J],E,N,Z);else N=T(N)?!!N.capture:!!N,E=Za(E),h&&h[pe]?(h=h.i,v=String(v).toString(),v in h.g&&(J=h.g[v],E=qi(J,E,N,Z),-1<E&&(Si(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete h.g[v],h.h--)))):h&&(h=Gs(h))&&(v=h.g[v.toString()],h=-1,v&&(h=qi(v,E,N,Z)),(E=-1<h?v[h]:null)&&Fs(E))}function Fs(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[pe])ri(v.i,h);else{var E=h.type,N=h.proxy;v.removeEventListener?v.removeEventListener(E,N,h.capture):v.detachEvent?v.detachEvent(Fi(E),N):v.addListener&&v.removeListener&&v.removeListener(N),(E=Gs(v))?(ri(E,h),E.h==0&&(E.src=null,v[qs]=null)):Si(h)}}}function Fi(h){return h in Lr?Lr[h]:Lr[h]="on"+h}function Ga(h,v){if(h.da)h=!0;else{v=new yt(v,this);var E=h.listener,N=h.ha||h.src;h.fa&&Fs(h),h=E.call(N,v)}return h}function Gs(h){return h=h[qs],h instanceof si?h:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Za(h){return typeof h=="function"?h:(h[Fo]||(h[Fo]=function(v){return h.handleEvent(v)}),h[Fo])}function Te(){ct.call(this),this.i=new si(this),this.M=this,this.F=null}et(Te,ct),Te.prototype[pe]=!0,Te.prototype.removeEventListener=function(h,v,E,N){qo(this,h,v,E,N)};function se(h,v){var E,N=h.F;if(N)for(E=[];N;N=N.F)E.push(N);if(h=h.M,N=v.type||v,typeof v=="string")v=new lt(v,h);else if(v instanceof lt)v.target=v.target||h;else{var Z=v;v=new lt(N,h),H(v,Z)}if(Z=!0,E)for(var J=E.length-1;0<=J;J--){var ht=v.g=E[J];Z=Sn(ht,N,!0,v)&&Z}if(ht=v.g=h,Z=Sn(ht,N,!0,v)&&Z,Z=Sn(ht,N,!1,v)&&Z,E)for(J=0;J<E.length;J++)ht=v.g=E[J],Z=Sn(ht,N,!1,v)&&Z}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],N=0;N<E.length;N++)Si(E[N]);delete h.g[v],h.h--}}this.F=null},Te.prototype.K=function(h,v,E,N){return this.i.add(String(h),v,!1,E,N)},Te.prototype.L=function(h,v,E,N){return this.i.add(String(h),v,!0,E,N)};function Sn(h,v,E,N){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Z=!0,J=0;J<v.length;++J){var ht=v[J];if(ht&&!ht.da&&ht.capture==E){var re=ht.listener,Ce=ht.ha||ht.src;ht.fa&&ri(h.i,ht),Z=re.call(Ce,N)!==!1&&Z}}return Z&&!N.defaultPrevented}function sn(h,v,E){if(typeof h=="function")E&&(h=D(h,E));else if(h&&typeof h.handleEvent=="function")h=D(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:y.setTimeout(h,v||0)}function Go(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,Go(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Ya extends ct{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(h){ct.call(this),this.h=h,this.g={}}et(Zs,ct);var _s=[];function Gi(h){Vt(h.g,function(v,E){this.g.hasOwnProperty(E)&&Fs(v)},h),h.g={}}Zs.prototype.N=function(){Zs.aa.N.call(this),Gi(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=y.JSON.stringify,Dr=y.JSON.parse,oi=class{stringify(h){return y.JSON.stringify(h,void 0)}parse(h){return y.JSON.parse(h,void 0)}};function Zo(){}Zo.prototype.h=null;function Yo(h){return h.h||(h.h=h.i())}function Wo(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){lt.call(this,"d")}et(Ci,lt);function Ko(){lt.call(this,"c")}et(Ko,lt);var Zi={},Xo=null;function Ys(){return Xo=Xo||new Te}Zi.La="serverreachability";function Pr(h){lt.call(this,Zi.La,h)}et(Pr,lt);function gs(h){const v=Ys();se(v,new Pr(v))}Zi.STAT_EVENT="statevent";function zr(h,v){lt.call(this,Zi.STAT_EVENT,h),this.stat=v}et(zr,lt);function Se(h){const v=Ys();se(v,new zr(v,h))}Zi.Ma="timingevent";function He(h,v){lt.call(this,Zi.Ma,h),this.size=v}et(He,lt);function Be(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){h()},v)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function xn(h,v,E,N,Z,J){h.info(function(){if(h.g)if(J)for(var ht="",re=J.split("&"),Ce=0;Ce<re.length;Ce++){var Zt=re[Ce].split("=");if(1<Zt.length){var Ze=Zt[0];Zt=Zt[1];var he=Ze.split("_");ht=2<=he.length&&he[1]=="type"?ht+(Ze+"="+Zt+"&"):ht+(Ze+"=redacted&")}}else ht=null;else ht=J;return"XMLHTTP REQ ("+N+") [attempt "+Z+"]: "+v+`
`+E+`
`+ht})}function St(h,v,E,N,Z,J,ht){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Z+"]: "+v+`
`+E+`
`+J+" "+ht})}function Yi(h,v,E,N){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+vs(h,E)+(N?" "+N:"")})}function Qo(h,v){h.info(function(){return"TIMEOUT: "+v})}Zn.prototype.info=function(){};function vs(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var N=E[h];if(!(2>N.length)){var Z=N[1];if(Array.isArray(Z)&&!(1>Z.length)){var J=Z[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ht=1;ht<Z.length;ht++)Z[ht]=""}}}}return Gn(E)}catch{return v}}var ys={NO_ERROR:0,TIMEOUT:8},Ai={},ai;function _n(){}et(_n,Zo),_n.prototype.g=function(){return new XMLHttpRequest},_n.prototype.i=function(){return{}},ai=new _n;function rn(h,v,E,N){this.j=h,this.i=v,this.l=E,this.R=N||1,this.U=new Zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var Jo={},Br={};function li(h,v,E){h.L=1,h.v=kn(xe(v)),h.m=E,h.P=!0,Ni(h,null)}function Ni(h,v){h.F=Date.now(),Ks(h),h.A=xe(h.v);var E=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),ea(E.i,"t",N),h.C=0,E=h.j.J,h.h=new De,h.g=$a(h.j,E?v:null,!h.m),0<h.O&&(h.M=new Ya(D(h.Y,h,h.g),h.O)),v=h.U,E=h.g,N=h.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(_s[0]=Z.toString()),Z=_s);for(var J=0;J<Z.length;J++){var ht=Vo(E,Z[J],N||v.handleEvent,!1,v.h||v);if(!ht)break;v.g[ht.key]=ht}v=h.H?M(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),gs(),xn(h.i,h.u,h.A,h.l,h.R,h.m)}rn.prototype.ca=function(h){h=h.target;const v=this.M;v&&ln(h)==3?v.j():this.Y(h)},rn.prototype.Y=function(h){try{if(h==this.g)t:{const he=ln(this.g);var v=this.g.Ba();const Rn=this.g.Z();if(!(3>he)&&(he!=3||this.g&&(this.h.h||this.g.oa()||na(this.g)))){this.J||he!=4||v==7||(v==8||0>=Rn?gs(3):gs(2)),ws(this);var E=this.g.Z();this.X=E;e:if(Wa(this)){var N=na(this.g);h="";var Z=N.length,J=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qe(this),Ri(this);var ht="";break e}this.h.i=new y.TextDecoder}for(v=0;v<Z;v++)this.h.h=!0,h+=this.h.i.decode(N[v],{stream:!(J&&v==Z-1)});N.length=0,this.h.g+=h,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=E==200,St(this.i,this.u,this.A,this.l,this.R,he,E),this.o){if(this.T&&!this.K){e:{if(this.g){var re,Ce=this.g;if((re=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mt(re)){var Zt=re;break e}}Zt=null}if(E=Zt)Yi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wi(this,E);else{this.o=!1,this.s=3,Se(12),Qe(this),Ri(this);break t}}if(this.P){E=!0;let In;for(;!this.J&&this.C<ht.length;)if(In=Ws(this,ht),In==Br){he==4&&(this.s=4,Se(14),E=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(In==Jo){this.s=4,Se(15),Yi(this.i,this.l,ht,"[Invalid Chunk]"),E=!1;break}else Yi(this.i,this.l,In,null),Wi(this,In);if(Wa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||ht.length!=0||this.h.h||(this.s=1,Se(16),E=!1),this.o=this.o&&E,!E)Yi(this.i,this.l,ht,"[Invalid Chunked Response]"),Qe(this),Ri(this);else if(0<ht.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),Cs(Ze),Ze.M=!0,Se(11))}}else Yi(this.i,this.l,ht,null),Wi(this,ht);he==4&&Qe(this),this.o&&!this.J&&(he==4?sa(this.j,this):(this.o=!1,Ks(this)))}else Jl(this.g),E==400&&0<ht.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Qe(this),Ri(this)}}}catch{}finally{}};function Wa(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ws(h,v){var E=h.C,N=v.indexOf(`
`,E);return N==-1?Br:(E=Number(v.substring(E,N)),isNaN(E)?Jo:(N+=1,N+E>v.length?Br:(v=v.slice(N,N+E),h.C=N+E,v)))}rn.prototype.cancel=function(){this.J=!0,Qe(this)};function Ks(h){h.S=Date.now()+h.I,Ka(h,h.I)}function Ka(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Be(D(h.ba,h),v)}function ws(h){h.B&&(y.clearTimeout(h.B),h.B=null)}rn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Qo(this.i,this.A),this.L!=2&&(gs(),Se(17)),Qe(this),this.s=2,Ri(this)):Ka(this,this.S-h)};function Ri(h){h.j.G==0||h.J||sa(h.j,h)}function Qe(h){ws(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Gi(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Wi(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||qt(E.h,h))){if(!h.K&&qt(E.h,h)&&E.G==3){try{var N=E.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Z=N;if(Z[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Yr(E),Fr(E);else break t;Gr(E),Se(18)}}else E.za=Z[1],0<E.za-E.T&&37500>Z[2]&&E.F&&E.v==0&&!E.C&&(E.C=Be(D(E.Za,E),6e3));if(1>=Mi(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ts(E,11)}else if((h.K||E.g==h)&&Yr(E),!Mt(v))for(Z=E.Da.g.parse(v),v=0;v<Z.length;v++){let Zt=Z[v];if(E.T=Zt[0],Zt=Zt[1],E.G==2)if(Zt[0]=="c"){E.K=Zt[1],E.ia=Zt[2];const Ze=Zt[3];Ze!=null&&(E.la=Ze,E.j.info("VER="+E.la));const he=Zt[4];he!=null&&(E.Aa=he,E.j.info("SVER="+E.Aa));const Rn=Zt[5];Rn!=null&&typeof Rn=="number"&&0<Rn&&(N=1.5*Rn,E.L=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const In=h.g;if(In){const Ye=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ye){var J=N.h;J.g||Ye.indexOf("spdy")==-1&&Ye.indexOf("quic")==-1&&Ye.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ce(J,J.h),J.h=null))}if(N.D){const es=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;es&&(N.ya=es,Lt(N.I,N.D,es))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),N=E;var ht=h;if(N.qa=Kr(N,N.J?N.ia:null,N.W),ht.K){Ge(N.h,ht);var re=ht,Ce=N.L;Ce&&(re.I=Ce),re.B&&(ws(re),Ks(re)),N.g=ht}else mi(N);0<E.i.length&&xs(E)}else Zt[0]!="stop"&&Zt[0]!="close"||ts(E,7);else E.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?ts(E,7):qr(E):Zt[0]!="noop"&&E.l&&E.l.ta(Zt),E.v=0)}}gs(4)}catch{}}var bs=class{constructor(h,v){this.g=h,this.map=v}};function Ii(h){this.l=h||10,y.PerformanceNavigationTiming?(h=y.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mi(h){return h.h?1:h.g?h.g.size:0}function qt(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ce(h,v){h.g?h.g.add(v):h.h=v}function Ge(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ii.prototype.cancel=function(){if(this.i=Oi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Oi(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return at(h.i)}function Es(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(b(h)){for(var v=[],E=h.length,N=0;N<E;N++)v.push(h[N]);return v}v=[],E=0;for(N in h)v[E++]=h[N];return v}function Ts(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(b(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const N in h)v[E++]=N;return v}}}function Bt(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(b(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Ts(h),N=Es(h),Z=N.length,J=0;J<Z;J++)v.call(void 0,N[J],E&&E[J],h)}var fe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var N=h[E].indexOf("="),Z=null;if(0<=N){var J=h[E].substring(0,N);Z=h[E].substring(N+1)}else J=h[E];v(J,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Ie(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ie){this.h=h.h,Qs(this,h.j),this.o=h.o,this.g=h.g,ui(this,h.s),this.l=h.l;var v=h.i,E=new hi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),gn(this,E),this.m=h.m}else h&&(v=String(h).match(fe))?(this.h=!1,Qs(this,v[1]||"",!0),this.o=on(v[2]||""),this.g=on(v[3]||"",!0),ui(this,v[4]),this.l=on(v[5]||"",!0),gn(this,v[6]||"",!0),this.m=on(v[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Ie.prototype.toString=function(){var h=[],v=this.j;v&&h.push(ci(v,Ki,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ci(v,Ki,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ci(E,E.charAt(0)=="/"?ta:Js,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ci(E,Ss)),h.join("")};function xe(h){return new Ie(h)}function Qs(h,v,E){h.j=E?on(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ui(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function gn(h,v,E){v instanceof hi?(h.i=v,Dn(h.i,h.h)):(E||(v=ci(v,jr)),h.i=new hi(v,h.h))}function Lt(h,v,E){h.i.set(v,E)}function kn(h){return Lt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function on(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ci(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Ur),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ur(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ki=/[#\/\?@]/g,Js=/[#\?:]/g,ta=/[#\?]/g,jr=/[#\?@]/g,Ss=/#/g;function hi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function vn(h){h.g||(h.g=new Map,h.h=0,h.i&&$o(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=hi.prototype,r.add=function(h,v){vn(this),this.i=null,h=Rt(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Li(h,v){vn(h),v=Rt(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function fi(h,v){return vn(h),v=Rt(h,v),h.g.has(v)}r.forEach=function(h,v){vn(this),this.g.forEach(function(E,N){E.forEach(function(Z){h.call(v,Z,N,this)},this)},this)},r.na=function(){vn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let N=0;N<v.length;N++){const Z=h[N];for(let J=0;J<Z.length;J++)E.push(v[N])}return E},r.V=function(h){vn(this);let v=[];if(typeof h=="string")fi(this,h)&&(v=v.concat(this.g.get(Rt(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},r.set=function(h,v){return vn(this),this.i=null,h=Rt(this,h),fi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ea(h,v,E){Li(h,v),0<E.length&&(h.i=null,h.g.set(Rt(h,v),at(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var N=v[E];const J=encodeURIComponent(String(N)),ht=this.V(N);for(N=0;N<ht.length;N++){var Z=J;ht[N]!==""&&(Z+="="+encodeURIComponent(String(ht[N]))),h.push(Z)}}return this.i=h.join("&")};function Rt(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Dn(h,v){v&&!h.j&&(vn(h),h.i=null,h.g.forEach(function(E,N){var Z=N.toLowerCase();N!=Z&&(Li(this,N),ea(this,Z,E))},h)),h.j=v}function $t(h,v){const E=new Zn;if(y.Image){const N=new Image;N.onload=nt(Cn,E,"TestLoadImage: loaded",!0,v,N),N.onerror=nt(Cn,E,"TestLoadImage: error",!1,v,N),N.onabort=nt(Cn,E,"TestLoadImage: abort",!1,v,N),N.ontimeout=nt(Cn,E,"TestLoadImage: timeout",!1,v,N),y.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else v(!1)}function Yn(h,v){const E=new Zn,N=new AbortController,Z=setTimeout(()=>{N.abort(),Cn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:N.signal}).then(J=>{clearTimeout(Z),J.ok?Cn(E,"TestPingServer: ok",!0,v):Cn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Z),Cn(E,"TestPingServer: error",!1,v)})}function Cn(h,v,E,N,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),N(E)}catch{}}function Xi(){this.g=new oi}function Wn(h,v,E){const N=E||"";try{Bt(h,function(Z,J){let ht=Z;T(Z)&&(ht=Gn(Z)),v.push(N+J+"="+encodeURIComponent(ht))})}catch(Z){throw v.push(N+"type="+encodeURIComponent("_badmap")),Z}}function An(h){this.l=h.Ub||null,this.j=h.eb||!1}et(An,Zo),An.prototype.g=function(){return new di(this.l,this.j)},An.prototype.i=(function(h){return function(){return h}})({});function di(h,v){Te.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}et(di,Te),r=di.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,an(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||y).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_e(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,an(this)),this.g&&(this.readyState=3,an(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qi(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qi(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?_e(this):an(this),this.readyState==3&&Qi(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,_e(this))},r.Qa=function(h){this.g&&(this.response=h,_e(this))},r.ga=function(){this.g&&_e(this)};function _e(h){h.readyState=4,h.l=null,h.j=null,h.v=null,an(h)}r.setRequestHeader=function(h,v){this.u.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function an(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hr(h){let v="";return Vt(h,function(E,N){v+=N,v+=":",v+=E,v+=`\r
`}),v}function Ve(h,v,E){t:{for(N in E){var N=!1;break t}N=!0}N||(E=Hr(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Lt(h,v,E))}function le(h){Te.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}et(le,Te);var $s=/^https?$/i,Ji=["POST","PUT"];r=le.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,v,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?Yo(this.o):Yo(ai),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(J){Xa(this,J);return}if(h=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Z in N)E.set(Z,N[Z]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())E.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),Z=y.FormData&&h instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Ji,v,void 0))||N||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ht]of E)this.g.setRequestHeader(J,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Je(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){Xa(this,J)}};function Xa(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,tr(h),ki(h)}function tr(h){h.A||(h.A=!0,se(h,"complete"),se(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,se(this,"complete"),se(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),le.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},r.bb=function(){Ut(this)};function Ut(h){if(h.h&&typeof _<"u"&&(!h.v[1]||ln(h)!=4||h.Z()!=2)){if(h.u&&ln(h)==4)sn(h.Ea,0,h);else if(se(h,"readystatechange"),ln(h)==4){h.h=!1;try{const ht=h.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var N;if(N=ht===0){var Z=String(h.D).match(fe)[1]||null;!Z&&y.self&&y.self.location&&(Z=y.self.location.protocol.slice(0,-1)),N=!$s.test(Z?Z.toLowerCase():"")}E=N}if(E)se(h,"complete"),se(h,"success");else{h.m=6;try{var J=2<ln(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",tr(h)}}finally{ki(h)}}}}function ki(h,v){if(h.g){Je(h);const E=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||se(h,"ready");try{E.onreadystatechange=N}catch{}}}function Je(h){h.I&&(y.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function ln(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Dr(v)}};function na(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Jl(h){const v={};h=(h.g&&2<=ln(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(Mt(h[N]))continue;var E=U(h[N]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[Z]||[];v[Z]=J,J.push(E)}V(v,function(N){return N.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $i(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Vr(h){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$i("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$i("baseRetryDelayMs",5e3,h),this.cb=$i("retryDelaySeedMs",1e4,h),this.Wa=$i("forwardChannelMaxRetries",2,h),this.wa=$i("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(h&&h.concurrentRequestLimit),this.Da=new Xi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Vr.prototype,r.la=8,r.G=1,r.connect=function(h,v,E,N){Se(0),this.W=h,this.H=v||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.I=Kr(this,null,this.W),xs(this)};function qr(h){if(Qa(h),h.G==3){var v=h.U++,E=xe(h.I);if(Lt(E,"SID",h.K),Lt(E,"RID",v),Lt(E,"TYPE","terminate"),er(h,E),v=new rn(h,h.j,v),v.L=2,v.v=kn(xe(E)),E=!1,y.navigator&&y.navigator.sendBeacon)try{E=y.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&y.Image&&(new Image().src=v.v,E=!0),E||(v.g=$a(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ks(v)}Ja(h)}function Fr(h){h.g&&(Cs(h),h.g.cancel(),h.g=null)}function Qa(h){Fr(h),h.u&&(y.clearTimeout(h.u),h.u=null),Yr(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&y.clearTimeout(h.s),h.s=null)}function xs(h){if(!Xs(h.h)&&!h.s){h.s=!0;var v=h.Ga;pt||I(),ut||(pt(),ut=!0),Jt.add(v,h),h.B=0}}function $l(h,v){return Mi(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Be(D(h.Ga,h,v),Wr(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Z=new rn(this,this.j,h);let J=this.o;if(this.S&&(J?(J=M(J),H(J,this.S)):J=this.S),this.m!==null||this.O||(Z.H=J,J=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=ia(this,Z,v),E=xe(this.I),Lt(E,"RID",h),Lt(E,"CVER",22),this.D&&Lt(E,"X-HTTP-Session-Id",this.D),er(this,E),J&&(this.O?v="headers="+encodeURIComponent(String(Hr(J)))+"&"+v:this.m&&Ve(E,this.m,J)),ce(this.h,Z),this.Ua&&Lt(E,"TYPE","init"),this.P?(Lt(E,"$req",v),Lt(E,"SID","null"),Z.T=!0,li(Z,E,null)):li(Z,E,v),this.G=2}}else this.G==3&&(h?Nn(this,h):this.i.length==0||Xs(this.h)||Nn(this))};function Nn(h,v){var E;v?E=v.l:E=h.U++;const N=xe(h.I);Lt(N,"SID",h.K),Lt(N,"RID",E),Lt(N,"AID",h.T),er(h,N),h.m&&h.o&&Ve(N,h.m,h.o),E=new rn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=ia(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ce(h.h,E),li(E,N,v)}function er(h,v){h.H&&Vt(h.H,function(E,N){Lt(v,N,E)}),h.l&&Bt({},function(E,N){Lt(v,N,E)})}function ia(h,v,E){E=Math.min(h.i.length,E);var N=h.l?D(h.l.Na,h.l,h):null;t:{var Z=h.i;let J=-1;for(;;){const ht=["count="+E];J==-1?0<E?(J=Z[0].g,ht.push("ofs="+J)):J=0:ht.push("ofs="+J);let re=!0;for(let Ce=0;Ce<E;Ce++){let Zt=Z[Ce].g;const Ze=Z[Ce].map;if(Zt-=J,0>Zt)J=Math.max(0,Z[Ce].g-100),re=!1;else try{Wn(Ze,ht,"req"+Zt+"_")}catch{N&&N(Ze)}}if(re){N=ht.join("&");break t}}}return h=h.i.splice(0,E),v.D=h,N}function mi(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;pt||I(),ut||(pt(),ut=!0),Jt.add(v,h),h.v=0}}function Gr(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Be(D(h.Fa,h),Wr(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Zr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Be(D(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Fr(this),Zr(this))};function Cs(h){h.A!=null&&(y.clearTimeout(h.A),h.A=null)}function Zr(h){h.g=new rn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=xe(h.qa);Lt(v,"RID","rpc"),Lt(v,"SID",h.K),Lt(v,"AID",h.T),Lt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Lt(v,"TO",h.ja),Lt(v,"TYPE","xmlhttp"),er(h,v),h.m&&h.o&&Ve(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=kn(xe(v)),E.m=null,E.P=!0,Ni(E,h)}r.Za=function(){this.C!=null&&(this.C=null,Fr(this),Gr(this),Se(19))};function Yr(h){h.C!=null&&(y.clearTimeout(h.C),h.C=null)}function sa(h,v){var E=null;if(h.g==v){Yr(h),Cs(h),h.g=null;var N=2}else if(qt(h.h,v))E=v.D,Ge(h.h,v),N=1;else return;if(h.G!=0){if(v.o)if(N==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Z=h.B;N=Ys(),se(N,new He(N,E)),xs(h)}else mi(h);else if(Z=v.s,Z==3||Z==0&&0<v.X||!(N==1&&$l(h,v)||N==2&&Gr(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),Z){case 1:ts(h,5);break;case 4:ts(h,10);break;case 3:ts(h,6);break;default:ts(h,2)}}}function Wr(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function ts(h,v){if(h.j.info("Error code "+v),v==2){var E=D(h.fb,h),N=h.Xa;const Z=!N;N=new Ie(N||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Qs(N,"https"),kn(N),Z?$t(N.toString(),E):Yn(N.toString(),E)}else Se(2);h.G=0,h.l&&h.l.sa(v),Ja(h),Qa(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Ja(h){if(h.G=0,h.ka=[],h.l){const v=Oi(h.h);(v.length!=0||h.i.length!=0)&&(mt(h.ka,v),mt(h.ka,h.i),h.h.i.length=0,at(h.i),h.i.length=0),h.l.ra()}}function Kr(h,v,E){var N=E instanceof Ie?xe(E):new Ie(E);if(N.g!="")v&&(N.g=v+"."+N.g),ui(N,N.s);else{var Z=y.location;N=Z.protocol,v=v?v+"."+Z.hostname:Z.hostname,Z=+Z.port;var J=new Ie(null);N&&Qs(J,N),v&&(J.g=v),Z&&ui(J,Z),E&&(J.l=E),N=J}return E=h.D,v=h.ya,E&&v&&Lt(N,E,v),Lt(N,"VER",h.la),er(h,N),N}function $a(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new le(new An({eb:E})):new le(h.pa),v.Ha(h.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ra(){}r=ra.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function yn(h,v){Te.call(this),this.g=new Vr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Mt(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Mt(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new As(this)}et(yn,Te),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){qr(this.g)},yn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Gn(h),h=E);v.i.push(new bs(v.Ya++,h)),v.G==3&&xs(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,qr(this.g),delete this.g,yn.aa.N.call(this)};function nr(h){Ci.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}et(nr,Ci);function Di(){Ko.call(this),this.status=1}et(Di,Ko);function As(h){this.g=h}et(As,ra),As.prototype.ua=function(){se(this.g,"a")},As.prototype.ta=function(h){se(this.g,new nr(h))},As.prototype.sa=function(h){se(this.g,new Di)},As.prototype.ra=function(){se(this.g,"b")},yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,Ai.COMPLETE="complete",Wo.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",Te.prototype.listen=Te.prototype.K,le.prototype.listenOnce=le.prototype.L,le.prototype.getLastError=le.prototype.Ka,le.prototype.getLastErrorCode=le.prototype.Ba,le.prototype.getStatus=le.prototype.Z,le.prototype.getResponseJson=le.prototype.Oa,le.prototype.getResponseText=le.prototype.oa,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Ha}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const Iy="@firebase/firestore",My="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new gf("@firebase/firestore");function hs(r,...t){if(Hl.logLevel<=ue.DEBUG){const i=t.map(wp);Hl.debug(`Firestore (${Tc}): ${r}`,...i)}}function x1(r,...t){if(Hl.logLevel<=ue.ERROR){const i=t.map(wp);Hl.error(`Firestore (${Tc}): ${r}`,...i)}}function x2(r,...t){if(Hl.logLevel<=ue.WARN){const i=t.map(wp);Hl.warn(`Firestore (${Tc}): ${r}`,...i)}}function wp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,C1(r,a,i)}function C1(r,t,i){let a=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw x1(a),new Error(a)}function Qu(r,t,i,a){let c="Unexpected state";typeof i=="string"?c=i:a=i,r||C1(t,c,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ie extends Ar{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class C2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Hn.UNAUTHENTICATED)))}shutdown(){}}class A2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class N2{constructor(t){this.t=t,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qu(this.o===void 0,42304);let a=this.i;const c=b=>this.i!==a?(a=this.i,i(b)):Promise.resolve();let m=new Ju;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ju,t.enqueueRetryable((()=>c(this.currentUser)))};const _=()=>{const b=m;t.enqueueRetryable((async()=>{await b.promise,await c(this.currentUser)}))},y=b=>{hs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),_())};this.t.onInit((b=>y(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(hs("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ju)}}),0),_()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(hs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qu(typeof a.accessToken=="string",31837,{l:a}),new A1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qu(t===null||typeof t=="string",2055,{h:t}),new Hn(t)}}class R2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new R2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Oy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qu(this.o===void 0,3512);const a=m=>{m.error!=null&&hs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const _=m.token!==this.m;return this.m=m.token,hs("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(m.token):Promise.resolve()};this.o=m=>{t.enqueueRetryable((()=>a(m)))};const c=m=>{hs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((m=>c(m))),setTimeout((()=>{if(!this.appCheck){const m=this.V.getImmediate({optional:!0});m?c(m):hs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Oy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qu(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Oy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const c=O2(40);for(let m=0;m<c.length;++m)a.length<20&&c[m]<i&&(a+=t.charAt(c[m]%62))}return a}}function Bo(r,t){return r<t?-1:r>t?1:0}function k2(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const c=r.charAt(a),m=t.charAt(a);if(c!==m)return bm(c)===bm(m)?Bo(c,m):bm(c)?1:-1}return Bo(r.length,t.length)}const D2=55296,P2=57343;function bm(r){const t=r.charCodeAt(0);return t>=D2&&t<=P2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="__name__";class Ps{constructor(t,i,a){i===void 0?i=0:i>t.length&&uc(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&uc(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ps.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ps?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let c=0;c<a;c++){const m=Ps.compareSegments(t.get(c),i.get(c));if(m!==0)return m}return Bo(t.length,i.length)}static compareSegments(t,i){const a=Ps.isNumericId(t),c=Ps.isNumericId(i);return a&&!c?-1:!a&&c?1:a&&c?Ps.extractNumericId(t).compare(Ps.extractNumericId(i)):k2(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return yp.fromString(t.substring(4,t.length-2))}}class ls extends Ps{construct(t,i,a){return new ls(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ie(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((c=>c.length>0)))}return new ls(i)}static emptyPath(){return new ls([])}}const z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Aa extends Ps{construct(t,i,a){return new Aa(t,i,a)}static isValidIdentifier(t){return z2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Aa.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ly}static keyField(){return new Aa([Ly])}static fromServerFormat(t){const i=[];let a="",c=0;const m=()=>{if(a.length===0)throw new ie(ne.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let _=!1;for(;c<t.length;){const y=t[c];if(y==="\\"){if(c+1===t.length)throw new ie(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[c+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new ie(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=b,c+=2}else y==="`"?(_=!_,c++):y!=="."||_?(a+=y,c++):(m(),c++)}if(m(),_)throw new ie(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Aa(i)}static emptyPath(){return new Aa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t){this.path=t}static fromPath(t){return new Ra(ls.fromString(t))}static fromName(t){return new Ra(ls.fromString(t).popFirst(5))}static empty(){return new Ra(ls.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ls.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ls.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ra(new ls(t.slice()))}}function B2(r,t,i,a){if(t===!0&&a===!0)throw new ie(ne.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function U2(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function j2(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":uc(12329,{type:typeof r})}function H2(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ie(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=j2(r);throw new ie(ne.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Sc(r,t){if(!U2(r))throw new ie(ne.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const c=t[a].typeString,m="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const _=r[a];if(c&&typeof _!==c){i=`JSON field '${a}' must be a ${c}.`;break}if(m!==void 0&&_!==m.value){i=`Expected '${a}' field to equal '${m.value}'`;break}}if(i)throw new ie(ne.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-62135596800,Dy=1e6;class zs{static now(){return zs.fromMillis(Date.now())}static fromDate(t){return zs.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Dy);return new zs(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<ky)throw new ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dy}_compareTo(t){return this.seconds===t.seconds?Bo(this.nanoseconds,t.nanoseconds):Bo(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sc(t,zs._jsonSchema))return new zs(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ky;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zs._jsonSchemaVersion="firestore/timestamp/1.0",zs._jsonSchema={type:Xe("string",zs._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};function V2(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(c){try{return atob(c)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new q2("Invalid base64 string: "+m):m}})(t);return new za(i)}static fromUint8Array(t){const i=(function(c){let m="";for(let _=0;_<c.length;++_)m+=String.fromCharCode(c[_]);return m})(t);return new za(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let c=0;c<i.length;c++)a[c]=i.charCodeAt(c);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bo(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}za.EMPTY_BYTE_STRING=new za("");const jm="(default)";class ef{constructor(t,i){this.projectId=t,this.database=i||jm}static empty(){return new ef("","")}get isDefaultDatabase(){return this.database===jm}isEqual(t){return t instanceof ef&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,i=null,a=[],c=[],m=null,_="F",y=null,b=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=c,this.limit=m,this.limitType=_,this.startAt=y,this.endAt=b,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G2(r){return new F2(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Py,ee;(ee=Py||(Py={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new yp([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=1048576;function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,i,a=1e3,c=1.5,m=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=c,this.R_=m,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),c=Math.max(0,i-a);c>0&&hs("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t,i,a,c,m){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=m,this.deferred=new Ju,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((_=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,c,m){const _=Date.now()+a,y=new bp(t,i,_,c,m);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(ne.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var zy,By;(By=zy||(zy={})).Ma="default",By.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firestore.googleapis.com",jy=!0;class Hy{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ie(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N1,this.ssl=jy}else this.host=t.host,this.ssl=t.ssl??jy;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Z2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Y2)throw new ie(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}B2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K2(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,c){return a.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class R1{constructor(t,i,a,c){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ie(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new C2;switch(a.type){case"firstParty":return new I2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ie(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Uy.get(i);a&&(hs("ComponentProvider","Removing Datastore"),Uy.delete(i),a.terminate())})(this),Promise.resolve()}}function X2(r,t,i,a={}){r=H2(r,R1);const c=Ha(t),m=r._getSettings(),_={...m,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${i}`;c&&(np(`https://${y}`),ip("Firestore",!0)),m.host!==N1&&m.host!==y&&x2("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...m,host:y,ssl:c,emulatorOptions:a};if(!Po(b,_)&&(r._setSettings(b),a.mockUserToken)){let T,R;if(typeof a.mockUserToken=="string")T=a.mockUserToken,R=Hn.MOCK_USER;else{T=z0(a.mockUserToken,r._app?.options.projectId);const k=a.mockUserToken.sub||a.mockUserToken.user_id;if(!k)throw new ie(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Hn(k)}r._authCredentials=new A2(new A1(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ep(this.firestore,t,this._query)}}class Us{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Us(this.firestore,t,this._key)}toJSON(){return{type:Us._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Sc(i,Us._jsonSchema))return new Us(t,a||null,new Ra(ls.fromString(i.referencePath)))}}Us._jsonSchemaVersion="firestore/documentReference/1.0",Us._jsonSchema={type:Xe("string",Us._jsonSchemaVersion),referencePath:Xe("string")};class Tp extends Ep{constructor(t,i,a){super(t,i,G2(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Us(this.firestore,null,new Ra(t))}withConverter(t){return new Tp(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="AsyncQueue";class qy{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W2(this,"async_queue_retry"),this._c=()=>{const a=Em();a&&hs(Vy,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ju;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!V2(t))throw t;hs(Vy,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,x1("INTERNAL UNHANDLED ERROR: ",Fy(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const c=bp.createAndSchedule(this,t,i,a,(m=>this.hc(m)));return this.tc.push(c),c}uc(){this.nc&&uc(47125,{Pc:Fy(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Fy(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Q2 extends R1{constructor(t,i,a,c){super(t,i,a,c),this.type="firestore",this._queue=new qy,this._persistenceKey=c?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qy(t),this._firestoreClient=void 0,await t}}}function J2(r,t){const i=typeof r=="object"?r:ap(),a=typeof r=="string"?r:jm,c=vf(i,"firestore").getImmediate({identifier:a});if(!c._initialized){const m=k0("firestore");m&&X2(c,...m)}return c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gr(za.fromBase64String(t))}catch(i){throw new ie(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new gr(za.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sc(t,gr._jsonSchema))return gr.fromBase64String(t.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:Xe("string",gr._jsonSchemaVersion),bytes:Xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ie(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Aa(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ie(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ie(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bo(this._lat,t._lat)||Bo(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oa._jsonSchemaVersion}}static fromJSON(t){if(Sc(t,Oa._jsonSchema))return new Oa(t.latitude,t.longitude)}}Oa._jsonSchemaVersion="firestore/geoPoint/1.0",Oa._jsonSchema={type:Xe("string",Oa._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,c){if(a.length!==c.length)return!1;for(let m=0;m<a.length;++m)if(a[m]!==c[m])return!1;return!0})(this._values,t._values)}toJSON(){return{type:La._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sc(t,La._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new La(t.vectorValues);throw new ie(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}La._jsonSchemaVersion="firestore/vectorValue/1.0",La._jsonSchema={type:Xe("string",La._jsonSchemaVersion),vectorValues:Xe("object")};const $2=new RegExp("[~\\*/\\[\\]]");function tC(r,t,i){if(t.search($2)>=0)throw Gy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new I1(...t.split("."))._internalPath}catch{throw Gy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function Gy(r,t,i,a,c){let m=`Function ${t}() called with invalid data`;m+=". ";let _="";return new ie(ne.INVALID_ARGUMENT,m+r+_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,i,a,c,m){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=c,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Us(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(O1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class eC extends M1{data(){return super.data()}}function O1(r,t){return typeof t=="string"?tC(r,t):t instanceof I1?t._internalPath:t._delegate._internalPath}class Dh{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dl extends M1{constructor(t,i,a,c,m,_){super(t,i,a,c,_),this._firestore=t,this._firestoreImpl=t,this.metadata=m}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(O1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Dl._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dl._jsonSchema={type:Xe("string",Dl._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class Vh extends Dl{data(t={}){return super.data(t)}}class $u{constructor(t,i,a,c){this._firestore=t,this._userDataWriter=i,this._snapshot=c,this.metadata=new Dh(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Vh(this._firestore,this._userDataWriter,a.key,a,new Dh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ie(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(c,m){if(c._snapshot.oldDocs.isEmpty()){let _=0;return c._snapshot.docChanges.map((y=>{const b=new Vh(c._firestore,c._userDataWriter,y.doc.key,y.doc,new Dh(c._snapshot.mutatedKeys.has(y.doc.key),c._snapshot.fromCache),c.query.converter);return y.doc,{type:"added",doc:b,oldIndex:-1,newIndex:_++}}))}{let _=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((y=>m||y.type!==3)).map((y=>{const b=new Vh(c._firestore,c._userDataWriter,y.doc.key,y.doc,new Dh(c._snapshot.mutatedKeys.has(y.doc.key),c._snapshot.fromCache),c.query.converter);let T=-1,R=-1;return y.type!==0&&(T=_.indexOf(y.doc.key),_=_.delete(y.doc.key)),y.type!==1&&(_=_.add(y.doc),R=_.indexOf(y.doc.key)),{type:nC(y.type),doc:b,oldIndex:T,newIndex:R}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$u._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=L2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],c=[];return this.docs.forEach((m=>{m._document!==null&&(i.push(m._document),a.push(this._userDataWriter.convertObjectMap(m._document.data.value.mapValue.fields,"previous")),c.push(m.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return uc(61501,{type:r})}}$u._jsonSchemaVersion="firestore/querySnapshot/1.0",$u._jsonSchema={type:Xe("string",$u._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};(function(t,i=!0){(function(c){Tc=c})(Va),ka(new zo("firestore",((a,{instanceIdentifier:c,options:m})=>{const _=a.getProvider("app").getImmediate(),y=new Q2(new N2(a.getProvider("auth-internal")),new M2(_,a.getProvider("app-check-internal")),(function(T,R){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new ie(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ef(T.options.projectId,R)})(_,c),_);return m={useFetchStreams:i,...m},y._setSettings(m),y}),"PUBLIC").setMultipleInstances(!0)),js(Iy,My,t),js(Iy,My,"esm2020")})();var Zy={};const Yy="@firebase/database",Wy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L1="";function iC(r){L1=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),en(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:rc(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Nr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new sC(t)}}catch{}return new rC},Ia=k1("localStorage"),oC=k1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new gf("@firebase/database"),aC=(function(){let r=1;return function(){return r++}})(),D1=function(r){const t=QE(r),i=new YE;i.update(t);const a=i.digest();return tp.encodeByteArray(a)},xc=function(...r){let t="";for(let i=0;i<r.length;i++){const a=r[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?t+=xc.apply(null,a):typeof a=="object"?t+=en(a):t+=a,t+=" "}return t};let tc=null,Ky=!0;const lC=function(r,t){dt(!0,"Can't turn on custom loggers persistently."),Pl.logLevel=ue.VERBOSE,tc=Pl.log.bind(Pl)},Ln=function(...r){if(Ky===!0&&(Ky=!1,tc===null&&oC.get("logging_enabled")===!0&&lC()),tc){const t=xc.apply(null,r);tc(t)}},Cc=function(r){return function(...t){Ln(r,...t)}},Hm=function(...r){const t="FIREBASE INTERNAL ERROR: "+xc(...r);Pl.error(t)},xr=function(...r){const t=`FIREBASE FATAL ERROR: ${xc(...r)}`;throw Pl.error(t),new Error(t)},ei=function(...r){const t="FIREBASE WARNING: "+xc(...r);Pl.warn(t)},uC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ei("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},P1=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},cC=function(r){if(document.readyState==="complete")r();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Vl="[MIN_NAME]",Ba="[MAX_NAME]",Kl=function(r,t){if(r===t)return 0;if(r===Vl||t===Ba)return-1;if(t===Vl||r===Ba)return 1;{const i=Xy(r),a=Xy(t);return i!==null?a!==null?i-a===0?r.length-t.length:i-a:-1:a!==null?1:r<t?-1:1}},hC=function(r,t){return r===t?0:r<t?-1:1},Vu=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+en(t))},Sp=function(r){if(typeof r!="object"||r===null)return en(r);const t=[];for(const a in r)t.push(a);t.sort();let i="{";for(let a=0;a<t.length;a++)a!==0&&(i+=","),i+=en(t[a]),i+=":",i+=Sp(r[t[a]]);return i+="}",i},z1=function(r,t){const i=r.length;if(i<=t)return[r];const a=[];for(let c=0;c<i;c+=t)c+t>i?a.push(r.substring(c,i)):a.push(r.substring(c,c+t));return a};function ni(r,t){for(const i in r)r.hasOwnProperty(i)&&t(i,r[i])}const B1=function(r){dt(!P1(r),"Invalid JSON number");const t=11,i=52,a=(1<<t-1)-1;let c,m,_,y,b;r===0?(m=0,_=0,c=1/r===-1/0?1:0):(c=r<0,r=Math.abs(r),r>=Math.pow(2,1-a)?(y=Math.min(Math.floor(Math.log(r)/Math.LN2),a),m=y+a,_=Math.round(r*Math.pow(2,i-y)-Math.pow(2,i))):(m=0,_=Math.round(r/Math.pow(2,1-a-i))));const T=[];for(b=i;b;b-=1)T.push(_%2?1:0),_=Math.floor(_/2);for(b=t;b;b-=1)T.push(m%2?1:0),m=Math.floor(m/2);T.push(c?1:0),T.reverse();const R=T.join("");let k="";for(b=0;b<64;b+=8){let D=parseInt(R.substr(b,8),2).toString(16);D.length===1&&(D="0"+D),k=k+D}return k.toLowerCase()},fC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mC(r,t){let i="Unknown Error";r==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?i="Client doesn't have permission to access the desired data.":r==="unavailable"&&(i="The service is unavailable");const a=new Error(r+" at "+t._path.toString()+": "+i);return a.code=r.toUpperCase(),a}const pC=new RegExp("^-?(0*)\\d{1,10}$"),_C=-2147483648,gC=2147483647,Xy=function(r){if(pC.test(r)){const t=Number(r);if(t>=_C&&t<=gC)return t}return null},Xl=function(r){try{r()}catch(t){setTimeout(()=>{const i=t.stack||"";throw ei("Exception was thrown by user callback.",i),t},Math.floor(0))}},vC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ec=function(r,t){const i=setTimeout(r,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,$n(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ei(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,i,a){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(c=>this.auth_=c)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ei(t)}}class qh{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}qh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="5",U1="v",j1="s",H1="r",V1="f",q1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,F1="ls",G1="p",Vm="ac",Z1="websocket",Y1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,i,a,c,m=!1,_="",y=!1,b=!1,T=null){this.secure=i,this.namespace=a,this.webSocketOnly=c,this.nodeAdmin=m,this.persistenceKey=_,this.includeNamespaceInQueryParams=y,this.isUsingEmulator=b,this.emulatorOptions=T,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ia.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ia.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function bC(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function K1(r,t,i){dt(typeof t=="string","typeof type must == string"),dt(typeof i=="object","typeof params must == object");let a;if(t===Z1)a=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(t===Y1)a=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);bC(r)&&(i.ns=r.namespace);const c=[];return ni(i,(m,_)=>{c.push(m+"="+_)}),a+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.counters_={}}incrementCounter(t,i=1){Nr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return NE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm={},Sm={};function Cp(r){const t=r.toString();return Tm[t]||(Tm[t]=new EC),Tm[t]}function TC(r,t){const i=r.toString();return Sm[i]||(Sm[i]=t()),Sm[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<a.length;++c)a[c]&&Xl(()=>{this.onMessage_(a[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="start",xC="close",CC="pLPCommand",AC="pRTLPCB",X1="id",Q1="pw",J1="ser",NC="cb",RC="seg",IC="ts",MC="d",OC="dframe",$1=1870,tw=30,LC=$1-tw,kC=25e3,DC=3e4;class Ml{constructor(t,i,a,c,m,_,y){this.connId=t,this.repoInfo=i,this.applicationId=a,this.appCheckToken=c,this.authToken=m,this.transportSessionId=_,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cc(t),this.stats_=Cp(i),this.urlFn=b=>(this.appCheckToken&&(b[Vm]=this.appCheckToken),K1(i,Y1,b))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new SC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DC)),cC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ap((...m)=>{const[_,y,b,T,R]=m;if(this.incrementIncomingBytes_(m),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,_===Qy)this.id=y,this.password=b;else if(_===xC)y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+_)},(...m)=>{const[_,y]=m;this.incrementIncomingBytes_(m),this.myPacketOrderer.handleResponse(_,y)},()=>{this.onClosed_()},this.urlFn);const a={};a[Qy]="t",a[J1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[NC]=this.scriptTagHolder.uniqueCallbackIdentifier),a[U1]=xp,this.transportSessionId&&(a[j1]=this.transportSessionId),this.lastSessionId&&(a[F1]=this.lastSessionId),this.applicationId&&(a[G1]=this.applicationId),this.appCheckToken&&(a[Vm]=this.appCheckToken),typeof location<"u"&&location.hostname&&q1.test(location.hostname)&&(a[H1]=V1);const c=this.urlFn(a);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ml.forceAllow_=!0}static forceDisallow(){Ml.forceDisallow_=!0}static isAvailable(){return Ml.forceAllow_?!0:!Ml.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fC()&&!dC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=en(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=M0(i),c=z1(a,LC);for(let m=0;m<c.length;m++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[m]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[OC]="t",a[X1]=t,a[Q1]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=en(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Ap{constructor(t,i,a,c){this.onDisconnect=a,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aC(),window[CC+this.uniqueCallbackIdentifier]=t,window[AC+this.uniqueCallbackIdentifier]=i,this.myIFrame=Ap.createIFrame_();let m="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(m='<script>document.domain="'+document.domain+'";<\/script>');const _="<html><body>"+m+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_),this.myIFrame.doc.close()}catch(y){Ln("frame writing exception"),y.stack&&Ln(y.stack),Ln(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ln("No IE domain setting required")}catch{const a=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[X1]=this.myID,t[Q1]=this.myPW,t[J1]=this.currentSerial;let i=this.urlFn(t),a="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+tw+a.length<=$1;){const _=this.pendingSegs.shift();a=a+"&"+RC+c+"="+_.seg+"&"+IC+c+"="+_.ts+"&"+MC+c+"="+_.d,c++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,a){this.pendingSegs.push({seg:t,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},c=setTimeout(a,Math.floor(kC)),m=()=>{clearTimeout(c),a()};this.addTag(t,m)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=t,a.onload=a.onreadystatechange=function(){const c=a.readyState;(!c||c==="loaded"||c==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{Ln("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=16384,zC=45e3;let nf=null;typeof MozWebSocket<"u"?nf=MozWebSocket:typeof WebSocket<"u"&&(nf=WebSocket);class us{constructor(t,i,a,c,m,_,y){this.connId=t,this.applicationId=a,this.appCheckToken=c,this.authToken=m,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cc(this.connId),this.stats_=Cp(i),this.connURL=us.connectionURL_(i,_,y,c,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,a,c,m){const _={};return _[U1]=xp,typeof location<"u"&&location.hostname&&q1.test(location.hostname)&&(_[H1]=V1),i&&(_[j1]=i),a&&(_[F1]=a),c&&(_[Vm]=c),m&&(_[G1]=m),K1(t,Z1,_)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ia.set("previous_websocket_failure",!0);try{let a;UE(),this.mySock=new nf(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){us.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&nf!==null&&!us.forceDisallow_}static previouslyFailed(){return Ia.isInMemoryStorage||Ia.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ia.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=rc(i);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(dt(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const i=en(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=z1(i,PC);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zC))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}us.responsesRequiredToBeHealthy=2;us.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{static get ALL_TRANSPORTS(){return[Ml,us]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=us&&us.isAvailable();let a=i&&!us.previouslyFailed();if(t.webSocketOnly&&(i||ei("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[us];else{const c=this.transports_=[];for(const m of cc.ALL_TRANSPORTS)m&&m.isAvailable()&&c.push(m);cc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}cc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=6e4,UC=5e3,jC=10*1024,HC=100*1024,xm="t",Jy="d",VC="s",$y="r",qC="e",t0="o",e0="a",n0="n",i0="p",FC="h";class GC{constructor(t,i,a,c,m,_,y,b,T,R){this.id=t,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=c,this.authToken_=m,this.onMessage_=_,this.onReady_=y,this.onDisconnect_=b,this.onKill_=T,this.lastSessionId=R,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cc("c:"+this.id+":"),this.transportManager_=new cc(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const c=t.healthyTimeout||0;c>0&&(this.healthyTimeout_=ec(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(xm in t){const i=t[xm];i===e0?this.upgradeIfSecondaryHealthy_():i===$y?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===t0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Vu("t",t),a=Vu("d",t);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:i0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:e0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:n0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Vu("t",t),a=Vu("d",t);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Vu(xm,t);if(Jy in t){const a=t[Jy];if(i===FC){const c={...a};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(i===n0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===VC?this.onConnectionShutdown_(a):i===$y?this.onReset_(a):i===qC?Hm("Server Error: "+a):i===t0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hm("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,a=t.v,c=t.h;this.sessionId=t.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),xp!==a&&ei("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),ec(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ec(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(UC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:i0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ia.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{put(t,i,a,c){}merge(t,i,a,c){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,a){}onDisconnectMerge(t,i,a){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t){this.allowedEvents_=t,this.listeners_={},dt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const a=[...this.listeners_[t]];for(let c=0;c<a.length;c++)a[c].callback.apply(a[c].context,i)}}on(t,i,a){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:a});const c=this.getInitialEvent(t);c&&i.apply(a,c)}off(t,i,a){this.validateEventType_(t);const c=this.listeners_[t]||[];for(let m=0;m<c.length;m++)if(c[m].callback===i&&(!a||a===c[m].context)){c.splice(m,1);return}}validateEventType_(t){dt(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends nw{static getInstance(){return new sf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return dt(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=32,r0=768;class Ee{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let a=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[a]=this.pieces_[c],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ae(){return new Ee("")}function Xt(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Uo(r){return r.pieces_.length-r.pieceNum_}function Re(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Ee(r.pieces_,t)}function iw(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function ZC(r){let t="";for(let i=r.pieceNum_;i<r.pieces_.length;i++)r.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(r.pieces_[i])));return t||"/"}function sw(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function rw(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let i=r.pieceNum_;i<r.pieces_.length-1;i++)t.push(r.pieces_[i]);return new Ee(t,0)}function nn(r,t){const i=[];for(let a=r.pieceNum_;a<r.pieces_.length;a++)i.push(r.pieces_[a]);if(t instanceof Ee)for(let a=t.pieceNum_;a<t.pieces_.length;a++)i.push(t.pieces_[a]);else{const a=t.split("/");for(let c=0;c<a.length;c++)a[c].length>0&&i.push(a[c])}return new Ee(i,0)}function Kt(r){return r.pieceNum_>=r.pieces_.length}function Vn(r,t){const i=Xt(r),a=Xt(t);if(i===null)return t;if(i===a)return Vn(Re(r),Re(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function ow(r,t){if(Uo(r)!==Uo(t))return!1;for(let i=r.pieceNum_,a=t.pieceNum_;i<=r.pieces_.length;i++,a++)if(r.pieces_[i]!==t.pieces_[a])return!1;return!0}function fs(r,t){let i=r.pieceNum_,a=t.pieceNum_;if(Uo(r)>Uo(t))return!1;for(;i<r.pieces_.length;){if(r.pieces_[i]!==t.pieces_[a])return!1;++i,++a}return!0}class YC{constructor(t,i){this.errorPrefix_=i,this.parts_=sw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=_f(this.parts_[a]);aw(this)}}function WC(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=_f(t),aw(r)}function KC(r){const t=r.parts_.pop();r.byteLength_-=_f(t),r.parts_.length>0&&(r.byteLength_-=1)}function aw(r){if(r.byteLength_>r0)throw new Error(r.errorPrefix_+"has a key path longer than "+r0+" bytes ("+r.byteLength_+").");if(r.parts_.length>s0)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+s0+") or object contains a cycle "+Ca(r))}function Ca(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends nw{static getInstance(){return new Np}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[t];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(t){return dt(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=1e3,XC=300*1e3,o0=30*1e3,QC=1.3,JC=3e4,$C="server_kill",a0=3;class Er extends ew{constructor(t,i,a,c,m,_,y,b){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=m,this.authTokenProvider_=_,this.appCheckTokenProvider_=y,this.authOverride_=b,this.id=Er.nextPersistentConnectionId_++,this.log_=Cc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qu,this.maxReconnectDelay_=XC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Np.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&sf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,a){const c=++this.requestNumber_,m={r:c,a:t,b:i};this.log_(en(m)),dt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(m),a&&(this.requestCBHash_[c]=a)}get(t){this.initConnection_();const i=new pf,c={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:_=>{const y=_.d;_.s==="ok"?i.resolve(y):i.reject(y)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const m=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(m),i.promise}listen(t,i,a,c){this.initConnection_();const m=t._queryIdentifier,_=t._path.toString();this.log_("Listen called for "+_+" "+m),this.listens.has(_)||this.listens.set(_,new Map),dt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),dt(!this.listens.get(_).has(m),"listen() called twice for same path/queryId.");const y={onComplete:c,hashFn:i,query:t,tag:a};this.listens.get(_).set(m,y),this.connected_&&this.sendListen_(y)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(t){const i=t.query,a=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+a+" for "+c);const m={p:a},_="q";t.tag&&(m.q=i._queryObject,m.t=t.tag),m.h=t.hashFn(),this.sendRequest(_,m,y=>{const b=y.d,T=y.s;Er.warnOnListenWarnings_(b,i),(this.listens.get(a)&&this.listens.get(a).get(c))===t&&(this.log_("listen response",y),T!=="ok"&&this.removeListen_(a,c),t.onComplete&&t.onComplete(T,b))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Nr(t,"w")){const a=jl(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',m=i._path.toString();ei(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${m} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||ZE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=o0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=GE(t)?"auth":"gauth",a={cred:t};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,c=>{const m=c.s,_=c.d||"error";this.authToken_===t&&(m==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(m,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,a=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(t,i){const a=t._path.toString(),c=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),dt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,t._queryObject,i)}sendUnlisten_(t,i,a,c){this.log_("Unlisten on "+t+" for "+i);const m={p:t},_="n";c&&(m.q=a,m.t=c),this.sendRequest(_,m)}onDisconnectPut(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:a})}onDisconnectMerge(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:a})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,a,c){const m={p:i,d:a};this.log_("onDisconnect "+t,m),this.sendRequest(t,m,_=>{c&&setTimeout(()=>{c(_.s,_.d)},Math.floor(0))})}put(t,i,a,c){this.putInternal("p",t,i,a,c)}merge(t,i,a,c){this.putInternal("m",t,i,a,c)}putInternal(t,i,a,c,m){this.initConnection_();const _={p:i,d:a};m!==void 0&&(_.h=m),this.outstandingPuts_.push({action:t,request:_,onComplete:c}),this.outstandingPutCount_++;const y=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(y):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,c=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,a,m=>{this.log_(i+" response",m),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(m.s,m.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const m=a.d;this.log_("reportStats","Error sending stats: "+m)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+en(t));const i=t.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Hm("Unrecognized action received from server: "+en(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){dt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=qu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>JC&&(this.reconnectDelay_=qu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+Er.nextConnectionId_++,m=this.lastSessionId;let _=!1,y=null;const b=function(){y?y.close():(_=!0,a())},T=function(k){dt(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(k)};this.realtime_={close:b,sendRequest:T};const R=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[k,D]=await Promise.all([this.authTokenProvider_.getToken(R),this.appCheckTokenProvider_.getToken(R)]);_?Ln("getToken() completed but was canceled"):(Ln("getToken() completed. Creating connection."),this.authToken_=k&&k.accessToken,this.appCheckToken_=D&&D.token,y=new GC(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,a,nt=>{ei(nt+" ("+this.repoInfo_.toString()+")"),this.interrupt($C)},m))}catch(k){this.log_("Failed to get token: "+k),_||(this.repoInfo_.nodeAdmin&&ei(k),b())}}}interrupt(t){Ln("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ln("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Mm(this.interruptReasons_)&&(this.reconnectDelay_=qu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let a;i?a=i.map(m=>Sp(m)).join("$"):a="default";const c=this.removeListen_(t,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(t,i){const a=new Ee(t).toString();let c;if(this.listens.has(a)){const m=this.listens.get(a);c=m.get(i),m.delete(i),m.size===0&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(t,i){Ln("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=a0&&(this.reconnectDelay_=o0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ln("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=a0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+L1.replace(/\./g,"-")]=1,sp()?t["framework.cordova"]=1:B0()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=sf.getInstance().currentlyOnline();return Mm(this.interruptReasons_)&&t}}Er.nextPersistentConnectionId_=0;Er.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new Gt(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const a=new Gt(Vl,t),c=new Gt(Vl,i);return this.compare(a,c)!==0}minPost(){return Gt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph;class lw extends Ef{static get __EMPTY_NODE(){return Ph}static set __EMPTY_NODE(t){Ph=t}compare(t,i){return Kl(t.name,i.name)}isDefinedOn(t){throw Zl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return Gt.MIN}maxPost(){return new Gt(Ba,Ph)}makePost(t,i){return dt(typeof t=="string","KeyIndex indexValue must always be a string."),new Gt(t,Ph)}toString(){return".key"}}const zl=new lw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,i,a,c,m=null){this.isReverse_=c,this.resultGenerator_=m,this.nodeStack_=[];let _=1;for(;!t.isEmpty();)if(t=t,_=i?a(t.key,i):1,c&&(_*=-1),_<0)this.isReverse_?t=t.left:t=t.right;else if(_===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class mn{constructor(t,i,a,c,m){this.key=t,this.value=i,this.color=a??mn.RED,this.left=c??ti.EMPTY_NODE,this.right=m??ti.EMPTY_NODE}copy(t,i,a,c,m){return new mn(t??this.key,i??this.value,a??this.color,c??this.left,m??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let c=this;const m=a(t,c.key);return m<0?c=c.copy(null,null,null,c.left.insert(t,i,a),null):m===0?c=c.copy(null,i,null,null,null):c=c.copy(null,null,null,null,c.right.insert(t,i,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return ti.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let a,c;if(a=this,i(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(t,a.key)===0){if(a.right.isEmpty())return ti.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}mn.RED=!0;mn.BLACK=!1;class tA{copy(t,i,a,c,m){return this}insert(t,i,a){return new mn(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ti{constructor(t,i=ti.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new ti(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,mn.BLACK,null,null))}remove(t){return new ti(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,mn.BLACK,null,null))}get(t){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(t,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(t){let i,a=this.root_,c=null;for(;!a.isEmpty();)if(i=this.comparator_(t,a.key),i===0){if(a.left.isEmpty())return c?c.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(c=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new zh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new zh(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new zh(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new zh(this.root_,null,this.comparator_,!0,t)}}ti.EMPTY_NODE=new tA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(r,t){return Kl(r.name,t.name)}function Rp(r,t){return Kl(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm;function nA(r){qm=r}const uw=function(r){return typeof r=="number"?"number:"+B1(r):"string:"+r},cw=function(r){if(r.isLeafNode()){const t=r.val();dt(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Nr(t,".sv"),"Priority must be a string or number.")}else dt(r===qm||r.isEmpty(),"priority of unexpected type.");dt(r===qm||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0;class dn{static set __childrenNodeConstructor(t){l0=t}static get __childrenNodeConstructor(){return l0}constructor(t,i=dn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,dt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new dn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:dn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Kt(t)?this:Xt(t)===".priority"?this.priorityNode_:dn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:dn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const a=Xt(t);return a===null?i:i.isEmpty()&&a!==".priority"?this:(dt(a!==".priority"||Uo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,dn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+uw(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=B1(this.value_):t+=this.value_,this.lazyHash_=D1(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===dn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof dn.__childrenNodeConstructor?-1:(dt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,a=typeof this.value_,c=dn.VALUE_TYPE_ORDER.indexOf(i),m=dn.VALUE_TYPE_ORDER.indexOf(a);return dt(c>=0,"Unknown leaf type: "+i),dt(m>=0,"Unknown leaf type: "+a),c===m?a==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:m-c}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}dn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hw,fw;function iA(r){hw=r}function sA(r){fw=r}class rA extends Ef{compare(t,i){const a=t.node.getPriority(),c=i.node.getPriority(),m=a.compareTo(c);return m===0?Kl(t.name,i.name):m}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return Gt.MIN}maxPost(){return new Gt(Ba,new dn("[PRIORITY-POST]",fw))}makePost(t,i){const a=hw(t);return new Gt(i,new dn("[PRIORITY-POST]",a))}toString(){return".priority"}}const je=new rA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=Math.log(2);class aA{constructor(t){const i=m=>parseInt(Math.log(m)/oA,10),a=m=>parseInt(Array(m+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const c=a(this.count);this.bits_=t+1&c}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const rf=function(r,t,i,a){r.sort(t);const c=function(b,T){const R=T-b;let k,D;if(R===0)return null;if(R===1)return k=r[b],D=i?i(k):k,new mn(D,k.node,mn.BLACK,null,null);{const nt=parseInt(R/2,10)+b,et=c(b,nt),at=c(nt+1,T);return k=r[nt],D=i?i(k):k,new mn(D,k.node,mn.BLACK,et,at)}},m=function(b){let T=null,R=null,k=r.length;const D=function(et,at){const mt=k-et,Nt=k;k-=et;const Mt=c(mt+1,Nt),ft=r[mt],xt=i?i(ft):ft;nt(new mn(xt,ft.node,at,null,Mt))},nt=function(et){T?(T.left=et,T=et):(R=et,T=et)};for(let et=0;et<b.count;++et){const at=b.nextBitIsOne(),mt=Math.pow(2,b.count-(et+1));at?D(mt,mn.BLACK):(D(mt,mn.BLACK),D(mt,mn.RED))}return R},_=new aA(r.length),y=m(_);return new ti(a||t,y)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm;const Il={};class wr{static get Default(){return dt(Il&&je,"ChildrenNode.ts has not been loaded"),Cm=Cm||new wr({".priority":Il},{".priority":je}),Cm}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=jl(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof ti?i:null}hasIndex(t){return Nr(this.indexSet_,t.toString())}addIndex(t,i){dt(t!==zl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let c=!1;const m=i.getIterator(Gt.Wrap);let _=m.getNext();for(;_;)c=c||t.isDefinedOn(_.node),a.push(_),_=m.getNext();let y;c?y=rf(a,t.getCompare()):y=Il;const b=t.toString(),T={...this.indexSet_};T[b]=t;const R={...this.indexes_};return R[b]=y,new wr(R,T)}addToIndexes(t,i){const a=Zh(this.indexes_,(c,m)=>{const _=jl(this.indexSet_,m);if(dt(_,"Missing index implementation for "+m),c===Il)if(_.isDefinedOn(t.node)){const y=[],b=i.getIterator(Gt.Wrap);let T=b.getNext();for(;T;)T.name!==t.name&&y.push(T),T=b.getNext();return y.push(t),rf(y,_.getCompare())}else return Il;else{const y=i.get(t.name);let b=c;return y&&(b=b.remove(new Gt(t.name,y))),b.insert(t,t.node)}});return new wr(a,this.indexSet_)}removeFromIndexes(t,i){const a=Zh(this.indexes_,c=>{if(c===Il)return c;{const m=i.get(t.name);return m?c.remove(new Gt(t.name,m)):c}});return new wr(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu;class Dt{static get EMPTY_NODE(){return Fu||(Fu=new Dt(new ti(Rp),null,wr.Default))}constructor(t,i,a){this.children_=t,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&cw(this.priorityNode_),this.children_.isEmpty()&&dt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fu}updatePriority(t){return this.children_.isEmpty()?this:new Dt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Fu:i}}getChild(t){const i=Xt(t);return i===null?this:this.getImmediateChild(i).getChild(Re(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(dt(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const a=new Gt(t,i);let c,m;i.isEmpty()?(c=this.children_.remove(t),m=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(t,i),m=this.indexMap_.addToIndexes(a,this.children_));const _=c.isEmpty()?Fu:this.priorityNode_;return new Dt(c,_,m)}}updateChild(t,i){const a=Xt(t);if(a===null)return i;{dt(Xt(t)!==".priority"||Uo(t)===1,".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(Re(t),i);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let a=0,c=0,m=!0;if(this.forEachChild(je,(_,y)=>{i[_]=y.val(t),a++,m&&Dt.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):m=!1}),!t&&m&&c<2*a){const _=[];for(const y in i)_[y]=i[y];return _}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+uw(this.getPriority().val())+":"),this.forEachChild(je,(i,a)=>{const c=a.hash();c!==""&&(t+=":"+i+":"+c)}),this.lazyHash_=t===""?"":D1(t)}return this.lazyHash_}getPredecessorChildName(t,i,a){const c=this.resolveIndex_(a);if(c){const m=c.getPredecessorKey(new Gt(t,i));return m?m.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Gt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Gt(i,this.children_.get(i)):null}forEachChild(t,i){const a=this.resolveIndex_(t);return a?a.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,c=>c);{const c=this.children_.getIteratorFrom(t.name,Gt.Wrap);let m=c.peek();for(;m!=null&&i.compare(m,t)<0;)c.getNext(),m=c.peek();return c}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,c=>c);{const c=this.children_.getReverseIteratorFrom(t.name,Gt.Wrap);let m=c.peek();for(;m!=null&&i.compare(m,t)>0;)c.getNext(),m=c.peek();return c}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ac?-1:0}withIndex(t){if(t===zl||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new Dt(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===zl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(je),c=i.getIterator(je);let m=a.getNext(),_=c.getNext();for(;m&&_;){if(m.name!==_.name||!m.node.equals(_.node))return!1;m=a.getNext(),_=c.getNext()}return m===null&&_===null}else return!1;else return!1}}resolveIndex_(t){return t===zl?null:this.indexMap_.get(t.toString())}}Dt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lA extends Dt{constructor(){super(new ti(Rp),Dt.EMPTY_NODE,wr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Dt.EMPTY_NODE}isEmpty(){return!1}}const Ac=new lA;Object.defineProperties(Gt,{MIN:{value:new Gt(Vl,Dt.EMPTY_NODE)},MAX:{value:new Gt(Ba,Ac)}});lw.__EMPTY_NODE=Dt.EMPTY_NODE;dn.__childrenNodeConstructor=Dt;nA(Ac);sA(Ac);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=!0;function pn(r,t=null){if(r===null)return Dt.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(t=r[".priority"]),dt(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const i=r;return new dn(i,pn(t))}if(!(r instanceof Array)&&uA){const i=[];let a=!1;if(ni(r,(_,y)=>{if(_.substring(0,1)!=="."){const b=pn(y);b.isEmpty()||(a=a||!b.getPriority().isEmpty(),i.push(new Gt(_,b)))}}),i.length===0)return Dt.EMPTY_NODE;const m=rf(i,eA,_=>_.name,Rp);if(a){const _=rf(i,je.getCompare());return new Dt(m,pn(t),new wr({".priority":_},{".priority":je}))}else return new Dt(m,pn(t),wr.Default)}else{let i=Dt.EMPTY_NODE;return ni(r,(a,c)=>{if(Nr(r,a)&&a.substring(0,1)!=="."){const m=pn(c);(m.isLeafNode()||!m.isEmpty())&&(i=i.updateImmediateChild(a,m))}}),i.updatePriority(pn(t))}}iA(pn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA extends Ef{constructor(t){super(),this.indexPath_=t,dt(!Kt(t)&&Xt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const a=this.extractChild(t.node),c=this.extractChild(i.node),m=a.compareTo(c);return m===0?Kl(t.name,i.name):m}makePost(t,i){const a=pn(t),c=Dt.EMPTY_NODE.updateChild(this.indexPath_,a);return new Gt(i,c)}maxPost(){const t=Dt.EMPTY_NODE.updateChild(this.indexPath_,Ac);return new Gt(Ba,t)}toString(){return sw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends Ef{compare(t,i){const a=t.node.compareTo(i.node);return a===0?Kl(t.name,i.name):a}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return Gt.MIN}maxPost(){return Gt.MAX}makePost(t,i){const a=pn(t);return new Gt(i,a)}toString(){return".value"}}const fA=new hA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r){return{type:"value",snapshotNode:r}}function ql(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function hc(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function fc(r,t,i){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:i}}function dA(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t){this.index_=t}updateChild(t,i,a,c,m,_){dt(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(i);return y.getChild(c).equals(a.getChild(c))&&y.isEmpty()===a.isEmpty()||(_!=null&&(a.isEmpty()?t.hasChild(i)?_.trackChildChange(hc(i,y)):dt(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?_.trackChildChange(ql(i,a)):_.trackChildChange(fc(i,a,y))),t.isLeafNode()&&a.isEmpty())?t:t.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(t,i,a){return a!=null&&(t.isLeafNode()||t.forEachChild(je,(c,m)=>{i.hasChild(c)||a.trackChildChange(hc(c,m))}),i.isLeafNode()||i.forEachChild(je,(c,m)=>{if(t.hasChild(c)){const _=t.getImmediateChild(c);_.equals(m)||a.trackChildChange(fc(c,m,_))}else a.trackChildChange(ql(c,m))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?Dt.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t){this.indexedFilter_=new Ip(t.getIndex()),this.index_=t.getIndex(),this.startPost_=dc.getStartPost_(t),this.endPost_=dc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,a=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&a}updateChild(t,i,a,c,m,_){return this.matches(new Gt(i,a))||(a=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,a,c,m,_)}updateFullNode(t,i,a){i.isLeafNode()&&(i=Dt.EMPTY_NODE);let c=i.withIndex(this.index_);c=c.updatePriority(Dt.EMPTY_NODE);const m=this;return i.forEachChild(je,(_,y)=>{m.matches(new Gt(_,y))||(c=c.updateImmediateChild(_,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,c,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new dc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,a,c,m,_){return this.rangedFilter_.matches(new Gt(i,a))||(a=Dt.EMPTY_NODE),t.getImmediateChild(i).equals(a)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,a,c,m,_):this.fullLimitUpdateChild_(t,i,a,m,_)}updateFullNode(t,i,a){let c;if(i.isLeafNode()||i.isEmpty())c=Dt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){c=Dt.EMPTY_NODE.withIndex(this.index_);let m;this.reverse_?m=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):m=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _=0;for(;m.hasNext()&&_<this.limit_;){const y=m.getNext();if(this.withinDirectionalStart(y))if(this.withinDirectionalEnd(y))c=c.updateImmediateChild(y.name,y.node),_++;else break;else continue}}else{c=i.withIndex(this.index_),c=c.updatePriority(Dt.EMPTY_NODE);let m;this.reverse_?m=c.getReverseIterator(this.index_):m=c.getIterator(this.index_);let _=0;for(;m.hasNext();){const y=m.getNext();_<this.limit_&&this.withinDirectionalStart(y)&&this.withinDirectionalEnd(y)?_++:c=c.updateImmediateChild(y.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,c,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,a,c,m){let _;if(this.reverse_){const k=this.index_.getCompare();_=(D,nt)=>k(nt,D)}else _=this.index_.getCompare();const y=t;dt(y.numChildren()===this.limit_,"");const b=new Gt(i,a),T=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),R=this.rangedFilter_.matches(b);if(y.hasChild(i)){const k=y.getImmediateChild(i);let D=c.getChildAfterChild(this.index_,T,this.reverse_);for(;D!=null&&(D.name===i||y.hasChild(D.name));)D=c.getChildAfterChild(this.index_,D,this.reverse_);const nt=D==null?1:_(D,b);if(R&&!a.isEmpty()&&nt>=0)return m?.trackChildChange(fc(i,a,k)),y.updateImmediateChild(i,a);{m?.trackChildChange(hc(i,k));const at=y.updateImmediateChild(i,Dt.EMPTY_NODE);return D!=null&&this.rangedFilter_.matches(D)?(m?.trackChildChange(ql(D.name,D.node)),at.updateImmediateChild(D.name,D.node)):at}}else return a.isEmpty()?t:R&&_(T,b)>=0?(m!=null&&(m.trackChildChange(hc(T.name,T.node)),m.trackChildChange(ql(i,a))),y.updateImmediateChild(i,a).updateImmediateChild(T.name,Dt.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return dt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return dt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vl}hasEnd(){return this.endSet_}getIndexEndValue(){return dt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return dt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ba}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return dt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const t=new Mp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pA(r){return r.loadsAllData()?new Ip(r.getIndex()):r.hasLimit()?new mA(r):new dc(r)}function u0(r){const t={};if(r.isDefault())return t;let i;if(r.index_===je?i="$priority":r.index_===fA?i="$value":r.index_===zl?i="$key":(dt(r.index_ instanceof cA,"Unrecognized index type!"),i=r.index_.toString()),t.orderBy=en(i),r.startSet_){const a=r.startAfterSet_?"startAfter":"startAt";t[a]=en(r.indexStartValue_),r.startNameSet_&&(t[a]+=","+en(r.indexStartName_))}if(r.endSet_){const a=r.endBeforeSet_?"endBefore":"endAt";t[a]=en(r.indexEndValue_),r.endNameSet_&&(t[a]+=","+en(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function c0(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let i=r.viewFrom_;i===""&&(r.isViewFromLeft()?i="l":i="r"),t.vf=i}return r.index_!==je&&(t.i=r.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends ew{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(dt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,a,c){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.log_=Cc("p:rest:"),this.listens_={}}listen(t,i,a,c){const m=t._path.toString();this.log_("Listen called for "+m+" "+t._queryIdentifier);const _=of.getListenId_(t,a),y={};this.listens_[_]=y;const b=u0(t._queryParams);this.restRequest_(m+".json",b,(T,R)=>{let k=R;if(T===404&&(k=null,T=null),T===null&&this.onDataUpdate_(m,k,!1,a),jl(this.listens_,_)===y){let D;T?T===401?D="permission_denied":D="rest_error:"+T:D="ok",c(D,null)}})}unlisten(t,i){const a=of.getListenId_(t,i);delete this.listens_[a]}get(t){const i=u0(t._queryParams),a=t._path.toString(),c=new pf;return this.restRequest_(a+".json",i,(m,_)=>{let y=_;m===404&&(y=null,m=null),m===null?(this.onDataUpdate_(a,y,!1,null),c.resolve(y)):c.reject(new Error(y))}),c.promise}refreshAuthToken(t){}restRequest_(t,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,m])=>{c&&c.accessToken&&(i.auth=c.accessToken),m&&m.token&&(i.ac=m.token);const _=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Yl(i);this.log_("Sending REST request for "+_);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(a&&y.readyState===4){this.log_("REST Response for "+_+" received. status:",y.status,"response:",y.responseText);let b=null;if(y.status>=200&&y.status<300){try{b=rc(y.responseText)}catch{ei("Failed to parse JSON response for "+_+": "+y.responseText)}a(null,b)}else y.status!==401&&y.status!==404&&ei("Got unsuccessful REST response for "+_+" Status: "+y.status),a(y.status);a=null}},y.open("GET",_,!0),y.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(){return{value:null,children:new Map}}function mw(r,t,i){if(Kt(t))r.value=i,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(t,i);else{const a=Xt(t);r.children.has(a)||r.children.set(a,af());const c=r.children.get(a);t=Re(t),mw(c,t,i)}}function Fm(r,t,i){r.value!==null?i(t,r.value):gA(r,(a,c)=>{const m=new Ee(t.toString()+"/"+a);Fm(c,m,i)})}function gA(r,t){r.children.forEach((i,a)=>{t(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&ni(this.last_,(a,c)=>{i[a]=i[a]-c}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=10*1e3,yA=30*1e3,wA=300*1e3;class bA{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new vA(t);const a=h0+(yA-h0)*Math.random();ec(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const t=this.statsListener_.get(),i={};let a=!1;ni(t,(c,m)=>{m>0&&Nr(this.statsToReport_,c)&&(i[c]=m,a=!0)}),a&&this.server_.reportStats(i),ec(this.reportStats_.bind(this),Math.floor(Math.random()*2*wA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ds||(ds={}));function pw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Op(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Lp(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,i,a){this.path=t,this.affectedTree=i,this.revert=a,this.type=ds.ACK_USER_WRITE,this.source=pw()}operationForChild(t){if(Kt(this.path)){if(this.affectedTree.value!=null)return dt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ee(t));return new lf(ae(),i,this.revert)}}else return dt(Xt(this.path)===t,"operationForChild called for unrelated child."),new lf(Re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,i){this.source=t,this.path=i,this.type=ds.LISTEN_COMPLETE}operationForChild(t){return Kt(this.path)?new mc(this.source,ae()):new mc(this.source,Re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,i,a){this.source=t,this.path=i,this.snap=a,this.type=ds.OVERWRITE}operationForChild(t){return Kt(this.path)?new Ua(this.source,ae(),this.snap.getImmediateChild(t)):new Ua(this.source,Re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,i,a){this.source=t,this.path=i,this.children=a,this.type=ds.MERGE}operationForChild(t){if(Kt(this.path)){const i=this.children.subtree(new Ee(t));return i.isEmpty()?null:i.value?new Ua(this.source,ae(),i.value):new pc(this.source,ae(),i)}else return dt(Xt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new pc(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,i,a){this.node_=t,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Kt(t))return this.isFullyInitialized()&&!this.filtered_;const i=Xt(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function TA(r,t,i,a){const c=[],m=[];return t.forEach(_=>{_.type==="child_changed"&&r.index_.indexedValueChanged(_.oldSnap,_.snapshotNode)&&m.push(dA(_.childName,_.snapshotNode))}),Gu(r,c,"child_removed",t,a,i),Gu(r,c,"child_added",t,a,i),Gu(r,c,"child_moved",m,a,i),Gu(r,c,"child_changed",t,a,i),Gu(r,c,"value",t,a,i),c}function Gu(r,t,i,a,c,m){const _=a.filter(y=>y.type===i);_.sort((y,b)=>xA(r,y,b)),_.forEach(y=>{const b=SA(r,y,m);c.forEach(T=>{T.respondsTo(y.type)&&t.push(T.createEvent(b,r.query_))})})}function SA(r,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}function xA(r,t,i){if(t.childName==null||i.childName==null)throw Zl("Should only compare child_ events.");const a=new Gt(t.childName,t.snapshotNode),c=new Gt(i.childName,i.snapshotNode);return r.index_.compare(a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(r,t){return{eventCache:r,serverCache:t}}function nc(r,t,i,a){return Tf(new jo(t,i,a),r.serverCache)}function _w(r,t,i,a){return Tf(r.eventCache,new jo(t,i,a))}function uf(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function ja(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am;const CA=()=>(Am||(Am=new ti(hC)),Am);class Me{static fromObject(t){let i=new Me(null);return ni(t,(a,c)=>{i=i.set(new Ee(a),c)}),i}constructor(t,i=CA()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ae(),value:this.value};if(Kt(t))return null;{const a=Xt(t),c=this.children.get(a);if(c!==null){const m=c.findRootMostMatchingPathAndValue(Re(t),i);return m!=null?{path:nn(new Ee(a),m.path),value:m.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Kt(t))return this;{const i=Xt(t),a=this.children.get(i);return a!==null?a.subtree(Re(t)):new Me(null)}}set(t,i){if(Kt(t))return new Me(i,this.children);{const a=Xt(t),m=(this.children.get(a)||new Me(null)).set(Re(t),i),_=this.children.insert(a,m);return new Me(this.value,_)}}remove(t){if(Kt(t))return this.children.isEmpty()?new Me(null):new Me(null,this.children);{const i=Xt(t),a=this.children.get(i);if(a){const c=a.remove(Re(t));let m;return c.isEmpty()?m=this.children.remove(i):m=this.children.insert(i,c),this.value===null&&m.isEmpty()?new Me(null):new Me(this.value,m)}else return this}}get(t){if(Kt(t))return this.value;{const i=Xt(t),a=this.children.get(i);return a?a.get(Re(t)):null}}setTree(t,i){if(Kt(t))return i;{const a=Xt(t),m=(this.children.get(a)||new Me(null)).setTree(Re(t),i);let _;return m.isEmpty()?_=this.children.remove(a):_=this.children.insert(a,m),new Me(this.value,_)}}fold(t){return this.fold_(ae(),t)}fold_(t,i){const a={};return this.children.inorderTraversal((c,m)=>{a[c]=m.fold_(nn(t,c),i)}),i(t,this.value,a)}findOnPath(t,i){return this.findOnPath_(t,ae(),i)}findOnPath_(t,i,a){const c=this.value?a(i,this.value):!1;if(c)return c;if(Kt(t))return null;{const m=Xt(t),_=this.children.get(m);return _?_.findOnPath_(Re(t),nn(i,m),a):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ae(),i)}foreachOnPath_(t,i,a){if(Kt(t))return this;{this.value&&a(i,this.value);const c=Xt(t),m=this.children.get(c);return m?m.foreachOnPath_(Re(t),nn(i,c),a):new Me(null)}}foreach(t){this.foreach_(ae(),t)}foreach_(t,i){this.children.inorderTraversal((a,c)=>{c.foreach_(nn(t,a),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,a)=>{a.value&&t(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.writeTree_=t}static empty(){return new ps(new Me(null))}}function ic(r,t,i){if(Kt(t))return new ps(new Me(i));{const a=r.writeTree_.findRootMostValueAndPath(t);if(a!=null){const c=a.path;let m=a.value;const _=Vn(c,t);return m=m.updateChild(_,i),new ps(r.writeTree_.set(c,m))}else{const c=new Me(i),m=r.writeTree_.setTree(t,c);return new ps(m)}}}function f0(r,t,i){let a=r;return ni(i,(c,m)=>{a=ic(a,nn(t,c),m)}),a}function d0(r,t){if(Kt(t))return ps.empty();{const i=r.writeTree_.setTree(t,new Me(null));return new ps(i)}}function Gm(r,t){return qa(r,t)!=null}function qa(r,t){const i=r.writeTree_.findRootMostValueAndPath(t);return i!=null?r.writeTree_.get(i.path).getChild(Vn(i.path,t)):null}function m0(r){const t=[],i=r.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(je,(a,c)=>{t.push(new Gt(a,c))}):r.writeTree_.children.inorderTraversal((a,c)=>{c.value!=null&&t.push(new Gt(a,c.value))}),t}function ko(r,t){if(Kt(t))return r;{const i=qa(r,t);return i!=null?new ps(new Me(i)):new ps(r.writeTree_.subtree(t))}}function Zm(r){return r.writeTree_.isEmpty()}function Fl(r,t){return gw(ae(),r.writeTree_,t)}function gw(r,t,i){if(t.value!=null)return i.updateChild(r,t.value);{let a=null;return t.children.inorderTraversal((c,m)=>{c===".priority"?(dt(m.value!==null,"Priority writes must always be leaf nodes"),a=m.value):i=gw(nn(r,c),m,i)}),!i.getChild(r).isEmpty()&&a!==null&&(i=i.updateChild(nn(r,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r,t){return bw(t,r)}function AA(r,t,i,a,c){dt(a>r.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),r.allWrites.push({path:t,snap:i,writeId:a,visible:c}),c&&(r.visibleWrites=ic(r.visibleWrites,t,i)),r.lastWriteId=a}function NA(r,t){for(let i=0;i<r.allWrites.length;i++){const a=r.allWrites[i];if(a.writeId===t)return a}return null}function RA(r,t){const i=r.allWrites.findIndex(y=>y.writeId===t);dt(i>=0,"removeWrite called with nonexistent writeId.");const a=r.allWrites[i];r.allWrites.splice(i,1);let c=a.visible,m=!1,_=r.allWrites.length-1;for(;c&&_>=0;){const y=r.allWrites[_];y.visible&&(_>=i&&IA(y,a.path)?c=!1:fs(a.path,y.path)&&(m=!0)),_--}if(c){if(m)return MA(r),!0;if(a.snap)r.visibleWrites=d0(r.visibleWrites,a.path);else{const y=a.children;ni(y,b=>{r.visibleWrites=d0(r.visibleWrites,nn(a.path,b))})}return!0}else return!1}function IA(r,t){if(r.snap)return fs(r.path,t);for(const i in r.children)if(r.children.hasOwnProperty(i)&&fs(nn(r.path,i),t))return!0;return!1}function MA(r){r.visibleWrites=vw(r.allWrites,OA,ae()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function OA(r){return r.visible}function vw(r,t,i){let a=ps.empty();for(let c=0;c<r.length;++c){const m=r[c];if(t(m)){const _=m.path;let y;if(m.snap)fs(i,_)?(y=Vn(i,_),a=ic(a,y,m.snap)):fs(_,i)&&(y=Vn(_,i),a=ic(a,ae(),m.snap.getChild(y)));else if(m.children){if(fs(i,_))y=Vn(i,_),a=f0(a,y,m.children);else if(fs(_,i))if(y=Vn(_,i),Kt(y))a=f0(a,ae(),m.children);else{const b=jl(m.children,Xt(y));if(b){const T=b.getChild(Re(y));a=ic(a,ae(),T)}}}else throw Zl("WriteRecord should have .snap or .children")}}return a}function yw(r,t,i,a,c){if(!a&&!c){const m=qa(r.visibleWrites,t);if(m!=null)return m;{const _=ko(r.visibleWrites,t);if(Zm(_))return i;if(i==null&&!Gm(_,ae()))return null;{const y=i||Dt.EMPTY_NODE;return Fl(_,y)}}}else{const m=ko(r.visibleWrites,t);if(!c&&Zm(m))return i;if(!c&&i==null&&!Gm(m,ae()))return null;{const _=function(T){return(T.visible||c)&&(!a||!~a.indexOf(T.writeId))&&(fs(T.path,t)||fs(t,T.path))},y=vw(r.allWrites,_,t),b=i||Dt.EMPTY_NODE;return Fl(y,b)}}}function LA(r,t,i){let a=Dt.EMPTY_NODE;const c=qa(r.visibleWrites,t);if(c)return c.isLeafNode()||c.forEachChild(je,(m,_)=>{a=a.updateImmediateChild(m,_)}),a;if(i){const m=ko(r.visibleWrites,t);return i.forEachChild(je,(_,y)=>{const b=Fl(ko(m,new Ee(_)),y);a=a.updateImmediateChild(_,b)}),m0(m).forEach(_=>{a=a.updateImmediateChild(_.name,_.node)}),a}else{const m=ko(r.visibleWrites,t);return m0(m).forEach(_=>{a=a.updateImmediateChild(_.name,_.node)}),a}}function kA(r,t,i,a,c){dt(a||c,"Either existingEventSnap or existingServerSnap must exist");const m=nn(t,i);if(Gm(r.visibleWrites,m))return null;{const _=ko(r.visibleWrites,m);return Zm(_)?c.getChild(i):Fl(_,c.getChild(i))}}function DA(r,t,i,a){const c=nn(t,i),m=qa(r.visibleWrites,c);if(m!=null)return m;if(a.isCompleteForChild(i)){const _=ko(r.visibleWrites,c);return Fl(_,a.getNode().getImmediateChild(i))}else return null}function PA(r,t){return qa(r.visibleWrites,t)}function zA(r,t,i,a,c,m,_){let y;const b=ko(r.visibleWrites,t),T=qa(b,ae());if(T!=null)y=T;else if(i!=null)y=Fl(b,i);else return[];if(y=y.withIndex(_),!y.isEmpty()&&!y.isLeafNode()){const R=[],k=_.getCompare(),D=m?y.getReverseIteratorFrom(a,_):y.getIteratorFrom(a,_);let nt=D.getNext();for(;nt&&R.length<c;)k(nt,a)!==0&&R.push(nt),nt=D.getNext();return R}else return[]}function BA(){return{visibleWrites:ps.empty(),allWrites:[],lastWriteId:-1}}function cf(r,t,i,a){return yw(r.writeTree,r.treePath,t,i,a)}function kp(r,t){return LA(r.writeTree,r.treePath,t)}function p0(r,t,i,a){return kA(r.writeTree,r.treePath,t,i,a)}function hf(r,t){return PA(r.writeTree,nn(r.treePath,t))}function UA(r,t,i,a,c,m){return zA(r.writeTree,r.treePath,t,i,a,c,m)}function Dp(r,t,i){return DA(r.writeTree,r.treePath,t,i)}function ww(r,t){return bw(nn(r.treePath,t),r.writeTree)}function bw(r,t){return{treePath:r,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,a=t.childName;dt(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),dt(a!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(a);if(c){const m=c.type;if(i==="child_added"&&m==="child_removed")this.changeMap.set(a,fc(a,t.snapshotNode,c.snapshotNode));else if(i==="child_removed"&&m==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&m==="child_changed")this.changeMap.set(a,hc(a,c.oldSnap));else if(i==="child_changed"&&m==="child_added")this.changeMap.set(a,ql(a,t.snapshotNode));else if(i==="child_changed"&&m==="child_changed")this.changeMap.set(a,fc(a,t.snapshotNode,c.oldSnap));else throw Zl("Illegal combination of changes: "+t+" occurred after "+c)}else this.changeMap.set(a,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{getCompleteChild(t){return null}getChildAfterChild(t,i,a){return null}}const Ew=new HA;class Pp{constructor(t,i,a=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const a=this.optCompleteServerCache_!=null?new jo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dp(this.writes_,t,a)}}getChildAfterChild(t,i,a){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ja(this.viewCache_),m=UA(this.writes_,c,i,1,a,t);return m.length===0?null:m[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(r){return{filter:r}}function qA(r,t){dt(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),dt(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function FA(r,t,i,a,c){const m=new jA;let _,y;if(i.type===ds.OVERWRITE){const T=i;T.source.fromUser?_=Ym(r,t,T.path,T.snap,a,c,m):(dt(T.source.fromServer,"Unknown source."),y=T.source.tagged||t.serverCache.isFiltered()&&!Kt(T.path),_=ff(r,t,T.path,T.snap,a,c,y,m))}else if(i.type===ds.MERGE){const T=i;T.source.fromUser?_=ZA(r,t,T.path,T.children,a,c,m):(dt(T.source.fromServer,"Unknown source."),y=T.source.tagged||t.serverCache.isFiltered(),_=Wm(r,t,T.path,T.children,a,c,y,m))}else if(i.type===ds.ACK_USER_WRITE){const T=i;T.revert?_=KA(r,t,T.path,a,c,m):_=YA(r,t,T.path,T.affectedTree,a,c,m)}else if(i.type===ds.LISTEN_COMPLETE)_=WA(r,t,i.path,a,m);else throw Zl("Unknown operation type: "+i.type);const b=m.getChanges();return GA(t,_,b),{viewCache:_,changes:b}}function GA(r,t,i){const a=t.eventCache;if(a.isFullyInitialized()){const c=a.getNode().isLeafNode()||a.getNode().isEmpty(),m=uf(r);(i.length>0||!r.eventCache.isFullyInitialized()||c&&!a.getNode().equals(m)||!a.getNode().getPriority().equals(m.getPriority()))&&i.push(dw(uf(t)))}}function Tw(r,t,i,a,c,m){const _=t.eventCache;if(hf(a,i)!=null)return t;{let y,b;if(Kt(i))if(dt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const T=ja(t),R=T instanceof Dt?T:Dt.EMPTY_NODE,k=kp(a,R);y=r.filter.updateFullNode(t.eventCache.getNode(),k,m)}else{const T=cf(a,ja(t));y=r.filter.updateFullNode(t.eventCache.getNode(),T,m)}else{const T=Xt(i);if(T===".priority"){dt(Uo(i)===1,"Can't have a priority with additional path components");const R=_.getNode();b=t.serverCache.getNode();const k=p0(a,i,R,b);k!=null?y=r.filter.updatePriority(R,k):y=_.getNode()}else{const R=Re(i);let k;if(_.isCompleteForChild(T)){b=t.serverCache.getNode();const D=p0(a,i,_.getNode(),b);D!=null?k=_.getNode().getImmediateChild(T).updateChild(R,D):k=_.getNode().getImmediateChild(T)}else k=Dp(a,T,t.serverCache);k!=null?y=r.filter.updateChild(_.getNode(),T,k,R,c,m):y=_.getNode()}}return nc(t,y,_.isFullyInitialized()||Kt(i),r.filter.filtersNodes())}}function ff(r,t,i,a,c,m,_,y){const b=t.serverCache;let T;const R=_?r.filter:r.filter.getIndexedFilter();if(Kt(i))T=R.updateFullNode(b.getNode(),a,null);else if(R.filtersNodes()&&!b.isFiltered()){const nt=b.getNode().updateChild(i,a);T=R.updateFullNode(b.getNode(),nt,null)}else{const nt=Xt(i);if(!b.isCompleteForPath(i)&&Uo(i)>1)return t;const et=Re(i),mt=b.getNode().getImmediateChild(nt).updateChild(et,a);nt===".priority"?T=R.updatePriority(b.getNode(),mt):T=R.updateChild(b.getNode(),nt,mt,et,Ew,null)}const k=_w(t,T,b.isFullyInitialized()||Kt(i),R.filtersNodes()),D=new Pp(c,k,m);return Tw(r,k,i,c,D,y)}function Ym(r,t,i,a,c,m,_){const y=t.eventCache;let b,T;const R=new Pp(c,t,m);if(Kt(i))T=r.filter.updateFullNode(t.eventCache.getNode(),a,_),b=nc(t,T,!0,r.filter.filtersNodes());else{const k=Xt(i);if(k===".priority")T=r.filter.updatePriority(t.eventCache.getNode(),a),b=nc(t,T,y.isFullyInitialized(),y.isFiltered());else{const D=Re(i),nt=y.getNode().getImmediateChild(k);let et;if(Kt(D))et=a;else{const at=R.getCompleteChild(k);at!=null?iw(D)===".priority"&&at.getChild(rw(D)).isEmpty()?et=at:et=at.updateChild(D,a):et=Dt.EMPTY_NODE}if(nt.equals(et))b=t;else{const at=r.filter.updateChild(y.getNode(),k,et,D,R,_);b=nc(t,at,y.isFullyInitialized(),r.filter.filtersNodes())}}}return b}function _0(r,t){return r.eventCache.isCompleteForChild(t)}function ZA(r,t,i,a,c,m,_){let y=t;return a.foreach((b,T)=>{const R=nn(i,b);_0(t,Xt(R))&&(y=Ym(r,y,R,T,c,m,_))}),a.foreach((b,T)=>{const R=nn(i,b);_0(t,Xt(R))||(y=Ym(r,y,R,T,c,m,_))}),y}function g0(r,t,i){return i.foreach((a,c)=>{t=t.updateChild(a,c)}),t}function Wm(r,t,i,a,c,m,_,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let b=t,T;Kt(i)?T=a:T=new Me(null).setTree(i,a);const R=t.serverCache.getNode();return T.children.inorderTraversal((k,D)=>{if(R.hasChild(k)){const nt=t.serverCache.getNode().getImmediateChild(k),et=g0(r,nt,D);b=ff(r,b,new Ee(k),et,c,m,_,y)}}),T.children.inorderTraversal((k,D)=>{const nt=!t.serverCache.isCompleteForChild(k)&&D.value===null;if(!R.hasChild(k)&&!nt){const et=t.serverCache.getNode().getImmediateChild(k),at=g0(r,et,D);b=ff(r,b,new Ee(k),at,c,m,_,y)}}),b}function YA(r,t,i,a,c,m,_){if(hf(c,i)!=null)return t;const y=t.serverCache.isFiltered(),b=t.serverCache;if(a.value!=null){if(Kt(i)&&b.isFullyInitialized()||b.isCompleteForPath(i))return ff(r,t,i,b.getNode().getChild(i),c,m,y,_);if(Kt(i)){let T=new Me(null);return b.getNode().forEachChild(zl,(R,k)=>{T=T.set(new Ee(R),k)}),Wm(r,t,i,T,c,m,y,_)}else return t}else{let T=new Me(null);return a.foreach((R,k)=>{const D=nn(i,R);b.isCompleteForPath(D)&&(T=T.set(R,b.getNode().getChild(D)))}),Wm(r,t,i,T,c,m,y,_)}}function WA(r,t,i,a,c){const m=t.serverCache,_=_w(t,m.getNode(),m.isFullyInitialized()||Kt(i),m.isFiltered());return Tw(r,_,i,a,Ew,c)}function KA(r,t,i,a,c,m){let _;if(hf(a,i)!=null)return t;{const y=new Pp(a,t,c),b=t.eventCache.getNode();let T;if(Kt(i)||Xt(i)===".priority"){let R;if(t.serverCache.isFullyInitialized())R=cf(a,ja(t));else{const k=t.serverCache.getNode();dt(k instanceof Dt,"serverChildren would be complete if leaf node"),R=kp(a,k)}R=R,T=r.filter.updateFullNode(b,R,m)}else{const R=Xt(i);let k=Dp(a,R,t.serverCache);k==null&&t.serverCache.isCompleteForChild(R)&&(k=b.getImmediateChild(R)),k!=null?T=r.filter.updateChild(b,R,k,Re(i),y,m):t.eventCache.getNode().hasChild(R)?T=r.filter.updateChild(b,R,Dt.EMPTY_NODE,Re(i),y,m):T=b,T.isEmpty()&&t.serverCache.isFullyInitialized()&&(_=cf(a,ja(t)),_.isLeafNode()&&(T=r.filter.updateFullNode(T,_,m)))}return _=t.serverCache.isFullyInitialized()||hf(a,ae())!=null,nc(t,T,_,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const a=this.query_._queryParams,c=new Ip(a.getIndex()),m=pA(a);this.processor_=VA(m);const _=i.serverCache,y=i.eventCache,b=c.updateFullNode(Dt.EMPTY_NODE,_.getNode(),null),T=m.updateFullNode(Dt.EMPTY_NODE,y.getNode(),null),R=new jo(b,_.isFullyInitialized(),c.filtersNodes()),k=new jo(T,y.isFullyInitialized(),m.filtersNodes());this.viewCache_=Tf(k,R),this.eventGenerator_=new EA(this.query_)}get query(){return this.query_}}function QA(r){return r.viewCache_.serverCache.getNode()}function JA(r){return uf(r.viewCache_)}function $A(r,t){const i=ja(r.viewCache_);return i&&(r.query._queryParams.loadsAllData()||!Kt(t)&&!i.getImmediateChild(Xt(t)).isEmpty())?i.getChild(t):null}function v0(r){return r.eventRegistrations_.length===0}function tN(r,t){r.eventRegistrations_.push(t)}function y0(r,t,i){const a=[];if(i){dt(t==null,"A cancel should cancel all event registrations.");const c=r.query._path;r.eventRegistrations_.forEach(m=>{const _=m.createCancelEvent(i,c);_&&a.push(_)})}if(t){let c=[];for(let m=0;m<r.eventRegistrations_.length;++m){const _=r.eventRegistrations_[m];if(!_.matches(t))c.push(_);else if(t.hasAnyCallback()){c=c.concat(r.eventRegistrations_.slice(m+1));break}}r.eventRegistrations_=c}else r.eventRegistrations_=[];return a}function w0(r,t,i,a){t.type===ds.MERGE&&t.source.queryId!==null&&(dt(ja(r.viewCache_),"We should always have a full cache before handling merges"),dt(uf(r.viewCache_),"Missing event cache, even though we have a server cache"));const c=r.viewCache_,m=FA(r.processor_,c,t,i,a);return qA(r.processor_,m.viewCache),dt(m.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=m.viewCache,Sw(r,m.changes,m.viewCache.eventCache.getNode(),null)}function eN(r,t){const i=r.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(je,(m,_)=>{a.push(ql(m,_))}),i.isFullyInitialized()&&a.push(dw(i.getNode())),Sw(r,a,i.getNode(),t)}function Sw(r,t,i,a){const c=a?[a]:r.eventRegistrations_;return TA(r.eventGenerator_,t,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df;class xw{constructor(){this.views=new Map}}function nN(r){dt(!df,"__referenceConstructor has already been defined"),df=r}function iN(){return dt(df,"Reference.ts has not been loaded"),df}function sN(r){return r.views.size===0}function zp(r,t,i,a){const c=t.source.queryId;if(c!==null){const m=r.views.get(c);return dt(m!=null,"SyncTree gave us an op for an invalid query."),w0(m,t,i,a)}else{let m=[];for(const _ of r.views.values())m=m.concat(w0(_,t,i,a));return m}}function Cw(r,t,i,a,c){const m=t._queryIdentifier,_=r.views.get(m);if(!_){let y=cf(i,c?a:null),b=!1;y?b=!0:a instanceof Dt?(y=kp(i,a),b=!1):(y=Dt.EMPTY_NODE,b=!1);const T=Tf(new jo(y,b,!1),new jo(a,c,!1));return new XA(t,T)}return _}function rN(r,t,i,a,c,m){const _=Cw(r,t,a,c,m);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,_),tN(_,i),eN(_,i)}function oN(r,t,i,a){const c=t._queryIdentifier,m=[];let _=[];const y=Ho(r);if(c==="default")for(const[b,T]of r.views.entries())_=_.concat(y0(T,i,a)),v0(T)&&(r.views.delete(b),T.query._queryParams.loadsAllData()||m.push(T.query));else{const b=r.views.get(c);b&&(_=_.concat(y0(b,i,a)),v0(b)&&(r.views.delete(c),b.query._queryParams.loadsAllData()||m.push(b.query)))}return y&&!Ho(r)&&m.push(new(iN())(t._repo,t._path)),{removed:m,events:_}}function Aw(r){const t=[];for(const i of r.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Do(r,t){let i=null;for(const a of r.views.values())i=i||$A(a,t);return i}function Nw(r,t){if(t._queryParams.loadsAllData())return xf(r);{const a=t._queryIdentifier;return r.views.get(a)}}function Rw(r,t){return Nw(r,t)!=null}function Ho(r){return xf(r)!=null}function xf(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;function aN(r){dt(!mf,"__referenceConstructor has already been defined"),mf=r}function lN(){return dt(mf,"Reference.ts has not been loaded"),mf}let uN=1;class b0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Me(null),this.pendingWriteTree_=BA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Iw(r,t,i,a,c){return AA(r.pendingWriteTree_,t,i,a,c),c?Rc(r,new Ua(pw(),t,i)):[]}function Ma(r,t,i=!1){const a=NA(r.pendingWriteTree_,t);if(RA(r.pendingWriteTree_,t)){let m=new Me(null);return a.snap!=null?m=m.set(ae(),!0):ni(a.children,_=>{m=m.set(new Ee(_),!0)}),Rc(r,new lf(a.path,m,i))}else return[]}function Nc(r,t,i){return Rc(r,new Ua(Op(),t,i))}function cN(r,t,i){const a=Me.fromObject(i);return Rc(r,new pc(Op(),t,a))}function hN(r,t){return Rc(r,new mc(Op(),t))}function fN(r,t,i){const a=Up(r,i);if(a){const c=jp(a),m=c.path,_=c.queryId,y=Vn(m,t),b=new mc(Lp(_),y);return Hp(r,m,b)}else return[]}function Mw(r,t,i,a,c=!1){const m=t._path,_=r.syncPointTree_.get(m);let y=[];if(_&&(t._queryIdentifier==="default"||Rw(_,t))){const b=oN(_,t,i,a);sN(_)&&(r.syncPointTree_=r.syncPointTree_.remove(m));const T=b.removed;if(y=b.events,!c){const R=T.findIndex(D=>D._queryParams.loadsAllData())!==-1,k=r.syncPointTree_.findOnPath(m,(D,nt)=>Ho(nt));if(R&&!k){const D=r.syncPointTree_.subtree(m);if(!D.isEmpty()){const nt=_N(D);for(let et=0;et<nt.length;++et){const at=nt[et],mt=at.query,Nt=Dw(r,at);r.listenProvider_.startListening(sc(mt),_c(r,mt),Nt.hashFn,Nt.onComplete)}}}!k&&T.length>0&&!a&&(R?r.listenProvider_.stopListening(sc(t),null):T.forEach(D=>{const nt=r.queryToTagMap.get(Cf(D));r.listenProvider_.stopListening(sc(D),nt)}))}gN(r,T)}return y}function Ow(r,t,i,a){const c=Up(r,a);if(c!=null){const m=jp(c),_=m.path,y=m.queryId,b=Vn(_,t),T=new Ua(Lp(y),b,i);return Hp(r,_,T)}else return[]}function dN(r,t,i,a){const c=Up(r,a);if(c){const m=jp(c),_=m.path,y=m.queryId,b=Vn(_,t),T=Me.fromObject(i),R=new pc(Lp(y),b,T);return Hp(r,_,R)}else return[]}function mN(r,t,i,a=!1){const c=t._path;let m=null,_=!1;r.syncPointTree_.foreachOnPath(c,(D,nt)=>{const et=Vn(D,c);m=m||Do(nt,et),_=_||Ho(nt)});let y=r.syncPointTree_.get(c);y?(_=_||Ho(y),m=m||Do(y,ae())):(y=new xw,r.syncPointTree_=r.syncPointTree_.set(c,y));let b;m!=null?b=!0:(b=!1,m=Dt.EMPTY_NODE,r.syncPointTree_.subtree(c).foreachChild((nt,et)=>{const at=Do(et,ae());at&&(m=m.updateImmediateChild(nt,at))}));const T=Rw(y,t);if(!T&&!t._queryParams.loadsAllData()){const D=Cf(t);dt(!r.queryToTagMap.has(D),"View does not exist, but we have a tag");const nt=vN();r.queryToTagMap.set(D,nt),r.tagToQueryMap.set(nt,D)}const R=Sf(r.pendingWriteTree_,c);let k=rN(y,t,i,R,m,b);if(!T&&!_&&!a){const D=Nw(y,t);k=k.concat(yN(r,t,D))}return k}function Bp(r,t,i){const c=r.pendingWriteTree_,m=r.syncPointTree_.findOnPath(t,(_,y)=>{const b=Vn(_,t),T=Do(y,b);if(T)return T});return yw(c,t,m,i,!0)}function pN(r,t){const i=t._path;let a=null;r.syncPointTree_.foreachOnPath(i,(T,R)=>{const k=Vn(T,i);a=a||Do(R,k)});let c=r.syncPointTree_.get(i);c?a=a||Do(c,ae()):(c=new xw,r.syncPointTree_=r.syncPointTree_.set(i,c));const m=a!=null,_=m?new jo(a,!0,!1):null,y=Sf(r.pendingWriteTree_,t._path),b=Cw(c,t,y,m?_.getNode():Dt.EMPTY_NODE,m);return JA(b)}function Rc(r,t){return Lw(t,r.syncPointTree_,null,Sf(r.pendingWriteTree_,ae()))}function Lw(r,t,i,a){if(Kt(r.path))return kw(r,t,i,a);{const c=t.get(ae());i==null&&c!=null&&(i=Do(c,ae()));let m=[];const _=Xt(r.path),y=r.operationForChild(_),b=t.children.get(_);if(b&&y){const T=i?i.getImmediateChild(_):null,R=ww(a,_);m=m.concat(Lw(y,b,T,R))}return c&&(m=m.concat(zp(c,r,a,i))),m}}function kw(r,t,i,a){const c=t.get(ae());i==null&&c!=null&&(i=Do(c,ae()));let m=[];return t.children.inorderTraversal((_,y)=>{const b=i?i.getImmediateChild(_):null,T=ww(a,_),R=r.operationForChild(_);R&&(m=m.concat(kw(R,y,b,T)))}),c&&(m=m.concat(zp(c,r,a,i))),m}function Dw(r,t){const i=t.query,a=_c(r,i);return{hashFn:()=>(QA(t)||Dt.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return a?fN(r,i._path,a):hN(r,i._path);{const m=mC(c,i);return Mw(r,i,null,m)}}}}function _c(r,t){const i=Cf(t);return r.queryToTagMap.get(i)}function Cf(r){return r._path.toString()+"$"+r._queryIdentifier}function Up(r,t){return r.tagToQueryMap.get(t)}function jp(r){const t=r.indexOf("$");return dt(t!==-1&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Ee(r.substr(0,t))}}function Hp(r,t,i){const a=r.syncPointTree_.get(t);dt(a,"Missing sync point for query tag that we're tracking");const c=Sf(r.pendingWriteTree_,t);return zp(a,i,c,null)}function _N(r){return r.fold((t,i,a)=>{if(i&&Ho(i))return[xf(i)];{let c=[];return i&&(c=Aw(i)),ni(a,(m,_)=>{c=c.concat(_)}),c}})}function sc(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(lN())(r._repo,r._path):r}function gN(r,t){for(let i=0;i<t.length;++i){const a=t[i];if(!a._queryParams.loadsAllData()){const c=Cf(a),m=r.queryToTagMap.get(c);r.queryToTagMap.delete(c),r.tagToQueryMap.delete(m)}}}function vN(){return uN++}function yN(r,t,i){const a=t._path,c=_c(r,t),m=Dw(r,i),_=r.listenProvider_.startListening(sc(t),c,m.hashFn,m.onComplete),y=r.syncPointTree_.subtree(a);if(c)dt(!Ho(y.value),"If we're adding a query, it shouldn't be shadowed");else{const b=y.fold((T,R,k)=>{if(!Kt(T)&&R&&Ho(R))return[xf(R).query];{let D=[];return R&&(D=D.concat(Aw(R).map(nt=>nt.query))),ni(k,(nt,et)=>{D=D.concat(et)}),D}});for(let T=0;T<b.length;++T){const R=b[T];r.listenProvider_.stopListening(sc(R),_c(r,R))}}return _}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Vp(i)}node(){return this.node_}}class qp{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=nn(this.path_,t);return new qp(this.syncTree_,i)}node(){return Bp(this.syncTree_,this.path_)}}const wN=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},E0=function(r,t,i){if(!r||typeof r!="object")return r;if(dt(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return bN(r[".sv"],t,i);if(typeof r[".sv"]=="object")return EN(r[".sv"],t);dt(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},bN=function(r,t,i){switch(r){case"timestamp":return i.timestamp;default:dt(!1,"Unexpected server value: "+r)}},EN=function(r,t,i){r.hasOwnProperty("increment")||dt(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const a=r.increment;typeof a!="number"&&dt(!1,"Unexpected increment value: "+a);const c=t.node();if(dt(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return a;const _=c.getValue();return typeof _!="number"?a:_+a},TN=function(r,t,i,a){return Fp(t,new qp(i,r),a)},Pw=function(r,t,i){return Fp(r,new Vp(t),i)};function Fp(r,t,i){const a=r.getPriority().val(),c=E0(a,t.getImmediateChild(".priority"),i);let m;if(r.isLeafNode()){const _=r,y=E0(_.getValue(),t,i);return y!==_.getValue()||c!==_.getPriority().val()?new dn(y,pn(c)):r}else{const _=r;return m=_,c!==_.getPriority().val()&&(m=m.updatePriority(new dn(c))),_.forEachChild(je,(y,b)=>{const T=Fp(b,t.getImmediateChild(y),i);T!==b&&(m=m.updateImmediateChild(y,T))}),m}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t="",i=null,a={children:{},childCount:0}){this.name=t,this.parent=i,this.node=a}}function Zp(r,t){let i=t instanceof Ee?t:new Ee(t),a=r,c=Xt(i);for(;c!==null;){const m=jl(a.node.children,c)||{children:{},childCount:0};a=new Gp(c,a,m),i=Re(i),c=Xt(i)}return a}function Ql(r){return r.node.value}function zw(r,t){r.node.value=t,Km(r)}function Bw(r){return r.node.childCount>0}function SN(r){return Ql(r)===void 0&&!Bw(r)}function Af(r,t){ni(r.node.children,(i,a)=>{t(new Gp(i,r,a))})}function Uw(r,t,i,a){i&&t(r),Af(r,c=>{Uw(c,t,!0)})}function xN(r,t,i){let a=r.parent;for(;a!==null;){if(t(a))return!0;a=a.parent}return!1}function Ic(r){return new Ee(r.parent===null?r.name:Ic(r.parent)+"/"+r.name)}function Km(r){r.parent!==null&&CN(r.parent,r.name,r)}function CN(r,t,i){const a=SN(i),c=Nr(r.node.children,t);a&&c?(delete r.node.children[t],r.node.childCount--,Km(r)):!a&&!c&&(r.node.children[t]=i.node,r.node.childCount++,Km(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/[\[\].#$\/\u0000-\u001F\u007F]/,NN=/[\[\].#$\u0000-\u001F\u007F]/,Nm=10*1024*1024,jw=function(r){return typeof r=="string"&&r.length!==0&&!AN.test(r)},Hw=function(r){return typeof r=="string"&&r.length!==0&&!NN.test(r)},RN=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Hw(r)},IN=function(r,t,i,a){Yp(rp(r,"value"),t,i)},Yp=function(r,t,i){const a=i instanceof Ee?new YC(i,r):i;if(t===void 0)throw new Error(r+"contains undefined "+Ca(a));if(typeof t=="function")throw new Error(r+"contains a function "+Ca(a)+" with contents = "+t.toString());if(P1(t))throw new Error(r+"contains "+t.toString()+" "+Ca(a));if(typeof t=="string"&&t.length>Nm/3&&_f(t)>Nm)throw new Error(r+"contains a string greater than "+Nm+" utf8 bytes "+Ca(a)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let c=!1,m=!1;if(ni(t,(_,y)=>{if(_===".value")c=!0;else if(_!==".priority"&&_!==".sv"&&(m=!0,!jw(_)))throw new Error(r+" contains an invalid key ("+_+") "+Ca(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WC(a,_),Yp(r,y,a),KC(a)}),c&&m)throw new Error(r+' contains ".value" child '+Ca(a)+" in addition to actual children.")}},Vw=function(r,t,i,a){if(!Hw(i))throw new Error(rp(r,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},MN=function(r,t,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Vw(r,t,i)},ON=function(r,t){if(Xt(t)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},LN=function(r,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!jw(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!RN(i))throw new Error(rp(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qw(r,t){let i=null;for(let a=0;a<t.length;a++){const c=t[a],m=c.getPath();i!==null&&!ow(m,i.path)&&(r.eventLists_.push(i),i=null),i===null&&(i={events:[],path:m}),i.events.push(c)}i&&r.eventLists_.push(i)}function Vs(r,t,i){qw(r,i),DN(r,a=>fs(a,t)||fs(t,a))}function DN(r,t){r.recursionDepth_++;let i=!0;for(let a=0;a<r.eventLists_.length;a++){const c=r.eventLists_[a];if(c){const m=c.path;t(m)?(PN(r.eventLists_[a]),r.eventLists_[a]=null):i=!1}}i&&(r.eventLists_=[]),r.recursionDepth_--}function PN(r){for(let t=0;t<r.events.length;t++){const i=r.events[t];if(i!==null){r.events[t]=null;const a=i.getEventRunner();tc&&Ln("event: "+i.toString()),Xl(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="repo_interrupt",BN=25;class UN{constructor(t,i,a,c){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=af(),this.transactionQueueTree_=new Gp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jN(r,t,i){if(r.stats_=Cp(r.repoInfo_),r.forceRestClient_||vC())r.server_=new of(r.repoInfo_,(a,c,m,_)=>{T0(r,a,c,m,_)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>S0(r,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{en(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}r.persistentConnection_=new Er(r.repoInfo_,t,(a,c,m,_)=>{T0(r,a,c,m,_)},a=>{S0(r,a)},a=>{VN(r,a)},r.authTokenProvider_,r.appCheckProvider_,i),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(a=>{r.server_.refreshAuthToken(a)}),r.appCheckProvider_.addTokenChangeListener(a=>{r.server_.refreshAppCheckToken(a.token)}),r.statsReporter_=TC(r.repoInfo_,()=>new bA(r.stats_,r.server_)),r.infoData_=new _A,r.infoSyncTree_=new b0({startListening:(a,c,m,_)=>{let y=[];const b=r.infoData_.getNode(a._path);return b.isEmpty()||(y=Nc(r.infoSyncTree_,a._path,b),setTimeout(()=>{_("ok")},0)),y},stopListening:()=>{}}),Kp(r,"connected",!1),r.serverSyncTree_=new b0({startListening:(a,c,m,_)=>(r.server_.listen(a,m,c,(y,b)=>{const T=_(y,b);Vs(r.eventQueue_,a._path,T)}),[]),stopListening:(a,c)=>{r.server_.unlisten(a,c)}})}function HN(r){const i=r.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Wp(r){return wN({timestamp:HN(r)})}function T0(r,t,i,a,c){r.dataUpdateCount++;const m=new Ee(t);i=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,i):i;let _=[];if(c)if(a){const b=Zh(i,T=>pn(T));_=dN(r.serverSyncTree_,m,b,c)}else{const b=pn(i);_=Ow(r.serverSyncTree_,m,b,c)}else if(a){const b=Zh(i,T=>pn(T));_=cN(r.serverSyncTree_,m,b)}else{const b=pn(i);_=Nc(r.serverSyncTree_,m,b)}let y=m;_.length>0&&(y=Rf(r,m)),Vs(r.eventQueue_,y,_)}function S0(r,t){Kp(r,"connected",t),t===!1&&GN(r)}function VN(r,t){ni(t,(i,a)=>{Kp(r,i,a)})}function Kp(r,t,i){const a=new Ee("/.info/"+t),c=pn(i);r.infoData_.updateSnapshot(a,c);const m=Nc(r.infoSyncTree_,a,c);Vs(r.eventQueue_,a,m)}function Fw(r){return r.nextWriteId_++}function qN(r,t,i){const a=pN(r.serverSyncTree_,t);return a!=null?Promise.resolve(a):r.server_.get(t).then(c=>{const m=pn(c).withIndex(t._queryParams.getIndex());mN(r.serverSyncTree_,t,i,!0);let _;if(t._queryParams.loadsAllData())_=Nc(r.serverSyncTree_,t._path,m);else{const y=_c(r.serverSyncTree_,t);_=Ow(r.serverSyncTree_,t._path,m,y)}return Vs(r.eventQueue_,t._path,_),Mw(r.serverSyncTree_,t,i,null,!0),m},c=>(Nf(r,"get for query "+en(t)+" failed: "+c),Promise.reject(new Error(c))))}function FN(r,t,i,a,c){Nf(r,"set",{path:t.toString(),value:i,priority:a});const m=Wp(r),_=pn(i,a),y=Bp(r.serverSyncTree_,t),b=Pw(_,y,m),T=Fw(r),R=Iw(r.serverSyncTree_,t,b,T,!0);qw(r.eventQueue_,R),r.server_.put(t.toString(),_.val(!0),(D,nt)=>{const et=D==="ok";et||ei("set at "+t+" failed: "+D);const at=Ma(r.serverSyncTree_,T,!et);Vs(r.eventQueue_,t,at),YN(r,c,D,nt)});const k=Kw(r,t);Rf(r,k),Vs(r.eventQueue_,k,[])}function GN(r){Nf(r,"onDisconnectEvents");const t=Wp(r),i=af();Fm(r.onDisconnect_,ae(),(c,m)=>{const _=TN(c,m,r.serverSyncTree_,t);mw(i,c,_)});let a=[];Fm(i,ae(),(c,m)=>{a=a.concat(Nc(r.serverSyncTree_,c,m));const _=Kw(r,c);Rf(r,_)}),r.onDisconnect_=af(),Vs(r.eventQueue_,ae(),a)}function ZN(r){r.persistentConnection_&&r.persistentConnection_.interrupt(zN)}function Nf(r,...t){let i="";r.persistentConnection_&&(i=r.persistentConnection_.id+":"),Ln(i,...t)}function YN(r,t,i,a){t&&Xl(()=>{if(i==="ok")t(null);else{const c=(i||"error").toUpperCase();let m=c;a&&(m+=": "+a);const _=new Error(m);_.code=c,t(_)}})}function Gw(r,t,i){return Bp(r.serverSyncTree_,t,i)||Dt.EMPTY_NODE}function Xp(r,t=r.transactionQueueTree_){if(t||If(r,t),Ql(t)){const i=Yw(r,t);dt(i.length>0,"Sending zero length transaction queue"),i.every(c=>c.status===0)&&WN(r,Ic(t),i)}else Bw(t)&&Af(t,i=>{Xp(r,i)})}function WN(r,t,i){const a=i.map(T=>T.currentWriteId),c=Gw(r,t,a);let m=c;const _=c.hash();for(let T=0;T<i.length;T++){const R=i[T];dt(R.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;const k=Vn(t,R.path);m=m.updateChild(k,R.currentOutputSnapshotRaw)}const y=m.val(!0),b=t;r.server_.put(b.toString(),y,T=>{Nf(r,"transaction put response",{path:b.toString(),status:T});let R=[];if(T==="ok"){const k=[];for(let D=0;D<i.length;D++)i[D].status=2,R=R.concat(Ma(r.serverSyncTree_,i[D].currentWriteId)),i[D].onComplete&&k.push(()=>i[D].onComplete(null,!0,i[D].currentOutputSnapshotResolved)),i[D].unwatcher();If(r,Zp(r.transactionQueueTree_,t)),Xp(r,r.transactionQueueTree_),Vs(r.eventQueue_,t,R);for(let D=0;D<k.length;D++)Xl(k[D])}else{if(T==="datastale")for(let k=0;k<i.length;k++)i[k].status===3?i[k].status=4:i[k].status=0;else{ei("transaction at "+b.toString()+" failed: "+T);for(let k=0;k<i.length;k++)i[k].status=4,i[k].abortReason=T}Rf(r,t)}},_)}function Rf(r,t){const i=Zw(r,t),a=Ic(i),c=Yw(r,i);return KN(r,c,a),a}function KN(r,t,i){if(t.length===0)return;const a=[];let c=[];const _=t.filter(y=>y.status===0).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const b=t[y],T=Vn(i,b.path);let R=!1,k;if(dt(T!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),b.status===4)R=!0,k=b.abortReason,c=c.concat(Ma(r.serverSyncTree_,b.currentWriteId,!0));else if(b.status===0)if(b.retryCount>=BN)R=!0,k="maxretry",c=c.concat(Ma(r.serverSyncTree_,b.currentWriteId,!0));else{const D=Gw(r,b.path,_);b.currentInputSnapshot=D;const nt=t[y].update(D.val());if(nt!==void 0){Yp("transaction failed: Data returned ",nt,b.path);let et=pn(nt);typeof nt=="object"&&nt!=null&&Nr(nt,".priority")||(et=et.updatePriority(D.getPriority()));const mt=b.currentWriteId,Nt=Wp(r),Mt=Pw(et,D,Nt);b.currentOutputSnapshotRaw=et,b.currentOutputSnapshotResolved=Mt,b.currentWriteId=Fw(r),_.splice(_.indexOf(mt),1),c=c.concat(Iw(r.serverSyncTree_,b.path,Mt,b.currentWriteId,b.applyLocally)),c=c.concat(Ma(r.serverSyncTree_,mt,!0))}else R=!0,k="nodata",c=c.concat(Ma(r.serverSyncTree_,b.currentWriteId,!0))}Vs(r.eventQueue_,i,c),c=[],R&&(t[y].status=2,(function(D){setTimeout(D,Math.floor(0))})(t[y].unwatcher),t[y].onComplete&&(k==="nodata"?a.push(()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot)):a.push(()=>t[y].onComplete(new Error(k),!1,null))))}If(r,r.transactionQueueTree_);for(let y=0;y<a.length;y++)Xl(a[y]);Xp(r,r.transactionQueueTree_)}function Zw(r,t){let i,a=r.transactionQueueTree_;for(i=Xt(t);i!==null&&Ql(a)===void 0;)a=Zp(a,i),t=Re(t),i=Xt(t);return a}function Yw(r,t){const i=[];return Ww(r,t,i),i.sort((a,c)=>a.order-c.order),i}function Ww(r,t,i){const a=Ql(t);if(a)for(let c=0;c<a.length;c++)i.push(a[c]);Af(t,c=>{Ww(r,c,i)})}function If(r,t){const i=Ql(t);if(i){let a=0;for(let c=0;c<i.length;c++)i[c].status!==2&&(i[a]=i[c],a++);i.length=a,zw(t,i.length>0?i:void 0)}Af(t,a=>{If(r,a)})}function Kw(r,t){const i=Ic(Zw(r,t)),a=Zp(r.transactionQueueTree_,t);return xN(a,c=>{Rm(r,c)}),Rm(r,a),Uw(a,c=>{Rm(r,c)}),i}function Rm(r,t){const i=Ql(t);if(i){const a=[];let c=[],m=-1;for(let _=0;_<i.length;_++)i[_].status===3||(i[_].status===1?(dt(m===_-1,"All SENT items should be at beginning of queue."),m=_,i[_].status=3,i[_].abortReason="set"):(dt(i[_].status===0,"Unexpected transaction status in abort"),i[_].unwatcher(),c=c.concat(Ma(r.serverSyncTree_,i[_].currentWriteId,!0)),i[_].onComplete&&a.push(i[_].onComplete.bind(null,new Error("set"),!1,null))));m===-1?zw(t,void 0):i.length=m+1,Vs(r.eventQueue_,Ic(t),c);for(let _=0;_<a.length;_++)Xl(a[_])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(r){let t="";const i=r.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let c=i[a];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}t+="/"+c}return t}function QN(r){const t={};r.charAt(0)==="?"&&(r=r.substring(1));for(const i of r.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):ei(`Invalid query segment '${i}' in query '${r}'`)}return t}const x0=function(r,t){const i=JN(r),a=i.namespace;i.domain==="firebase.com"&&xr(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&xr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||uC();const c=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new W1(i.host,i.secure,a,c,t,"",a!==i.subdomain),path:new Ee(i.pathString)}},JN=function(r){let t="",i="",a="",c="",m="",_=!0,y="https",b=443;if(typeof r=="string"){let T=r.indexOf("//");T>=0&&(y=r.substring(0,T-1),r=r.substring(T+2));let R=r.indexOf("/");R===-1&&(R=r.length);let k=r.indexOf("?");k===-1&&(k=r.length),t=r.substring(0,Math.min(R,k)),R<k&&(c=XN(r.substring(R,k)));const D=QN(r.substring(Math.min(r.length,k)));T=t.indexOf(":"),T>=0?(_=y==="https"||y==="wss",b=parseInt(t.substring(T+1),10)):T=t.length;const nt=t.slice(0,T);if(nt.toLowerCase()==="localhost")i="localhost";else if(nt.split(".").length<=2)i=nt;else{const et=t.indexOf(".");a=t.substring(0,et).toLowerCase(),i=t.substring(et+1),m=a}"ns"in D&&(m=D.ns)}return{host:t,port:b,domain:i,subdomain:a,secure:_,scheme:y,pathString:c,namespace:m}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,i,a,c){this.eventType=t,this.eventRegistration=i,this.snapshot=a,this.prevName=c}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+en(this.snapshot.exportVal())}}class tR{constructor(t,i,a){this.eventRegistration=t,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return dt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,i,a,c){this._repo=t,this._path=i,this._queryParams=a,this._orderByCalled=c}get key(){return Kt(this._path)?null:iw(this._path)}get ref(){return new Or(this._repo,this._path)}get _queryIdentifier(){const t=c0(this._queryParams),i=Sp(t);return i==="{}"?"default":i}get _queryObject(){return c0(this._queryParams)}isEqual(t){if(t=Fn(t),!(t instanceof Qp))return!1;const i=this._repo===t._repo,a=ow(this._path,t._path),c=this._queryIdentifier===t._queryIdentifier;return i&&a&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+ZC(this._path)}}class Or extends Qp{constructor(t,i){super(t,i,new Mp,!1)}get parent(){const t=rw(this._path);return t===null?null:new Or(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class gc{constructor(t,i,a){this._node=t,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Ee(t),a=Xm(this.ref,t);return new gc(this._node.getChild(i),a,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,c)=>t(new gc(c,Xm(this.ref,a),je)))}hasChild(t){const i=new Ee(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Bl(r,t){return r=Fn(r),r._checkNotDeleted("ref"),t!==void 0?Xm(r._root,t):r._root}function Xm(r,t){return r=Fn(r),Xt(r._path)===null?MN("child","path",t):Vw("child","path",t),new Or(r._repo,nn(r._path,t))}function Jp(r,t){r=Fn(r),ON("set",r._path),IN("set",t,r._path);const i=new pf;return FN(r._repo,r._path,t,null,i.wrapCallback(()=>{})),i.promise}function Qm(r){r=Fn(r);const t=new eR(()=>{}),i=new $p(t);return qN(r._repo,r,i).then(a=>new gc(a,new Or(r._repo,r._path),r._queryParams.getIndex()))}class $p{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const a=i._queryParams.getIndex();return new $N("value",this,new gc(t.snapshotNode,new Or(i._repo,i._path),a))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new tR(this,t,i):null}matches(t){return t instanceof $p?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}nN(Or);aN(Or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="FIREBASE_DATABASE_EMULATOR_HOST",Jm={};let iR=!1;function sR(r,t,i,a){const c=t.lastIndexOf(":"),m=t.substring(0,c),_=Ha(m);r.repoInfo_=new W1(t,_,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(r.authTokenProvider_=a)}function rR(r,t,i,a,c){let m=a||r.options.databaseURL;m===void 0&&(r.options.projectId||xr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ln("Using default host for project ",r.options.projectId),m=`${r.options.projectId}-default-rtdb.firebaseio.com`);let _=x0(m,c),y=_.repoInfo,b;typeof process<"u"&&Zy&&(b=Zy[nR]),b?(m=`http://${b}?ns=${y.namespace}`,_=x0(m,c),y=_.repoInfo):_.repoInfo.secure;const T=new wC(r.name,r.options,t);LN("Invalid Firebase Database URL",_),Kt(_.path)||xr("Database URL must point to the root of a Firebase Database (not including a child path).");const R=aR(y,r,T,new yC(r,i));return new lR(R,r)}function oR(r,t){const i=Jm[t];(!i||i[r.key]!==r)&&xr(`Database ${t}(${r.repoInfo_}) has already been deleted.`),ZN(r),delete i[r.key]}function aR(r,t,i,a){let c=Jm[t.name];c||(c={},Jm[t.name]=c);let m=c[r.toURLString()];return m&&xr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),m=new UN(r,iR,i,a),c[r.toURLString()]=m,m}class lR{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Or(this._repo,ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&xr("Cannot call "+t+" on a deleted database.")}}function uR(r=ap(),t){const i=vf(r,"database").getImmediate({identifier:t});if(!i._instanceStarted){const a=k0("database");a&&cR(i,...a)}return i}function cR(r,t,i,a={}){r=Fn(r),r._checkNotDeleted("useEmulator");const c=`${t}:${i}`,m=r._repoInternal;if(r._instanceStarted){if(c===r._repoInternal.repoInfo_.host&&Po(a,m.repoInfo_.emulatorOptions))return;xr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let _;if(m.repoInfo_.nodeAdmin)a.mockUserToken&&xr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),_=new qh(qh.OWNER);else if(a.mockUserToken){const y=typeof a.mockUserToken=="string"?a.mockUserToken:z0(a.mockUserToken,r.app.options.projectId);_=new qh(y)}Ha(t)&&(np(t),ip("Database",!0)),sR(m,c,a,_)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(r){iC(Va),ka(new zo("database",(t,{instanceIdentifier:i})=>{const a=t.getProvider("app").getImmediate(),c=t.getProvider("auth-internal"),m=t.getProvider("app-check-internal");return rR(a,c,m,i)},"PUBLIC").setMultipleInstances(!0)),js(Yy,Wy,r),js(Yy,Wy,"esm2020")}Er.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)};Er.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)};hR();const fR={apiKey:"AIzaSyD_b9wrt2arX4Kn4lVpamW4CCvjRzh4HfQ",authDomain:"foodshare-6b9cd.firebaseapp.com",projectId:"foodshare-6b9cd",storageBucket:"foodshare-6b9cd.firebasestorage.app",messagingSenderId:"915356278039",appId:"1:915356278039:web:0bf110f0398bcc34bf2b52",databaseURL:"https://foodshare-6b9cd-default-rtdb.asia-southeast1.firebasedatabase.app",measurementId:"G-V2DB7H8229"},t_=V0(fR),Cr=b2(t_);J2(t_);const Ul=uR(t_),Fa="/FoodShare_MINIProjuct/assets/Logo-Km2Q-M3Q.png";function dR({onFinish:r}){const[t,i]=bt.useState(!0),[a,c]=bt.useState(!1);return bt.useEffect(()=>{const m=setTimeout(()=>c(!0),1800),_=setTimeout(()=>{i(!1),r()},2e3);return()=>{clearTimeout(m),clearTimeout(_)}},[r]),t?C.jsx("div",{className:"w-full h-screen bg-[#2e2eff] font-sans text-white flex justify-center ",children:C.jsxs("div",{className:`text-center mt-[250px] transition-all duration-500 ${a?"animate-slide-up-fade":""}`,children:[C.jsx("img",{src:Fa,alt:"Logo",className:"w-24 h-auto mx-auto mb-3"}),C.jsx("h1",{className:"text-2xl font-bold tracking-widest",children:"MA THAN"})]})}):null}const Xw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMaSURBVHgBrVRdSFRBFP5m5m676UplBkU/mhWVRj9G9EOmQj30EoJFRUQQVC/RDz0EQbBBRFRQTxEEBRUWWyEJgfWi2C+oqVSi66qtf6WVrZard70z09zrdblua/XggcO9M3POd8535pwBJlnIBPtUqTTVtxoZiGIlU4tBhg8X36PVYSP+B1DLzwf8LhTPSkIR+pWjtOFN62lAG4c/8yl2m7ZKjb8B0pICrCn0opp/g2CadR5vIwWHoKlgLw0U5JahIp5aLLNH+cgpZKgW/eAmmBAqLzMHr9JkpYo3V5lyM2cVpjSIjviA1PE1iryoEjo4kaBSOY7MRsPpbizLDsF9rgzsWC+yh2ajzjUD2oFmpF0OImQX4w8hoefum3wb4TJHUdoC0bkd5xOwsP5PZGC6Xb+JRXZ6hAx4hHFWE5GtqB0LNFYO/FtozNB3GAsQVs7fJdhBDWe6jCKMbwtj45W3gWg4/DMBDGFJqW5Wfjn3zbOHfRagB9qC2OUrmGu30Ia42rTrS5cYelfC1LiYhRTBNqvfUguQMoM4WY21nFMkiduz1qMEBBUmqoxRHuEIWi2hTFhEx8k9nnQ8GG53UEaG+1NAd/f+ssApYVE9il6euYpRA4y5lDtpgDMR+cWjo2XYdejrNqnPTGu8m3s/2z6XSDARa32V5V2RmXlUpeGdM48ETqYSu2KjBJpq2N113Xtlp0ihfRG+fN+9ggs2GHWAWfYrjz+5FIpm5hHVsobqWtbRXOKohG2YD3rw+oGRnsawQQmlfKqLzp8Wra+6VLt3kRYKtLaCkrkLM7ecyXpcH9yYVfX6CLzJ7cKTvoa1HqXEDiacdWa7fYtXiR2ba4bafnDlzszRc6clkaRkNWtqdCKDEtG+IU5dQ9Q97OWVTX4tPXBqffWdq+/GWMRfJtl1dllO8p4N1T2NA5wxYU/tuPuWOtfk3CwvJf5Xa2/7gnXOy0v4fJnRdvrz/ClL5+8KDxgw9NFiTlEvxvQ0RetjyN9y48X+igprm4/LCIklNiWbClcsinoHszWdQXcN1tcWfw7ZfgQJHthJl9/L/jKeg65HLwAAAABJRU5ErkJggg==";function mR({onSignUpClick:r,onForgotPasswordClick:t,onLoginSuccess:i}){const[a,c]=bt.useState(!1),[m,_]=bt.useState(!1),[y,b]=bt.useState(""),[T,R]=bt.useState("");bt.useEffect(()=>{const at=setTimeout(()=>c(!0),100);return()=>clearTimeout(at)},[]);const k=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
      <circle cx="12" cy="12" r="3"/>
    </svg>
  `),D=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 
      a18.2 18.2 0 0 1 2.53-3.69"/>
      <path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/>
      <path d="M3 3l18 18"/>
    </svg>
  `),nt=async at=>{at.preventDefault();try{const Nt=(await lx(Cr,y,T)).user,Mt=await Qm(Bl(Ul,"users/"+Nt.uid));let ft={};Mt.exists()&&(ft=Mt.val()),console.log("Login success!",Nt.email),i&&i({email:Nt.email,uid:Nt.uid,...ft})}catch(mt){console.error("Login error:",mt.code,mt.message),mt.code==="auth/user-not-found"?alert("ไม่พบบัญชีนี้ กรุณาสมัครก่อน ❌"):mt.code==="auth/wrong-password"?alert("รหัสผ่านไม่ถูกต้อง ❌"):mt.code==="auth/invalid-credential"?alert("อีเมลหรือรหัสผ่านไม่ถูกต้อง ❌"):alert("เกิดข้อผิดพลาด: "+mt.message)}},et=async()=>{const at=new Bs;try{const Nt=(await T1(Cr,at)).user;(await Qm(Bl(Ul,"users/"+Nt.uid))).exists()||await Jp(Bl(Ul,"users/"+Nt.uid),{email:Nt.email,name:Nt.displayName||"",uid:Nt.uid}),i&&i({email:Nt.email,name:Nt.displayName,uid:Nt.uid})}catch(mt){console.error(mt),alert(mt.message)}};return C.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[C.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[C.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Log In"}),C.jsx("p",{className:"text-white text-sm",children:"Please sign in to your existing account"})]}),C.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:C.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[C.jsxs("form",{onSubmit:nt,children:[C.jsxs("div",{className:"mt-6 mb-4",children:[C.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),C.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:y,onChange:at=>b(at.target.value)})]}),C.jsxs("div",{className:"mb-4 relative",children:[C.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),C.jsx("input",{type:m?"text":"password",id:"password",placeholder:"Enter your password",className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:T,onChange:at=>R(at.target.value)}),C.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${m?D:k}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>_(!m)})]}),C.jsxs("div",{className:"flex justify-between items-center mb-6 text-sm",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{type:"checkbox",id:"remember-me",className:"form-checkbox text-[#2e2eff] rounded border-gray-300 focus:ring-[#2e2eff]"}),C.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-gray-700",children:"Remember me"})]}),C.jsx("button",{type:"button",onClick:t,className:"text-[#2e2eff] font-medium",children:"Forgot Password"})]}),C.jsx("div",{className:"flex flex-col items-center mt-16",children:C.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"LOG IN"})})]}),C.jsxs("div",{className:"relative flex items-center justify-center my-4",children:[C.jsx("span",{className:"absolute text-gray-400 bg-white px-2",children:"or"}),C.jsx("hr",{className:"w-full border-t border-gray-300"})]}),C.jsx("div",{className:"flex justify-center mt-4",children:C.jsxs("button",{onClick:et,className:"flex items-center justify-center w-[200px] py-3 bg-white text-gray-600 font-medium rounded-[4vw] border border-gray-300 shadow transition hover:bg-gray-100",children:[C.jsx("img",{src:Xw,alt:"Google",className:"h-5 w-5 mr-2"}),"Google"]})}),C.jsx("div",{className:"flex justify-center mt-6 text-sm",children:C.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",C.jsx("button",{onClick:r,className:"text-[#2e2eff] font-medium",children:"SIGN UP"})]})})]})})]})}function pR({onLoginClick:r,onGoogleClick:t,onRegisterClick:i,onLoginSuccess:a}){const[c,m]=bt.useState(!1);bt.useEffect(()=>{const y=setTimeout(()=>m(!0),100);return()=>clearTimeout(y)},[]);const _=async()=>{const y=new Bs;try{const T=(await T1(Cr,y)).user;console.log("Google login user:",T),alert("Google Login Success!"),a&&a(T)}catch(b){console.error(b),alert(b.message)}};return C.jsxs("div",{className:"w-full h-screen bg-[#2e2eff] font-sans flex flex-col justify-between items-center px-6 py-8",children:[C.jsxs("div",{className:`flex flex-col items-center mt-12 transition-all duration-700 ease-out 
                       ${c?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[C.jsx("img",{src:Fa,alt:"MA THAN Logo",className:"w-20 h-20 mb-2"}),C.jsx("div",{className:"text-white text-base font-bold",children:"MA THAN"})]}),C.jsxs("div",{className:`flex flex-col items-center w-full max-w-sm mt-[-180px] transition-all duration-700 ease-out delay-200
                       ${c?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[C.jsx("h1",{className:"text-white text-3xl font-bold mb-2",children:"Log In"}),C.jsx("p",{className:"text-white text-center mb-6",children:"Please sign in with your student email to continue."}),C.jsx("button",{onClick:r,className:"w-[300px] h-[70px] py-3 bg-white text-[#2e2eff] rounded-[4vw] text-lg font-medium mb-4 shadow hover:bg-gray-100 transition",children:"Sign in with Email"}),C.jsxs("button",{onClick:_,className:"w-[150px] py-3 bg-white text-[#2e2eff] flex items-center justify-center rounded-[4vw] text-sm font-medium shadow hover:bg-gray-100 transition",children:[C.jsx("img",{src:Xw,alt:"Google",className:"w-5 h-5 mr-2"}),"Google"]})]}),C.jsx("button",{onClick:i,className:`text-white text-sm hover:underline mb-4 transition-all duration-700 ease-out delay-400
                    ${c?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:"Create an Account"})]})}function _R({onBackToLogin:r}){const[t,i]=bt.useState(!1),[a,c]=bt.useState(!1),[m,_]=bt.useState(!1),[y,b]=bt.useState(""),[T,R]=bt.useState(""),[k,D]=bt.useState(""),[nt,et]=bt.useState(""),[at,mt]=bt.useState(!1);bt.useEffect(()=>{const xt=setTimeout(()=>i(!0),100);return()=>clearTimeout(xt)},[]);const Nt=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none"  stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>'),Mt=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 a18.2 18.2 0 0 1 2.53-3.69"/><path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/><path d="M3 3l18 18"/></svg>'),ft=async xt=>{if(xt.preventDefault(),k!==nt){alert("Passwords do not match!");return}try{mt(!0);const Vt=(await ax(Cr,T,k)).user;await Jp(Bl(Ul,"users/"+Vt.uid),{name:y,email:T,uid:Vt.uid,createdAt:new Date().toISOString()}),await _p(Cr),setTimeout(()=>{mt(!1),alert("Sign Up Success! Please login."),r()},1e3)}catch(Ct){console.error(Ct),mt(!1),alert(Ct.message)}};return at?C.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-[#2e2eff] text-white",children:[C.jsx("div",{className:"loader border-t-4 border-b-4 border-white rounded-full w-12 h-12 animate-spin mb-4"}),C.jsx("p",{className:"text-lg font-medium",children:"Signing up, please wait..."})]}):C.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[C.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[C.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Sign Up"}),C.jsx("p",{className:"text-white text-sm",children:"Create an account to get started"})]}),C.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:C.jsx("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:C.jsxs("form",{onSubmit:ft,children:[C.jsxs("div",{className:"mt-6 mb-4",children:[C.jsx("label",{htmlFor:"name",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"NAME"}),C.jsx("input",{type:"text",id:"name",placeholder:"John Doe",value:y,onChange:xt=>b(xt.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),C.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:T,onChange:xt=>R(xt.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),C.jsxs("div",{className:"mb-4 relative",children:[C.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),C.jsx("input",{type:a?"text":"password",id:"password",placeholder:"Enter your password",value:k,onChange:xt=>D(xt.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),C.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${a?Mt:Nt}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>c(!a)})]}),C.jsxs("div",{className:"mb-6 relative",children:[C.jsx("label",{htmlFor:"retype-password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"RE-TYPE PASSWORD"}),C.jsx("input",{type:m?"text":"password",id:"retype-password",placeholder:"Re-enter your password",value:nt,onChange:xt=>et(xt.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),C.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${m?Mt:Nt}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>_(!m)})]}),C.jsxs("div",{className:"flex flex-col items-center mt-8",children:[C.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SIGN UP"}),C.jsx("button",{type:"button",onClick:r,className:"w-[250px] flex justify-center py-3 text-[#2e2eff] font-medium rounded-[4vw] border border-[#2e2eff] hover:bg-white hover:text-[#2e2eff] transition",children:"Back to Login"})]})]})})})]})}function gR({onBackToLogin:r}){const[t,i]=bt.useState(!1),[a,c]=bt.useState("");bt.useEffect(()=>{const _=setTimeout(()=>i(!0),100);return()=>clearTimeout(_)},[]);const m=async _=>{if(_.preventDefault(),!a)return alert("Please enter your email!");try{await ox(Cr,a),alert("Password reset email sent! Check your inbox."),r()}catch(y){console.error(y),alert(y.message)}};return C.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[C.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[C.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Forgot Password"}),C.jsx("p",{className:"text-white text-sm",children:"Enter your email to reset your password"})]}),C.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:C.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[C.jsxs("form",{onSubmit:m,children:[C.jsxs("div",{className:"mt-6 mb-4",children:[C.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),C.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:a,onChange:_=>c(_.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),C.jsx("div",{className:"flex flex-col items-center mt-8",children:C.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SEND RESET EMAIL"})})]}),C.jsx("div",{className:"flex justify-center mt-6 text-sm",children:C.jsx("button",{onClick:r,className:"text-[#2e2eff] font-medium",children:"Back to Login"})})]})})]})}function vR({userData:r,onLogout:t}){const i=async()=>{try{await _p(Cr),t()}catch(a){console.error(a),alert("Logout failed: "+a.message)}};return C.jsxs("div",{className:"min-h-screen bg-[#2e2eff] flex flex-col items-center justify-start p-8",children:[C.jsxs("div",{className:"text-center mt-12 text-white",children:[C.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome, ",r.name||r.email]}),C.jsx("p",{className:"text-lg text-gray-200",children:"Your account details"})]}),C.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-10 w-full max-w-md",children:[C.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Profile Information"}),C.jsxs("div",{className:"space-y-2 text-gray-700",children:[C.jsxs("p",{children:[C.jsx("span",{className:"font-bold",children:"UID:"})," ",r.uid]}),C.jsxs("p",{children:[C.jsx("span",{className:"font-bold",children:"Name:"})," ",r.name||"-"]}),C.jsxs("p",{children:[C.jsx("span",{className:"font-bold",children:"Email:"})," ",r.email]}),C.jsxs("p",{children:[C.jsx("span",{className:"font-bold",children:"Created At:"})," ",r.createdAt||"-"]})]})]}),C.jsx("button",{onClick:i,className:"mt-10 px-6 py-3 bg-white text-[#2e2eff] font-bold rounded-lg shadow hover:bg-gray-100 transition",children:"Logout"})]})}const Gl="/FoodShare_MINIProjuct/assets/profile-CN0Wr-CP.jpg",yR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87-Dk8nk2Qa.png",wR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B8%99%E0%B8%A1-DDcJMfBx.png",bR="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%94%E0%B8%B7%E0%B9%88%E0%B8%A1-skj4bCgd.png",ER="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A3%E0%B8%B0%E0%B9%80%E0%B8%9E%E0%B8%A3%E0%B8%B2-CxgV-7-f.png";function TR({userData:r,onLogout:t,onGoToDashboard:i,onGoToMenu:a,onGoToNotifications:c,onGoToProfile:m,onBack:_,onGoToPost:y}){return C.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[C.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("img",{src:Fa,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),C.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),C.jsx("div",{className:"flex items-center space-x-4",children:C.jsx("img",{src:Gl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:m})})]}),C.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[C.jsx("div",{className:"my-4 animate-fadeIn",children:C.jsxs("h1",{className:"text-[16px] md:text-2xl font-bold text-gray-800",children:["HEY! HELLO,"," ",C.jsx("span",{className:"text-[#2e2eff]",children:"Good Afternoon!"})]})}),C.jsxs("div",{className:"relative my-4 w-full  mx-auto",children:[C.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] transition-shadow duration-300 hover:shadow-md text-base md:text-lg"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),C.jsxs("section",{className:"my-6",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"All Categories"}),C.jsx("a",{href:"#",className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),C.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 gap-6",children:[{name:"Lunch Boxes",img:yR},{name:"Snacks",img:wR},{name:"Beverages",img:bR}].map((b,T)=>C.jsxs("div",{className:"flex flex-col items-center bg-white w-full cursor-pointer transform transition duration-300 shadow-md hover:scale-105 hover:shadow-xl rounded-xl p-4",children:[C.jsx("img",{src:b.img,alt:b.name,className:"w-20 h-20 md:w-28 md:h-28 object-contain rounded-lg"}),C.jsx("span",{className:"mt-2 text-sm md:text-base text-center font-medium",children:b.name})]},T))})]}),C.jsxs("section",{className:"my-6",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"What's Being Shared Nearby?"}),C.jsx("a",{href:"#",className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map((b,T)=>C.jsxs("div",{className:"bg-gray-100 rounded-xl overflow-hidden shadow-md hover:shadow-xl transform transition duration-300 hover:-translate-y-1",children:[C.jsx("img",{src:ER,alt:"Post",className:"w-full h-48 md:h-56 object-cover"}),C.jsxs("div",{className:"p-4",children:[C.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800",children:"ข้าวหมูทอด - ข้าวกล่องจากกิจกรรม"}),C.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📍 หอพักชาย - หอตาหลา - ใต้หอพัก"}),C.jsx("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:"📅 วันผลิต - 22/2/2222 หมดอายุ - 24/2/2222"})]})]},T))})]})]}),C.jsxs("div",{className:"hidden md:block",children:[C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{})]}),C.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full ",children:[C.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:C.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:y,children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),C.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!0,action:()=>_("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>a()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>c()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>m()}].map((b,T)=>b.empty?C.jsx("div",{className:"w-16"},T):C.jsxs("button",{onClick:b.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${b.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{d:b.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),C.jsx("span",{className:"text-xs md:text-sm mt-1",children:b.name})]},T))})]})]})}const SR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%AB%E0%B8%A1%E0%B8%B9%E0%B8%81%E0%B8%A3%E0%B8%AD%E0%B8%9A-Cfm-dgeg.png",xR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%A1%E0%B8%B1%E0%B8%99%E0%B9%84%E0%B8%81%E0%B9%88-SFj_wRX3.png",CR="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%A5%E0%B8%A2%E0%B9%8C-srr38ati.png";function AR({onBack:r,onGoToDashboard:t,onGoToMenu:i,onGoToNotifications:a,onGoToProfile:c}){const[m,_]=bt.useState("ALL"),y=[{img:SR,title:"ข้าวหมูกรอบ",category:"Lunch Boxes",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`},{img:xR,title:"ข้าวมันไก่",category:"Lunch Boxes",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`},{img:CR,title:"ขนมเลย์ถุงลมเข้า",category:"Snacks",location:"หอพักชาย - หอตาหลา - ใต้หอพัก",date:`วันผลิต - 22/2/2222 
หมดอายุ - 24/2/2222`}],b=["ALL","Lunch Boxes","Snacks","Beverages"];return C.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[C.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("img",{src:Fa,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),C.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),C.jsx("div",{className:"flex items-center space-x-4",children:C.jsx("img",{src:Gl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:c})})]}),C.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[C.jsxs("button",{onClick:r,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),C.jsx("span",{className:"text-lg font-semibold",children:"Shared Food Board"})]}),C.jsxs("div",{className:"relative mb-4",children:[C.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-100 placeholder-gray-400 shadow transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] hover:shadow-md"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),C.jsx("div",{className:"flex space-x-4 overflow-x-auto text-gray-600 mb-4",children:b.map((T,R)=>C.jsx("span",{onClick:()=>_(T),className:`whitespace-nowrap px-4 py-2 border-b-2 cursor-pointer transition-colors duration-300 ease-in-out
                ${m===T?"border-[#2e2eff] text-[#2e2eff]":"border-transparent hover:border-gray-300 hover:text-[#2e2eff]"}`,children:T},R))}),C.jsx("section",{className:"space-y-4",children:y.filter(T=>m==="ALL"||T.category===m).map((T,R)=>C.jsxs("div",{className:"flex bg-white rounded-xl shadow p-3 space-x-4 items-center transform transition duration-300 hover:scale-105 hover:shadow-lg",children:[C.jsx("img",{src:T.img,alt:T.title,className:"w-24 h-24 object-cover rounded-lg"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"font-semibold text-gray-800",children:T.title}),C.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a2 2 0 01-2.828 0L6.343 16.657a8 8 0 1111.314 0z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),C.jsx("span",{children:T.location})]}),C.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1 whitespace-pre-line",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),C.jsx("span",{children:T.date})]})]})]},R))})]}),C.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[C.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:C.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:t,children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),C.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>r("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!0,action:()=>i()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>a()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>c()}].map((T,R)=>T.empty?C.jsx("div",{className:"w-16"},R):C.jsxs("button",{onClick:T.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${T.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{d:T.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),C.jsx("span",{className:"text-xs md:text-sm mt-1",children:T.name})]},R))})]})]})}function NR({onBack:r,onGoToDashboard:t,onGoToMenu:i,onGoToNotifications:a,userData:c,onGoToProfile:m}){const[_,y]=bt.useState("shares"),b={shares:[{title:"“ข้าวหมูกรอบ” has been successfully claimed.",status:"Claimed by Natcha",date:"July 29, 2025 at 12:45 PM"},{title:"“ข้าวมันไก่” has been posted and is now visible to others.",status:"Active",date:"July 29, 2025 at 11:03 AM"},{title:"“ขนมเลย์ถุงลมเข้า” was removed due to inactivity.",status:"Auto-expired",date:"July 29, 2025 at 9:41 AM"}],pickups:[{title:"Pickup: ข้าวหมูกรอบ is ready.",status:"Pending",date:"July 29, 2025 at 1:00 PM"}]};return C.jsxs("div",{className:"font-sans flex flex-col min-h-screen bg-gray-50",children:[C.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("img",{src:Fa,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),C.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),C.jsx("div",{className:"flex items-center space-x-4",children:C.jsx("img",{src:Gl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:m})})]}),C.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[C.jsxs("button",{onClick:r,className:"flex items-center text-gray-700 mb-4",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),C.jsx("span",{className:"text-lg font-semibold",children:"Notifications"})]}),C.jsxs("div",{className:"relative border-b mb-4 flex",children:[C.jsx("button",{onClick:()=>y("shares"),className:`flex-1 text-center pb-2 ${_==="shares"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Shares"}),C.jsx("button",{onClick:()=>y("pickups"),className:`flex-1 text-center pb-2 ${_==="pickups"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Pickups"}),C.jsx("span",{className:"absolute bottom-0 left-0 w-1/2 h-0.5 bg-[#2e2eff] transition-transform duration-300",style:{transform:_==="shares"?"translateX(0%)":"translateX(100%)"}})]}),C.jsx("section",{className:"space-y-4",children:b[_].map((T,R)=>C.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[C.jsx("h3",{className:"font-semibold text-gray-800",children:T.title}),C.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),C.jsx("span",{children:T.status})]}),C.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),C.jsx("span",{children:T.date})]})]},R))})]}),C.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[C.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:C.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:t,children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),C.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>r("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>i()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>a(),active:!0},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>m()}].map((T,R)=>T.empty?C.jsx("div",{className:"w-16"},R):C.jsxs("button",{onClick:T.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${T.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{d:T.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),C.jsx("span",{className:"text-xs md:text-sm mt-1",children:T.name})]},R))})]})]})}function RR({onBack:r,onLogout:t,userData:i,onGoToDashboard:a,onGoToMenu:c,onGoToNotifications:m,onGoToProfile:_}){const[y,b]=bt.useState(null),[T,R]=bt.useState(!1),[k,D]=bt.useState(!0),[nt,et]=bt.useState({name:"",fullName:"",studentId:"",phone:"",email:""}),at=[{key:"name",label:"ชื่อในระบบ",placeholder:"No Name"},{key:"fullName",label:"ชื่อเต็ม",placeholder:"No Full Name"},{key:"studentId",label:"รหัสนักศึกษา",placeholder:"00000000"},{key:"phone",label:"เบอร์โทร",placeholder:"000-000-0000"},{key:"email",label:"Email",placeholder:"No Email"}];bt.useEffect(()=>{async function ft(){if(i?.uid)try{const xt=await Qm(Bl(Ul,`users/${i.uid}`)),Ct=xt.exists()?xt.val():{},Vt={name:Ct.name||"",fullName:Ct.fullName||"",studentId:Ct.studentId||"00000000",phone:Ct.phone||"000-000-0000",email:Ct.email||""};b(Vt),et(Vt),await new Promise(V=>setTimeout(V,700))}catch(xt){console.error("Error fetching user:",xt)}finally{D(!1)}}ft()},[i]);const mt=ft=>{const{name:xt,value:Ct}=ft.target;et(Vt=>({...Vt,[xt]:Ct}))},Nt=async()=>{if(i?.uid)try{await Jp(Bl(Ul,`users/${i.uid}`),nt),b(nt),R(!1),alert("บันทึกข้อมูลเรียบร้อย ✅")}catch(ft){console.error("Error saving data:",ft),alert("เกิดข้อผิดพลาด ❌")}},Mt=()=>{_p(Cr).then(()=>t()).catch(console.error)};return k?C.jsx("div",{className:"flex-1 flex items-center justify-center h-screen bg-gray-100",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"loader border-4 border-blue-500 border-t-transparent rounded-full w-16 h-16 animate-spin mx-auto"}),C.jsx("p",{className:"mt-4 text-gray-700",children:"Loading user data..."})]})}):k?C.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[C.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"}),C.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded animate-pulse"})]}),C.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"})]}),C.jsxs("main",{className:"flex-1 overflow-y-auto p-6 flex flex-col items-center space-y-4 animate-pulse",children:[C.jsx("div",{className:"w-28 h-28 bg-gray-300 rounded-full"}),C.jsx("div",{className:"w-full max-w-md space-y-3",children:at.map((ft,xt)=>C.jsx("div",{className:"h-12 bg-gray-200 rounded-lg"},xt))})]})]}):C.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[C.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("img",{src:Fa,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),C.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),C.jsx("div",{className:"flex items-center space-x-4",children:C.jsx("img",{src:Gl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:_})})]}),C.jsxs("main",{className:`flex-1 p-4 md:p-8 flex flex-col items-center bg-gradient-to-b from-white to-gray-100\r
        max-w-2xl mx-auto w-full space-y-6 pb-36 transition-all duration-300`,children:[C.jsxs("button",{onClick:r,className:"flex items-center self-start text-gray-700 mb-4 hover:text-[#2e2eff] transition",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),C.jsx("span",{className:"text-lg font-semibold",children:"Profile"})]}),C.jsx("img",{src:Gl,alt:"User Avatar",className:"w-28 h-28 md:w-36 md:h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-white"}),C.jsxs("div",{className:"w-full max-w-md space-y-4",children:[at.map(({key:ft,placeholder:xt})=>C.jsxs("div",{className:"flex flex-col bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition",children:[C.jsx("label",{className:"text-gray-500 text-xs mb-1",children:ft==="name"?"UserName":ft==="fullName"?"Full Name":ft==="studentId"?"Student ID":ft==="phone"?"Phone":"Email"}),C.jsxs("div",{className:"flex items-center justify-between",children:[T?C.jsx("input",{type:ft==="email"?"email":"text",name:ft,value:nt[ft],onChange:mt,className:"flex-1 text-gray-800 text-sm focus:outline-none bg-gray-50 rounded px-2 py-1 border border-gray-200"}):C.jsx("span",{className:"text-gray-700 text-sm break-all",children:y[ft]||xt}),!T&&C.jsx("button",{onClick:()=>R(!0),className:"ml-3 px-3 py-1 text-blue-500 text-xs font-semibold rounded-md hover:bg-blue-50 transition",children:"Edit"})]})]},ft)),T&&C.jsx("button",{onClick:Nt,className:"w-full py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition mt-2",children:"Save"})]}),C.jsx("button",{onClick:Mt,className:"px-5 py-2 mt-5 bg-red-500 text-white rounded-md hover:bg-red-600 transition text-sm font-medium shadow",children:"Logout"})]}),C.jsxs("div",{className:"hidden md:block",children:[C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{})]}),C.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[C.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:C.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:a,children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),C.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>r("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>c()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>m()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>_(),active:!0}].map((ft,xt)=>ft.empty?C.jsx("div",{className:"w-16"},xt):C.jsxs("button",{onClick:ft.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${ft.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{d:ft.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),C.jsx("span",{className:"text-xs md:text-sm mt-1",children:ft.name})]},xt))})]})]})}function IR(r,t){const i=bt.useRef(t);bt.useEffect(function(){t!==i.current&&r.attributionControl!=null&&(i.current!=null&&r.attributionControl.removeAttribution(i.current),t!=null&&r.attributionControl.addAttribution(t)),i.current=t},[r,t])}N0();const MR=1;function OR(r){return Object.freeze({__version:MR,map:r})}function LR(r,t){return Object.freeze({...r,...t})}const e_=bt.createContext(null);function Qw(){const r=bt.use(e_);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function kR(r){function t(i,a){const{instance:c,context:m}=r(i).current;bt.useImperativeHandle(a,()=>c);const{children:_}=i;return _==null?null:Im.createElement(e_,{value:m},_)}return bt.forwardRef(t)}function DR(r){function t(i,a){const{instance:c}=r(i).current;return bt.useImperativeHandle(a,()=>c),null}return bt.forwardRef(t)}function PR(r,t){const i=bt.useRef(void 0);bt.useEffect(function(){return t!=null&&r.instance.on(t),i.current=t,function(){i.current!=null&&r.instance.off(i.current),i.current=null}},[r,t])}function Jw(r,t){const i=r.pane??t.pane;return i?{...r,pane:i}:r}var Wu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var zR=Wu.exports,C0;function BR(){return C0||(C0=1,(function(r,t){(function(i,a){a(t)})(zR,(function(i){var a="1.9.4";function c(s){var l,f,g,w;for(f=1,g=arguments.length;f<g;f++){w=arguments[f];for(l in w)s[l]=w[l]}return s}var m=Object.create||(function(){function s(){}return function(l){return s.prototype=l,new s}})();function _(s,l){var f=Array.prototype.slice;if(s.bind)return s.bind.apply(s,f.call(arguments,1));var g=f.call(arguments,2);return function(){return s.apply(l,g.length?g.concat(f.call(arguments)):arguments)}}var y=0;function b(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function T(s,l,f){var g,w,x,P;return P=function(){g=!1,w&&(x.apply(f,w),w=!1)},x=function(){g?w=arguments:(s.apply(f,arguments),setTimeout(P,l),g=!0)},x}function R(s,l,f){var g=l[1],w=l[0],x=g-w;return s===g&&f?s:((s-w)%x+x)%x+w}function k(){return!1}function D(s,l){if(l===!1)return s;var f=Math.pow(10,l===void 0?6:l);return Math.round(s*f)/f}function nt(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function et(s){return nt(s).split(/\s+/)}function at(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?m(s.options):{});for(var f in l)s.options[f]=l[f];return s.options}function mt(s,l,f){var g=[];for(var w in s)g.push(encodeURIComponent(f?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var Nt=/\{ *([\w_ -]+) *\}/g;function Mt(s,l){return s.replace(Nt,function(f,g){var w=l[g];if(w===void 0)throw new Error("No value provided for variable "+f);return typeof w=="function"&&(w=w(l)),w})}var ft=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function xt(s,l){for(var f=0;f<s.length;f++)if(s[f]===l)return f;return-1}var Ct="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Vt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var V=0;function M(s){var l=+new Date,f=Math.max(0,16-(l-V));return V=l+f,window.setTimeout(s,f)}var O=window.requestAnimationFrame||Vt("RequestAnimationFrame")||M,H=window.cancelAnimationFrame||Vt("CancelAnimationFrame")||Vt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function U(s,l,f){if(f&&O===M)s.call(l);else return O.call(window,_(s,l))}function q(s){s&&H.call(window,s)}var B={__proto__:null,extend:c,create:m,bind:_,get lastId(){return y},stamp:b,throttle:T,wrapNum:R,falseFn:k,formatNum:D,trim:nt,splitWords:et,setOptions:at,getParamString:mt,template:Mt,isArray:ft,indexOf:xt,emptyImageUrl:Ct,requestFn:O,cancelFn:H,requestAnimFrame:U,cancelAnimFrame:q};function we(){}we.extend=function(s){var l=function(){at(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,g=m(f);g.constructor=l,l.prototype=g;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(l[w]=this[w]);return s.statics&&c(l,s.statics),s.includes&&(Oe(s.includes),c.apply(null,[g].concat(s.includes))),c(g,s),delete g.statics,delete g.includes,g.options&&(g.options=f.options?m(f.options):{},c(g.options,s.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,P=g._initHooks.length;x<P;x++)g._initHooks[x].call(this)}},l},we.include=function(s){var l=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},we.mergeOptions=function(s){return c(this.prototype.options,s),this},we.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),f=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function Oe(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=ft(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(s,l,f){if(typeof s=="object")for(var g in s)this._on(g,s[g],l);else{s=et(s);for(var w=0,x=s.length;w<x;w++)this._on(s[w],l,f)}return this},off:function(s,l,f){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var g in s)this._off(g,s[g],l);else{s=et(s);for(var w=arguments.length===1,x=0,P=s.length;x<P;x++)w?this._off(s[x]):this._off(s[x],l,f)}return this},_on:function(s,l,f,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,f)===!1){f===this&&(f=void 0);var w={fn:l,ctx:f};g&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,l,f){var g,w,x;if(this._events&&(g=this._events[s],!!g)){if(arguments.length===1){if(this._firingCount)for(w=0,x=g.length;w<x;w++)g[w].fn=k;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var P=this._listens(s,l,f);if(P!==!1){var G=g[P];this._firingCount&&(G.fn=k,this._events[s]=g=g.slice()),g.splice(P,1)}}},fire:function(s,l,f){if(!this.listens(s,f))return this;var g=c({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var x=0,P=w.length;x<P;x++){var G=w[x],Q=G.fn;G.once&&this.off(s,Q,G.ctx),Q.call(G.ctx||this,g)}this._firingCount--}}return f&&this._propagateEvent(g),this},listens:function(s,l,f,g){typeof s!="string"&&console.warn('"string" type argument expected');var w=l;typeof l!="function"&&(g=!!l,w=void 0,f=void 0);var x=this._events&&this._events[s];if(x&&x.length&&this._listens(s,w,f)!==!1)return!0;if(g){for(var P in this._eventParents)if(this._eventParents[P].listens(s,l,f,g))return!0}return!1},_listens:function(s,l,f){if(!this._events)return!1;var g=this._events[s]||[];if(!l)return!!g.length;f===this&&(f=void 0);for(var w=0,x=g.length;w<x;w++)if(g[w].fn===l&&g[w].ctx===f)return w;return!1},once:function(s,l,f){if(typeof s=="object")for(var g in s)this._on(g,s[g],l,!0);else{s=et(s);for(var w=0,x=s.length;w<x;w++)this._on(s[w],l,f,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[b(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[b(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var pt=we.extend($);function ut(s,l,f){this.x=f?Math.round(s):s,this.y=f?Math.round(l):l}var Jt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ut.prototype={clone:function(){return new ut(this.x,this.y)},add:function(s){return this.clone()._add(I(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(I(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ut(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ut(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Jt(this.x),this.y=Jt(this.y),this},distanceTo:function(s){s=I(s);var l=s.x-this.x,f=s.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(s){return s=I(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=I(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function I(s,l,f){return s instanceof ut?s:ft(s)?new ut(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ut(s.x,s.y):new ut(s,l,f)}function tt(s,l){if(s)for(var f=l?[s,l]:s,g=0,w=f.length;g<w;g++)this.extend(f[g])}tt.prototype={extend:function(s){var l,f;if(!s)return this;if(s instanceof ut||typeof s[0]=="number"||"x"in s)l=f=I(s);else if(s=ct(s),l=s.min,f=s.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(s){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,f;return typeof s[0]=="number"||s instanceof ut?s=I(s):s=ct(s),s instanceof tt?(l=s.min,f=s.max):l=f=s,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(s){s=ct(s);var l=this.min,f=this.max,g=s.min,w=s.max,x=w.x>=l.x&&g.x<=f.x,P=w.y>=l.y&&g.y<=f.y;return x&&P},overlaps:function(s){s=ct(s);var l=this.min,f=this.max,g=s.min,w=s.max,x=w.x>l.x&&g.x<f.x,P=w.y>l.y&&g.y<f.y;return x&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,f=this.max,g=Math.abs(l.x-f.x)*s,w=Math.abs(l.y-f.y)*s;return ct(I(l.x-g,l.y-w),I(f.x+g,f.y+w))},equals:function(s){return s?(s=ct(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ct(s,l){return!s||s instanceof tt?s:new tt(s,l)}function lt(s,l){if(s)for(var f=l?[s,l]:s,g=0,w=f.length;g<w;g++)this.extend(f[g])}lt.prototype={extend:function(s){var l=this._southWest,f=this._northEast,g,w;if(s instanceof yt)g=s,w=s;else if(s instanceof lt){if(g=s._southWest,w=s._northEast,!g||!w)return this}else return s?this.extend(_t(s)||gt(s)):this;return!l&&!f?(this._southWest=new yt(g.lat,g.lng),this._northEast=new yt(w.lat,w.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),f.lat=Math.max(w.lat,f.lat),f.lng=Math.max(w.lng,f.lng)),this},pad:function(s){var l=this._southWest,f=this._northEast,g=Math.abs(l.lat-f.lat)*s,w=Math.abs(l.lng-f.lng)*s;return new lt(new yt(l.lat-g,l.lng-w),new yt(f.lat+g,f.lng+w))},getCenter:function(){return new yt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new yt(this.getNorth(),this.getWest())},getSouthEast:function(){return new yt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof yt||"lat"in s?s=_t(s):s=gt(s);var l=this._southWest,f=this._northEast,g,w;return s instanceof lt?(g=s.getSouthWest(),w=s.getNorthEast()):g=w=s,g.lat>=l.lat&&w.lat<=f.lat&&g.lng>=l.lng&&w.lng<=f.lng},intersects:function(s){s=gt(s);var l=this._southWest,f=this._northEast,g=s.getSouthWest(),w=s.getNorthEast(),x=w.lat>=l.lat&&g.lat<=f.lat,P=w.lng>=l.lng&&g.lng<=f.lng;return x&&P},overlaps:function(s){s=gt(s);var l=this._southWest,f=this._northEast,g=s.getSouthWest(),w=s.getNorthEast(),x=w.lat>l.lat&&g.lat<f.lat,P=w.lng>l.lng&&g.lng<f.lng;return x&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=gt(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function gt(s,l){return s instanceof lt?s:new lt(s,l)}function yt(s,l,f){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,f!==void 0&&(this.alt=+f)}yt.prototype={equals:function(s,l){if(!s)return!1;s=_t(s);var f=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return f<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+D(this.lat,s)+", "+D(this.lng,s)+")"},distanceTo:function(s){return Qt.distance(this,_t(s))},wrap:function(){return Qt.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,f=l/Math.cos(Math.PI/180*this.lat);return gt([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new yt(this.lat,this.lng,this.alt)}};function _t(s,l,f){return s instanceof yt?s:ft(s)&&typeof s[0]!="object"?s.length===3?new yt(s[0],s[1],s[2]):s.length===2?new yt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new yt(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new yt(s,l,f)}var pe={latLngToPoint:function(s,l){var f=this.projection.project(s),g=this.scale(l);return this.transformation._transform(f,g)},pointToLatLng:function(s,l){var f=this.scale(l),g=this.transformation.untransform(s,f);return this.projection.unproject(g)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(s),g=this.transformation.transform(l.min,f),w=this.transformation.transform(l.max,f);return new tt(g,w)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?R(s.lng,this.wrapLng,!0):s.lng,f=this.wrapLat?R(s.lat,this.wrapLat,!0):s.lat,g=s.alt;return new yt(f,l,g)},wrapLatLngBounds:function(s){var l=s.getCenter(),f=this.wrapLatLng(l),g=l.lat-f.lat,w=l.lng-f.lng;if(g===0&&w===0)return s;var x=s.getSouthWest(),P=s.getNorthEast(),G=new yt(x.lat-g,x.lng-w),Q=new yt(P.lat-g,P.lng-w);return new lt(G,Q)}},Qt=c({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var f=Math.PI/180,g=s.lat*f,w=l.lat*f,x=Math.sin((l.lat-s.lat)*f/2),P=Math.sin((l.lng-s.lng)*f/2),G=x*x+Math.cos(g)*Math.cos(w)*P*P,Q=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*Q}}),ii=6378137,Si={R:ii,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,f=this.MAX_LATITUDE,g=Math.max(Math.min(f,s.lat),-f),w=Math.sin(g*l);return new ut(this.R*s.lng*l,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var l=180/Math.PI;return new yt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(function(){var s=ii*Math.PI;return new tt([-s,-s],[s,s])})()};function si(s,l,f,g){if(ft(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=f,this._d=g}si.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new ut((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function ri(s,l,f,g){return new si(s,l,f,g)}var qi=c({},Qt,{code:"EPSG:3857",projection:Si,transformation:(function(){var s=.5/(Math.PI*Si.R);return ri(s,.5,-s,.5)})()}),qs=c({},qi,{code:"EPSG:900913"});function Lr(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Vo(s,l){var f="",g,w,x,P,G,Q;for(g=0,x=s.length;g<x;g++){for(G=s[g],w=0,P=G.length;w<P;w++)Q=G[w],f+=(w?"L":"M")+Q.x+" "+Q.y;f+=l?St.svg?"z":"x":""}return f||"M0 0"}var Tn=document.documentElement.style,kr="ActiveXObject"in window,qo=kr&&!document.addEventListener,Fs="msLaunchUri"in navigator&&!("documentMode"in document),Fi=xn("webkit"),Ga=xn("android"),Gs=xn("android 2")||xn("android 3"),Fo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Za=Ga&&xn("Google")&&Fo<537&&!("AudioNode"in window),Te=!!window.opera,se=!Fs&&xn("chrome"),Sn=xn("gecko")&&!Fi&&!Te&&!kr,sn=!se&&xn("safari"),Go=xn("phantom"),Ya="OTransition"in Tn,Zs=navigator.platform.indexOf("Win")===0,_s=kr&&"transition"in Tn,Gi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Gs,Gn="MozPerspective"in Tn,Dr=!window.L_DISABLE_3D&&(_s||Gi||Gn)&&!Ya&&!Go,oi=typeof orientation<"u"||xn("mobile"),Zo=oi&&Fi,Yo=oi&&Gi,Wo=!window.PointerEvent&&window.MSPointerEvent,xi=!!(window.PointerEvent||Wo),Ci="ontouchstart"in window||!!window.TouchEvent,Ko=!window.L_NO_TOUCH&&(Ci||xi),Zi=oi&&Te,Xo=oi&&Sn,Ys=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pr=(function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",k,l),window.removeEventListener("testPassiveEventSupport",k,l)}catch{}return s})(),gs=(function(){return!!document.createElement("canvas").getContext})(),zr=!!(document.createElementNS&&Lr("svg").createSVGRect),Se=!!zr&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),He=!zr&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Be=navigator.platform.indexOf("Mac")===0,Zn=navigator.platform.indexOf("Linux")===0;function xn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var St={ie:kr,ielt9:qo,edge:Fs,webkit:Fi,android:Ga,android23:Gs,androidStock:Za,opera:Te,chrome:se,gecko:Sn,safari:sn,phantom:Go,opera12:Ya,win:Zs,ie3d:_s,webkit3d:Gi,gecko3d:Gn,any3d:Dr,mobile:oi,mobileWebkit:Zo,mobileWebkit3d:Yo,msPointer:Wo,pointer:xi,touch:Ko,touchNative:Ci,mobileOpera:Zi,mobileGecko:Xo,retina:Ys,passiveEvents:Pr,canvas:gs,svg:zr,vml:He,inlineSvg:Se,mac:Be,linux:Zn},Yi=St.msPointer?"MSPointerDown":"pointerdown",Qo=St.msPointer?"MSPointerMove":"pointermove",vs=St.msPointer?"MSPointerUp":"pointerup",ys=St.msPointer?"MSPointerCancel":"pointercancel",Ai={touchstart:Yi,touchmove:Qo,touchend:vs,touchcancel:ys},ai={touchstart:Ks,touchmove:Ws,touchend:Ws,touchcancel:Ws},_n={},rn=!1;function De(s,l,f){return l==="touchstart"&&Wa(),ai[l]?(f=ai[l].bind(this,f),s.addEventListener(Ai[l],f,!1),f):(console.warn("wrong event specified:",l),k)}function Jo(s,l,f){if(!Ai[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Ai[l],f,!1)}function Br(s){_n[s.pointerId]=s}function li(s){_n[s.pointerId]&&(_n[s.pointerId]=s)}function Ni(s){delete _n[s.pointerId]}function Wa(){rn||(document.addEventListener(Yi,Br,!0),document.addEventListener(Qo,li,!0),document.addEventListener(vs,Ni,!0),document.addEventListener(ys,Ni,!0),rn=!0)}function Ws(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in _n)l.touches.push(_n[f]);l.changedTouches=[l],s(l)}}function Ks(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&_e(l),Ws(s,l)}function Ka(s){var l={},f,g;for(g in s)f=s[g],l[g]=f&&f.bind?f.bind(s):f;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var ws=200;function Ri(s,l){s.addEventListener("dblclick",l);var f=0,g;function w(x){if(x.detail!==1){g=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var P=Hr(x);if(!(P.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!P.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var G=Date.now();G-f<=ws?(g++,g===2&&l(Ka(x))):g=1,f=G}}}return s.addEventListener("click",w),{dblclick:l,simDblclick:w}}function Qe(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Wi=ui(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bs=ui(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ii=bs==="webkitTransition"||bs==="OTransition"?bs+"End":"transitionend";function Xs(s){return typeof s=="string"?document.getElementById(s):s}function Mi(s,l){var f=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(s,null);f=g?g[l]:null}return f==="auto"?null:f}function qt(s,l,f){var g=document.createElement(s);return g.className=l||"",f&&f.appendChild(g),g}function ce(s){var l=s.parentNode;l&&l.removeChild(s)}function Ge(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Oi(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Es(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Ts(s,l){if(s.classList!==void 0)return s.classList.contains(l);var f=Ie(s);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function Bt(s,l){if(s.classList!==void 0)for(var f=et(l),g=0,w=f.length;g<w;g++)s.classList.add(f[g]);else if(!Ts(s,l)){var x=Ie(s);$o(s,(x?x+" ":"")+l)}}function fe(s,l){s.classList!==void 0?s.classList.remove(l):$o(s,nt((" "+Ie(s)+" ").replace(" "+l+" "," ")))}function $o(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Ie(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function xe(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&Qs(s,l)}function Qs(s,l){var f=!1,g="DXImageTransform.Microsoft.Alpha";try{f=s.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):s.style.filter+=" progid:"+g+"(opacity="+l+")"}function ui(s){for(var l=document.documentElement.style,f=0;f<s.length;f++)if(s[f]in l)return s[f];return!1}function gn(s,l,f){var g=l||new ut(0,0);s.style[Wi]=(St.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(f?" scale("+f+")":"")}function Lt(s,l){s._leaflet_pos=l,St.any3d?gn(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function kn(s){return s._leaflet_pos||new ut(0,0)}var on,ci,Ur;if("onselectstart"in document)on=function(){Rt(window,"selectstart",_e)},ci=function(){$t(window,"selectstart",_e)};else{var Ki=ui(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);on=function(){if(Ki){var s=document.documentElement.style;Ur=s[Ki],s[Ki]="none"}},ci=function(){Ki&&(document.documentElement.style[Ki]=Ur,Ur=void 0)}}function Js(){Rt(window,"dragstart",_e)}function ta(){$t(window,"dragstart",_e)}var jr,Ss;function hi(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(vn(),jr=s,Ss=s.style.outlineStyle,s.style.outlineStyle="none",Rt(window,"keydown",vn))}function vn(){jr&&(jr.style.outlineStyle=Ss,jr=void 0,Ss=void 0,$t(window,"keydown",vn))}function Li(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function fi(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var ea={__proto__:null,TRANSFORM:Wi,TRANSITION:bs,TRANSITION_END:Ii,get:Xs,getStyle:Mi,create:qt,remove:ce,empty:Ge,toFront:Oi,toBack:Es,hasClass:Ts,addClass:Bt,removeClass:fe,setClass:$o,getClass:Ie,setOpacity:xe,testProp:ui,setTransform:gn,setPosition:Lt,getPosition:kn,get disableTextSelection(){return on},get enableTextSelection(){return ci},disableImageDrag:Js,enableImageDrag:ta,preventOutline:hi,restoreOutline:vn,getSizedParentNode:Li,getScale:fi};function Rt(s,l,f,g){if(l&&typeof l=="object")for(var w in l)Xi(s,w,l[w],f);else{l=et(l);for(var x=0,P=l.length;x<P;x++)Xi(s,l[x],f,g)}return this}var Dn="_leaflet_events";function $t(s,l,f,g){if(arguments.length===1)Yn(s),delete s[Dn];else if(l&&typeof l=="object")for(var w in l)Wn(s,w,l[w],f);else if(l=et(l),arguments.length===2)Yn(s,function(G){return xt(l,G)!==-1});else for(var x=0,P=l.length;x<P;x++)Wn(s,l[x],f,g);return this}function Yn(s,l){for(var f in s[Dn]){var g=f.split(/\d/)[0];(!l||l(g))&&Wn(s,g,null,null,f)}}var Cn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Xi(s,l,f,g){var w=l+b(f)+(g?"_"+b(g):"");if(s[Dn]&&s[Dn][w])return this;var x=function(G){return f.call(g||s,G||window.event)},P=x;!St.touchNative&&St.pointer&&l.indexOf("touch")===0?x=De(s,l,x):St.touch&&l==="dblclick"?x=Ri(s,x):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Cn[l]||l,x,St.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(x=function(G){G=G||window.event,Ji(s,G)&&P(G)},s.addEventListener(Cn[l],x,!1)):s.addEventListener(l,P,!1):s.attachEvent("on"+l,x),s[Dn]=s[Dn]||{},s[Dn][w]=x}function Wn(s,l,f,g,w){w=w||l+b(f)+(g?"_"+b(g):"");var x=s[Dn]&&s[Dn][w];if(!x)return this;!St.touchNative&&St.pointer&&l.indexOf("touch")===0?Jo(s,l,x):St.touch&&l==="dblclick"?Qe(s,x):"removeEventListener"in s?s.removeEventListener(Cn[l]||l,x,!1):s.detachEvent("on"+l,x),s[Dn][w]=null}function An(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function di(s){return Xi(s,"wheel",An),this}function Qi(s){return Rt(s,"mousedown touchstart dblclick contextmenu",An),s._leaflet_disable_click=!0,this}function _e(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function an(s){return _e(s),An(s),this}function Hr(s){if(s.composedPath)return s.composedPath();for(var l=[],f=s.target;f;)l.push(f),f=f.parentNode;return l}function Ve(s,l){if(!l)return new ut(s.clientX,s.clientY);var f=fi(l),g=f.boundingClientRect;return new ut((s.clientX-g.left)/f.x-l.clientLeft,(s.clientY-g.top)/f.y-l.clientTop)}var le=St.linux&&St.chrome?window.devicePixelRatio:St.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $s(s){return St.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/le:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ji(s,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==s;)f=f.parentNode}catch{return!1}return f!==s}var Xa={__proto__:null,on:Rt,off:$t,stopPropagation:An,disableScrollPropagation:di,disableClickPropagation:Qi,preventDefault:_e,stop:an,getPropagationPath:Hr,getMousePosition:Ve,getWheelDelta:$s,isExternalTarget:Ji,addListener:Rt,removeListener:$t},tr=pt.extend({run:function(s,l,f,g){this.stop(),this._el=s,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=kn(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var f=this._startPos.add(this._offset.multiplyBy(s));l&&f._round(),Lt(this._el,f),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ut=pt.extend({options:{crs:qi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=at(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(_t(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bs&&St.any3d&&!St.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Rt(this._proxy,Ii,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(_t(s),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=c({animate:f.animate},f.zoom),f.pan=c({animate:f.animate,duration:f.duration},f.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,f.zoom):this._tryAnimatedPan(s,f.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,f){var g=this.getZoomScale(l),w=this.getSize().divideBy(2),x=s instanceof ut?s:this.latLngToContainerPoint(s),P=x.subtract(w).multiplyBy(1-1/g),G=this.containerPointToLatLng(w.add(P));return this.setView(G,l,{zoom:f})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():gt(s);var f=I(l.paddingTopLeft||l.padding||[0,0]),g=I(l.paddingBottomRight||l.padding||[0,0]),w=this.getBoundsZoom(s,!1,f.add(g));if(w=typeof l.maxZoom=="number"?Math.min(l.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var x=g.subtract(f).divideBy(2),P=this.project(s.getSouthWest(),w),G=this.project(s.getNorthEast(),w),Q=this.unproject(P.add(G).divideBy(2).add(x),w);return{center:Q,zoom:w}},fitBounds:function(s,l){if(s=gt(s),!s.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(s,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=I(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Bt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,f){if(f=f||{},f.animate===!1||!St.any3d)return this.setView(s,l,f);this._stop();var g=this.project(this.getCenter()),w=this.project(s),x=this.getSize(),P=this._zoom;s=_t(s),l=l===void 0?P:l;var G=Math.max(x.x,x.y),Q=G*this.getZoomScale(P,l),ot=w.distanceTo(g)||1,vt=1.42,wt=vt*vt;function Tt(Le){var Bi=Le?-1:1,ss=Le?Q:G,Ms=Q*Q-G*G+Bi*wt*wt*ot*ot,rs=2*ss*wt*ot,_a=Ms/rs,ll=Math.sqrt(_a*_a+1)-_a,ga=ll<1e-9?-18:Math.log(ll);return ga}function zt(Le){return(Math.exp(Le)-Math.exp(-Le))/2}function Ae(Le){return(Math.exp(Le)+Math.exp(-Le))/2}function Pe(Le){return zt(Le)/Ae(Le)}var un=Tt(0);function Kn(Le){return G*(Ae(un)/Ae(un+vt*Le))}function zc(Le){return G*(Ae(un)*Pe(un+vt*Le)-zt(un))/wt}function Bc(Le){return 1-Math.pow(1-Le,1.5)}var pa=Date.now(),ro=(Tt(1)-un)/vt,Uc=f.duration?1e3*f.duration:1e3*ro*.8;function oo(){var Le=(Date.now()-pa)/Uc,Bi=Bc(Le)*ro;Le<=1?(this._flyToFrame=U(oo,this),this._move(this.unproject(g.add(w.subtract(g).multiplyBy(zc(Bi)/ot)),P),this.getScaleZoom(G/Kn(Bi),P),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),oo.call(this),this},flyToBounds:function(s,l){var f=this._getBoundsCenterZoom(s,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(s){return s=gt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var f=this.getCenter(),g=this._limitCenter(f,this._zoom,gt(s));return f.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var f=I(l.paddingTopLeft||l.padding||[0,0]),g=I(l.paddingBottomRight||l.padding||[0,0]),w=this.project(this.getCenter()),x=this.project(s),P=this.getPixelBounds(),G=ct([P.min.add(f),P.max.subtract(g)]),Q=G.getSize();if(!G.contains(x)){this._enforcingBounds=!0;var ot=x.subtract(G.getCenter()),vt=G.extend(x).getSize().subtract(Q);w.x+=ot.x<0?-vt.x:vt.x,w.y+=ot.y<0?-vt.y:vt.y,this.panTo(this.unproject(w),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),g=l.divideBy(2).round(),w=f.divideBy(2).round(),x=g.subtract(w);return!x.x&&!x.y?this:(s.animate&&s.pan?this.panBy(x):(s.pan&&this._rawPanBy(x),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=_(this._handleGeolocationResponse,this),f=_(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,s):navigator.geolocation.getCurrentPosition(l,f,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,f=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,f=s.coords.longitude,g=new yt(l,f),w=g.toBounds(s.coords.accuracy*2),x=this._locateOptions;if(x.setView){var P=this.getBoundsZoom(w);this.setView(g,x.maxZoom?Math.min(P,x.maxZoom):P)}var G={latlng:g,bounds:w,timestamp:s.timestamp};for(var Q in s.coords)typeof s.coords[Q]=="number"&&(G[Q]=s.coords[Q]);this.fire("locationfound",G)}},addHandler:function(s,l){if(!l)return this;var f=this[s]=new l(this);return this._handlers.push(f),this.options[s]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ce(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var f="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),g=qt("div",f,l||this._mapPane);return s&&(this._panes[s]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),f=this.unproject(s.getTopRight());return new lt(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,f){s=gt(s),f=I(f||[0,0]);var g=this.getZoom()||0,w=this.getMinZoom(),x=this.getMaxZoom(),P=s.getNorthWest(),G=s.getSouthEast(),Q=this.getSize().subtract(f),ot=ct(this.project(G,g),this.project(P,g)).getSize(),vt=St.any3d?this.options.zoomSnap:1,wt=Q.x/ot.x,Tt=Q.y/ot.y,zt=l?Math.max(wt,Tt):Math.min(wt,Tt);return g=this.getScaleZoom(zt,g),vt&&(g=Math.round(g/(vt/100))*(vt/100),g=l?Math.ceil(g/vt)*vt:Math.floor(g/vt)*vt),Math.max(w,Math.min(x,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ut(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var f=this._getTopLeftPoint(s,l);return new tt(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(s)/f.scale(l)},getScaleZoom:function(s,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var g=f.zoom(s*f.scale(l));return isNaN(g)?1/0:g},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(_t(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(I(s),l)},layerPointToLatLng:function(s){var l=I(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(_t(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(_t(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(gt(s))},distance:function(s,l){return this.options.crs.distance(_t(s),_t(l))},containerPointToLayerPoint:function(s){return I(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return I(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(I(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_t(s)))},mouseEventToContainerPoint:function(s){return Ve(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Xs(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Rt(l,"scroll",this._onScroll,this),this._containerId=b(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&St.any3d,Bt(s,"leaflet-container"+(St.touch?" leaflet-touch":"")+(St.retina?" leaflet-retina":"")+(St.ielt9?" leaflet-oldie":"")+(St.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Mi(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Lt(this._mapPane,new ut(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Bt(s.markerPane,"leaflet-zoom-hide"),Bt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,f){Lt(this._mapPane,new ut(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var w=this._zoom!==l;this._moveStart(w,f)._move(s,l)._moveEnd(w),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,f,g){l===void 0&&(l=this._zoom);var w=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),g?f&&f.pinch&&this.fire("zoom",f):((w||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Lt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[b(this._container)]=this;var l=s?$t:Rt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),St.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var f=[],g,w=l==="mouseout"||l==="mouseover",x=s.target||s.srcElement,P=!1;x;){if(g=this._targets[b(x)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){P=!0;break}if(g&&g.listens(l,!0)&&(w&&!Ji(x,s)||(f.push(g),w))||x===this._container)break;x=x.parentNode}return!f.length&&!P&&!w&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var f=s.type;f==="mousedown"&&hi(l),this._fireDOMEvent(s,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,f){if(s.type==="click"){var g=c({},s);g.type="preclick",this._fireDOMEvent(g,g.type,f)}var w=this._findEventTargets(s,l);if(f){for(var x=[],P=0;P<f.length;P++)f[P].listens(l,!0)&&x.push(f[P]);w=x.concat(w)}if(w.length){l==="contextmenu"&&_e(s);var G=w[0],Q={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ot=G.getLatLng&&(!G._radius||G._radius<=10);Q.containerPoint=ot?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(s),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=ot?G.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(P=0;P<w.length;P++)if(w[P].fire(l,Q,!0),Q.originalEvent._stopped||w[P].options.bubblingMouseEvents===!1&&xt(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return kn(this._mapPane)||new ut(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var f=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var f=this.getSize()._divideBy(2);return this.project(s,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,f){var g=this._getNewPixelOrigin(f,l);return this.project(s,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(s,l,f){var g=this._getNewPixelOrigin(f,l);return ct([this.project(s.getSouthWest(),l)._subtract(g),this.project(s.getNorthWest(),l)._subtract(g),this.project(s.getSouthEast(),l)._subtract(g),this.project(s.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,f){if(!f)return s;var g=this.project(s,l),w=this.getSize().divideBy(2),x=new tt(g.subtract(w),g.add(w)),P=this._getBoundsOffset(x,f,l);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?s:this.unproject(g.add(P),l)},_limitOffset:function(s,l){if(!l)return s;var f=this.getPixelBounds(),g=new tt(f.min.add(s),f.max.add(s));return s.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(s,l,f){var g=ct(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),w=g.min.subtract(s.min),x=g.max.subtract(s.max),P=this._rebound(w.x,-x.x),G=this._rebound(w.y,-x.y);return new ut(P,G)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),f=this.getMaxZoom(),g=St.any3d?this.options.zoomSnap:1;return g&&(s=Math.round(s/g)*g),Math.max(l,Math.min(f,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var f=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var s=this._proxy=qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var f=Wi,g=this._proxy.style[f];gn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();gn(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),w=this._getCenterOffset(s)._divideBy(1-1/g);return f.animate!==!0&&!this.getSize().contains(w)?!1:(U(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,f,g){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,Bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ki(s,l){return new Ut(s,l)}var Je=we.extend({options:{position:"topright"},initialize:function(s){at(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),f=this.getPosition(),g=s._controlCorners[f];return Bt(l,"leaflet-control"),f.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ln=function(s){return new Je(s)};Ut.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",f=this._controlContainer=qt("div",l+"control-container",this._container);function g(w,x){var P=l+w+" "+l+x;s[w+x]=qt("div",P,f)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ce(this._controlCorners[s]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var na=Je.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,f,g){return f<g?-1:g<f?1:0}},initialize:function(s,l,f){at(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in s)this._addLayer(s[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Je.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(b(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=qt("div",s),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Qi(l),di(l);var g=this._section=qt("section",s+"-list");f&&(this._map.on("click",this.collapse,this),Rt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=qt("a",s+"-toggle",l);w.href="#",w.title="Layers",w.setAttribute("role","button"),Rt(w,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){_e(x),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=qt("div",s+"-base",g),this._separator=qt("div",s+"-separator",g),this._overlaysList=qt("div",s+"-overlays",g),l.appendChild(g)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&b(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,f){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(_(function(g,w){return this.options.sortFunction(g.layer,w.layer,g.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ge(this._baseLayersList),Ge(this._overlaysList),this._layerControlInputs=[];var s,l,f,g,w=0;for(f=0;f<this._layers.length;f++)g=this._layers[f],this._addItem(g),l=l||g.overlay,s=s||!g.overlay,w+=g.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(b(s.target)),f=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(s,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=f,g.firstChild},_addItem:function(s){var l=document.createElement("label"),f=this._map.hasLayer(s.layer),g;s.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=f):g=this._createRadioElement("leaflet-base-layers_"+b(this),f),this._layerControlInputs.push(g),g.layerId=b(s.layer),Rt(g,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var x=document.createElement("span");l.appendChild(x),x.appendChild(g),x.appendChild(w);var P=s.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,f,g=[],w=[];this._handlingClick=!0;for(var x=s.length-1;x>=0;x--)l=s[x],f=this._getLayer(l.layerId).layer,l.checked?g.push(f):l.checked||w.push(f);for(x=0;x<w.length;x++)this._map.hasLayer(w[x])&&this._map.removeLayer(w[x]);for(x=0;x<g.length;x++)this._map.hasLayer(g[x])||this._map.addLayer(g[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,f,g=this._map.getZoom(),w=s.length-1;w>=0;w--)l=s[w],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&g<f.options.minZoom||f.options.maxZoom!==void 0&&g>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Rt(s,"click",_e),this.expand();var l=this;setTimeout(function(){$t(s,"click",_e),l._preventClick=!1})}}),Jl=function(s,l,f){return new na(s,l,f)},$i=Je.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",f=qt("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,f,g,w){var x=qt("a",f,g);return x.innerHTML=s,x.href="#",x.title=l,x.setAttribute("role","button"),x.setAttribute("aria-label",l),Qi(x),Rt(x,"click",an),Rt(x,"click",w,this),Rt(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";fe(this._zoomInButton,l),fe(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Bt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Bt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $i,this.addControl(this.zoomControl))});var Vr=function(s){return new $i(s)},qr=Je.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",f=qt("div",l),g=this.options;return this._addScales(g,l+"-line",f),s.on(g.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),f},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,f){s.metric&&(this._mScale=qt("div",l,f)),s.imperial&&(this._iScale=qt("div",l,f))},_update:function(){var s=this._map,l=s.getSize().y/2,f=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/s)},_updateImperial:function(s){var l=s*3.2808399,f,g,w;l>5280?(f=l/5280,g=this._getRoundNum(f),this._updateScale(this._iScale,g+" mi",g/f)):(w=this._getRoundNum(l),this._updateScale(this._iScale,w+" ft",w/l))},_updateScale:function(s,l,f){s.style.width=Math.round(this.options.maxWidth*f)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),f=s/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),Fr=function(s){return new qr(s)},Qa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xs=Je.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(St.inlineSvg?Qa+" ":"")+"Leaflet</a>"},initialize:function(s){at(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=qt("div","leaflet-control-attribution"),Qi(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),s.length&&f.push(s.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&new xs().addTo(this)});var $l=function(s){return new xs(s)};Je.Layers=na,Je.Zoom=$i,Je.Scale=qr,Je.Attribution=xs,ln.layers=Jl,ln.zoom=Vr,ln.scale=Fr,ln.attribution=$l;var Nn=we.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(s,l){return s.addHandler(l,this),this};var er={Events:$},ia=St.touch?"touchstart mousedown":"mousedown",mi=pt.extend({options:{clickTolerance:3},initialize:function(s,l,f,g){at(this,g),this._element=s,this._dragStartTarget=l||s,this._preventOutline=f},enable:function(){this._enabled||(Rt(this._dragStartTarget,ia,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mi._dragging===this&&this.finishDrag(!0),$t(this._dragStartTarget,ia,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ts(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){mi._dragging===this&&this.finishDrag();return}if(!(mi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(mi._dragging=this,this._preventOutline&&hi(this._element),Js(),on(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,f=Li(this._element);this._startPoint=new ut(l.clientX,l.clientY),this._startPos=kn(this._element),this._parentScale=fi(f);var g=s.type==="mousedown";Rt(document,g?"mousemove":"touchmove",this._onMove,this),Rt(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,f=new ut(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,_e(s),this._moved||(this.fire("dragstart"),this._moved=!0,Bt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Lt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$t(document,"mousemove touchmove",this._onMove,this),$t(document,"mouseup touchend touchcancel",this._onUp,this),ta(),ci();var l=this._moved&&this._moving;this._moving=!1,mi._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Gr(s,l,f){var g,w=[1,4,2,8],x,P,G,Q,ot,vt,wt,Tt;for(x=0,vt=s.length;x<vt;x++)s[x]._code=Di(s[x],l);for(G=0;G<4;G++){for(wt=w[G],g=[],x=0,vt=s.length,P=vt-1;x<vt;P=x++)Q=s[x],ot=s[P],Q._code&wt?ot._code&wt||(Tt=nr(ot,Q,wt,l,f),Tt._code=Di(Tt,l),g.push(Tt)):(ot._code&wt&&(Tt=nr(ot,Q,wt,l,f),Tt._code=Di(Tt,l),g.push(Tt)),g.push(Q));s=g}return s}function Cs(s,l){var f,g,w,x,P,G,Q,ot,vt;if(!s||s.length===0)throw new Error("latlngs not passed");v(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var wt=_t([0,0]),Tt=gt(s),zt=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());zt<1700&&(wt=Zr(s));var Ae=s.length,Pe=[];for(f=0;f<Ae;f++){var un=_t(s[f]);Pe.push(l.project(_t([un.lat-wt.lat,un.lng-wt.lng])))}for(G=Q=ot=0,f=0,g=Ae-1;f<Ae;g=f++)w=Pe[f],x=Pe[g],P=w.y*x.x-x.y*w.x,Q+=(w.x+x.x)*P,ot+=(w.y+x.y)*P,G+=P*3;G===0?vt=Pe[0]:vt=[Q/G,ot/G];var Kn=l.unproject(I(vt));return _t([Kn.lat+wt.lat,Kn.lng+wt.lng])}function Zr(s){for(var l=0,f=0,g=0,w=0;w<s.length;w++){var x=_t(s[w]);l+=x.lat,f+=x.lng,g++}return _t([l/g,f/g])}var Yr={__proto__:null,clipPolygon:Gr,polygonCenter:Cs,centroid:Zr};function sa(s,l){if(!l||!s.length)return s.slice();var f=l*l;return s=$a(s,f),s=Ja(s,f),s}function Wr(s,l,f){return Math.sqrt(h(s,l,f,!0))}function ts(s,l,f){return h(s,l,f)}function Ja(s,l){var f=s.length,g=typeof Uint8Array<"u"?Uint8Array:Array,w=new g(f);w[0]=w[f-1]=1,Kr(s,w,l,0,f-1);var x,P=[];for(x=0;x<f;x++)w[x]&&P.push(s[x]);return P}function Kr(s,l,f,g,w){var x=0,P,G,Q;for(G=g+1;G<=w-1;G++)Q=h(s[G],s[g],s[w],!0),Q>x&&(P=G,x=Q);x>f&&(l[P]=1,Kr(s,l,f,g,P),Kr(s,l,f,P,w))}function $a(s,l){for(var f=[s[0]],g=1,w=0,x=s.length;g<x;g++)As(s[g],s[w])>l&&(f.push(s[g]),w=g);return w<x-1&&f.push(s[x-1]),f}var ra;function yn(s,l,f,g,w){var x=g?ra:Di(s,f),P=Di(l,f),G,Q,ot;for(ra=P;;){if(!(x|P))return[s,l];if(x&P)return!1;G=x||P,Q=nr(s,l,G,f,w),ot=Di(Q,f),G===x?(s=Q,x=ot):(l=Q,P=ot)}}function nr(s,l,f,g,w){var x=l.x-s.x,P=l.y-s.y,G=g.min,Q=g.max,ot,vt;return f&8?(ot=s.x+x*(Q.y-s.y)/P,vt=Q.y):f&4?(ot=s.x+x*(G.y-s.y)/P,vt=G.y):f&2?(ot=Q.x,vt=s.y+P*(Q.x-s.x)/x):f&1&&(ot=G.x,vt=s.y+P*(G.x-s.x)/x),new ut(ot,vt,w)}function Di(s,l){var f=0;return s.x<l.min.x?f|=1:s.x>l.max.x&&(f|=2),s.y<l.min.y?f|=4:s.y>l.max.y&&(f|=8),f}function As(s,l){var f=l.x-s.x,g=l.y-s.y;return f*f+g*g}function h(s,l,f,g){var w=l.x,x=l.y,P=f.x-w,G=f.y-x,Q=P*P+G*G,ot;return Q>0&&(ot=((s.x-w)*P+(s.y-x)*G)/Q,ot>1?(w=f.x,x=f.y):ot>0&&(w+=P*ot,x+=G*ot)),P=s.x-w,G=s.y-x,g?P*P+G*G:new ut(w,x)}function v(s){return!ft(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function E(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),v(s)}function N(s,l){var f,g,w,x,P,G,Q,ot;if(!s||s.length===0)throw new Error("latlngs not passed");v(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var vt=_t([0,0]),wt=gt(s),Tt=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Tt<1700&&(vt=Zr(s));var zt=s.length,Ae=[];for(f=0;f<zt;f++){var Pe=_t(s[f]);Ae.push(l.project(_t([Pe.lat-vt.lat,Pe.lng-vt.lng])))}for(f=0,g=0;f<zt-1;f++)g+=Ae[f].distanceTo(Ae[f+1])/2;if(g===0)ot=Ae[0];else for(f=0,x=0;f<zt-1;f++)if(P=Ae[f],G=Ae[f+1],w=P.distanceTo(G),x+=w,x>g){Q=(x-g)/w,ot=[G.x-Q*(G.x-P.x),G.y-Q*(G.y-P.y)];break}var un=l.unproject(I(ot));return _t([un.lat+vt.lat,un.lng+vt.lng])}var Z={__proto__:null,simplify:sa,pointToSegmentDistance:Wr,closestPointOnSegment:ts,clipSegment:yn,_getEdgeIntersection:nr,_getBitCode:Di,_sqClosestPointOnSegment:h,isFlat:v,_flat:E,polylineCenter:N},J={project:function(s){return new ut(s.lng,s.lat)},unproject:function(s){return new yt(s.y,s.x)},bounds:new tt([-180,-90],[180,90])},ht={R:6378137,R_MINOR:6356752314245179e-9,bounds:new tt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,f=this.R,g=s.lat*l,w=this.R_MINOR/f,x=Math.sqrt(1-w*w),P=x*Math.sin(g),G=Math.tan(Math.PI/4-g/2)/Math.pow((1-P)/(1+P),x/2);return g=-f*Math.log(Math.max(G,1e-10)),new ut(s.lng*l*f,g)},unproject:function(s){for(var l=180/Math.PI,f=this.R,g=this.R_MINOR/f,w=Math.sqrt(1-g*g),x=Math.exp(-s.y/f),P=Math.PI/2-2*Math.atan(x),G=0,Q=.1,ot;G<15&&Math.abs(Q)>1e-7;G++)ot=w*Math.sin(P),ot=Math.pow((1-ot)/(1+ot),w/2),Q=Math.PI/2-2*Math.atan(x*ot)-P,P+=Q;return new yt(P*l,s.x*l/f)}},re={__proto__:null,LonLat:J,Mercator:ht,SphericalMercator:Si},Ce=c({},Qt,{code:"EPSG:3395",projection:ht,transformation:(function(){var s=.5/(Math.PI*ht.R);return ri(s,.5,-s,.5)})()}),Zt=c({},Qt,{code:"EPSG:4326",projection:J,transformation:ri(1/180,1,-1/180,.5)}),Ze=c({},pe,{projection:J,transformation:ri(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var f=l.lng-s.lng,g=l.lat-s.lat;return Math.sqrt(f*f+g*g)},infinite:!0});pe.Earth=Qt,pe.EPSG3395=Ce,pe.EPSG3857=qi,pe.EPSG900913=qs,pe.EPSG4326=Zt,pe.Simple=Ze;var he=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[b(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[b(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=b(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=b(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return b(s)in this._layers},eachLayer:function(s,l){for(var f in this._layers)s.call(l,this._layers[f]);return this},_addLayers:function(s){s=s?ft(s)?s:[s]:[];for(var l=0,f=s.length;l<f;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[b(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=b(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,f=this._getZoomSpan();for(var g in this._zoomBoundLayers){var w=this._zoomBoundLayers[g].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),l=w.maxZoom===void 0?l:Math.max(l,w.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rn=he.extend({initialize:function(s,l){at(this,l),this._layers={};var f,g;if(s)for(f=0,g=s.length;f<g;f++)this.addLayer(s[f])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),f,g;for(f in this._layers)g=this._layers[f],g[s]&&g[s].apply(g,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var f in this._layers)s.call(l,this._layers[f]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return b(s)}}),In=function(s,l){return new Rn(s,l)},Ye=Rn.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Rn.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Rn.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new lt;for(var l in this._layers){var f=this._layers[l];s.extend(f.getBounds?f.getBounds():f.getLatLng())}return s}}),es=function(s,l){return new Ye(s,l)},Xr=we.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){at(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var f=this._getIconUrl(s);if(!f){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(s,l){var f=this.options,g=f[l+"Size"];typeof g=="number"&&(g=[g,g]);var w=I(g),x=I(l==="shadow"&&f.shadowAnchor||f.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(f.className||""),x&&(s.style.marginLeft=-x.x+"px",s.style.marginTop=-x.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return St.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function tl(s){return new Xr(s)}var Qr=Xr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Qr.imagePath!="string"&&(Qr.imagePath=this._detectIconPath()),(this.options.imagePath||Qr.imagePath)+Xr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(f,g,w){var x=g.exec(f);return x&&x[w]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=qt("div","leaflet-default-icon-path",document.body),l=Mi(s,"background-image")||Mi(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),tu=Nn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new mi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Bt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,f=l._map,g=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,x=kn(l._icon),P=f.getPixelBounds(),G=f.getPixelOrigin(),Q=ct(P.min._subtract(G).add(w),P.max._subtract(G).subtract(w));if(!Q.contains(x)){var ot=I((Math.max(Q.max.x,x.x)-Q.max.x)/(P.max.x-Q.max.x)-(Math.min(Q.min.x,x.x)-Q.min.x)/(P.min.x-Q.min.x),(Math.max(Q.max.y,x.y)-Q.max.y)/(P.max.y-Q.max.y)-(Math.min(Q.min.y,x.y)-Q.min.y)/(P.min.y-Q.min.y)).multiplyBy(g);f.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),Lt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=U(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,f=l._shadow,g=kn(l._icon),w=l._map.layerPointToLatLng(g);f&&Lt(f,g),l._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Jr=he.extend({options:{icon:new Qr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){at(this,l),this._latlng=_t(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=_t(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=s.icon.createIcon(this._icon),g=!1;f!==this._icon&&(this._icon&&this._removeIcon(),g=!0,s.title&&(f.title=s.title),f.tagName==="IMG"&&(f.alt=s.alt||"")),Bt(f,l),s.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rt(f,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),x=!1;w!==this._shadow&&(this._removeShadow(),x=!0),w&&(Bt(w,l),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&x&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$t(this._icon,"focus",this._panOnFocus,this),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Lt(this._icon,s),this._shadow&&Lt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&xe(this._icon,s),this._shadow&&xe(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,f=l.iconSize?I(l.iconSize):I(0,0),g=l.iconAnchor?I(l.iconAnchor):I(0,0);s.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:f.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function eu(s,l){return new Jr(s,l)}var ns=he.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return at(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oa=ns.extend({options:{fill:!0,radius:10},initialize:function(s,l){at(this,l),this._latlng=_t(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=_t(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return ns.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,f=this._clickTolerance(),g=[s+f,l+f];this._pxBounds=new tt(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Mc(s,l){return new oa(s,l)}var nu=oa.extend({initialize:function(s,l,f){if(typeof l=="number"&&(l=c({},f,{radius:l})),at(this,l),this._latlng=_t(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new lt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ns.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,f=this._map,g=f.options.crs;if(g.distance===Qt.distance){var w=Math.PI/180,x=this._mRadius/Qt.R/w,P=f.project([l+x,s]),G=f.project([l-x,s]),Q=P.add(G).divideBy(2),ot=f.unproject(Q).lat,vt=Math.acos((Math.cos(x*w)-Math.sin(l*w)*Math.sin(ot*w))/(Math.cos(l*w)*Math.cos(ot*w)))/w;(isNaN(vt)||vt===0)&&(vt=x/Math.cos(Math.PI/180*l)),this._point=Q.subtract(f.getPixelOrigin()),this._radius=isNaN(vt)?0:Q.x-f.project([ot,s-vt]).x,this._radiusY=Q.y-P.y}else{var wt=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(wt).x}this._updateBounds()}});function Of(s,l,f){return new nu(s,l,f)}var is=ns.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){at(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,f=null,g=h,w,x,P=0,G=this._parts.length;P<G;P++)for(var Q=this._parts[P],ot=1,vt=Q.length;ot<vt;ot++){w=Q[ot-1],x=Q[ot];var wt=g(s,w,x,!0);wt<l&&(l=wt,f=g(s,w,x))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return N(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=_t(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new lt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return v(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],f=v(s),g=0,w=s.length;g<w;g++)f?(l[g]=_t(s[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(s[g]);return l},_project:function(){var s=new tt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new ut(s,s);this._rawPxBounds&&(this._pxBounds=new tt([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,f){var g=s[0]instanceof yt,w=s.length,x,P;if(g){for(P=[],x=0;x<w;x++)P[x]=this._map.latLngToLayerPoint(s[x]),f.extend(P[x]);l.push(P)}else for(x=0;x<w;x++)this._projectLatlngs(s[x],l,f)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,g,w,x,P,G,Q;for(f=0,w=0,x=this._rings.length;f<x;f++)for(Q=this._rings[f],g=0,P=Q.length;g<P-1;g++)G=yn(Q[g],Q[g+1],s,g,!0),G&&(l[w]=l[w]||[],l[w].push(G[0]),(G[1]!==Q[g+1]||g===P-2)&&(l[w].push(G[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,f=0,g=s.length;f<g;f++)s[f]=sa(s[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var f,g,w,x,P,G,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(f=0,x=this._parts.length;f<x;f++)for(G=this._parts[f],g=0,P=G.length,w=P-1;g<P;w=g++)if(!(!l&&g===0)&&Wr(s,G[w],G[g])<=Q)return!0;return!1}});function Lf(s,l){return new is(s,l)}is._flat=E;var $r=is.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=is.prototype._convertLatLngs.call(this,s),f=l.length;return f>=2&&l[0]instanceof yt&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(s){is.prototype._setLatLngs.call(this,s),v(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return v(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,f=new ut(l,l);if(s=new tt(s.min.subtract(f),s.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,w=this._rings.length,x;g<w;g++)x=Gr(this._rings[g],s,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,f,g,w,x,P,G,Q,ot;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(x=0,Q=this._parts.length;x<Q;x++)for(f=this._parts[x],P=0,ot=f.length,G=ot-1;P<ot;G=P++)g=f[P],w=f[G],g.y>s.y!=w.y>s.y&&s.x<(w.x-g.x)*(s.y-g.y)/(w.y-g.y)+g.x&&(l=!l);return l||is.prototype._containsPoint.call(this,s,!0)}});function Pn(s,l){return new $r(s,l)}var zn=Ye.extend({initialize:function(s,l){at(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=ft(s)?s:s.features,f,g,w;if(l){for(f=0,g=l.length;f<g;f++)w=l[f],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var x=this.options;if(x.filter&&!x.filter(s))return this;var P=aa(s,x);return P?(P.feature=to(s),P.defaultOptions=P.options,this.resetStyle(P),x.onEachFeature&&x.onEachFeature(s,P),this.addLayer(P)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function aa(s,l){var f=s.type==="Feature"?s.geometry:s,g=f?f.coordinates:null,w=[],x=l&&l.pointToLayer,P=l&&l.coordsToLatLng||el,G,Q,ot,vt;if(!g&&!f)return null;switch(f.type){case"Point":return G=P(g),iu(x,s,G,l);case"MultiPoint":for(ot=0,vt=g.length;ot<vt;ot++)G=P(g[ot]),w.push(iu(x,s,G,l));return new Ye(w);case"LineString":case"MultiLineString":return Q=la(g,f.type==="LineString"?0:1,P),new is(Q,l);case"Polygon":case"MultiPolygon":return Q=la(g,f.type==="Polygon"?1:2,P),new $r(Q,l);case"GeometryCollection":for(ot=0,vt=f.geometries.length;ot<vt;ot++){var wt=aa({geometry:f.geometries[ot],type:"Feature",properties:s.properties},l);wt&&w.push(wt)}return new Ye(w);case"FeatureCollection":for(ot=0,vt=f.features.length;ot<vt;ot++){var Tt=aa(f.features[ot],l);Tt&&w.push(Tt)}return new Ye(w);default:throw new Error("Invalid GeoJSON object.")}}function iu(s,l,f,g){return s?s(l,f):new Jr(f,g&&g.markersInheritOptions&&g)}function el(s){return new yt(s[1],s[0],s[2])}function la(s,l,f){for(var g=[],w=0,x=s.length,P;w<x;w++)P=l?la(s[w],l-1,f):(f||el)(s[w]),g.push(P);return g}function ua(s,l){return s=_t(s),s.alt!==void 0?[D(s.lng,l),D(s.lat,l),D(s.alt,l)]:[D(s.lng,l),D(s.lat,l)]}function nl(s,l,f,g){for(var w=[],x=0,P=s.length;x<P;x++)w.push(l?nl(s[x],v(s[x])?0:l-1,f,g):ua(s[x],g));return!l&&f&&w.length>0&&w.push(w[0].slice()),w}function pi(s,l){return s.feature?c({},s.feature,{geometry:l}):to(l)}function to(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ir={toGeoJSON:function(s){return pi(this,{type:"Point",coordinates:ua(this.getLatLng(),s)})}};Jr.include(ir),nu.include(ir),oa.include(ir),is.include({toGeoJSON:function(s){var l=!v(this._latlngs),f=nl(this._latlngs,l?1:0,!1,s);return pi(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),$r.include({toGeoJSON:function(s){var l=!v(this._latlngs),f=l&&!v(this._latlngs[0]),g=nl(this._latlngs,f?2:l?1:0,!0,s);return l||(g=[g]),pi(this,{type:(f?"Multi":"")+"Polygon",coordinates:g})}}),Rn.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(s).geometry.coordinates)}),pi(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var f=l==="GeometryCollection",g=[];return this.eachLayer(function(w){if(w.toGeoJSON){var x=w.toGeoJSON(s);if(f)g.push(x.geometry);else{var P=to(x);P.type==="FeatureCollection"?g.push.apply(g,P.features):g.push(P)}}}),f?pi(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function il(s,l){return new zn(s,l)}var Oc=il,Pi=he.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,f){this._url=s,this._bounds=gt(l),at(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Oi(this._image),this},bringToBack:function(){return this._map&&Es(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=gt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:qt("img");if(Bt(l,"leaflet-image-layer"),this._zoomAnimated&&Bt(l,"leaflet-zoom-animated"),this.options.className&&Bt(l,this.options.className),l.onselectstart=k,l.onmousemove=k,l.onload=_(this.fire,this,"load"),l.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;gn(this._image,f,l)},_reset:function(){var s=this._image,l=new tt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();Lt(s,l.min),s.style.width=f.x+"px",s.style.height=f.y+"px"},_updateOpacity:function(){xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),eo=function(s,l,f){return new Pi(s,l,f)},sl=Pi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:qt("video");if(Bt(l,"leaflet-image-layer"),this._zoomAnimated&&Bt(l,"leaflet-zoom-animated"),this.options.className&&Bt(l,this.options.className),l.onselectstart=k,l.onmousemove=k,l.onloadeddata=_(this.fire,this,"load"),s){for(var f=l.getElementsByTagName("source"),g=[],w=0;w<f.length;w++)g.push(f[w].src);this._url=f.length>0?g:[l.src];return}ft(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var P=qt("source");P.src=this._url[x],l.appendChild(P)}}});function Lc(s,l,f){return new sl(s,l,f)}var Ns=Pi.extend({_initImage:function(){var s=this._image=this._url;Bt(s,"leaflet-image-layer"),this._zoomAnimated&&Bt(s,"leaflet-zoom-animated"),this.options.className&&Bt(s,this.options.className),s.onselectstart=k,s.onmousemove=k}});function kc(s,l,f){return new Ns(s,l,f)}var _i=he.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof yt||ft(s))?(this._latlng=_t(s),at(this,l)):(at(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&xe(this._container,1),this.bringToFront(),this.options.interactive&&(Bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(xe(this._container,0),this._removeTimeout=setTimeout(_(ce,void 0,this._container),200)):ce(this._container),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=_t(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oi(this._container),this},bringToBack:function(){return this._map&&Es(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Ye){l=null;var f=this._source._layers;for(var g in f)if(f[g]._map){l=f[g];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=I(this.options.offset),f=this._getAnchor();this._zoomAnimated?Lt(this._container,s.add(f)):l=l.add(s).add(f);var g=this._containerBottom=-l.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(s,l,f,g){var w=l;return w instanceof s||(w=new s(g).setContent(l)),f&&w.setLatLng(f),w}}),he.include({_initOverlay:function(s,l,f,g){var w=f;return w instanceof s?(at(w,g),w._source=this):(w=l&&!g?l:new s(g,this),w.setContent(f)),w}});var ca=_i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,_i.prototype.openOn.call(this,s)},onAdd:function(s){_i.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ns||this._source.on("preclick",An))},onRemove:function(s){_i.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ns||this._source.off("preclick",An))},getEvents:function(){var s=_i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=qt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=qt("div",s+"-content-wrapper",l);if(this._contentNode=qt("div",s+"-content",f),Qi(l),di(this._contentNode),Rt(l,"contextmenu",An),this._tipContainer=qt("div",s+"-tip-container",l),this._tip=qt("div",s+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=qt("a",s+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Rt(g,"click",function(w){_e(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var f=s.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var g=s.offsetHeight,w=this.options.maxHeight,x="leaflet-popup-scrolled";w&&g>w?(l.height=w+"px",Bt(s,x)):fe(s,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),f=this._getAnchor();Lt(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Mi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,g=this._containerWidth,w=new ut(this._containerLeft,-f-this._containerBottom);w._add(kn(this._container));var x=s.layerPointToContainerPoint(w),P=I(this.options.autoPanPadding),G=I(this.options.autoPanPaddingTopLeft||P),Q=I(this.options.autoPanPaddingBottomRight||P),ot=s.getSize(),vt=0,wt=0;x.x+g+Q.x>ot.x&&(vt=x.x+g-ot.x+Q.x),x.x-vt-G.x<0&&(vt=x.x-G.x),x.y+f+Q.y>ot.y&&(wt=x.y+f-ot.y+Q.y),x.y-wt-G.y<0&&(wt=x.y-G.y),(vt||wt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([vt,wt]))}},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),kf=function(s,l){return new ca(s,l)};Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(s,l,f){return this._initOverlay(ca,s,l,f).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),he.include({bindPopup:function(s,l){return this._popup=this._initOverlay(ca,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ye||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){an(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof ns)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var rl=_i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){_i.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){_i.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=_i.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,f,g=this._map,w=this._container,x=g.latLngToContainerPoint(g.getCenter()),P=g.layerPointToContainerPoint(s),G=this.options.direction,Q=w.offsetWidth,ot=w.offsetHeight,vt=I(this.options.offset),wt=this._getAnchor();G==="top"?(l=Q/2,f=ot):G==="bottom"?(l=Q/2,f=0):G==="center"?(l=Q/2,f=ot/2):G==="right"?(l=0,f=ot/2):G==="left"?(l=Q,f=ot/2):P.x<x.x?(G="right",l=0,f=ot/2):(G="left",l=Q+(vt.x+wt.x)*2,f=ot/2),s=s.subtract(I(l,f,!0)).add(vt).add(wt),fe(w,"leaflet-tooltip-right"),fe(w,"leaflet-tooltip-left"),fe(w,"leaflet-tooltip-top"),fe(w,"leaflet-tooltip-bottom"),Bt(w,"leaflet-tooltip-"+G),Lt(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&xe(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Df=function(s,l){return new rl(s,l)};Ut.include({openTooltip:function(s,l,f){return this._initOverlay(rl,s,l,f).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),he.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rl,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ye||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(Rt(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Rt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,f,g;this._tooltip.options.sticky&&s.originalEvent&&(f=this._map.mouseEventToContainerPoint(s.originalEvent),g=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var su=Xr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Ge(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var g=I(f.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Dc(s){return new su(s)}Xr.Default=Qr;var sr=he.extend({options:{tileSize:256,opacity:1,updateWhenIdle:St.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){at(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ce(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Es(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ut?s:new ut(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,f=-s(-1/0,1/0),g=0,w=l.length,x;g<w;g++)x=l[g].style.zIndex,l[g]!==this._container&&x&&(f=s(f,+x));isFinite(f)&&(this.options.zIndex=f+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!St.ielt9){xe(this._container,this.options.opacity);var s=+new Date,l=!1,f=!1;for(var g in this._tiles){var w=this._tiles[g];if(!(!w.current||!w.loaded)){var x=Math.min(1,(s-w.loaded)/200);xe(w.el,x),x<1?l=!0:(w.active?f=!0:this._onOpaqueTile(w),w.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(q(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===s?(this._levels[f].el.style.zIndex=l-Math.abs(s-f),this._onUpdateLevel(f)):(ce(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var g=this._levels[s],w=this._map;return g||(g=this._levels[s]={},g.el=qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),g.zoom=s,this._setZoomTransform(g,w.getCenter(),w.getZoom()),k(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var s,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ce(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,f,g){var w=Math.floor(s/2),x=Math.floor(l/2),P=f-1,G=new ut(+w,+x);G.z=+P;var Q=this._tileCoordsToKey(G),ot=this._tiles[Q];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),P>g?this._retainParent(w,x,P,g):!1)},_retainChildren:function(s,l,f,g){for(var w=2*s;w<2*s+2;w++)for(var x=2*l;x<2*l+2;x++){var P=new ut(w,x);P.z=f+1;var G=this._tileCoordsToKey(P),Q=this._tiles[G];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);f+1<g&&this._retainChildren(w,x,f+1,g)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,f,g){var w=Math.round(l);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var x=this.options.updateWhenZooming&&w!==this._tileZoom;(!g||x)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],s,l)},_setZoomTransform:function(s,l,f){var g=this._map.getZoomScale(f,s.zoom),w=s.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,f)).round();St.any3d?gn(s.el,w,g):Lt(s.el,w)},_resetGrid:function(){var s=this._map,l=s.options.crs,f=this._tileSize=this.getTileSize(),g=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],g).x/f.x),Math.ceil(s.project([0,l.wrapLng[1]],g).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],g).y/f.x),Math.ceil(s.project([l.wrapLat[1],0],g).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(f,this._tileZoom),w=l.project(s,this._tileZoom).floor(),x=l.getSize().divideBy(g*2);return new tt(w.subtract(x),w.add(x))},_update:function(s){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(g),x=w.getCenter(),P=[],G=this.options.keepBuffer,Q=new tt(w.getBottomLeft().subtract([G,-G]),w.getTopRight().add([G,-G]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var vt=this._tiles[ot].coords;(vt.z!==this._tileZoom||!Q.contains(new ut(vt.x,vt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(s,f);return}for(var wt=w.min.y;wt<=w.max.y;wt++)for(var Tt=w.min.x;Tt<=w.max.x;Tt++){var zt=new ut(Tt,wt);if(zt.z=this._tileZoom,!!this._isValidTile(zt)){var Ae=this._tiles[this._tileCoordsToKey(zt)];Ae?Ae.current=!0:P.push(zt)}}if(P.sort(function(un,Kn){return un.distanceTo(x)-Kn.distanceTo(x)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pe=document.createDocumentFragment();for(Tt=0;Tt<P.length;Tt++)this._addTile(P[Tt],Pe);this._level.el.appendChild(Pe)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(s.x<f.min.x||s.x>f.max.x)||!l.wrapLat&&(s.y<f.min.y||s.y>f.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(s);return gt(this.options.bounds).overlaps(g)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,f=this.getTileSize(),g=s.scaleBy(f),w=g.add(f),x=l.unproject(g,s.z),P=l.unproject(w,s.z);return[x,P]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),f=new lt(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),f=new ut(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(s){var l=this._tiles[s];l&&(ce(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Bt(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=k,s.onmousemove=k,St.ielt9&&this.options.opacity<1&&xe(s,this.options.opacity)},_addTile:function(s,l){var f=this._getTilePos(s),g=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),_(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&U(_(this._tileReady,this,s,null,w)),Lt(w,f),this._tiles[g]={el:w,coords:s,current:!0},l.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:s});var g=this._tileCoordsToKey(s);f=this._tiles[g],f&&(f.loaded=+new Date,this._map._fadeAnimated?(xe(f.el,0),q(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(Bt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),St.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new ut(this._wrapX?R(s.x,this._wrapX):s.x,this._wrapY?R(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new tt(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function gi(s){return new sr(s)}var rr=sr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=at(this,l),l.detectRetina&&St.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var f=document.createElement("img");return Rt(f,"load",_(this._tileOnLoad,this,l,f)),Rt(f,"error",_(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(s),f},getTileUrl:function(s){var l={r:St.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=f),l["-y"]=f}return Mt(this._url,c(l,this.options))},_tileOnLoad:function(s,l){St.ielt9?setTimeout(_(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,f){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),s(f,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,g=this.options.zoomOffset;return f&&(s=l-s),s+g},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=k,l.onerror=k,!l.complete)){l.src=Ct;var f=this._tiles[s].coords;ce(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",Ct),sr.prototype._removeTile.call(this,s)},_tileReady:function(s,l,f){if(!(!this._map||f&&f.getAttribute("src")===Ct))return sr.prototype._tileReady.call(this,s,l,f)}});function Bn(s,l){return new rr(s,l)}var Un=rr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var f=c({},this.defaultWmsParams);for(var g in l)g in this.options||(f[g]=l[g]);l=at(this,l);var w=l.detectRetina&&St.retina?2:1,x=this.getTileSize();f.width=x.x*w,f.height=x.y*w,this.wmsParams=f},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,rr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),f=this._crs,g=ct(f.project(l[0]),f.project(l[1])),w=g.min,x=g.max,P=(this._wmsVersion>=1.3&&this._crs===Zt?[w.y,w.x,x.y,x.x]:[w.x,w.y,x.x,x.y]).join(","),G=rr.prototype.getTileUrl.call(this,s);return G+mt(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(s,l){return c(this.wmsParams,s),l||this.redraw(),this}});function no(s,l){return new Un(s,l)}rr.WMS=Un,Bn.wms=no;var vi=he.extend({options:{padding:.1},initialize:function(s){at(this,s),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var f=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,l),x=g.multiplyBy(-f).add(w).subtract(this._map._getNewPixelOrigin(s,l));St.any3d?gn(this._container,x,f):Lt(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new tt(f,f.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ha=vi.extend({options:{tolerance:0},getEvents:function(){var s=vi.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Rt(s,"mousemove",this._onMouseMove,this),Rt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Rt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,ce(this._container),$t(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vi.prototype._update.call(this);var s=this._bounds,l=this._container,f=s.getSize(),g=St.retina?2:1;Lt(l,s.min),l.width=g*f.x,l.height=g*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",St.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){vi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[b(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,f=l.next,g=l.prev;f?f.prev=g:this._drawLast=g,g?g.next=f:this._drawFirst=f,delete s._order,delete this._layers[b(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),f=[],g,w;for(w=0;w<l.length;w++){if(g=Number(l[w]),isNaN(g))return;f.push(g)}s.options._dashArray=f}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new tt,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)s=g.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var f,g,w,x,P=s._parts,G=P.length,Q=this._ctx;if(G){for(Q.beginPath(),f=0;f<G;f++){for(g=0,w=P[f].length;g<w;g++)x=P[f][g],Q[g?"lineTo":"moveTo"](x.x,x.y);l&&Q.closePath()}this._fillStroke(Q,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,f=this._ctx,g=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||g)/g;w!==1&&(f.save(),f.scale(1,w)),f.beginPath(),f.arc(l.x,l.y/w,g,0,Math.PI*2,!1),w!==1&&f.restore(),this._fillStroke(f,s)}},_fillStroke:function(s,l){var f=l.options;f.fill&&(s.globalAlpha=f.fillOpacity,s.fillStyle=f.fillColor||f.color,s.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=f.opacity,s.lineWidth=f.weight,s.strokeStyle=f.color,s.lineCap=f.lineCap,s.lineJoin=f.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),f,g,w=this._drawFirst;w;w=w.next)f=w.layer,f.options.interactive&&f._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(f))&&(g=f);this._fireEvent(g?[g]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(fe(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var f,g,w=this._drawFirst;w;w=w.next)f=w.layer,f.options.interactive&&f._containsPoint(l)&&(g=f);g!==this._hoveredLayer&&(this._handleMouseOut(s),g&&(Bt(this._container,"leaflet-interactive"),this._fireEvent([g],s,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,f){this._map._fireDOMEvent(l,f||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var f=l.next,g=l.prev;if(f)f.prev=g;else return;g?g.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var f=l.next,g=l.prev;if(g)g.next=f;else return;f?f.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function fa(s){return St.canvas?new ha(s):null}var or=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),io={_initContainer:function(){this._container=qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vi.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=or("shape");Bt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=or("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[b(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;ce(l),s.removeInteractiveTarget(l),delete this._layers[b(s)]},_updateStyle:function(s){var l=s._stroke,f=s._fill,g=s.options,w=s._container;w.stroked=!!g.stroke,w.filled=!!g.fill,g.stroke?(l||(l=s._stroke=or("stroke")),w.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=ft(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(w.removeChild(l),s._stroke=null),g.fill?(f||(f=s._fill=or("fill")),w.appendChild(f),f.color=g.fillColor||g.color,f.opacity=g.fillOpacity):f&&(w.removeChild(f),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),f=Math.round(s._radius),g=Math.round(s._radiusY||f);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+g+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){Oi(s._container)},_bringToBack:function(s){Es(s._container)}},da=St.vml?or:Lr,Rs=vi.extend({_initContainer:function(){this._container=da("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=da("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),$t(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vi.prototype._update.call(this);var s=this._bounds,l=s.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),Lt(f,s.min),f.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=da("path");s.options.className&&Bt(l,s.options.className),s.options.interactive&&Bt(l,"leaflet-interactive"),this._updateStyle(s),this._layers[b(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ce(s._path),s.removeInteractiveTarget(s._path),delete this._layers[b(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,f=s.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Vo(s._parts,l))},_updateCircle:function(s){var l=s._point,f=Math.max(Math.round(s._radius),1),g=Math.max(Math.round(s._radiusY),1)||f,w="a"+f+","+g+" 0 1,0 ",x=s._empty()?"M0 0":"M"+(l.x-f)+","+l.y+w+f*2+",0 "+w+-f*2+",0 ";this._setPath(s,x)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){Oi(s._path)},_bringToBack:function(s){Es(s._path)}});St.vml&&Rs.include(io);function ar(s){return St.svg||St.vml?new Rs(s):null}Ut.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&fa(s)||ar(s)}});var Pc=$r.extend({initialize:function(s,l){$r.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=gt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function jn(s,l){return new Pc(s,l)}Rs.create=da,Rs.pointsToPath=Vo,zn.geometryToLayer=aa,zn.coordsToLatLng=el,zn.coordsToLatLngs=la,zn.latLngToCoords=ua,zn.latLngsToCoords=nl,zn.getFeature=pi,zn.asFeature=to,Ut.mergeOptions({boxZoom:!0});var ol=Nn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$t(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),on(),Js(),this._startPoint=this._map.mouseEventToContainerPoint(s),Rt(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=qt("div","leaflet-zoom-box",this._container),Bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new tt(this._point,this._startPoint),f=l.getSize();Lt(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(ce(this._box),fe(this._container,"leaflet-crosshair")),ci(),ta(),$t(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var l=new lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",ol),Ut.mergeOptions({doubleClickZoom:!0});var zi=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,f=l.getZoom(),g=l.options.zoomDelta,w=s.originalEvent.shiftKey?f-g:f+g;l.options.doubleClickZoom==="center"?l.setZoom(w):l.setZoomAround(s.containerPoint,w)}});Ut.addInitHook("addHandler","doubleClickZoom",zi),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ru=Nn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new mi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=gt(this._map.options.maxBounds);this._offsetLimit=ct(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),f=this._initialWorldOffset,g=this._draggable._newPos.x,w=(g-l+f)%s+l-f,x=(g+l+f)%s-l-f,P=Math.abs(w+f)<Math.abs(x+f)?w:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(s){var l=this._map,f=l.options,g=!f.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),g)l.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,P=f.easeLinearity,G=w.multiplyBy(P/x),Q=G.distanceTo([0,0]),ot=Math.min(f.inertiaMaxSpeed,Q),vt=G.multiplyBy(ot/Q),wt=ot/(f.inertiaDeceleration*P),Tt=vt.multiplyBy(-wt/2).round();!Tt.x&&!Tt.y?l.fire("moveend"):(Tt=l._limitOffset(Tt,l.options.maxBounds),U(function(){l.panBy(Tt,{duration:wt,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});Ut.addInitHook("addHandler","dragging",ru),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ma=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Rt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,f=s.scrollTop||l.scrollTop,g=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},f=this.keyCodes,g,w;for(g=0,w=f.left.length;g<w;g++)l[f.left[g]]=[-1*s,0];for(g=0,w=f.right.length;g<w;g++)l[f.right[g]]=[s,0];for(g=0,w=f.down.length;g<w;g++)l[f.down[g]]=[0,s];for(g=0,w=f.up.length;g<w;g++)l[f.up[g]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},f=this.keyCodes,g,w;for(g=0,w=f.zoomIn.length;g<w;g++)l[f.zoomIn[g]]=s;for(g=0,w=f.zoomOut.length;g<w;g++)l[f.zoomOut[g]]=-s},_addHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,f=this._map,g;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(g=this._panKeys[l],s.shiftKey&&(g=I(g).multiplyBy(3)),f.options.maxBounds&&(g=f._limitOffset(I(g),f.options.maxBounds)),f.options.worldCopyJump){var w=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(g)));f.panTo(w)}else f.panBy(g)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;an(s)}}});Ut.addInitHook("addHandler","keyboard",ma),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Is=Nn.extend({addHooks:function(){Rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$t(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=$s(s),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var g=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),g),an(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),f=this._map.options.zoomSnap||0;s._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,x=f?Math.ceil(w/f)*f:w,P=s._limitZoom(l+(this._delta>0?x:-x))-l;this._delta=0,this._startTime=null,P&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+P):s.setZoomAround(this._lastMousePos,l+P))}});Ut.addInitHook("addHandler","scrollWheelZoom",Is);var ou=600;Ut.mergeOptions({tapHold:St.touchNative&&St.safari&&St.mobile,tapTolerance:15});var al=Nn.extend({addHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$t(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new ut(l.clientX,l.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(Rt(document,"touchend",_e),Rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),ou),Rt(document,"touchend touchcancel contextmenu",this._cancel,this),Rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){$t(document,"touchend",_e),$t(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),$t(document,"touchend touchcancel contextmenu",this._cancel,this),$t(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new ut(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var f=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});Ut.addInitHook("addHandler","tapHold",al),Ut.mergeOptions({touchZoom:St.touch,bounceAtZoomLimits:!0});var lr=Nn.extend({addHooks:function(){Bt(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),$t(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(g)._divideBy(2))),this._startDist=f.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend touchcancel",this._onTouchEnd,this),_e(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]),w=f.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(w,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&w<1||this._zoom>l.getMaxZoom()&&w>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var x=f._add(g)._divideBy(2)._subtract(this._centerPoint);if(w===1&&x.x===0&&x.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var P=_(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(P,this,!0),_e(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),$t(document,"touchmove",this._onTouchMove,this),$t(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ut.addInitHook("addHandler","touchZoom",lr),Ut.BoxZoom=ol,Ut.DoubleClickZoom=zi,Ut.Drag=ru,Ut.Keyboard=ma,Ut.ScrollWheelZoom=Is,Ut.TapHold=al,Ut.TouchZoom=lr,i.Bounds=tt,i.Browser=St,i.CRS=pe,i.Canvas=ha,i.Circle=nu,i.CircleMarker=oa,i.Class=we,i.Control=Je,i.DivIcon=su,i.DivOverlay=_i,i.DomEvent=Xa,i.DomUtil=ea,i.Draggable=mi,i.Evented=pt,i.FeatureGroup=Ye,i.GeoJSON=zn,i.GridLayer=sr,i.Handler=Nn,i.Icon=Xr,i.ImageOverlay=Pi,i.LatLng=yt,i.LatLngBounds=lt,i.Layer=he,i.LayerGroup=Rn,i.LineUtil=Z,i.Map=Ut,i.Marker=Jr,i.Mixin=er,i.Path=ns,i.Point=ut,i.PolyUtil=Yr,i.Polygon=$r,i.Polyline=is,i.Popup=ca,i.PosAnimation=tr,i.Projection=re,i.Rectangle=Pc,i.Renderer=vi,i.SVG=Rs,i.SVGOverlay=Ns,i.TileLayer=rr,i.Tooltip=rl,i.Transformation=si,i.Util=B,i.VideoOverlay=sl,i.bind=_,i.bounds=ct,i.canvas=fa,i.circle=Of,i.circleMarker=Mc,i.control=ln,i.divIcon=Dc,i.extend=c,i.featureGroup=es,i.geoJSON=il,i.geoJson=Oc,i.gridLayer=gi,i.icon=tl,i.imageOverlay=eo,i.latLng=_t,i.latLngBounds=gt,i.layerGroup=In,i.map=ki,i.marker=eu,i.point=I,i.polygon=Pn,i.polyline=Lf,i.popup=kf,i.rectangle=jn,i.setOptions=at,i.stamp=b,i.svg=ar,i.svgOverlay=kc,i.tileLayer=Bn,i.tooltip=Df,i.transformation=ri,i.version=a,i.videoOverlay=Lc;var so=window.L;i.noConflict=function(){return window.L=so,this},window.L=i}))})(Wu,Wu.exports)),Wu.exports}var Mf=BR();const UR=A0(Mf);function $w(r,t,i){return Object.freeze({instance:r,context:t,container:i})}function tb(r,t){return t==null?function(a,c){const m=bt.useRef(void 0);return m.current||(m.current=r(a,c)),m}:function(a,c){const m=bt.useRef(void 0);m.current||(m.current=r(a,c));const _=bt.useRef(a),{instance:y}=m.current;return bt.useEffect(function(){_.current!==a&&(t(y,a,_.current),_.current=a)},[y,a,t]),m}}function jR(r,t){bt.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function eb(r){return function(i){const a=Qw(),c=r(Jw(i,a),a);return IR(a.map,i.attribution),PR(c.current,i.eventHandlers),jR(c.current,a),c}}function HR(r,t){const i=tb(r,t),a=eb(i);return kR(a)}function VR(r,t){const i=tb(r,t),a=eb(i);return DR(a)}function qR(r,t,i){const{opacity:a,zIndex:c}=t;a!=null&&a!==i.opacity&&r.setOpacity(a),c!=null&&c!==i.zIndex&&r.setZIndex(c)}function FR(){return Qw().map}function GR(r){const t=FR();return bt.useEffect(function(){return t.on(r),function(){t.off(r)}},[t,r]),t}function ZR({bounds:r,boundsOptions:t,center:i,children:a,className:c,id:m,placeholder:_,style:y,whenReady:b,zoom:T,...R},k){const[D]=bt.useState({className:c,id:m,style:y}),[nt,et]=bt.useState(null),at=bt.useRef(void 0);bt.useImperativeHandle(k,()=>nt?.map??null,[nt]);const mt=bt.useCallback(Mt=>{if(Mt!==null&&!at.current){const ft=new Mf.Map(Mt,R);at.current=ft,i!=null&&T!=null?ft.setView(i,T):r!=null&&ft.fitBounds(r,t),b!=null&&ft.whenReady(b),et(OR(ft))}},[]);bt.useEffect(()=>()=>{nt?.map.remove()},[nt]);const Nt=nt?Im.createElement(e_,{value:nt},a):_??null;return Im.createElement("div",{...D,ref:mt},Nt)}const YR=bt.forwardRef(ZR),WR=HR(function({position:t,...i},a){const c=new Mf.Marker(t,i);return $w(c,LR(a,{overlayContainer:c}))},function(t,i,a){i.position!==a.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==a.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==a.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==a.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),KR=VR(function({url:t,...i},a){const c=new Mf.TileLayer(t,Jw(i,a));return $w(c,a)},function(t,i,a){qR(t,i,a);const{url:c}=i;c!=null&&c!==a.url&&t.setUrl(c)}),XR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",QR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",JR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";UR.Icon.Default.mergeOptions({iconRetinaUrl:XR,iconUrl:QR,shadowUrl:JR});function $R({position:r,setPosition:t}){return GR({click(i){t([i.latlng.lat,i.latlng.lng])}}),r?C.jsx(WR,{position:r}):null}function tI({userData:r,onLogout:t,onGoToDashboard:i,onGoToMenu:a,onGoToNotifications:c,onGoToProfile:m,onBack:_,onGoToPost:y}){const[b,T]=bt.useState(null),[R,k]=bt.useState(""),[D,nt]=bt.useState(""),[et,at]=bt.useState(""),[mt,Nt]=bt.useState(""),[Mt,ft]=bt.useState(""),[xt,Ct]=bt.useState(null),Vt=O=>{const H=O.target.files[0];H&&T(URL.createObjectURL(H))},V=()=>{navigator.geolocation.getCurrentPosition(O=>{const{latitude:H,longitude:U}=O.coords;Ct([H,U])},O=>{console.error("Error getting location: ",O)})},M=O=>{O.preventDefault(),console.log("Data to save:",{image:b,foodName:R,description:D,productionDate:et,expiryDate:mt,category:Mt,location:xt}),alert("Post created! (ดูข้อมูลใน console.log)")};return C.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[C.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("img",{src:Fa,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),C.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),C.jsx("div",{className:"flex items-center space-x-4",children:C.jsx("img",{src:Gl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:m})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[C.jsxs("button",{onClick:_,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),C.jsx("span",{className:"text-lg font-semibold",children:"Post"})]}),C.jsxs("label",{className:"block w-full h-40 border-2 border-dashed rounded-xl flex items-center justify-center cursor-pointer bg-gray-100 hover:bg-[#2e2eff10] transition-colors duration-300",children:[b?C.jsx("img",{src:b,alt:"preview",className:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-300"}):C.jsx("span",{className:"text-gray-500 font-bold",children:"ADD IMAGE"}),C.jsx("input",{type:"file",className:"hidden",onChange:Vt})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Food Name"}),C.jsx("input",{type:"text",placeholder:"ใส่ชื่ออาหาร...",value:R,onChange:O=>k(O.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description"}),C.jsx("textarea",{placeholder:"รายละเอียดเพิ่มเติม...",value:D,onChange:O=>nt(O.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Production Date"}),C.jsx("input",{type:"date",value:et,onChange:O=>at(O.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Expiration Date"}),C.jsx("input",{type:"date",value:mt,onChange:O=>Nt(O.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Categories"}),C.jsxs("select",{value:Mt,onChange:O=>ft(O.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",children:[C.jsx("option",{value:"",children:"เลือกประเภท"}),C.jsx("option",{value:"rice",children:"ข้าว"}),C.jsx("option",{value:"fruit",children:"ผลไม้"}),C.jsx("option",{value:"drink",children:"เครื่องดื่ม"}),C.jsx("option",{value:"snack",children:"ขนมขบเคี้ยว"})]})]}),C.jsxs(YR,{center:[13.736717,100.523186],zoom:13,style:{height:"300px",width:"100%",borderRadius:"12px"},className:"transition-shadow duration-300 hover:shadow-lg",children:[C.jsx(KR,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://www.openstreetmap.org/">OSM</a>',subdomains:"abcd"}),C.jsx($R,{position:xt,setPosition:Ct})]}),C.jsx("div",{className:"flex justify-center mt-3",children:C.jsx("button",{onClick:V,className:"px-4 py-2 border border-[#2e2eff] text-[#2e2eff] rounded-lg hover:bg-[#2e2eff] hover:text-white transition duration-300",children:"Use Current Location"})}),C.jsx("button",{onClick:M,className:"w-full bg-[#2e2eff] text-white py-3 rounded-lg font-bold hover:bg-[#1d1dcc] transition duration-300 transform hover:scale-105",children:"POST"}),C.jsxs("div",{className:"hidden md:block",children:[C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{}),C.jsx("br",{})]}),C.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-[1000] max-w-3xl mx-auto w-full",children:[C.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:C.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:y,children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),C.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>_("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>a()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>c()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>m()}].map((O,H)=>O.empty?C.jsx("div",{className:"w-16"},H):C.jsxs("button",{onClick:O.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${O.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{d:O.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),C.jsx("span",{className:"text-xs md:text-sm mt-1",children:O.name})]},H))})]})]})]})}function eI(){const[r,t]=bt.useState("welcome"),[i,a]=bt.useState(null),[c,m]=bt.useState(!1);bt.useEffect(()=>{const y=hx(Cr,b=>{b?(a({email:b.email,uid:b.uid}),t("home")):(a(null),t("welcome"))});return()=>y()},[]);const _=()=>{a(null),t("login")};if(!c)return C.jsx(dR,{onFinish:()=>m(!0)});switch(r){case"welcome":return C.jsx(pR,{onLoginClick:()=>t("login"),onRegisterClick:()=>t("signup")});case"login":return C.jsx(mR,{onLoginSuccess:y=>{a(y),t("home")},onSignUpClick:()=>t("signup"),onForgotPasswordClick:()=>t("forgot")});case"signup":return C.jsx(_R,{onBackToLogin:()=>t("login"),onSignUp:()=>{alert("Sign Up Success! Please log in."),t("login")}});case"forgot":return C.jsx(gR,{onBackToLogin:()=>t("login")});case"dashboard":return C.jsx(vR,{userData:i,setCurrentPage:t});case"home":return C.jsx(TR,{userData:i,onGoToDashboard:()=>t("dashboard"),onGoToMenu:()=>t("menu"),onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post")});case"menu":return C.jsx(AR,{userData:i,onBack:()=>t("home"),onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications")});case"post":return C.jsx(tI,{userData:i,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToNotifications:()=>t("notifications"),onGoToProfile:()=>t("profile")});case"notifications":return C.jsx(NR,{userData:i,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToProfile:()=>t("profile")});case"profile":return C.jsx(RR,{userData:i,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToNotifications:()=>t("notifications"),onLogout:_});default:return C.jsx("div",{children:"Loading..."})}}SE.createRoot(document.getElementById("root")).render(C.jsx(bt.StrictMode,{children:C.jsx(eI,{})}));
