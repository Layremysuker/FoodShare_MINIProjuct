(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function u1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var km={exports:{}},Ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function gE(){if(vy)return Ku;vy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(o,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:s,type:o,key:m,ref:l!==void 0?l:null,props:h}}return Ku.Fragment=t,Ku.jsx=n,Ku.jsxs=n,Ku}var yy;function _E(){return yy||(yy=1,km.exports=gE()),km.exports}var M=_E(),Dm={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function vE(){if(wy)return Yt;wy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=T&&B[T]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,G={};function Z(B,nt,lt){this.props=B,this.context=nt,this.refs=G,this.updater=lt||I}Z.prototype.isReactComponent={},Z.prototype.setState=function(B,nt){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,nt,"setState")},Z.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function W(){}W.prototype=Z.prototype;function pt(B,nt,lt){this.props=B,this.context=nt,this.refs=G,this.updater=lt||I}var et=pt.prototype=new W;et.constructor=pt,P(et,Z.prototype),et.isPureReactComponent=!0;var Q=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function q(B,nt,lt,ht,dt,it){return lt=it.ref,{$$typeof:s,type:B,key:nt,ref:lt!==void 0?lt:null,props:it}}function A(B,nt){return q(B.type,nt,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===s}function z(B){var nt={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(lt){return nt[lt]})}var j=/\/+/g;function D(B,nt){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):nt.toString(36)}function O(){}function J(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(O,O):(B.status="pending",B.then(function(nt){B.status==="pending"&&(B.status="fulfilled",B.value=nt)},function(nt){B.status==="pending"&&(B.status="rejected",B.reason=nt)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function at(B,nt,lt,ht,dt){var it=typeof B;(it==="undefined"||it==="boolean")&&(B=null);var wt=!1;if(B===null)wt=!0;else switch(it){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(B.$$typeof){case s:case t:wt=!0;break;case E:return wt=B._init,at(wt(B._payload),nt,lt,ht,dt)}}if(wt)return dt=dt(B),wt=ht===""?"."+D(B,0):ht,Q(dt)?(lt="",wt!=null&&(lt=wt.replace(j,"$&/")+"/"),at(dt,nt,lt,"",function(Gt){return Gt})):dt!=null&&(C(dt)&&(dt=A(dt,lt+(dt.key==null||B&&B.key===dt.key?"":(""+dt.key).replace(j,"$&/")+"/")+wt)),nt.push(dt)),1;wt=0;var Dt=ht===""?".":ht+":";if(Q(B))for(var Mt=0;Mt<B.length;Mt++)ht=B[Mt],it=Dt+D(ht,Mt),wt+=at(ht,nt,lt,it,dt);else if(Mt=x(B),typeof Mt=="function")for(B=Mt.call(B),Mt=0;!(ht=B.next()).done;)ht=ht.value,it=Dt+D(ht,Mt++),wt+=at(ht,nt,lt,it,dt);else if(it==="object"){if(typeof B.then=="function")return at(J(B),nt,lt,ht,dt);throw nt=String(B),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function k(B,nt,lt){if(B==null)return B;var ht=[],dt=0;return at(B,ht,"","",function(it){return nt.call(lt,it,dt++)}),ht}function H(B){if(B._status===-1){var nt=B._result;nt=nt(),nt.then(function(lt){(B._status===0||B._status===-1)&&(B._status=1,B._result=lt)},function(lt){(B._status===0||B._status===-1)&&(B._status=2,B._result=lt)}),B._status===-1&&(B._status=0,B._result=nt)}if(B._status===1)return B._result.default;throw B._result}var $=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function rt(){}return Yt.Children={map:k,forEach:function(B,nt,lt){k(B,function(){nt.apply(this,arguments)},lt)},count:function(B){var nt=0;return k(B,function(){nt++}),nt},toArray:function(B){return k(B,function(nt){return nt})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Yt.Component=Z,Yt.Fragment=n,Yt.Profiler=l,Yt.PureComponent=pt,Yt.StrictMode=o,Yt.Suspense=y,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return ot.H.useMemoCache(B)}},Yt.cache=function(B){return function(){return B.apply(null,arguments)}},Yt.cloneElement=function(B,nt,lt){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ht=P({},B.props),dt=B.key,it=void 0;if(nt!=null)for(wt in nt.ref!==void 0&&(it=void 0),nt.key!==void 0&&(dt=""+nt.key),nt)!Y.call(nt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&nt.ref===void 0||(ht[wt]=nt[wt]);var wt=arguments.length-2;if(wt===1)ht.children=lt;else if(1<wt){for(var Dt=Array(wt),Mt=0;Mt<wt;Mt++)Dt[Mt]=arguments[Mt+2];ht.children=Dt}return q(B.type,dt,void 0,void 0,it,ht)},Yt.createContext=function(B){return B={$$typeof:m,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:h,_context:B},B},Yt.createElement=function(B,nt,lt){var ht,dt={},it=null;if(nt!=null)for(ht in nt.key!==void 0&&(it=""+nt.key),nt)Y.call(nt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(dt[ht]=nt[ht]);var wt=arguments.length-2;if(wt===1)dt.children=lt;else if(1<wt){for(var Dt=Array(wt),Mt=0;Mt<wt;Mt++)Dt[Mt]=arguments[Mt+2];dt.children=Dt}if(B&&B.defaultProps)for(ht in wt=B.defaultProps,wt)dt[ht]===void 0&&(dt[ht]=wt[ht]);return q(B,it,void 0,void 0,null,dt)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(B){return{$$typeof:g,render:B}},Yt.isValidElement=C,Yt.lazy=function(B){return{$$typeof:E,_payload:{_status:-1,_result:B},_init:H}},Yt.memo=function(B,nt){return{$$typeof:w,type:B,compare:nt===void 0?null:nt}},Yt.startTransition=function(B){var nt=ot.T,lt={};ot.T=lt;try{var ht=B(),dt=ot.S;dt!==null&&dt(lt,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(rt,$)}catch(it){$(it)}finally{ot.T=nt}},Yt.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},Yt.use=function(B){return ot.H.use(B)},Yt.useActionState=function(B,nt,lt){return ot.H.useActionState(B,nt,lt)},Yt.useCallback=function(B,nt){return ot.H.useCallback(B,nt)},Yt.useContext=function(B){return ot.H.useContext(B)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(B,nt){return ot.H.useDeferredValue(B,nt)},Yt.useEffect=function(B,nt,lt){var ht=ot.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ht.useEffect(B,nt)},Yt.useId=function(){return ot.H.useId()},Yt.useImperativeHandle=function(B,nt,lt){return ot.H.useImperativeHandle(B,nt,lt)},Yt.useInsertionEffect=function(B,nt){return ot.H.useInsertionEffect(B,nt)},Yt.useLayoutEffect=function(B,nt){return ot.H.useLayoutEffect(B,nt)},Yt.useMemo=function(B,nt){return ot.H.useMemo(B,nt)},Yt.useOptimistic=function(B,nt){return ot.H.useOptimistic(B,nt)},Yt.useReducer=function(B,nt,lt){return ot.H.useReducer(B,nt,lt)},Yt.useRef=function(B){return ot.H.useRef(B)},Yt.useState=function(B){return ot.H.useState(B)},Yt.useSyncExternalStore=function(B,nt,lt){return ot.H.useSyncExternalStore(B,nt,lt)},Yt.useTransition=function(){return ot.H.useTransition()},Yt.version="19.1.1",Yt}var by;function Cp(){return by||(by=1,Dm.exports=vE()),Dm.exports}var Nt=Cp();const sp=u1(Nt);var Pm={exports:{}},Xu={},Um={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function yE(){return Ey||(Ey=1,(function(s){function t(k,H){var $=k.length;k.push(H);t:for(;0<$;){var rt=$-1>>>1,B=k[rt];if(0<l(B,H))k[rt]=H,k[$]=B,$=rt;else break t}}function n(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var H=k[0],$=k.pop();if($!==H){k[0]=$;t:for(var rt=0,B=k.length,nt=B>>>1;rt<nt;){var lt=2*(rt+1)-1,ht=k[lt],dt=lt+1,it=k[dt];if(0>l(ht,$))dt<B&&0>l(it,ht)?(k[rt]=it,k[dt]=$,rt=dt):(k[rt]=ht,k[lt]=$,rt=lt);else if(dt<B&&0>l(it,$))k[rt]=it,k[dt]=$,rt=dt;else break t}}return H}function l(k,H){var $=k.sortIndex-H.sortIndex;return $!==0?$:k.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,g=m.now();s.unstable_now=function(){return m.now()-g}}var y=[],w=[],E=1,T=null,x=3,I=!1,P=!1,G=!1,Z=!1,W=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function Q(k){for(var H=n(w);H!==null;){if(H.callback===null)o(w);else if(H.startTime<=k)o(w),H.sortIndex=H.expirationTime,t(y,H);else break;H=n(w)}}function ot(k){if(G=!1,Q(k),!P)if(n(y)!==null)P=!0,Y||(Y=!0,D());else{var H=n(w);H!==null&&at(ot,H.startTime-k)}}var Y=!1,q=-1,A=5,C=-1;function z(){return Z?!0:!(s.unstable_now()-C<A)}function j(){if(Z=!1,Y){var k=s.unstable_now();C=k;var H=!0;try{t:{P=!1,G&&(G=!1,pt(q),q=-1),I=!0;var $=x;try{e:{for(Q(k),T=n(y);T!==null&&!(T.expirationTime>k&&z());){var rt=T.callback;if(typeof rt=="function"){T.callback=null,x=T.priorityLevel;var B=rt(T.expirationTime<=k);if(k=s.unstable_now(),typeof B=="function"){T.callback=B,Q(k),H=!0;break e}T===n(y)&&o(y),Q(k)}else o(y);T=n(y)}if(T!==null)H=!0;else{var nt=n(w);nt!==null&&at(ot,nt.startTime-k),H=!1}}break t}finally{T=null,x=$,I=!1}H=void 0}}finally{H?D():Y=!1}}}var D;if(typeof et=="function")D=function(){et(j)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,J=O.port2;O.port1.onmessage=j,D=function(){J.postMessage(null)}}else D=function(){W(j,0)};function at(k,H){q=W(function(){k(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(k){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var $=x;x=H;try{return k()}finally{x=$}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=x;x=k;try{return H()}finally{x=$}},s.unstable_scheduleCallback=function(k,H,$){var rt=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?rt+$:rt):$=rt,k){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=$+B,k={id:E++,callback:H,priorityLevel:k,startTime:$,expirationTime:B,sortIndex:-1},$>rt?(k.sortIndex=$,t(w,k),n(y)===null&&k===n(w)&&(G?(pt(q),q=-1):G=!0,at(ot,$-rt))):(k.sortIndex=B,t(y,k),P||I||(P=!0,Y||(Y=!0,D()))),k},s.unstable_shouldYield=z,s.unstable_wrapCallback=function(k){var H=x;return function(){var $=x;x=H;try{return k.apply(this,arguments)}finally{x=$}}}})(zm)),zm}var xy;function wE(){return xy||(xy=1,Um.exports=yE()),Um.exports}var jm={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function bE(){if(Ty)return oi;Ty=1;var s=Cp();function t(y){var w="https://react.dev/errors/"+y;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)w+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,w,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:y,containerInfo:w,implementation:E}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,w){if(y==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,oi.createPortal=function(y,w){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(t(299));return h(y,w,null,E)},oi.flushSync=function(y){var w=m.T,E=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=w,o.p=E,o.d.f()}},oi.preconnect=function(y,w){typeof y=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,o.d.C(y,w))},oi.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},oi.preinit=function(y,w){if(typeof y=="string"&&w&&typeof w.as=="string"){var E=w.as,T=g(E,w.crossOrigin),x=typeof w.integrity=="string"?w.integrity:void 0,I=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;E==="style"?o.d.S(y,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:I}):E==="script"&&o.d.X(y,{crossOrigin:T,integrity:x,fetchPriority:I,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},oi.preinitModule=function(y,w){if(typeof y=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var E=g(w.as,w.crossOrigin);o.d.M(y,{crossOrigin:E,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&o.d.M(y)},oi.preload=function(y,w){if(typeof y=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var E=w.as,T=g(E,w.crossOrigin);o.d.L(y,E,{crossOrigin:T,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},oi.preloadModule=function(y,w){if(typeof y=="string")if(w){var E=g(w.as,w.crossOrigin);o.d.m(y,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:E,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else o.d.m(y)},oi.requestFormReset=function(y){o.d.r(y)},oi.unstable_batchedUpdates=function(y,w){return y(w)},oi.useFormState=function(y,w,E){return m.H.useFormState(y,w,E)},oi.useFormStatus=function(){return m.H.useHostTransitionStatus()},oi.version="19.1.1",oi}var Sy;function c1(){if(Sy)return jm.exports;Sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jm.exports=bE(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function EE(){if(Ay)return Xu;Ay=1;var s=wE(),t=Cp(),n=c1();function o(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(o(188))}function y(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(o(188));return i!==e?null:e}for(var a=e,c=i;;){var p=a.return;if(p===null)break;var _=p.alternate;if(_===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===a)return g(p),e;if(_===c)return g(p),i;_=_.sibling}throw Error(o(188))}if(a.return!==c.return)a=p,c=_;else{for(var R=!1,F=p.child;F;){if(F===a){R=!0,a=p,c=_;break}if(F===c){R=!0,c=p,a=_;break}F=F.sibling}if(!R){for(F=_.child;F;){if(F===a){R=!0,a=_,c=p;break}if(F===c){R=!0,c=_,a=p;break}F=F.sibling}if(!R)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:i}function w(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=w(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),et=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case Z:return"Profiler";case G:return"StrictMode";case ot:return"Suspense";case Y:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case et:return(e.displayName||"Context")+".Provider";case pt:return(e._context.displayName||"Context")+".Consumer";case Q:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return i=e.displayName||null,i!==null?i:J(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return J(e(i))}catch{}}return null}var at=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},rt=[],B=-1;function nt(e){return{current:e}}function lt(e){0>B||(e.current=rt[B],rt[B]=null,B--)}function ht(e,i){B++,rt[B]=e.current,e.current=i}var dt=nt(null),it=nt(null),wt=nt(null),Dt=nt(null);function Mt(e,i){switch(ht(wt,i),ht(it,e),ht(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Zv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Zv(i),e=Wv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(dt),ht(dt,e)}function Gt(){lt(dt),lt(it),lt(wt)}function Xt(e){e.memoizedState!==null&&ht(Dt,e);var i=dt.current,a=Wv(i,e.type);i!==a&&(ht(it,e),ht(dt,a))}function oe(e){it.current===e&&(lt(dt),lt(it)),Dt.current===e&&(lt(Dt),qu._currentValue=$)}var me=Object.prototype.hasOwnProperty,En=s.unstable_scheduleCallback,fn=s.unstable_cancelCallback,be=s.unstable_shouldYield,We=s.unstable_requestPaint,Zt=s.unstable_now,le=s.unstable_getCurrentPriorityLevel,Ve=s.unstable_ImmediatePriority,qe=s.unstable_UserBlockingPriority,_e=s.unstable_NormalPriority,dn=s.unstable_LowPriority,Te=s.unstable_IdlePriority,pe=s.log,mn=s.unstable_setDisableYieldValue,ae=null,ee=null;function ge(e){if(typeof pe=="function"&&mn(e),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(ae,e)}catch{}}var Pe=Math.clz32?Math.clz32:tn,Xe=Math.log,Rn=Math.LN2;function tn(e){return e>>>=0,e===0?32:31-(Xe(e)/Rn|0)|0}var pn=256,en=4194304;function nn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ji(e,i,a){var c=e.pendingLanes;if(c===0)return 0;var p=0,_=e.suspendedLanes,R=e.pingedLanes;e=e.warmLanes;var F=c&134217727;return F!==0?(c=F&~_,c!==0?p=nn(c):(R&=F,R!==0?p=nn(R):a||(a=F&~e,a!==0&&(p=nn(a))))):(F=c&~_,F!==0?p=nn(F):R!==0?p=nn(R):a||(a=c&~e,a!==0&&(p=nn(a)))),p===0?0:i!==0&&i!==p&&(i&_)===0&&(_=p&-p,a=i&-i,_>=a||_===32&&(a&4194048)!==0)?i:p}function ui(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function _s(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var e=pn;return pn<<=1,(pn&4194048)===0&&(pn=256),e}function Li(){var e=en;return en<<=1,(en&62914560)===0&&(en=4194304),e}function bi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function an(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qn(e,i,a,c,p,_){var R=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var F=e.entanglements,X=e.expirationTimes,mt=e.hiddenUpdates;for(a=R&~a;0<a;){var bt=31-Pe(a),xt=1<<bt;F[bt]=0,X[bt]=-1;var gt=mt[bt];if(gt!==null)for(mt[bt]=null,bt=0;bt<gt.length;bt++){var _t=gt[bt];_t!==null&&(_t.lane&=-536870913)}a&=~xt}c!==0&&In(e,c,0),_!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=_&~(R&~i))}function In(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Pe(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function ki(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var c=31-Pe(a),p=1<<c;p&i|e[c]&i&&(e[c]|=i),a&=~p}}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mn(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:fy(e.type))}function so(e,i){var a=H.p;try{return H.p=e,i()}finally{H.p=a}}var Ue=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ue,sn="__reactProps$"+Ue,Ei="__reactContainer$"+Ue,$n="__reactEvents$"+Ue,Lt="__reactListeners$"+Ue,vs="__reactHandles$"+Ue,fa="__reactResources$"+Ue,qs="__reactMarker$"+Ue;function Gs(e){delete e[ln],delete e[sn],delete e[$n],delete e[Lt],delete e[vs]}function ts(e){var i=e[ln];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ei]||a[ln]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Qv(e);e!==null;){if(a=e[ln])return a;e=Qv(e)}return i}e=a,a=e.parentNode}return null}function Di(e){if(e=e[ln]||e[Ei]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Vn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(o(33))}function On(e){var i=e[fa];return i||(i=e[fa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qe(e){e[qs]=!0}var da=new Set,ro={};function Pi(e,i){es(e,i),es(e+"Capture",i)}function es(e,i){for(ro[e]=i,e=0;e<i.length;e++)da.add(i[e])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vr={},yr={};function rl(e){return me.call(yr,e)?!0:me.call(vr,e)?!1:sl.test(e)?yr[e]=!0:(vr[e]=!0,!1)}function Zs(e,i,a){if(rl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ns(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function xn(e,i,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+c)}}var ys,Ws;function is(e){if(ys===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ys=i&&i[1]||"",Ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+e+Ws}var wr=!1;function ss(e,i){if(!e||wr)return"";wr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(_t){var gt=_t}Reflect.construct(e,[],xt)}else{try{xt.call()}catch(_t){gt=_t}e.call(xt.prototype)}}else{try{throw Error()}catch(_t){gt=_t}(xt=e())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(_t){if(_t&&gt&&typeof _t.stack=="string")return[_t.stack,gt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),R=_[0],F=_[1];if(R&&F){var X=R.split(`
`),mt=F.split(`
`);for(p=c=0;c<X.length&&!X[c].includes("DetermineComponentFrameRoot");)c++;for(;p<mt.length&&!mt[p].includes("DetermineComponentFrameRoot");)p++;if(c===X.length||p===mt.length)for(c=X.length-1,p=mt.length-1;1<=c&&0<=p&&X[c]!==mt[p];)p--;for(;1<=c&&0<=p;c--,p--)if(X[c]!==mt[p]){if(c!==1||p!==1)do if(c--,p--,0>p||X[c]!==mt[p]){var bt=`
`+X[c].replace(" at new "," at ");return e.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",e.displayName)),bt}while(1<=c&&0<=p);break}}}finally{wr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?is(a):""}function Qt(e){switch(e.tag){case 26:case 27:case 5:return is(e.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return ss(e.type,!1);case 11:return ss(e.type.render,!1);case 1:return ss(e.type,!0);case 31:return is("Activity");default:return""}}function Se(e){try{var i="";do i+=Qt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ys(e){var i=rs(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,_=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(R){c=""+R,_.call(this,R)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ks(e){e._valueTracker||(e._valueTracker=Ys(e))}function qt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return e&&(c=rs(e)?e.checked?"true":"false":e.value),e=c,e!==a?(i.setValue(e),!0):!1}function Ce(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ma=/[\n"\\]/g;function Ge(e){return e.replace(ma,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ze(e,i,a,c,p,_,R,F){e.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.type=R:e.removeAttribute("type"),i!=null?R==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+gn(i)):e.value!==""+gn(i)&&(e.value=""+gn(i)):R!=="submit"&&R!=="reset"||e.removeAttribute("value"),i!=null?Ui(e,R,gn(i)):a!=null?Ui(e,R,gn(a)):c!=null&&e.removeAttribute("value"),p==null&&_!=null&&(e.defaultChecked=!!_),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?e.name=""+gn(F):e.removeAttribute("name")}function br(e,i,a,c,p,_,R,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||i!=null))return;a=a!=null?""+gn(a):"",i=i!=null?""+gn(i):a,F||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=F?e.checked:!!c,e.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(e.name=R)}function Ui(e,i,a){i==="number"&&Ce(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function qn(e,i,a,c){if(e=e.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=i.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&c&&(e[a].defaultSelected=!0)}else{for(a=""+gn(a),i=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function jt(e,i,a){if(i!=null&&(i=""+gn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+gn(a):""}function ci(e,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(o(92));if(at(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=gn(i),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function Ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oo(e,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,a):typeof a!="number"||a===0||zi.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ws(e,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&a[p]!==c&&oo(e,p,c)}else for(var _ in i)i.hasOwnProperty(_)&&oo(e,_,i[_])}function Er(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ao=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return ao.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ji=null;function Gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,Bi=null;function ga(e){var i=Di(e);if(i&&(e=i.stateNode)){var a=e[sn]||null;t:switch(e=i.stateNode,i.type){case"input":if(ze(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ge(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==e&&c.form===e.form){var p=c[sn]||null;if(!p)throw Error(o(90));ze(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===e.form&&qt(c)}break t;case"textarea":jt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&qn(e,!!a.multiple,i,!1)}}}var Pt=!1;function hi(e,i,a){if(Pt)return e(i,a);Pt=!0;try{var c=e(i);return c}finally{if(Pt=!1,(os!==null||Bi!==null)&&(xh(),os&&(i=os,e=Bi,Bi=os=null,ga(i),e)))for(i=0;i<e.length;i++)ga(e[i])}}function ue(e,i){var a=e.stateNode;if(a===null)return null;var c=a[sn]||null;if(c===null)return null;a=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ti=!1;if(xi)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){ti=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{ti=!1}var Ti=null,ei=null,Hi=null;function Es(){if(Hi)return Hi;var e,i=ei,a=i.length,c,p="value"in Ti?Ti.value:Ti.textContent,_=p.length;for(e=0;e<a&&i[e]===p[e];e++);var R=a-e;for(c=1;c<=R&&i[a-c]===p[_-c];c++);return Hi=p.slice(e,1<c?1-c:void 0)}function Ie(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function kn(){return!0}function lo(){return!1}function un(e){function i(a,c,p,_,R){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var F in e)e.hasOwnProperty(F)&&(a=e[F],this[F]=a?a(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?kn:lo,this.isPropagationStopped=lo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),i}var Ee={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=un(Ee),xs=E({},Ee,{view:0,detail:0}),ol=un(xs),Tr,Wt,as,Tn=E({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(Tr=e.screenX-as.screenX,Wt=e.screenY-as.screenY):Wt=Tr=0,as=e),Tr)},movementY:function(e){return"movementY"in e?e.movementY:Wt}}),Dn=un(Tn),_a=E({},Tn,{dataTransfer:0}),au=un(_a),Ts=E({},xs,{relatedTarget:0}),uo=un(Ts),co=E({},Ee,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=un(co),al=E({},Ee,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qs=un(al),lu=E({},Ee,{data:0}),ni=un(lu),Sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},va={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Fi[e])?!!i[e]:!1}function Js(){return fo}var mo=E({},xs,{key:function(e){if(e.key){var i=Sr[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ie(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?va[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(e){return e.type==="keypress"?Ie(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ie(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),po=un(mo),ya=E({},Tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),go=un(ya),Ss=E({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),ll=un(Ss),_o=E({},Ee,{propertyName:0,elapsedTime:0,pseudoElement:0}),ul=un(_o),wa=E({},Tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zn=un(wa),Ar=E({},Ee,{newState:0,oldState:0}),ls=un(Ar),$s=[9,13,27,32],f=xi&&"CompositionEvent"in window,b=null;xi&&"documentMode"in document&&(b=document.documentMode);var N=xi&&"TextEvent"in window&&!b,V=xi&&(!f||b&&8<b&&11>=b),ct=" ",yt=!1;function St(e,i){switch(e){case"keyup":return $s.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var je=!1;function ne(e,i){switch(e){case"compositionend":return ve(i);case"keypress":return i.which!==32?null:(yt=!0,ct);case"textInput":return e=i.data,e===ct&&yt?null:e;default:return null}}function _n(e,i){if(je)return e==="compositionend"||!f&&St(e,i)?(e=Es(),Hi=ei=Ti=null,je=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return V&&i.locale!=="ko"?null:i.data;default:return null}}var Ae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ii(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ae[e.type]:i==="textarea"}function si(e,i,a,c){os?Bi?Bi.push(c):Bi=[c]:os=c,i=Rh(i,"onChange"),0<i.length&&(a=new xr("onChange","change",null,a,c),e.push({event:a,listeners:i}))}var vn=null,As=null;function vo(e){Hv(e,0)}function cl(e){var i=Vn(e);if(qt(i))return e}function yo(e,i){if(e==="change")return i}var uu=!1;if(xi){var wo;if(xi){var cu="oninput"in document;if(!cu){var Cs=document.createElement("div");Cs.setAttribute("oninput","return;"),cu=typeof Cs.oninput=="function"}wo=cu}else wo=!1;uu=wo&&(!document.documentMode||9<document.documentMode)}function ba(){vn&&(vn.detachEvent("onpropertychange",Fc),As=vn=null)}function Fc(e){if(e.propertyName==="value"&&cl(As)){var i=[];si(i,As,e,Gn(e)),hi(vo,i)}}function hu(e,i,a){e==="focusin"?(ba(),vn=i,As=a,vn.attachEvent("onpropertychange",Fc)):e==="focusout"&&ba()}function sd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(As)}function Ns(e,i){if(e==="click")return cl(i)}function rd(e,i){if(e==="input"||e==="change")return cl(i)}function bo(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var fi=typeof Object.is=="function"?Object.is:bo;function di(e,i){if(fi(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!me.call(i,p)||!fi(e[p],i[p]))return!1}return!0}function Ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fu(e,i){var a=Ea(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=i&&c>=i)return{node:a,offset:i-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ea(a)}}function hl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?hl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function xa(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ce(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ce(e.document)}return i}function Ta(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var fl=xi&&"documentMode"in document&&11>=document.documentMode,Vi=null,Eo=null,Cr=null,dl=!1;function Vc(e,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dl||Vi==null||Vi!==Ce(c)||(c=Vi,"selectionStart"in c&&Ta(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Cr&&di(Cr,c)||(Cr=c,c=Rh(Eo,"onSelect"),0<c.length&&(i=new xr("onSelect","select",null,i,a),e.push({event:i,listeners:c}),i.target=Vi)))}function us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var xo={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},ml={},qc={};xi&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function tr(e){if(ml[e])return ml[e];if(!xo[e])return e;var i=xo[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in qc)return ml[e]=i[a];return e}var Gc=tr("animationend"),qi=tr("animationiteration"),Sa=tr("animationstart"),od=tr("transitionrun"),pl=tr("transitionstart"),ad=tr("transitioncancel"),du=tr("transitionend"),Zc=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nr.push("scrollEnd");function Gi(e,i){Zc.set(e,i),Pi(i,[e])}var Rr=new WeakMap;function mi(e,i){if(typeof e=="object"&&e!==null){var a=Rr.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Se(i)},Rr.set(e,i),i)}return{value:e,source:i,stack:Se(i)}}var pi=[],To=0,Zi=0;function Aa(){for(var e=To,i=Zi=To=0;i<e;){var a=pi[i];pi[i++]=null;var c=pi[i];pi[i++]=null;var p=pi[i];pi[i++]=null;var _=pi[i];if(pi[i++]=null,c!==null&&p!==null){var R=c.pending;R===null?p.next=p:(p.next=R.next,R.next=p),c.pending=p}_!==0&&Na(a,p,_)}}function Ca(e,i,a,c){pi[To++]=e,pi[To++]=i,pi[To++]=a,pi[To++]=c,Zi|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Ir(e,i,a,c){return Ca(e,i,a,c),er(e)}function So(e,i){return Ca(e,null,null,i),er(e)}function Na(e,i,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var p=!1,_=e.return;_!==null;)_.childLanes|=a,c=_.alternate,c!==null&&(c.childLanes|=a),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(p=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,p&&i!==null&&(p=31-Pe(a),e=_.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=a|536870912),_):null}function er(e){if(50<Pu)throw Pu=0,sm=null,Error(o(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Mr={};function Wc(e,i,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(e,i,a,c){return new Wc(e,i,a,c)}function gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cs(e,i){var a=e.alternate;return a===null?(a=gi(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function mu(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ra(e,i,a,c,p,_){var R=0;if(c=e,typeof e=="function")gl(e)&&(R=1);else if(typeof e=="string")R=iE(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gi(31,a,i,p),e.elementType=C,e.lanes=_,e;case P:return nr(a.children,p,_,i);case G:R=8,p|=24;break;case Z:return e=gi(12,a,i,p|2),e.elementType=Z,e.lanes=_,e;case ot:return e=gi(13,a,i,p),e.elementType=ot,e.lanes=_,e;case Y:return e=gi(19,a,i,p),e.elementType=Y,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case et:R=10;break t;case pt:R=9;break t;case Q:R=11;break t;case q:R=14;break t;case A:R=16,c=null;break t}R=29,a=Error(o(130,e===null?"null":typeof e,"")),c=null}return i=gi(R,a,i,p),i.elementType=e,i.type=c,i.lanes=_,i}function nr(e,i,a,c){return e=gi(7,e,c,i),e.lanes=a,e}function pu(e,i,a){return e=gi(6,e,null,i),e.lanes=a,e}function _l(e,i,a){return i=gi(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Or=[],Ao=0,r=null,u=0,d=[],v=0,S=null,U=1,K="";function ut(e,i){Or[Ao++]=u,Or[Ao++]=r,r=e,u=i}function vt(e,i,a){d[v++]=U,d[v++]=K,d[v++]=S,S=e;var c=U;e=K;var p=32-Pe(c)-1;c&=~(1<<p),a+=1;var _=32-Pe(i)+p;if(30<_){var R=p-p%5;_=(c&(1<<R)-1).toString(32),c>>=R,p-=R,U=1<<32-Pe(i)+p|a<<p|c,K=_+e}else U=1<<_|a<<p|c,K=e}function Tt(e){e.return!==null&&(ut(e,1),vt(e,1,0))}function Ct(e){for(;e===r;)r=Or[--Ao],Or[Ao]=null,u=Or[--Ao],Or[Ao]=null;for(;e===S;)S=d[--v],d[v]=null,K=d[--v],d[v]=null,U=d[--v],d[v]=null}var Rt=null,Ot=null,Vt=!1,Be=null,Je=!1,Pn=Error(o(519));function Si(e){var i=Error(o(418,""));throw No(mi(i,e)),Pn}function Yc(e){var i=e.stateNode,a=e.type,c=e.memoizedProps;switch(i[ln]=e,i[sn]=c,a){case"dialog":se("cancel",i),se("close",i);break;case"iframe":case"object":case"embed":se("load",i);break;case"video":case"audio":for(a=0;a<zu.length;a++)se(zu[a],i);break;case"source":se("error",i);break;case"img":case"image":case"link":se("error",i),se("load",i);break;case"details":se("toggle",i);break;case"input":se("invalid",i),br(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ks(i);break;case"select":se("invalid",i);break;case"textarea":se("invalid",i),ci(i,c.value,c.defaultValue,c.children),Ks(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||Gv(i.textContent,a)?(c.popover!=null&&(se("beforetoggle",i),se("toggle",i)),c.onScroll!=null&&se("scroll",i),c.onScrollEnd!=null&&se("scrollend",i),c.onClick!=null&&(i.onclick=Ih),i=!0):i=!1,i||Si(e)}function Kc(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 13:Je=!1;return;case 27:case 3:Je=!0;return;default:Rt=Rt.return}}function Ia(e){if(e!==Rt)return!1;if(!Vt)return Kc(e),Vt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wm(e.type,e.memoizedProps)),a=!a),a&&Ot&&Si(e),Kc(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ot=Os(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ot=null}}else i===27?(i=Ot,Vo(e.type)?(e=Tm,Tm=null,Ot=e):Ot=i):Ot=Rt?Os(e.stateNode.nextSibling):null;return!0}function Co(){Ot=Rt=null,Vt=!1}function Xc(){var e=Be;return e!==null&&(Ni===null?Ni=e:Ni.push.apply(Ni,e),Be=null),e}function No(e){Be===null?Be=[e]:Be.push(e)}var Ye=nt(null),hs=null,Rs=null;function ir(e,i,a){ht(Ye,i._currentValue),i._currentValue=a}function Is(e){e._currentValue=Ye.current,lt(Ye)}function Ma(e,i,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===a)break;e=e.return}}function vl(e,i,a,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var _=p.dependencies;if(_!==null){var R=p.child;_=_.firstContext;t:for(;_!==null;){var F=_;_=p;for(var X=0;X<i.length;X++)if(F.context===i[X]){_.lanes|=a,F=_.alternate,F!==null&&(F.lanes|=a),Ma(_.return,a,e),c||(R=null);break t}_=F.next}}else if(p.tag===18){if(R=p.return,R===null)throw Error(o(341));R.lanes|=a,_=R.alternate,_!==null&&(_.lanes|=a),Ma(R,a,e),R=null}else R=p.child;if(R!==null)R.return=p;else for(R=p;R!==null;){if(R===e){R=null;break}if(p=R.sibling,p!==null){p.return=R.return,R=p;break}R=R.return}p=R}}function Oa(e,i,a,c){e=null;for(var p=i,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var R=p.alternate;if(R===null)throw Error(o(387));if(R=R.memoizedProps,R!==null){var F=p.type;fi(p.pendingProps.value,R.value)||(e!==null?e.push(F):e=[F])}}else if(p===Dt.current){if(R=p.alternate,R===null)throw Error(o(387));R.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(qu):e=[qu])}p=p.return}e!==null&&vl(i,e,a,c),i.flags|=262144}function Qc(e){for(e=e.firstContext;e!==null;){if(!fi(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function La(e){hs=e,Rs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ri(e){return Mg(hs,e)}function Jc(e,i){return hs===null&&La(e),Mg(e,i)}function Mg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Rs===null){if(e===null)throw Error(o(308));Rs=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Rs=Rs.next=i;return a}var n2=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},i2=s.unstable_scheduleCallback,s2=s.unstable_NormalPriority,Sn={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new n2,data:new Map,refCount:0}}function gu(e){e.refCount--,e.refCount===0&&i2(s2,function(){e.controller.abort()})}var _u=null,ud=0,yl=0,wl=null;function r2(e,i){if(_u===null){var a=_u=[];ud=0,yl=hm(),wl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return ud++,i.then(Og,Og),i}function Og(){if(--ud===0&&_u!==null){wl!==null&&(wl.status="fulfilled");var e=_u;_u=null,yl=0,wl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function o2(e,i){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<a.length;p++)(0,a[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var Lg=k.S;k.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&r2(e,i),Lg!==null&&Lg(e,i)};var ka=nt(null);function cd(){var e=ka.current;return e!==null?e:He.pooledCache}function $c(e,i){i===null?ht(ka,ka.current):ht(ka,i.pool)}function kg(){var e=cd();return e===null?null:{parent:Sn._currentValue,pool:e}}var vu=Error(o(460)),Dg=Error(o(474)),th=Error(o(542)),hd={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eh(){}function Ug(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(eh,eh),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jg(e),e;default:if(typeof i.status=="string")i.then(eh,eh);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jg(e),e}throw yu=i,vu}}var yu=null;function zg(){if(yu===null)throw Error(o(459));var e=yu;return yu=null,e}function jg(e){if(e===vu||e===th)throw Error(o(483))}var Ro=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mo(e,i,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ne&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=er(e),Na(e,null,a),i}return Ca(e,c,i,a),er(e)}function wu(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,ki(e,a)}}function md(e,i){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var R={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?p=_=R:_=_.next=R,a=a.next}while(a!==null);_===null?p=_=i:_=_.next=i}else p=_=i;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var pd=!1;function bu(){if(pd){var e=wl;if(e!==null)throw e}}function Eu(e,i,a,c){pd=!1;var p=e.updateQueue;Ro=!1;var _=p.firstBaseUpdate,R=p.lastBaseUpdate,F=p.shared.pending;if(F!==null){p.shared.pending=null;var X=F,mt=X.next;X.next=null,R===null?_=mt:R.next=mt,R=X;var bt=e.alternate;bt!==null&&(bt=bt.updateQueue,F=bt.lastBaseUpdate,F!==R&&(F===null?bt.firstBaseUpdate=mt:F.next=mt,bt.lastBaseUpdate=X))}if(_!==null){var xt=p.baseState;R=0,bt=mt=X=null,F=_;do{var gt=F.lane&-536870913,_t=gt!==F.lane;if(_t?(ce&gt)===gt:(c&gt)===gt){gt!==0&&gt===yl&&(pd=!0),bt!==null&&(bt=bt.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});t:{var Ft=e,Ut=F;gt=i;var Le=a;switch(Ut.tag){case 1:if(Ft=Ut.payload,typeof Ft=="function"){xt=Ft.call(Le,xt,gt);break t}xt=Ft;break t;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Ut.payload,gt=typeof Ft=="function"?Ft.call(Le,xt,gt):Ft,gt==null)break t;xt=E({},xt,gt);break t;case 2:Ro=!0}}gt=F.callback,gt!==null&&(e.flags|=64,_t&&(e.flags|=8192),_t=p.callbacks,_t===null?p.callbacks=[gt]:_t.push(gt))}else _t={lane:gt,tag:F.tag,payload:F.payload,callback:F.callback,next:null},bt===null?(mt=bt=_t,X=xt):bt=bt.next=_t,R|=gt;if(F=F.next,F===null){if(F=p.shared.pending,F===null)break;_t=F,F=_t.next,_t.next=null,p.lastBaseUpdate=_t,p.shared.pending=null}}while(!0);bt===null&&(X=xt),p.baseState=X,p.firstBaseUpdate=mt,p.lastBaseUpdate=bt,_===null&&(p.shared.lanes=0),jo|=R,e.lanes=R,e.memoizedState=xt}}function Bg(e,i){if(typeof e!="function")throw Error(o(191,e));e.call(i)}function Hg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bg(a[e],i)}var bl=nt(null),nh=nt(0);function Fg(e,i){e=jr,ht(nh,e),ht(bl,i),jr=e|i.baseLanes}function gd(){ht(nh,jr),ht(bl,bl.current)}function _d(){jr=nh.current,lt(bl),lt(nh)}var Oo=0,Kt=null,Me=null,yn=null,ih=!1,El=!1,Da=!1,sh=0,xu=0,xl=null,a2=0;function cn(){throw Error(o(321))}function vd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!fi(e[a],i[a]))return!1;return!0}function yd(e,i,a,c,p,_){return Oo=_,Kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,k.H=e===null||e.memoizedState===null?S_:A_,Da=!1,_=a(c,p),Da=!1,El&&(_=qg(i,a,c,p)),Vg(e),_}function Vg(e){k.H=ch;var i=Me!==null&&Me.next!==null;if(Oo=0,yn=Me=Kt=null,ih=!1,xu=0,xl=null,i)throw Error(o(300));e===null||Un||(e=e.dependencies,e!==null&&Qc(e)&&(Un=!0))}function qg(e,i,a,c){Kt=e;var p=0;do{if(El&&(xl=null),xu=0,El=!1,25<=p)throw Error(o(301));if(p+=1,yn=Me=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}k.H=m2,_=i(a,c)}while(El);return _}function l2(){var e=k.H,i=e.useState()[0];return i=typeof i.then=="function"?Tu(i):i,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(Kt.flags|=1024),i}function wd(){var e=sh!==0;return sh=0,e}function bd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ed(e){if(ih){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ih=!1}Oo=0,yn=Me=Kt=null,El=!1,xu=sh=0,xl=null}function Ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Kt.memoizedState=yn=e:yn=yn.next=e,yn}function wn(){if(Me===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var i=yn===null?Kt.memoizedState:yn.next;if(i!==null)yn=i,Me=e;else{if(e===null)throw Kt.alternate===null?Error(o(467)):Error(o(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},yn===null?Kt.memoizedState=yn=e:yn=yn.next=e}return yn}function xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(e){var i=xu;return xu+=1,xl===null&&(xl=[]),e=Ug(xl,e,i),i=Kt,(yn===null?i.memoizedState:yn.next)===null&&(i=i.alternate,k.H=i===null||i.memoizedState===null?S_:A_),e}function rh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Tu(e);if(e.$$typeof===et)return ri(e)}throw Error(o(438,String(e)))}function Td(e){var i=null,a=Kt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=xd(),Kt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),c=0;c<e;c++)a[c]=z;return i.index++,a}function Lr(e,i){return typeof i=="function"?i(e):i}function oh(e){var i=wn();return Sd(i,Me,e)}function Sd(e,i,a){var c=e.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var p=e.baseQueue,_=c.pending;if(_!==null){if(p!==null){var R=p.next;p.next=_.next,_.next=R}i.baseQueue=p=_,c.pending=null}if(_=e.baseState,p===null)e.memoizedState=_;else{i=p.next;var F=R=null,X=null,mt=i,bt=!1;do{var xt=mt.lane&-536870913;if(xt!==mt.lane?(ce&xt)===xt:(Oo&xt)===xt){var gt=mt.revertLane;if(gt===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),xt===yl&&(bt=!0);else if((Oo&gt)===gt){mt=mt.next,gt===yl&&(bt=!0);continue}else xt={lane:0,revertLane:mt.revertLane,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},X===null?(F=X=xt,R=_):X=X.next=xt,Kt.lanes|=gt,jo|=gt;xt=mt.action,Da&&a(_,xt),_=mt.hasEagerState?mt.eagerState:a(_,xt)}else gt={lane:xt,revertLane:mt.revertLane,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},X===null?(F=X=gt,R=_):X=X.next=gt,Kt.lanes|=xt,jo|=xt;mt=mt.next}while(mt!==null&&mt!==i);if(X===null?R=_:X.next=F,!fi(_,e.memoizedState)&&(Un=!0,bt&&(a=wl,a!==null)))throw a;e.memoizedState=_,e.baseState=R,e.baseQueue=X,c.lastRenderedState=_}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Ad(e){var i=wn(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var c=a.dispatch,p=a.pending,_=i.memoizedState;if(p!==null){a.pending=null;var R=p=p.next;do _=e(_,R.action),R=R.next;while(R!==p);fi(_,i.memoizedState)||(Un=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),a.lastRenderedState=_}return[_,c]}function Gg(e,i,a){var c=Kt,p=wn(),_=Vt;if(_){if(a===void 0)throw Error(o(407));a=a()}else a=i();var R=!fi((Me||p).memoizedState,a);R&&(p.memoizedState=a,Un=!0),p=p.queue;var F=Yg.bind(null,c,p,e);if(Su(2048,8,F,[e]),p.getSnapshot!==i||R||yn!==null&&yn.memoizedState.tag&1){if(c.flags|=2048,Tl(9,ah(),Wg.bind(null,c,p,a,i),null),He===null)throw Error(o(349));_||(Oo&124)!==0||Zg(c,i,a)}return a}function Zg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Kt.updateQueue,i===null?(i=xd(),Kt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Wg(e,i,a,c){i.value=a,i.getSnapshot=c,Kg(i)&&Xg(e)}function Yg(e,i,a){return a(function(){Kg(i)&&Xg(e)})}function Kg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!fi(e,a)}catch{return!0}}function Xg(e){var i=So(e,2);i!==null&&Qi(i,e,2)}function Cd(e){var i=Ai();if(typeof e=="function"){var a=e;if(e=a(),Da){ge(!0);try{a()}finally{ge(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},i}function Qg(e,i,a,c){return e.baseState=a,Sd(e,Me,typeof c=="function"?c:Lr)}function u2(e,i,a,c,p){if(uh(e))throw Error(o(485));if(e=i.action,e!==null){var _={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};k.T!==null?a(!0):_.isTransition=!1,c(_),a=i.pending,a===null?(_.next=i.pending=_,Jg(i,_)):(_.next=a.next,i.pending=a.next=_)}}function Jg(e,i){var a=i.action,c=i.payload,p=e.state;if(i.isTransition){var _=k.T,R={};k.T=R;try{var F=a(p,c),X=k.S;X!==null&&X(R,F),$g(e,i,F)}catch(mt){Nd(e,i,mt)}finally{k.T=_}}else try{_=a(p,c),$g(e,i,_)}catch(mt){Nd(e,i,mt)}}function $g(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){t_(e,i,c)},function(c){return Nd(e,i,c)}):t_(e,i,a)}function t_(e,i,a){i.status="fulfilled",i.value=a,e_(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Jg(e,a)))}function Nd(e,i,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,e_(i),i=i.next;while(i!==c)}e.action=null}function e_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function n_(e,i){return i}function i_(e,i){if(Vt){var a=He.formState;if(a!==null){t:{var c=Kt;if(Vt){if(Ot){e:{for(var p=Ot,_=Je;p.nodeType!==8;){if(!_){p=null;break e}if(p=Os(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){Ot=Os(p.nextSibling),c=p.data==="F!";break t}}Si(c)}c=!1}c&&(i=a[0])}}return a=Ai(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:i},a.queue=c,a=E_.bind(null,Kt,c),c.dispatch=a,c=Cd(!1),_=Ld.bind(null,Kt,!1,c.queue),c=Ai(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,a=u2.bind(null,Kt,p,_,a),p.dispatch=a,c.memoizedState=e,[i,a,!1]}function s_(e){var i=wn();return r_(i,Me,e)}function r_(e,i,a){if(i=Sd(e,i,n_)[0],e=oh(Lr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Tu(i)}catch(R){throw R===vu?th:R}else c=i;i=wn();var p=i.queue,_=p.dispatch;return a!==i.memoizedState&&(Kt.flags|=2048,Tl(9,ah(),c2.bind(null,p,a),null)),[c,_,e]}function c2(e,i){e.action=i}function o_(e){var i=wn(),a=Me;if(a!==null)return r_(i,a,e);wn(),i=i.memoizedState,a=wn();var c=a.queue.dispatch;return a.memoizedState=e,[i,c,!1]}function Tl(e,i,a,c){return e={tag:e,create:a,deps:c,inst:i,next:null},i=Kt.updateQueue,i===null&&(i=xd(),Kt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,i.lastEffect=e),e}function ah(){return{destroy:void 0,resource:void 0}}function a_(){return wn().memoizedState}function lh(e,i,a,c){var p=Ai();c=c===void 0?null:c,Kt.flags|=e,p.memoizedState=Tl(1|i,ah(),a,c)}function Su(e,i,a,c){var p=wn();c=c===void 0?null:c;var _=p.memoizedState.inst;Me!==null&&c!==null&&vd(c,Me.memoizedState.deps)?p.memoizedState=Tl(i,_,a,c):(Kt.flags|=e,p.memoizedState=Tl(1|i,_,a,c))}function l_(e,i){lh(8390656,8,e,i)}function u_(e,i){Su(2048,8,e,i)}function c_(e,i){return Su(4,2,e,i)}function h_(e,i){return Su(4,4,e,i)}function f_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function d_(e,i,a){a=a!=null?a.concat([e]):null,Su(4,4,f_.bind(null,i,e),a)}function Rd(){}function m_(e,i){var a=wn();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&vd(i,c[1])?c[0]:(a.memoizedState=[e,i],e)}function p_(e,i){var a=wn();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&vd(i,c[1]))return c[0];if(c=e(),Da){ge(!0);try{e()}finally{ge(!1)}}return a.memoizedState=[c,i],c}function Id(e,i,a){return a===void 0||(Oo&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=vv(),Kt.lanes|=e,jo|=e,a)}function g_(e,i,a,c){return fi(a,i)?a:bl.current!==null?(e=Id(e,a,c),fi(e,i)||(Un=!0),e):(Oo&42)===0?(Un=!0,e.memoizedState=a):(e=vv(),Kt.lanes|=e,jo|=e,i)}function __(e,i,a,c,p){var _=H.p;H.p=_!==0&&8>_?_:8;var R=k.T,F={};k.T=F,Ld(e,!1,i,a);try{var X=p(),mt=k.S;if(mt!==null&&mt(F,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var bt=o2(X,c);Au(e,i,bt,Xi(e))}else Au(e,i,c,Xi(e))}catch(xt){Au(e,i,{then:function(){},status:"rejected",reason:xt},Xi())}finally{H.p=_,k.T=R}}function h2(){}function Md(e,i,a,c){if(e.tag!==5)throw Error(o(476));var p=v_(e).queue;__(e,p,i,$,a===null?h2:function(){return y_(e),a(c)})}function v_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:$},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function y_(e){var i=v_(e).next.queue;Au(e,i,{},Xi())}function Od(){return ri(qu)}function w_(){return wn().memoizedState}function b_(){return wn().memoizedState}function f2(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Xi();e=Io(a);var c=Mo(i,e,a);c!==null&&(Qi(c,i,a),wu(c,i,a)),i={cache:ld()},e.payload=i;return}i=i.return}}function d2(e,i,a){var c=Xi();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uh(e)?x_(i,a):(a=Ir(e,i,a,c),a!==null&&(Qi(a,e,c),T_(a,i,c)))}function E_(e,i,a){var c=Xi();Au(e,i,a,c)}function Au(e,i,a,c){var p={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uh(e))x_(i,p);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var R=i.lastRenderedState,F=_(R,a);if(p.hasEagerState=!0,p.eagerState=F,fi(F,R))return Ca(e,i,p,0),He===null&&Aa(),!1}catch{}finally{}if(a=Ir(e,i,p,c),a!==null)return Qi(a,e,c),T_(a,i,c),!0}return!1}function Ld(e,i,a,c){if(c={lane:2,revertLane:hm(),action:c,hasEagerState:!1,eagerState:null,next:null},uh(e)){if(i)throw Error(o(479))}else i=Ir(e,a,c,2),i!==null&&Qi(i,e,2)}function uh(e){var i=e.alternate;return e===Kt||i!==null&&i===Kt}function x_(e,i){El=ih=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function T_(e,i,a){if((a&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,ki(e,a)}}var ch={readContext:ri,use:rh,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn},S_={readContext:ri,use:rh,useCallback:function(e,i){return Ai().memoizedState=[e,i===void 0?null:i],e},useContext:ri,useEffect:l_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,lh(4194308,4,f_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return lh(4194308,4,e,i)},useInsertionEffect:function(e,i){lh(4,2,e,i)},useMemo:function(e,i){var a=Ai();i=i===void 0?null:i;var c=e();if(Da){ge(!0);try{e()}finally{ge(!1)}}return a.memoizedState=[c,i],c},useReducer:function(e,i,a){var c=Ai();if(a!==void 0){var p=a(i);if(Da){ge(!0);try{a(i)}finally{ge(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=d2.bind(null,Kt,e),[c.memoizedState,e]},useRef:function(e){var i=Ai();return e={current:e},i.memoizedState=e},useState:function(e){e=Cd(e);var i=e.queue,a=E_.bind(null,Kt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Rd,useDeferredValue:function(e,i){var a=Ai();return Id(a,e,i)},useTransition:function(){var e=Cd(!1);return e=__.bind(null,Kt,e.queue,!0,!1),Ai().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var c=Kt,p=Ai();if(Vt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),He===null)throw Error(o(349));(ce&124)!==0||Zg(c,i,a)}p.memoizedState=a;var _={value:a,getSnapshot:i};return p.queue=_,l_(Yg.bind(null,c,_,e),[e]),c.flags|=2048,Tl(9,ah(),Wg.bind(null,c,_,a,i),null),a},useId:function(){var e=Ai(),i=He.identifierPrefix;if(Vt){var a=K,c=U;a=(c&~(1<<32-Pe(c)-1)).toString(32)+a,i=""+i+"R"+a,a=sh++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=a2++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Od,useFormState:i_,useActionState:i_,useOptimistic:function(e){var i=Ai();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ld.bind(null,Kt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Td,useCacheRefresh:function(){return Ai().memoizedState=f2.bind(null,Kt)}},A_={readContext:ri,use:rh,useCallback:m_,useContext:ri,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:p_,useReducer:oh,useRef:a_,useState:function(){return oh(Lr)},useDebugValue:Rd,useDeferredValue:function(e,i){var a=wn();return g_(a,Me.memoizedState,e,i)},useTransition:function(){var e=oh(Lr)[0],i=wn().memoizedState;return[typeof e=="boolean"?e:Tu(e),i]},useSyncExternalStore:Gg,useId:w_,useHostTransitionStatus:Od,useFormState:s_,useActionState:s_,useOptimistic:function(e,i){var a=wn();return Qg(a,Me,e,i)},useMemoCache:Td,useCacheRefresh:b_},m2={readContext:ri,use:rh,useCallback:m_,useContext:ri,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:p_,useReducer:Ad,useRef:a_,useState:function(){return Ad(Lr)},useDebugValue:Rd,useDeferredValue:function(e,i){var a=wn();return Me===null?Id(a,e,i):g_(a,Me.memoizedState,e,i)},useTransition:function(){var e=Ad(Lr)[0],i=wn().memoizedState;return[typeof e=="boolean"?e:Tu(e),i]},useSyncExternalStore:Gg,useId:w_,useHostTransitionStatus:Od,useFormState:o_,useActionState:o_,useOptimistic:function(e,i){var a=wn();return Me!==null?Qg(a,Me,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Td,useCacheRefresh:b_},Sl=null,Cu=0;function hh(e){var i=Cu;return Cu+=1,Sl===null&&(Sl=[]),Ug(Sl,e,i)}function Nu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function fh(e,i){throw i.$$typeof===T?Error(o(525)):(e=Object.prototype.toString.call(i),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function C_(e){var i=e._init;return i(e._payload)}function N_(e){function i(st,tt){if(e){var ft=st.deletions;ft===null?(st.deletions=[tt],st.flags|=16):ft.push(tt)}}function a(st,tt){if(!e)return null;for(;tt!==null;)i(st,tt),tt=tt.sibling;return null}function c(st){for(var tt=new Map;st!==null;)st.key!==null?tt.set(st.key,st):tt.set(st.index,st),st=st.sibling;return tt}function p(st,tt){return st=cs(st,tt),st.index=0,st.sibling=null,st}function _(st,tt,ft){return st.index=ft,e?(ft=st.alternate,ft!==null?(ft=ft.index,ft<tt?(st.flags|=67108866,tt):ft):(st.flags|=67108866,tt)):(st.flags|=1048576,tt)}function R(st){return e&&st.alternate===null&&(st.flags|=67108866),st}function F(st,tt,ft,Et){return tt===null||tt.tag!==6?(tt=pu(ft,st.mode,Et),tt.return=st,tt):(tt=p(tt,ft),tt.return=st,tt)}function X(st,tt,ft,Et){var It=ft.type;return It===P?bt(st,tt,ft.props.children,Et,ft.key):tt!==null&&(tt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===A&&C_(It)===tt.type)?(tt=p(tt,ft.props),Nu(tt,ft),tt.return=st,tt):(tt=Ra(ft.type,ft.key,ft.props,null,st.mode,Et),Nu(tt,ft),tt.return=st,tt)}function mt(st,tt,ft,Et){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==ft.containerInfo||tt.stateNode.implementation!==ft.implementation?(tt=_l(ft,st.mode,Et),tt.return=st,tt):(tt=p(tt,ft.children||[]),tt.return=st,tt)}function bt(st,tt,ft,Et,It){return tt===null||tt.tag!==7?(tt=nr(ft,st.mode,Et,It),tt.return=st,tt):(tt=p(tt,ft),tt.return=st,tt)}function xt(st,tt,ft){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=pu(""+tt,st.mode,ft),tt.return=st,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return ft=Ra(tt.type,tt.key,tt.props,null,st.mode,ft),Nu(ft,tt),ft.return=st,ft;case I:return tt=_l(tt,st.mode,ft),tt.return=st,tt;case A:var Et=tt._init;return tt=Et(tt._payload),xt(st,tt,ft)}if(at(tt)||D(tt))return tt=nr(tt,st.mode,ft,null),tt.return=st,tt;if(typeof tt.then=="function")return xt(st,hh(tt),ft);if(tt.$$typeof===et)return xt(st,Jc(st,tt),ft);fh(st,tt)}return null}function gt(st,tt,ft,Et){var It=tt!==null?tt.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return It!==null?null:F(st,tt,""+ft,Et);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case x:return ft.key===It?X(st,tt,ft,Et):null;case I:return ft.key===It?mt(st,tt,ft,Et):null;case A:return It=ft._init,ft=It(ft._payload),gt(st,tt,ft,Et)}if(at(ft)||D(ft))return It!==null?null:bt(st,tt,ft,Et,null);if(typeof ft.then=="function")return gt(st,tt,hh(ft),Et);if(ft.$$typeof===et)return gt(st,tt,Jc(st,ft),Et);fh(st,ft)}return null}function _t(st,tt,ft,Et,It){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return st=st.get(ft)||null,F(tt,st,""+Et,It);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case x:return st=st.get(Et.key===null?ft:Et.key)||null,X(tt,st,Et,It);case I:return st=st.get(Et.key===null?ft:Et.key)||null,mt(tt,st,Et,It);case A:var Jt=Et._init;return Et=Jt(Et._payload),_t(st,tt,ft,Et,It)}if(at(Et)||D(Et))return st=st.get(ft)||null,bt(tt,st,Et,It,null);if(typeof Et.then=="function")return _t(st,tt,ft,hh(Et),It);if(Et.$$typeof===et)return _t(st,tt,ft,Jc(tt,Et),It);fh(tt,Et)}return null}function Ft(st,tt,ft,Et){for(var It=null,Jt=null,kt=tt,zt=tt=0,jn=null;kt!==null&&zt<ft.length;zt++){kt.index>zt?(jn=kt,kt=null):jn=kt.sibling;var ye=gt(st,kt,ft[zt],Et);if(ye===null){kt===null&&(kt=jn);break}e&&kt&&ye.alternate===null&&i(st,kt),tt=_(ye,tt,zt),Jt===null?It=ye:Jt.sibling=ye,Jt=ye,kt=jn}if(zt===ft.length)return a(st,kt),Vt&&ut(st,zt),It;if(kt===null){for(;zt<ft.length;zt++)kt=xt(st,ft[zt],Et),kt!==null&&(tt=_(kt,tt,zt),Jt===null?It=kt:Jt.sibling=kt,Jt=kt);return Vt&&ut(st,zt),It}for(kt=c(kt);zt<ft.length;zt++)jn=_t(kt,st,zt,ft[zt],Et),jn!==null&&(e&&jn.alternate!==null&&kt.delete(jn.key===null?zt:jn.key),tt=_(jn,tt,zt),Jt===null?It=jn:Jt.sibling=jn,Jt=jn);return e&&kt.forEach(function(Yo){return i(st,Yo)}),Vt&&ut(st,zt),It}function Ut(st,tt,ft,Et){if(ft==null)throw Error(o(151));for(var It=null,Jt=null,kt=tt,zt=tt=0,jn=null,ye=ft.next();kt!==null&&!ye.done;zt++,ye=ft.next()){kt.index>zt?(jn=kt,kt=null):jn=kt.sibling;var Yo=gt(st,kt,ye.value,Et);if(Yo===null){kt===null&&(kt=jn);break}e&&kt&&Yo.alternate===null&&i(st,kt),tt=_(Yo,tt,zt),Jt===null?It=Yo:Jt.sibling=Yo,Jt=Yo,kt=jn}if(ye.done)return a(st,kt),Vt&&ut(st,zt),It;if(kt===null){for(;!ye.done;zt++,ye=ft.next())ye=xt(st,ye.value,Et),ye!==null&&(tt=_(ye,tt,zt),Jt===null?It=ye:Jt.sibling=ye,Jt=ye);return Vt&&ut(st,zt),It}for(kt=c(kt);!ye.done;zt++,ye=ft.next())ye=_t(kt,st,zt,ye.value,Et),ye!==null&&(e&&ye.alternate!==null&&kt.delete(ye.key===null?zt:ye.key),tt=_(ye,tt,zt),Jt===null?It=ye:Jt.sibling=ye,Jt=ye);return e&&kt.forEach(function(pE){return i(st,pE)}),Vt&&ut(st,zt),It}function Le(st,tt,ft,Et){if(typeof ft=="object"&&ft!==null&&ft.type===P&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case x:t:{for(var It=ft.key;tt!==null;){if(tt.key===It){if(It=ft.type,It===P){if(tt.tag===7){a(st,tt.sibling),Et=p(tt,ft.props.children),Et.return=st,st=Et;break t}}else if(tt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===A&&C_(It)===tt.type){a(st,tt.sibling),Et=p(tt,ft.props),Nu(Et,ft),Et.return=st,st=Et;break t}a(st,tt);break}else i(st,tt);tt=tt.sibling}ft.type===P?(Et=nr(ft.props.children,st.mode,Et,ft.key),Et.return=st,st=Et):(Et=Ra(ft.type,ft.key,ft.props,null,st.mode,Et),Nu(Et,ft),Et.return=st,st=Et)}return R(st);case I:t:{for(It=ft.key;tt!==null;){if(tt.key===It)if(tt.tag===4&&tt.stateNode.containerInfo===ft.containerInfo&&tt.stateNode.implementation===ft.implementation){a(st,tt.sibling),Et=p(tt,ft.children||[]),Et.return=st,st=Et;break t}else{a(st,tt);break}else i(st,tt);tt=tt.sibling}Et=_l(ft,st.mode,Et),Et.return=st,st=Et}return R(st);case A:return It=ft._init,ft=It(ft._payload),Le(st,tt,ft,Et)}if(at(ft))return Ft(st,tt,ft,Et);if(D(ft)){if(It=D(ft),typeof It!="function")throw Error(o(150));return ft=It.call(ft),Ut(st,tt,ft,Et)}if(typeof ft.then=="function")return Le(st,tt,hh(ft),Et);if(ft.$$typeof===et)return Le(st,tt,Jc(st,ft),Et);fh(st,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,tt!==null&&tt.tag===6?(a(st,tt.sibling),Et=p(tt,ft),Et.return=st,st=Et):(a(st,tt),Et=pu(ft,st.mode,Et),Et.return=st,st=Et),R(st)):a(st,tt)}return function(st,tt,ft,Et){try{Cu=0;var It=Le(st,tt,ft,Et);return Sl=null,It}catch(kt){if(kt===vu||kt===th)throw kt;var Jt=gi(29,kt,null,st.mode);return Jt.lanes=Et,Jt.return=st,Jt}finally{}}}var Al=N_(!0),R_=N_(!1),fs=nt(null),sr=null;function Lo(e){var i=e.alternate;ht(An,An.current&1),ht(fs,e),sr===null&&(i===null||bl.current!==null||i.memoizedState!==null)&&(sr=e)}function I_(e){if(e.tag===22){if(ht(An,An.current),ht(fs,e),sr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(sr=e)}}else ko()}function ko(){ht(An,An.current),ht(fs,fs.current)}function kr(e){lt(fs),sr===e&&(sr=null),lt(An)}var An=nt(0);function dh(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||xm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function kd(e,i,a,c){i=e.memoizedState,a=a(c,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Dd={enqueueSetState:function(e,i,a){e=e._reactInternals;var c=Xi(),p=Io(c);p.payload=i,a!=null&&(p.callback=a),i=Mo(e,p,c),i!==null&&(Qi(i,e,c),wu(i,e,c))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var c=Xi(),p=Io(c);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=Mo(e,p,c),i!==null&&(Qi(i,e,c),wu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Xi(),c=Io(a);c.tag=2,i!=null&&(c.callback=i),i=Mo(e,c,a),i!==null&&(Qi(i,e,a),wu(i,e,a))}};function M_(e,i,a,c,p,_,R){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,_,R):i.prototype&&i.prototype.isPureReactComponent?!di(a,c)||!di(p,_):!0}function O_(e,i,a,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==e&&Dd.enqueueReplaceState(i,i.state,null)}function Pa(e,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}var mh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function L_(e){mh(e)}function k_(e){console.error(e)}function D_(e){mh(e)}function ph(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function P_(e,i,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Pd(e,i,a){return a=Io(a),a.tag=3,a.payload={element:null},a.callback=function(){ph(e,i)},a}function U_(e){return e=Io(e),e.tag=3,e}function z_(e,i,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var _=c.value;e.payload=function(){return p(_)},e.callback=function(){P_(i,a,c)}}var R=a.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(e.callback=function(){P_(i,a,c),typeof p!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var F=c.stack;this.componentDidCatch(c.value,{componentStack:F!==null?F:""})})}function p2(e,i,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,p,!0),a=fs.current,a!==null){switch(a.tag){case 13:return sr===null?om():a.alternate===null&&rn===0&&(rn=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===hd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),lm(e,c,p)),!1;case 22:return a.flags|=65536,c===hd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),lm(e,c,p)),!1}throw Error(o(435,a.tag))}return lm(e,c,p),om(),!1}if(Vt)return i=fs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Pn&&(e=Error(o(422),{cause:c}),No(mi(e,a)))):(c!==Pn&&(i=Error(o(423),{cause:c}),No(mi(i,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=mi(c,a),p=Pd(e.stateNode,c,p),md(e,p),rn!==4&&(rn=2)),!1;var _=Error(o(520),{cause:c});if(_=mi(_,a),Du===null?Du=[_]:Du.push(_),rn!==4&&(rn=2),i===null)return!0;c=mi(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=Pd(a.stateNode,c,e),md(a,e),!1;case 1:if(i=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bo===null||!Bo.has(_))))return a.flags|=65536,p&=-p,a.lanes|=p,p=U_(p),z_(p,e,a,c),md(a,p),!1}a=a.return}while(a!==null);return!1}var j_=Error(o(461)),Un=!1;function Wn(e,i,a,c){i.child=e===null?R_(i,null,a,c):Al(i,e.child,a,c)}function B_(e,i,a,c,p){a=a.render;var _=i.ref;if("ref"in c){var R={};for(var F in c)F!=="ref"&&(R[F]=c[F])}else R=c;return La(i),c=yd(e,i,a,R,_,p),F=wd(),e!==null&&!Un?(bd(e,i,p),Dr(e,i,p)):(Vt&&F&&Tt(i),i.flags|=1,Wn(e,i,c,p),i.child)}function H_(e,i,a,c,p){if(e===null){var _=a.type;return typeof _=="function"&&!gl(_)&&_.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=_,F_(e,i,_,c,p)):(e=Ra(a.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!qd(e,p)){var R=_.memoizedProps;if(a=a.compare,a=a!==null?a:di,a(R,c)&&e.ref===i.ref)return Dr(e,i,p)}return i.flags|=1,e=cs(_,c),e.ref=i.ref,e.return=i,i.child=e}function F_(e,i,a,c,p){if(e!==null){var _=e.memoizedProps;if(di(_,c)&&e.ref===i.ref)if(Un=!1,i.pendingProps=c=_,qd(e,p))(e.flags&131072)!==0&&(Un=!0);else return i.lanes=e.lanes,Dr(e,i,p)}return Ud(e,i,a,c,p)}function V_(e,i,a){var c=i.pendingProps,p=c.children,_=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=_!==null?_.baseLanes|a:a,e!==null){for(p=i.child=e.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;i.childLanes=_&~c}else i.childLanes=0,i.child=null;return q_(e,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&$c(i,_!==null?_.cachePool:null),_!==null?Fg(i,_):gd(),I_(i);else return i.lanes=i.childLanes=536870912,q_(e,i,_!==null?_.baseLanes|a:a,a)}else _!==null?($c(i,_.cachePool),Fg(i,_),ko(),i.memoizedState=null):(e!==null&&$c(i,null),gd(),ko());return Wn(e,i,p,a),i.child}function q_(e,i,a,c){var p=cd();return p=p===null?null:{parent:Sn._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},e!==null&&$c(i,null),gd(),I_(i),e!==null&&Oa(e,i,c,!0),null}function gh(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ud(e,i,a,c,p){return La(i),a=yd(e,i,a,c,void 0,p),c=wd(),e!==null&&!Un?(bd(e,i,p),Dr(e,i,p)):(Vt&&c&&Tt(i),i.flags|=1,Wn(e,i,a,p),i.child)}function G_(e,i,a,c,p,_){return La(i),i.updateQueue=null,a=qg(i,c,a,p),Vg(e),c=wd(),e!==null&&!Un?(bd(e,i,_),Dr(e,i,_)):(Vt&&c&&Tt(i),i.flags|=1,Wn(e,i,a,_),i.child)}function Z_(e,i,a,c,p){if(La(i),i.stateNode===null){var _=Mr,R=a.contextType;typeof R=="object"&&R!==null&&(_=ri(R)),_=new a(c,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Dd,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=c,_.state=i.memoizedState,_.refs={},fd(i),R=a.contextType,_.context=typeof R=="object"&&R!==null?ri(R):Mr,_.state=i.memoizedState,R=a.getDerivedStateFromProps,typeof R=="function"&&(kd(i,a,R,c),_.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&Dd.enqueueReplaceState(_,_.state,null),Eu(i,c,_,p),bu(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){_=i.stateNode;var F=i.memoizedProps,X=Pa(a,F);_.props=X;var mt=_.context,bt=a.contextType;R=Mr,typeof bt=="object"&&bt!==null&&(R=ri(bt));var xt=a.getDerivedStateFromProps;bt=typeof xt=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=i.pendingProps!==F,bt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||mt!==R)&&O_(i,_,c,R),Ro=!1;var gt=i.memoizedState;_.state=gt,Eu(i,c,_,p),bu(),mt=i.memoizedState,F||gt!==mt||Ro?(typeof xt=="function"&&(kd(i,a,xt,c),mt=i.memoizedState),(X=Ro||M_(i,a,X,c,gt,mt,R))?(bt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=mt),_.props=c,_.state=mt,_.context=R,c=X):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,dd(e,i),R=i.memoizedProps,bt=Pa(a,R),_.props=bt,xt=i.pendingProps,gt=_.context,mt=a.contextType,X=Mr,typeof mt=="object"&&mt!==null&&(X=ri(mt)),F=a.getDerivedStateFromProps,(mt=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==xt||gt!==X)&&O_(i,_,c,X),Ro=!1,gt=i.memoizedState,_.state=gt,Eu(i,c,_,p),bu();var _t=i.memoizedState;R!==xt||gt!==_t||Ro||e!==null&&e.dependencies!==null&&Qc(e.dependencies)?(typeof F=="function"&&(kd(i,a,F,c),_t=i.memoizedState),(bt=Ro||M_(i,a,bt,c,gt,_t,X)||e!==null&&e.dependencies!==null&&Qc(e.dependencies))?(mt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,_t,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,_t,X)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===e.memoizedProps&&gt===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&gt===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=_t),_.props=c,_.state=_t,_.context=X,c=bt):(typeof _.componentDidUpdate!="function"||R===e.memoizedProps&&gt===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&gt===e.memoizedState||(i.flags|=1024),c=!1)}return _=c,gh(e,i),c=(i.flags&128)!==0,_||c?(_=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&c?(i.child=Al(i,e.child,null,p),i.child=Al(i,null,a,p)):Wn(e,i,a,p),i.memoizedState=_.state,e=i.child):e=Dr(e,i,p),e}function W_(e,i,a,c){return Co(),i.flags|=256,Wn(e,i,a,c),i.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(e){return{baseLanes:e,cachePool:kg()}}function Bd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=ds),e}function Y_(e,i,a){var c=i.pendingProps,p=!1,_=(i.flags&128)!==0,R;if((R=_)||(R=e!==null&&e.memoizedState===null?!1:(An.current&2)!==0),R&&(p=!0,i.flags&=-129),R=(i.flags&32)!==0,i.flags&=-33,e===null){if(Vt){if(p?Lo(i):ko(),Vt){var F=Ot,X;if(X=F){t:{for(X=F,F=Je;X.nodeType!==8;){if(!F){F=null;break t}if(X=Os(X.nextSibling),X===null){F=null;break t}}F=X}F!==null?(i.memoizedState={dehydrated:F,treeContext:S!==null?{id:U,overflow:K}:null,retryLane:536870912,hydrationErrors:null},X=gi(18,null,null,0),X.stateNode=F,X.return=i,i.child=X,Rt=i,Ot=null,X=!0):X=!1}X||Si(i)}if(F=i.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return xm(F)?i.lanes=32:i.lanes=536870912,null;kr(i)}return F=c.children,c=c.fallback,p?(ko(),p=i.mode,F=_h({mode:"hidden",children:F},p),c=nr(c,p,a,null),F.return=i,c.return=i,F.sibling=c,i.child=F,p=i.child,p.memoizedState=jd(a),p.childLanes=Bd(e,R,a),i.memoizedState=zd,c):(Lo(i),Hd(i,F))}if(X=e.memoizedState,X!==null&&(F=X.dehydrated,F!==null)){if(_)i.flags&256?(Lo(i),i.flags&=-257,i=Fd(e,i,a)):i.memoizedState!==null?(ko(),i.child=e.child,i.flags|=128,i=null):(ko(),p=c.fallback,F=i.mode,c=_h({mode:"visible",children:c.children},F),p=nr(p,F,a,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,Al(i,e.child,null,a),c=i.child,c.memoizedState=jd(a),c.childLanes=Bd(e,R,a),i.memoizedState=zd,i=p);else if(Lo(i),xm(F)){if(R=F.nextSibling&&F.nextSibling.dataset,R)var mt=R.dgst;R=mt,c=Error(o(419)),c.stack="",c.digest=R,No({value:c,source:null,stack:null}),i=Fd(e,i,a)}else if(Un||Oa(e,i,a,!1),R=(a&e.childLanes)!==0,Un||R){if(R=He,R!==null&&(c=a&-a,c=(c&42)!==0?1:$i(c),c=(c&(R.suspendedLanes|a))!==0?0:c,c!==0&&c!==X.retryLane))throw X.retryLane=c,So(e,c),Qi(R,e,c),j_;F.data==="$?"||om(),i=Fd(e,i,a)}else F.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=X.treeContext,Ot=Os(F.nextSibling),Rt=i,Vt=!0,Be=null,Je=!1,e!==null&&(d[v++]=U,d[v++]=K,d[v++]=S,U=e.id,K=e.overflow,S=i),i=Hd(i,c.children),i.flags|=4096);return i}return p?(ko(),p=c.fallback,F=i.mode,X=e.child,mt=X.sibling,c=cs(X,{mode:"hidden",children:c.children}),c.subtreeFlags=X.subtreeFlags&65011712,mt!==null?p=cs(mt,p):(p=nr(p,F,a,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,F=e.child.memoizedState,F===null?F=jd(a):(X=F.cachePool,X!==null?(mt=Sn._currentValue,X=X.parent!==mt?{parent:mt,pool:mt}:X):X=kg(),F={baseLanes:F.baseLanes|a,cachePool:X}),p.memoizedState=F,p.childLanes=Bd(e,R,a),i.memoizedState=zd,c):(Lo(i),a=e.child,e=a.sibling,a=cs(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,e!==null&&(R=i.deletions,R===null?(i.deletions=[e],i.flags|=16):R.push(e)),i.child=a,i.memoizedState=null,a)}function Hd(e,i){return i=_h({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _h(e,i){return e=gi(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Fd(e,i,a){return Al(i,e.child,null,a),e=Hd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function K_(e,i,a){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Ma(e.return,i,a)}function Vd(e,i,a,c,p){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=a,_.tailMode=p)}function X_(e,i,a){var c=i.pendingProps,p=c.revealOrder,_=c.tail;if(Wn(e,i,c.children,a),c=An.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&K_(e,a,i);else if(e.tag===19)K_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(ht(An,c),p){case"forwards":for(a=i.child,p=null;a!==null;)e=a.alternate,e!==null&&dh(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),Vd(i,!1,p,a,_);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&dh(e)===null){i.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}Vd(i,!0,a,null,_);break;case"together":Vd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Dr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),jo|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Oa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(o(153));if(i.child!==null){for(e=i.child,a=cs(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=cs(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function qd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Qc(e)))}function g2(e,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),ir(i,Sn,e.memoizedState.cache),Co();break;case 27:case 5:Xt(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:ir(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Lo(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Y_(e,i,a):(Lo(i),e=Dr(e,i,a),e!==null?e.sibling:null);Lo(i);break;case 19:var p=(e.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Oa(e,i,a,!1),c=(a&i.childLanes)!==0),p){if(c)return X_(e,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ht(An,An.current),c)break;return null;case 22:case 23:return i.lanes=0,V_(e,i,a);case 24:ir(i,Sn,e.memoizedState.cache)}return Dr(e,i,a)}function Q_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Un=!0;else{if(!qd(e,a)&&(i.flags&128)===0)return Un=!1,g2(e,i,a);Un=(e.flags&131072)!==0}else Un=!1,Vt&&(i.flags&1048576)!==0&&vt(i,u,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var c=i.elementType,p=c._init;if(c=p(c._payload),i.type=c,typeof c=="function")gl(c)?(e=Pa(c,e),i.tag=1,i=Z_(null,i,c,e,a)):(i.tag=0,i=Ud(null,i,c,e,a));else{if(c!=null){if(p=c.$$typeof,p===Q){i.tag=11,i=B_(null,i,c,e,a);break t}else if(p===q){i.tag=14,i=H_(null,i,c,e,a);break t}}throw i=J(c)||c,Error(o(306,i,""))}}return i;case 0:return Ud(e,i,i.type,i.pendingProps,a);case 1:return c=i.type,p=Pa(c,i.pendingProps),Z_(e,i,c,p,a);case 3:t:{if(Mt(i,i.stateNode.containerInfo),e===null)throw Error(o(387));c=i.pendingProps;var _=i.memoizedState;p=_.element,dd(e,i),Eu(i,c,null,a);var R=i.memoizedState;if(c=R.cache,ir(i,Sn,c),c!==_.cache&&vl(i,[Sn],a,!0),bu(),c=R.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:R.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=W_(e,i,c,a);break t}else if(c!==p){p=mi(Error(o(424)),i),No(p),i=W_(e,i,c,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ot=Os(e.firstChild),Rt=i,Vt=!0,Be=null,Je=!0,a=R_(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Co(),c===p){i=Dr(e,i,a);break t}Wn(e,i,c,a)}i=i.child}return i;case 26:return gh(e,i),e===null?(a=ey(i.type,null,i.pendingProps,null))?i.memoizedState=a:Vt||(a=i.type,e=i.pendingProps,c=Mh(wt.current).createElement(a),c[ln]=i,c[sn]=e,Kn(c,a,e),Qe(c),i.stateNode=c):i.memoizedState=ey(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Xt(i),e===null&&Vt&&(c=i.stateNode=Jv(i.type,i.pendingProps,wt.current),Rt=i,Je=!0,p=Ot,Vo(i.type)?(Tm=p,Ot=Os(c.firstChild)):Ot=p),Wn(e,i,i.pendingProps.children,a),gh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Vt&&((p=c=Ot)&&(c=q2(c,i.type,i.pendingProps,Je),c!==null?(i.stateNode=c,Rt=i,Ot=Os(c.firstChild),Je=!1,p=!0):p=!1),p||Si(i)),Xt(i),p=i.type,_=i.pendingProps,R=e!==null?e.memoizedProps:null,c=_.children,wm(p,_)?c=null:R!==null&&wm(p,R)&&(i.flags|=32),i.memoizedState!==null&&(p=yd(e,i,l2,null,null,a),qu._currentValue=p),gh(e,i),Wn(e,i,c,a),i.child;case 6:return e===null&&Vt&&((e=a=Ot)&&(a=G2(a,i.pendingProps,Je),a!==null?(i.stateNode=a,Rt=i,Ot=null,e=!0):e=!1),e||Si(i)),null;case 13:return Y_(e,i,a);case 4:return Mt(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Al(i,null,c,a):Wn(e,i,c,a),i.child;case 11:return B_(e,i,i.type,i.pendingProps,a);case 7:return Wn(e,i,i.pendingProps,a),i.child;case 8:return Wn(e,i,i.pendingProps.children,a),i.child;case 12:return Wn(e,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,ir(i,i.type,c.value),Wn(e,i,c.children,a),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,La(i),p=ri(p),c=c(p),i.flags|=1,Wn(e,i,c,a),i.child;case 14:return H_(e,i,i.type,i.pendingProps,a);case 15:return F_(e,i,i.type,i.pendingProps,a);case 19:return X_(e,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},e===null?(a=_h(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=cs(e.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return V_(e,i,a);case 24:return La(i),c=ri(Sn),e===null?(p=cd(),p===null&&(p=He,_=ld(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=a),p=_),i.memoizedState={parent:c,cache:p},fd(i),ir(i,Sn,p)):((e.lanes&a)!==0&&(dd(e,i),Eu(i,null,null,a),bu()),p=e.memoizedState,_=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),ir(i,Sn,c)):(c=_.cache,ir(i,Sn,c),c!==p.cache&&vl(i,[Sn],a,!0))),Wn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Pr(e){e.flags|=4}function J_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!oy(i)){if(i=fs.current,i!==null&&((ce&4194048)===ce?sr!==null:(ce&62914560)!==ce&&(ce&536870912)===0||i!==sr))throw yu=hd,Dg;e.flags|=8192}}function vh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Li():536870912,e.lanes|=i,Il|=i)}function Ru(e,i){if(!Vt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function $e(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(i)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=a,i}function _2(e,i,a){var c=i.pendingProps;switch(Ct(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(i),null;case 1:return $e(i),null;case 3:return a=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Is(Sn),Gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(i)?Pr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xc())),$e(i),null;case 26:return a=i.memoizedState,e===null?(Pr(i),a!==null?($e(i),J_(i,a)):($e(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Pr(i),$e(i),J_(i,a)):($e(i),i.flags&=-16777217):(e.memoizedProps!==c&&Pr(i),$e(i),i.flags&=-16777217),null;case 27:oe(i),a=wt.current;var p=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Pr(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return $e(i),null}e=dt.current,Ia(i)?Yc(i):(e=Jv(p,c,a),i.stateNode=e,Pr(i))}return $e(i),null;case 5:if(oe(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Pr(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return $e(i),null}if(e=dt.current,Ia(i))Yc(i);else{switch(p=Mh(wt.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?p.createElement(a,{is:c.is}):p.createElement(a)}}e[ln]=i,e[sn]=c;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=e;t:switch(Kn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pr(i)}}return $e(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Pr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(e=wt.current,Ia(i)){if(e=i.stateNode,a=i.memoizedProps,c=null,p=Rt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[ln]=i,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Gv(e.nodeValue,a)),e||Si(i)}else e=Mh(e).createTextNode(c),e[ln]=i,i.stateNode=e}return $e(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Ia(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(o(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[ln]=i}else Co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$e(i),p=!1}else p=Xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(kr(i),i):(kr(i),null)}if(kr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var _=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==p&&(c.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),vh(i,i.updateQueue),$e(i),null;case 4:return Gt(),e===null&&pm(i.stateNode.containerInfo),$e(i),null;case 10:return Is(i.type),$e(i),null;case 19:if(lt(An),p=i.memoizedState,p===null)return $e(i),null;if(c=(i.flags&128)!==0,_=p.rendering,_===null)if(c)Ru(p,!1);else{if(rn!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=dh(e),_!==null){for(i.flags|=128,Ru(p,!1),e=_.updateQueue,i.updateQueue=e,vh(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)mu(a,e),a=a.sibling;return ht(An,An.current&1|2),i.child}e=e.sibling}p.tail!==null&&Zt()>bh&&(i.flags|=128,c=!0,Ru(p,!1),i.lanes=4194304)}else{if(!c)if(e=dh(_),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,vh(i,e),Ru(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Vt)return $e(i),null}else 2*Zt()-p.renderingStartTime>bh&&a!==536870912&&(i.flags|=128,c=!0,Ru(p,!1),i.lanes=4194304);p.isBackwards?(_.sibling=i.child,i.child=_):(e=p.last,e!==null?e.sibling=_:i.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Zt(),i.sibling=null,e=An.current,ht(An,c?e&1|2:e&1),i):($e(i),null);case 22:case 23:return kr(i),_d(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&($e(i),i.subtreeFlags&6&&(i.flags|=8192)):$e(i),a=i.updateQueue,a!==null&&vh(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),e!==null&&lt(ka),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Is(Sn),$e(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function v2(e,i){switch(Ct(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Is(Sn),Gt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return oe(i),null;case 13:if(kr(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Co()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return lt(An),null;case 4:return Gt(),null;case 10:return Is(i.type),null;case 22:case 23:return kr(i),_d(),e!==null&&lt(ka),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Is(Sn),null;case 25:return null;default:return null}}function $_(e,i){switch(Ct(i),i.tag){case 3:Is(Sn),Gt();break;case 26:case 27:case 5:oe(i);break;case 4:Gt();break;case 13:kr(i);break;case 19:lt(An);break;case 10:Is(i.type);break;case 22:case 23:kr(i),_d(),e!==null&&lt(ka);break;case 24:Is(Sn)}}function Iu(e,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&e)===e){c=void 0;var _=a.create,R=a.inst;c=_(),R.destroy=c}a=a.next}while(a!==p)}}catch(F){ke(i,i.return,F)}}function Do(e,i,a){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&e)===e){var R=c.inst,F=R.destroy;if(F!==void 0){R.destroy=void 0,p=i;var X=a,mt=F;try{mt()}catch(bt){ke(p,X,bt)}}}c=c.next}while(c!==_)}}catch(bt){ke(i,i.return,bt)}}function tv(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Hg(i,a)}catch(c){ke(e,e.return,c)}}}function ev(e,i,a){a.props=Pa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){ke(e,i,c)}}function Mu(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(p){ke(e,i,p)}}function rr(e,i){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){ke(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){ke(e,i,p)}else a.current=null}function nv(e){var i=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){ke(e,e.return,p)}}function Gd(e,i,a){try{var c=e.stateNode;j2(c,e.type,a,i),c[sn]=i}catch(p){ke(e,e.return,p)}}function iv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vo(e.type)||e.tag===4}function Zd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||iv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vo(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wd(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ih));else if(c!==4&&(c===27&&Vo(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Wd(e,i,a),e=e.sibling;e!==null;)Wd(e,i,a),e=e.sibling}function yh(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(c!==4&&(c===27&&Vo(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(yh(e,i,a),e=e.sibling;e!==null;)yh(e,i,a),e=e.sibling}function sv(e){var i=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Kn(i,c,a),i[ln]=e,i[sn]=a}catch(_){ke(e,e.return,_)}}var Ur=!1,hn=!1,Yd=!1,rv=typeof WeakSet=="function"?WeakSet:Set,zn=null;function y2(e,i){if(e=e.containerInfo,vm=Uh,e=xa(e),Ta(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break t}var R=0,F=-1,X=-1,mt=0,bt=0,xt=e,gt=null;e:for(;;){for(var _t;xt!==a||p!==0&&xt.nodeType!==3||(F=R+p),xt!==_||c!==0&&xt.nodeType!==3||(X=R+c),xt.nodeType===3&&(R+=xt.nodeValue.length),(_t=xt.firstChild)!==null;)gt=xt,xt=_t;for(;;){if(xt===e)break e;if(gt===a&&++mt===p&&(F=R),gt===_&&++bt===c&&(X=R),(_t=xt.nextSibling)!==null)break;xt=gt,gt=xt.parentNode}xt=_t}a=F===-1||X===-1?null:{start:F,end:X}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:e,selectionRange:a},Uh=!1,zn=i;zn!==null;)if(i=zn,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,zn=e;else for(;zn!==null;){switch(i=zn,_=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,a=i,p=_.memoizedProps,_=_.memoizedState,c=a.stateNode;try{var Ft=Pa(a.type,p,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(Ft,_),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ut){ke(a,a.return,Ut)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Em(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Em(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=i.sibling,e!==null){e.return=i.return,zn=e;break}zn=i.return}}function ov(e,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Po(e,a),c&4&&Iu(5,a);break;case 1:if(Po(e,a),c&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(R){ke(a,a.return,R)}else{var p=Pa(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(R){ke(a,a.return,R)}}c&64&&tv(a),c&512&&Mu(a,a.return);break;case 3:if(Po(e,a),c&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hg(e,i)}catch(R){ke(a,a.return,R)}}break;case 27:i===null&&c&4&&sv(a);case 26:case 5:Po(e,a),i===null&&c&4&&nv(a),c&512&&Mu(a,a.return);break;case 12:Po(e,a);break;case 13:Po(e,a),c&4&&uv(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=N2.bind(null,a),Z2(e,a))));break;case 22:if(c=a.memoizedState!==null||Ur,!c){i=i!==null&&i.memoizedState!==null||hn,p=Ur;var _=hn;Ur=c,(hn=i)&&!_?Uo(e,a,(a.subtreeFlags&8772)!==0):Po(e,a),Ur=p,hn=_}break;case 30:break;default:Po(e,a)}}function av(e){var i=e.alternate;i!==null&&(e.alternate=null,av(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Gs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Ci=!1;function zr(e,i,a){for(a=a.child;a!==null;)lv(e,i,a),a=a.sibling}function lv(e,i,a){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:hn||rr(a,i),zr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:hn||rr(a,i);var c=Ke,p=Ci;Vo(a.type)&&(Ke=a.stateNode,Ci=!1),zr(e,i,a),Bu(a.stateNode),Ke=c,Ci=p;break;case 5:hn||rr(a,i);case 6:if(c=Ke,p=Ci,Ke=null,zr(e,i,a),Ke=c,Ci=p,Ke!==null)if(Ci)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(_){ke(a,i,_)}else try{Ke.removeChild(a.stateNode)}catch(_){ke(a,i,_)}break;case 18:Ke!==null&&(Ci?(e=Ke,Xv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Yu(e)):Xv(Ke,a.stateNode));break;case 4:c=Ke,p=Ci,Ke=a.stateNode.containerInfo,Ci=!0,zr(e,i,a),Ke=c,Ci=p;break;case 0:case 11:case 14:case 15:hn||Do(2,a,i),hn||Do(4,a,i),zr(e,i,a);break;case 1:hn||(rr(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&ev(a,i,c)),zr(e,i,a);break;case 21:zr(e,i,a);break;case 22:hn=(c=hn)||a.memoizedState!==null,zr(e,i,a),hn=c;break;default:zr(e,i,a)}}function uv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yu(e)}catch(a){ke(i,i.return,a)}}function w2(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new rv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new rv),i;default:throw Error(o(435,e.tag))}}function Kd(e,i){var a=w2(e);i.forEach(function(c){var p=R2.bind(null,e,c);a.has(c)||(a.add(c),c.then(p,p))})}function Wi(e,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],_=e,R=i,F=R;t:for(;F!==null;){switch(F.tag){case 27:if(Vo(F.type)){Ke=F.stateNode,Ci=!1;break t}break;case 5:Ke=F.stateNode,Ci=!1;break t;case 3:case 4:Ke=F.stateNode.containerInfo,Ci=!0;break t}F=F.return}if(Ke===null)throw Error(o(160));lv(_,R,p),Ke=null,Ci=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)cv(i,e),i=i.sibling}var Ms=null;function cv(e,i){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wi(i,e),Yi(e),c&4&&(Do(3,e,e.return),Iu(3,e),Do(5,e,e.return));break;case 1:Wi(i,e),Yi(e),c&512&&(hn||a===null||rr(a,a.return)),c&64&&Ur&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=Ms;if(Wi(i,e),Yi(e),c&512&&(hn||a===null||rr(a,a.return)),c&4){var _=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":_=p.getElementsByTagName("title")[0],(!_||_[qs]||_[ln]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(c),p.head.insertBefore(_,p.querySelector("head > title"))),Kn(_,c,a),_[ln]=e,Qe(_),c=_;break t;case"link":var R=sy("link","href",p).get(c+(a.href||""));if(R){for(var F=0;F<R.length;F++)if(_=R[F],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){R.splice(F,1);break e}}_=p.createElement(c),Kn(_,c,a),p.head.appendChild(_);break;case"meta":if(R=sy("meta","content",p).get(c+(a.content||""))){for(F=0;F<R.length;F++)if(_=R[F],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){R.splice(F,1);break e}}_=p.createElement(c),Kn(_,c,a),p.head.appendChild(_);break;default:throw Error(o(468,c))}_[ln]=e,Qe(_),c=_}e.stateNode=c}else ry(p,e.type,e.stateNode);else e.stateNode=iy(p,c,e.memoizedProps);else _!==c?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,c===null?ry(p,e.type,e.stateNode):iy(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Gd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Wi(i,e),Yi(e),c&512&&(hn||a===null||rr(a,a.return)),a!==null&&c&4&&Gd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Wi(i,e),Yi(e),c&512&&(hn||a===null||rr(a,a.return)),e.flags&32){p=e.stateNode;try{Ln(p,"")}catch(_t){ke(e,e.return,_t)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,Gd(e,p,a!==null?a.memoizedProps:p)),c&1024&&(Yd=!0);break;case 6:if(Wi(i,e),Yi(e),c&4){if(e.stateNode===null)throw Error(o(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(_t){ke(e,e.return,_t)}}break;case 3:if(kh=null,p=Ms,Ms=Oh(i.containerInfo),Wi(i,e),Ms=p,Yi(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Yu(i.containerInfo)}catch(_t){ke(e,e.return,_t)}Yd&&(Yd=!1,hv(e));break;case 4:c=Ms,Ms=Oh(e.stateNode.containerInfo),Wi(i,e),Yi(e),Ms=c;break;case 12:Wi(i,e),Yi(e);break;case 13:Wi(i,e),Yi(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(em=Zt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Kd(e,c)));break;case 22:p=e.memoizedState!==null;var X=a!==null&&a.memoizedState!==null,mt=Ur,bt=hn;if(Ur=mt||p,hn=bt||X,Wi(i,e),hn=bt,Ur=mt,Yi(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(a===null||X||Ur||hn||Ua(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){X=a=i;try{if(_=X.stateNode,p)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{F=X.stateNode;var xt=X.memoizedProps.style,gt=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;F.style.display=gt==null||typeof gt=="boolean"?"":(""+gt).trim()}}catch(_t){ke(X,X.return,_t)}}}else if(i.tag===6){if(a===null){X=i;try{X.stateNode.nodeValue=p?"":X.memoizedProps}catch(_t){ke(X,X.return,_t)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Kd(e,a))));break;case 19:Wi(i,e),Yi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Kd(e,c)));break;case 30:break;case 21:break;default:Wi(i,e),Yi(e)}}function Yi(e){var i=e.flags;if(i&2){try{for(var a,c=e.return;c!==null;){if(iv(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var p=a.stateNode,_=Zd(e);yh(e,_,p);break;case 5:var R=a.stateNode;a.flags&32&&(Ln(R,""),a.flags&=-33);var F=Zd(e);yh(e,F,R);break;case 3:case 4:var X=a.stateNode.containerInfo,mt=Zd(e);Wd(e,mt,X);break;default:throw Error(o(161))}}catch(bt){ke(e,e.return,bt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function hv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;hv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Po(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ov(e,i.alternate,i),i=i.sibling}function Ua(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Do(4,i,i.return),Ua(i);break;case 1:rr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ev(i,i.return,a),Ua(i);break;case 27:Bu(i.stateNode);case 26:case 5:rr(i,i.return),Ua(i);break;case 22:i.memoizedState===null&&Ua(i);break;case 30:Ua(i);break;default:Ua(i)}e=e.sibling}}function Uo(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,_=i,R=_.flags;switch(_.tag){case 0:case 11:case 15:Uo(p,_,a),Iu(4,_);break;case 1:if(Uo(p,_,a),c=_,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(mt){ke(c,c.return,mt)}if(c=_,p=c.updateQueue,p!==null){var F=c.stateNode;try{var X=p.shared.hiddenCallbacks;if(X!==null)for(p.shared.hiddenCallbacks=null,p=0;p<X.length;p++)Bg(X[p],F)}catch(mt){ke(c,c.return,mt)}}a&&R&64&&tv(_),Mu(_,_.return);break;case 27:sv(_);case 26:case 5:Uo(p,_,a),a&&c===null&&R&4&&nv(_),Mu(_,_.return);break;case 12:Uo(p,_,a);break;case 13:Uo(p,_,a),a&&R&4&&uv(p,_);break;case 22:_.memoizedState===null&&Uo(p,_,a),Mu(_,_.return);break;case 30:break;default:Uo(p,_,a)}i=i.sibling}}function Xd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&gu(a))}function Qd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gu(e))}function or(e,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fv(e,i,a,c),i=i.sibling}function fv(e,i,a,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:or(e,i,a,c),p&2048&&Iu(9,i);break;case 1:or(e,i,a,c);break;case 3:or(e,i,a,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gu(e)));break;case 12:if(p&2048){or(e,i,a,c),e=i.stateNode;try{var _=i.memoizedProps,R=_.id,F=_.onPostCommit;typeof F=="function"&&F(R,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(X){ke(i,i.return,X)}}else or(e,i,a,c);break;case 13:or(e,i,a,c);break;case 23:break;case 22:_=i.stateNode,R=i.alternate,i.memoizedState!==null?_._visibility&2?or(e,i,a,c):Ou(e,i):_._visibility&2?or(e,i,a,c):(_._visibility|=2,Cl(e,i,a,c,(i.subtreeFlags&10256)!==0)),p&2048&&Xd(R,i);break;case 24:or(e,i,a,c),p&2048&&Qd(i.alternate,i);break;default:or(e,i,a,c)}}function Cl(e,i,a,c,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var _=e,R=i,F=a,X=c,mt=R.flags;switch(R.tag){case 0:case 11:case 15:Cl(_,R,F,X,p),Iu(8,R);break;case 23:break;case 22:var bt=R.stateNode;R.memoizedState!==null?bt._visibility&2?Cl(_,R,F,X,p):Ou(_,R):(bt._visibility|=2,Cl(_,R,F,X,p)),p&&mt&2048&&Xd(R.alternate,R);break;case 24:Cl(_,R,F,X,p),p&&mt&2048&&Qd(R.alternate,R);break;default:Cl(_,R,F,X,p)}i=i.sibling}}function Ou(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,c=i,p=c.flags;switch(c.tag){case 22:Ou(a,c),p&2048&&Xd(c.alternate,c);break;case 24:Ou(a,c),p&2048&&Qd(c.alternate,c);break;default:Ou(a,c)}i=i.sibling}}var Lu=8192;function Nl(e){if(e.subtreeFlags&Lu)for(e=e.child;e!==null;)dv(e),e=e.sibling}function dv(e){switch(e.tag){case 26:Nl(e),e.flags&Lu&&e.memoizedState!==null&&rE(Ms,e.memoizedState,e.memoizedProps);break;case 5:Nl(e);break;case 3:case 4:var i=Ms;Ms=Oh(e.stateNode.containerInfo),Nl(e),Ms=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Lu,Lu=16777216,Nl(e),Lu=i):Nl(e));break;default:Nl(e)}}function mv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ku(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];zn=c,gv(c,e)}mv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pv(e),e=e.sibling}function pv(e){switch(e.tag){case 0:case 11:case 15:ku(e),e.flags&2048&&Do(9,e,e.return);break;case 3:ku(e);break;case 12:ku(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,wh(e)):ku(e);break;default:ku(e)}}function wh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];zn=c,gv(c,e)}mv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Do(8,i,i.return),wh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,wh(i));break;default:wh(i)}e=e.sibling}}function gv(e,i){for(;zn!==null;){var a=zn;switch(a.tag){case 0:case 11:case 15:Do(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gu(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,zn=c;else t:for(a=e;zn!==null;){c=zn;var p=c.sibling,_=c.return;if(av(c),c===a){zn=null;break t}if(p!==null){p.return=_,zn=p;break t}zn=_}}}var b2={getCacheForType:function(e){var i=ri(Sn),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},E2=typeof WeakMap=="function"?WeakMap:Map,Ne=0,He=null,ie=null,ce=0,Re=0,Ki=null,zo=!1,Rl=!1,Jd=!1,jr=0,rn=0,jo=0,za=0,$d=0,ds=0,Il=0,Du=null,Ni=null,tm=!1,em=0,bh=1/0,Eh=null,Bo=null,Yn=0,Ho=null,Ml=null,Ol=0,nm=0,im=null,_v=null,Pu=0,sm=null;function Xi(){if((Ne&2)!==0&&ce!==0)return ce&-ce;if(k.T!==null){var e=yl;return e!==0?e:hm()}return Mn()}function vv(){ds===0&&(ds=(ce&536870912)===0||Vt?Vs():536870912);var e=fs.current;return e!==null&&(e.flags|=32),ds}function Qi(e,i,a){(e===He&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Ll(e,0),Fo(e,ce,ds,!1)),an(e,a),((Ne&2)===0||e!==He)&&(e===He&&((Ne&2)===0&&(za|=a),rn===4&&Fo(e,ce,ds,!1)),ar(e))}function yv(e,i,a){if((Ne&6)!==0)throw Error(o(327));var c=!a&&(i&124)===0&&(i&e.expiredLanes)===0||ui(e,i),p=c?S2(e,i):am(e,i,!0),_=c;do{if(p===0){Rl&&!c&&Fo(e,i,0,!1);break}else{if(a=e.current.alternate,_&&!x2(a)){p=am(e,i,!1),_=!1;continue}if(p===2){if(_=i,e.errorRecoveryDisabledLanes&_)var R=0;else R=e.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){i=R;t:{var F=e;p=Du;var X=F.current.memoizedState.isDehydrated;if(X&&(Ll(F,R).flags|=256),R=am(F,R,!1),R!==2){if(Jd&&!X){F.errorRecoveryDisabledLanes|=_,za|=_,p=4;break t}_=Ni,Ni=p,_!==null&&(Ni===null?Ni=_:Ni.push.apply(Ni,_))}p=R}if(_=!1,p!==2)continue}}if(p===1){Ll(e,0),Fo(e,i,0,!0);break}t:{switch(c=e,_=p,_){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Fo(c,i,ds,!zo);break t;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(p=em+300-Zt(),10<p)){if(Fo(c,i,ds,!zo),Ji(c,0,!0)!==0)break t;c.timeoutHandle=Yv(wv.bind(null,c,a,Ni,Eh,tm,i,ds,za,Il,zo,_,2,-0,0),p);break t}wv(c,a,Ni,Eh,tm,i,ds,za,Il,zo,_,0,-0,0)}}break}while(!0);ar(e)}function wv(e,i,a,c,p,_,R,F,X,mt,bt,xt,gt,_t){if(e.timeoutHandle=-1,xt=i.subtreeFlags,(xt&8192||(xt&16785408)===16785408)&&(Vu={stylesheets:null,count:0,unsuspend:sE},dv(i),xt=oE(),xt!==null)){e.cancelPendingCommit=xt(Cv.bind(null,e,i,_,a,c,p,R,F,X,bt,1,gt,_t)),Fo(e,_,R,!mt);return}Cv(e,i,_,a,c,p,R,F,X)}function x2(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],_=p.getSnapshot;p=p.value;try{if(!fi(_(),p))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fo(e,i,a,c){i&=~$d,i&=~za,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var _=31-Pe(p),R=1<<_;c[_]=-1,p&=~R}a!==0&&In(e,a,i)}function xh(){return(Ne&6)===0?(Uu(0),!1):!0}function rm(){if(ie!==null){if(Re===0)var e=ie.return;else e=ie,Rs=hs=null,Ed(e),Sl=null,Cu=0,e=ie;for(;e!==null;)$_(e.alternate,e),e=e.return;ie=null}}function Ll(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,H2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),rm(),He=e,ie=a=cs(e.current,null),ce=i,Re=0,Ki=null,zo=!1,Rl=ui(e,i),Jd=!1,Il=ds=$d=za=jo=rn=0,Ni=Du=null,tm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-Pe(c),_=1<<p;i|=e[p],c&=~_}return jr=i,Aa(),a}function bv(e,i){Kt=null,k.H=ch,i===vu||i===th?(i=zg(),Re=3):i===Dg?(i=zg(),Re=4):Re=i===j_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ki=i,ie===null&&(rn=1,ph(e,mi(i,e.current)))}function Ev(){var e=k.H;return k.H=ch,e===null?ch:e}function xv(){var e=k.A;return k.A=b2,e}function om(){rn=4,zo||(ce&4194048)!==ce&&fs.current!==null||(Rl=!0),(jo&134217727)===0&&(za&134217727)===0||He===null||Fo(He,ce,ds,!1)}function am(e,i,a){var c=Ne;Ne|=2;var p=Ev(),_=xv();(He!==e||ce!==i)&&(Eh=null,Ll(e,i)),i=!1;var R=rn;t:do try{if(Re!==0&&ie!==null){var F=ie,X=Ki;switch(Re){case 8:rm(),R=6;break t;case 3:case 2:case 9:case 6:fs.current===null&&(i=!0);var mt=Re;if(Re=0,Ki=null,kl(e,F,X,mt),a&&Rl){R=0;break t}break;default:mt=Re,Re=0,Ki=null,kl(e,F,X,mt)}}T2(),R=rn;break}catch(bt){bv(e,bt)}while(!0);return i&&e.shellSuspendCounter++,Rs=hs=null,Ne=c,k.H=p,k.A=_,ie===null&&(He=null,ce=0,Aa()),R}function T2(){for(;ie!==null;)Tv(ie)}function S2(e,i){var a=Ne;Ne|=2;var c=Ev(),p=xv();He!==e||ce!==i?(Eh=null,bh=Zt()+500,Ll(e,i)):Rl=ui(e,i);t:do try{if(Re!==0&&ie!==null){i=ie;var _=Ki;e:switch(Re){case 1:Re=0,Ki=null,kl(e,i,_,1);break;case 2:case 9:if(Pg(_)){Re=0,Ki=null,Sv(i);break}i=function(){Re!==2&&Re!==9||He!==e||(Re=7),ar(e)},_.then(i,i);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:Pg(_)?(Re=0,Ki=null,Sv(i)):(Re=0,Ki=null,kl(e,i,_,7));break;case 5:var R=null;switch(ie.tag){case 26:R=ie.memoizedState;case 5:case 27:var F=ie;if(!R||oy(R)){Re=0,Ki=null;var X=F.sibling;if(X!==null)ie=X;else{var mt=F.return;mt!==null?(ie=mt,Th(mt)):ie=null}break e}}Re=0,Ki=null,kl(e,i,_,5);break;case 6:Re=0,Ki=null,kl(e,i,_,6);break;case 8:rm(),rn=6;break t;default:throw Error(o(462))}}A2();break}catch(bt){bv(e,bt)}while(!0);return Rs=hs=null,k.H=c,k.A=p,Ne=a,ie!==null?0:(He=null,ce=0,Aa(),rn)}function A2(){for(;ie!==null&&!be();)Tv(ie)}function Tv(e){var i=Q_(e.alternate,e,jr);e.memoizedProps=e.pendingProps,i===null?Th(e):ie=i}function Sv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=G_(a,i,i.pendingProps,i.type,void 0,ce);break;case 11:i=G_(a,i,i.pendingProps,i.type.render,i.ref,ce);break;case 5:Ed(i);default:$_(a,i),i=ie=mu(i,jr),i=Q_(a,i,jr)}e.memoizedProps=e.pendingProps,i===null?Th(e):ie=i}function kl(e,i,a,c){Rs=hs=null,Ed(i),Sl=null,Cu=0;var p=i.return;try{if(p2(e,p,i,a,ce)){rn=1,ph(e,mi(a,e.current)),ie=null;return}}catch(_){if(p!==null)throw ie=p,_;rn=1,ph(e,mi(a,e.current)),ie=null;return}i.flags&32768?(Vt||c===1?e=!0:Rl||(ce&536870912)!==0?e=!1:(zo=e=!0,(c===2||c===9||c===3||c===6)&&(c=fs.current,c!==null&&c.tag===13&&(c.flags|=16384))),Av(i,e)):Th(i)}function Th(e){var i=e;do{if((i.flags&32768)!==0){Av(i,zo);return}e=i.return;var a=_2(i.alternate,i,jr);if(a!==null){ie=a;return}if(i=i.sibling,i!==null){ie=i;return}ie=i=e}while(i!==null);rn===0&&(rn=5)}function Av(e,i){do{var a=v2(e.alternate,e);if(a!==null){a.flags&=32767,ie=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){ie=e;return}ie=e=a}while(e!==null);rn=6,ie=null}function Cv(e,i,a,c,p,_,R,F,X){e.cancelPendingCommit=null;do Sh();while(Yn!==0);if((Ne&6)!==0)throw Error(o(327));if(i!==null){if(i===e.current)throw Error(o(177));if(_=i.lanes|i.childLanes,_|=Zi,Qn(e,a,_,R,F,X),e===He&&(ie=He=null,ce=0),Ml=i,Ho=e,Ol=a,nm=_,im=p,_v=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I2(_e,function(){return Ov(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=k.T,k.T=null,p=H.p,H.p=2,R=Ne,Ne|=4;try{y2(e,i,a)}finally{Ne=R,H.p=p,k.T=c}}Yn=1,Nv(),Rv(),Iv()}}function Nv(){if(Yn===1){Yn=0;var e=Ho,i=Ml,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var c=H.p;H.p=2;var p=Ne;Ne|=4;try{cv(i,e);var _=ym,R=xa(e.containerInfo),F=_.focusedElem,X=_.selectionRange;if(R!==F&&F&&F.ownerDocument&&hl(F.ownerDocument.documentElement,F)){if(X!==null&&Ta(F)){var mt=X.start,bt=X.end;if(bt===void 0&&(bt=mt),"selectionStart"in F)F.selectionStart=mt,F.selectionEnd=Math.min(bt,F.value.length);else{var xt=F.ownerDocument||document,gt=xt&&xt.defaultView||window;if(gt.getSelection){var _t=gt.getSelection(),Ft=F.textContent.length,Ut=Math.min(X.start,Ft),Le=X.end===void 0?Ut:Math.min(X.end,Ft);!_t.extend&&Ut>Le&&(R=Le,Le=Ut,Ut=R);var st=fu(F,Ut),tt=fu(F,Le);if(st&&tt&&(_t.rangeCount!==1||_t.anchorNode!==st.node||_t.anchorOffset!==st.offset||_t.focusNode!==tt.node||_t.focusOffset!==tt.offset)){var ft=xt.createRange();ft.setStart(st.node,st.offset),_t.removeAllRanges(),Ut>Le?(_t.addRange(ft),_t.extend(tt.node,tt.offset)):(ft.setEnd(tt.node,tt.offset),_t.addRange(ft))}}}}for(xt=[],_t=F;_t=_t.parentNode;)_t.nodeType===1&&xt.push({element:_t,left:_t.scrollLeft,top:_t.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<xt.length;F++){var Et=xt[F];Et.element.scrollLeft=Et.left,Et.element.scrollTop=Et.top}}Uh=!!vm,ym=vm=null}finally{Ne=p,H.p=c,k.T=a}}e.current=i,Yn=2}}function Rv(){if(Yn===2){Yn=0;var e=Ho,i=Ml,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var c=H.p;H.p=2;var p=Ne;Ne|=4;try{ov(e,i.alternate,i)}finally{Ne=p,H.p=c,k.T=a}}Yn=3}}function Iv(){if(Yn===4||Yn===3){Yn=0,We();var e=Ho,i=Ml,a=Ol,c=_v;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yn=5:(Yn=0,Ml=Ho=null,Mv(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Bo=null),Jn(a),i=i.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=k.T,p=H.p,H.p=2,k.T=null;try{for(var _=e.onRecoverableError,R=0;R<c.length;R++){var F=c[R];_(F.value,{componentStack:F.stack})}}finally{k.T=i,H.p=p}}(Ol&3)!==0&&Sh(),ar(e),p=e.pendingLanes,(a&4194090)!==0&&(p&42)!==0?e===sm?Pu++:(Pu=0,sm=e):Pu=0,Uu(0)}}function Mv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,gu(i)))}function Sh(e){return Nv(),Rv(),Iv(),Ov()}function Ov(){if(Yn!==5)return!1;var e=Ho,i=nm;nm=0;var a=Jn(Ol),c=k.T,p=H.p;try{H.p=32>a?32:a,k.T=null,a=im,im=null;var _=Ho,R=Ol;if(Yn=0,Ml=Ho=null,Ol=0,(Ne&6)!==0)throw Error(o(331));var F=Ne;if(Ne|=4,pv(_.current),fv(_,_.current,R,a),Ne=F,Uu(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(ae,_)}catch{}return!0}finally{H.p=p,k.T=c,Mv(e,i)}}function Lv(e,i,a){i=mi(a,i),i=Pd(e.stateNode,i,2),e=Mo(e,i,2),e!==null&&(an(e,2),ar(e))}function ke(e,i,a){if(e.tag===3)Lv(e,e,a);else for(;i!==null;){if(i.tag===3){Lv(i,e,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bo===null||!Bo.has(c))){e=mi(a,e),a=U_(2),c=Mo(i,a,2),c!==null&&(z_(a,c,i,e),an(c,2),ar(c));break}}i=i.return}}function lm(e,i,a){var c=e.pingCache;if(c===null){c=e.pingCache=new E2;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(a)||(Jd=!0,p.add(a),e=C2.bind(null,e,i,a),i.then(e,e))}function C2(e,i,a){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(ce&a)===a&&(rn===4||rn===3&&(ce&62914560)===ce&&300>Zt()-em?(Ne&2)===0&&Ll(e,0):$d|=a,Il===ce&&(Il=0)),ar(e)}function kv(e,i){i===0&&(i=Li()),e=So(e,i),e!==null&&(an(e,i),ar(e))}function N2(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),kv(e,a)}function R2(e,i){var a=0;switch(e.tag){case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(i),kv(e,a)}function I2(e,i){return En(e,i)}var Ah=null,Dl=null,um=!1,Ch=!1,cm=!1,ja=0;function ar(e){e!==Dl&&e.next===null&&(Dl===null?Ah=Dl=e:Dl=Dl.next=e),Ch=!0,um||(um=!0,O2())}function Uu(e,i){if(!cm&&Ch){cm=!0;do for(var a=!1,c=Ah;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var _=0;else{var R=c.suspendedLanes,F=c.pingedLanes;_=(1<<31-Pe(42|e)+1)-1,_&=p&~(R&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,zv(c,_))}else _=ce,_=Ji(c,c===He?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||ui(c,_)||(a=!0,zv(c,_));c=c.next}while(a);cm=!1}}function M2(){Dv()}function Dv(){Ch=um=!1;var e=0;ja!==0&&(B2()&&(e=ja),ja=0);for(var i=Zt(),a=null,c=Ah;c!==null;){var p=c.next,_=Pv(c,i);_===0?(c.next=null,a===null?Ah=p:a.next=p,p===null&&(Dl=a)):(a=c,(e!==0||(_&3)!==0)&&(Ch=!0)),c=p}Uu(e)}function Pv(e,i){for(var a=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var R=31-Pe(_),F=1<<R,X=p[R];X===-1?((F&a)===0||(F&c)!==0)&&(p[R]=_s(F,i)):X<=i&&(e.expiredLanes|=F),_&=~F}if(i=He,a=ce,a=Ji(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===i&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&fn(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ui(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(c!==null&&fn(c),Jn(a)){case 2:case 8:a=qe;break;case 32:a=_e;break;case 268435456:a=Te;break;default:a=_e}return c=Uv.bind(null,e),a=En(a,c),e.callbackPriority=i,e.callbackNode=a,i}return c!==null&&c!==null&&fn(c),e.callbackPriority=2,e.callbackNode=null,2}function Uv(e,i){if(Yn!==0&&Yn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Sh()&&e.callbackNode!==a)return null;var c=ce;return c=Ji(e,e===He?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(yv(e,c,i),Pv(e,Zt()),e.callbackNode!=null&&e.callbackNode===a?Uv.bind(null,e):null)}function zv(e,i){if(Sh())return null;yv(e,i,!0)}function O2(){F2(function(){(Ne&6)!==0?En(Ve,M2):Dv()})}function hm(){return ja===0&&(ja=Vs()),ja}function jv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Bv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function L2(e,i,a,c,p){if(i==="submit"&&a&&a.stateNode===p){var _=jv((p[sn]||null).action),R=c.submitter;R&&(i=(i=R[sn]||null)?jv(i.formAction):R.getAttribute("formAction"),i!==null&&(_=i,R=null));var F=new xr("action","action",null,c,p);e.push({event:F,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ja!==0){var X=R?Bv(p,R):new FormData(p);Md(a,{pending:!0,data:X,method:p.method,action:_},null,X)}}else typeof _=="function"&&(F.preventDefault(),X=R?Bv(p,R):new FormData(p),Md(a,{pending:!0,data:X,method:p.method,action:_},_,X))},currentTarget:p}]})}}for(var fm=0;fm<Nr.length;fm++){var dm=Nr[fm],k2=dm.toLowerCase(),D2=dm[0].toUpperCase()+dm.slice(1);Gi(k2,"on"+D2)}Gi(Gc,"onAnimationEnd"),Gi(qi,"onAnimationIteration"),Gi(Sa,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(od,"onTransitionRun"),Gi(pl,"onTransitionStart"),Gi(ad,"onTransitionCancel"),Gi(du,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zu));function Hv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],p=c.event;c=c.listeners;t:{var _=void 0;if(i)for(var R=c.length-1;0<=R;R--){var F=c[R],X=F.instance,mt=F.currentTarget;if(F=F.listener,X!==_&&p.isPropagationStopped())break t;_=F,p.currentTarget=mt;try{_(p)}catch(bt){mh(bt)}p.currentTarget=null,_=X}else for(R=0;R<c.length;R++){if(F=c[R],X=F.instance,mt=F.currentTarget,F=F.listener,X!==_&&p.isPropagationStopped())break t;_=F,p.currentTarget=mt;try{_(p)}catch(bt){mh(bt)}p.currentTarget=null,_=X}}}}function se(e,i){var a=i[$n];a===void 0&&(a=i[$n]=new Set);var c=e+"__bubble";a.has(c)||(Fv(i,e,2,!1),a.add(c))}function mm(e,i,a){var c=0;i&&(c|=4),Fv(a,e,c,i)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function pm(e){if(!e[Nh]){e[Nh]=!0,da.forEach(function(a){a!=="selectionchange"&&(P2.has(a)||mm(a,!1,e),mm(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nh]||(i[Nh]=!0,mm("selectionchange",!1,i))}}function Fv(e,i,a,c){switch(fy(i)){case 2:var p=uE;break;case 8:p=cE;break;default:p=Rm}a=p.bind(null,i,a,e),p=void 0,!ti||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,a,{capture:!0,passive:p}):e.addEventListener(i,a,!0):p!==void 0?e.addEventListener(i,a,{passive:p}):e.addEventListener(i,a,!1)}function gm(e,i,a,c,p){var _=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var F=c.stateNode.containerInfo;if(F===p)break;if(R===4)for(R=c.return;R!==null;){var X=R.tag;if((X===3||X===4)&&R.stateNode.containerInfo===p)return;R=R.return}for(;F!==null;){if(R=ts(F),R===null)return;if(X=R.tag,X===5||X===6||X===26||X===27){c=_=R;continue t}F=F.parentNode}}c=c.return}hi(function(){var mt=_,bt=Gn(a),xt=[];t:{var gt=Zc.get(e);if(gt!==void 0){var _t=xr,Ft=e;switch(e){case"keypress":if(Ie(a)===0)break t;case"keydown":case"keyup":_t=po;break;case"focusin":Ft="focus",_t=uo;break;case"focusout":Ft="blur",_t=uo;break;case"beforeblur":case"afterblur":_t=uo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=ll;break;case Gc:case qi:case Sa:_t=ho;break;case du:_t=ul;break;case"scroll":case"scrollend":_t=ol;break;case"wheel":_t=Zn;break;case"copy":case"cut":case"paste":_t=Qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=go;break;case"toggle":case"beforetoggle":_t=ls}var Ut=(i&4)!==0,Le=!Ut&&(e==="scroll"||e==="scrollend"),st=Ut?gt!==null?gt+"Capture":null:gt;Ut=[];for(var tt=mt,ft;tt!==null;){var Et=tt;if(ft=Et.stateNode,Et=Et.tag,Et!==5&&Et!==26&&Et!==27||ft===null||st===null||(Et=ue(tt,st),Et!=null&&Ut.push(ju(tt,Et,ft))),Le)break;tt=tt.return}0<Ut.length&&(gt=new _t(gt,Ft,null,a,bt),xt.push({event:gt,listeners:Ut}))}}if((i&7)===0){t:{if(gt=e==="mouseover"||e==="pointerover",_t=e==="mouseout"||e==="pointerout",gt&&a!==ji&&(Ft=a.relatedTarget||a.fromElement)&&(ts(Ft)||Ft[Ei]))break t;if((_t||gt)&&(gt=bt.window===bt?bt:(gt=bt.ownerDocument)?gt.defaultView||gt.parentWindow:window,_t?(Ft=a.relatedTarget||a.toElement,_t=mt,Ft=Ft?ts(Ft):null,Ft!==null&&(Le=h(Ft),Ut=Ft.tag,Ft!==Le||Ut!==5&&Ut!==27&&Ut!==6)&&(Ft=null)):(_t=null,Ft=mt),_t!==Ft)){if(Ut=Dn,Et="onMouseLeave",st="onMouseEnter",tt="mouse",(e==="pointerout"||e==="pointerover")&&(Ut=go,Et="onPointerLeave",st="onPointerEnter",tt="pointer"),Le=_t==null?gt:Vn(_t),ft=Ft==null?gt:Vn(Ft),gt=new Ut(Et,tt+"leave",_t,a,bt),gt.target=Le,gt.relatedTarget=ft,Et=null,ts(bt)===mt&&(Ut=new Ut(st,tt+"enter",Ft,a,bt),Ut.target=ft,Ut.relatedTarget=Le,Et=Ut),Le=Et,_t&&Ft)e:{for(Ut=_t,st=Ft,tt=0,ft=Ut;ft;ft=Pl(ft))tt++;for(ft=0,Et=st;Et;Et=Pl(Et))ft++;for(;0<tt-ft;)Ut=Pl(Ut),tt--;for(;0<ft-tt;)st=Pl(st),ft--;for(;tt--;){if(Ut===st||st!==null&&Ut===st.alternate)break e;Ut=Pl(Ut),st=Pl(st)}Ut=null}else Ut=null;_t!==null&&Vv(xt,gt,_t,Ut,!1),Ft!==null&&Le!==null&&Vv(xt,Le,Ft,Ut,!0)}}t:{if(gt=mt?Vn(mt):window,_t=gt.nodeName&&gt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&gt.type==="file")var It=yo;else if(ii(gt))if(uu)It=rd;else{It=sd;var Jt=hu}else _t=gt.nodeName,!_t||_t.toLowerCase()!=="input"||gt.type!=="checkbox"&&gt.type!=="radio"?mt&&Er(mt.elementType)&&(It=yo):It=Ns;if(It&&(It=It(e,mt))){si(xt,It,a,bt);break t}Jt&&Jt(e,gt,mt),e==="focusout"&&mt&&gt.type==="number"&&mt.memoizedProps.value!=null&&Ui(gt,"number",gt.value)}switch(Jt=mt?Vn(mt):window,e){case"focusin":(ii(Jt)||Jt.contentEditable==="true")&&(Vi=Jt,Eo=mt,Cr=null);break;case"focusout":Cr=Eo=Vi=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Vc(xt,a,bt);break;case"selectionchange":if(fl)break;case"keydown":case"keyup":Vc(xt,a,bt)}var kt;if(f)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else je?St(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(V&&a.locale!=="ko"&&(je||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&je&&(kt=Es()):(Ti=bt,ei="value"in Ti?Ti.value:Ti.textContent,je=!0)),Jt=Rh(mt,zt),0<Jt.length&&(zt=new ni(zt,e,null,a,bt),xt.push({event:zt,listeners:Jt}),kt?zt.data=kt:(kt=ve(a),kt!==null&&(zt.data=kt)))),(kt=N?ne(e,a):_n(e,a))&&(zt=Rh(mt,"onBeforeInput"),0<zt.length&&(Jt=new ni("onBeforeInput","beforeinput",null,a,bt),xt.push({event:Jt,listeners:zt}),Jt.data=kt)),L2(xt,e,mt,a,bt)}Hv(xt,i)})}function ju(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Rh(e,i){for(var a=i+"Capture",c=[];e!==null;){var p=e,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=ue(e,a),p!=null&&c.unshift(ju(e,p,_)),p=ue(e,i),p!=null&&c.push(ju(e,p,_))),e.tag===3)return c;e=e.return}return[]}function Pl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vv(e,i,a,c,p){for(var _=i._reactName,R=[];a!==null&&a!==c;){var F=a,X=F.alternate,mt=F.stateNode;if(F=F.tag,X!==null&&X===c)break;F!==5&&F!==26&&F!==27||mt===null||(X=mt,p?(mt=ue(a,_),mt!=null&&R.unshift(ju(a,mt,X))):p||(mt=ue(a,_),mt!=null&&R.push(ju(a,mt,X)))),a=a.return}R.length!==0&&e.push({event:i,listeners:R})}var U2=/\r\n?/g,z2=/\u0000|\uFFFD/g;function qv(e){return(typeof e=="string"?e:""+e).replace(U2,`
`).replace(z2,"")}function Gv(e,i){return i=qv(i),qv(e)===i}function Ih(){}function Oe(e,i,a,c,p,_){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Ln(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Ln(e,""+c);break;case"className":ns(e,"class",c);break;case"tabIndex":ns(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(e,a,c);break;case"style":ws(e,c,_);break;case"data":if(i!=="object"){ns(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Xs(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(i!=="input"&&Oe(e,i,"name",p.name,p,null),Oe(e,i,"formEncType",p.formEncType,p,null),Oe(e,i,"formMethod",p.formMethod,p,null),Oe(e,i,"formTarget",p.formTarget,p,null)):(Oe(e,i,"encType",p.encType,p,null),Oe(e,i,"method",p.method,p,null),Oe(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Xs(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=Ih);break;case"onScroll":c!=null&&se("scroll",e);break;case"onScrollEnd":c!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=Xs(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":se("beforetoggle",e),se("toggle",e),Zs(e,"popover",c);break;case"xlinkActuate":xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":xn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":xn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":xn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":xn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zs(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pa.get(a)||a,Zs(e,a,c))}}function _m(e,i,a,c,p,_){switch(a){case"style":ws(e,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof c=="string"?Ln(e,c):(typeof c=="number"||typeof c=="bigint")&&Ln(e,""+c);break;case"onScroll":c!=null&&se("scroll",e);break;case"onScrollEnd":c!=null&&se("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ro.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),i=a.slice(2,p?a.length-7:void 0),_=e[sn]||null,_=_!=null?_[a]:null,typeof _=="function"&&e.removeEventListener(i,_,p),typeof c=="function")){typeof _!="function"&&_!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,c,p);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Zs(e,a,c)}}}function Kn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var c=!1,p=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var R=a[_];if(R!=null)switch(_){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Oe(e,i,_,R,a,null)}}p&&Oe(e,i,"srcSet",a.srcSet,a,null),c&&Oe(e,i,"src",a.src,a,null);return;case"input":se("invalid",e);var F=_=R=p=null,X=null,mt=null;for(c in a)if(a.hasOwnProperty(c)){var bt=a[c];if(bt!=null)switch(c){case"name":p=bt;break;case"type":R=bt;break;case"checked":X=bt;break;case"defaultChecked":mt=bt;break;case"value":_=bt;break;case"defaultValue":F=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(o(137,i));break;default:Oe(e,i,c,bt,a,null)}}br(e,_,F,X,mt,R,p,!1),Ks(e);return;case"select":se("invalid",e),c=R=_=null;for(p in a)if(a.hasOwnProperty(p)&&(F=a[p],F!=null))switch(p){case"value":_=F;break;case"defaultValue":R=F;break;case"multiple":c=F;default:Oe(e,i,p,F,a,null)}i=_,a=R,e.multiple=!!c,i!=null?qn(e,!!c,i,!1):a!=null&&qn(e,!!c,a,!0);return;case"textarea":se("invalid",e),_=p=c=null;for(R in a)if(a.hasOwnProperty(R)&&(F=a[R],F!=null))switch(R){case"value":c=F;break;case"defaultValue":p=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(91));break;default:Oe(e,i,R,F,a,null)}ci(e,c,p,_),Ks(e);return;case"option":for(X in a)if(a.hasOwnProperty(X)&&(c=a[X],c!=null))switch(X){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Oe(e,i,X,c,a,null)}return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(c=0;c<zu.length;c++)se(zu[c],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(mt in a)if(a.hasOwnProperty(mt)&&(c=a[mt],c!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Oe(e,i,mt,c,a,null)}return;default:if(Er(i)){for(bt in a)a.hasOwnProperty(bt)&&(c=a[bt],c!==void 0&&_m(e,i,bt,c,a,void 0));return}}for(F in a)a.hasOwnProperty(F)&&(c=a[F],c!=null&&Oe(e,i,F,c,a,null))}function j2(e,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,R=null,F=null,X=null,mt=null,bt=null;for(_t in a){var xt=a[_t];if(a.hasOwnProperty(_t)&&xt!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":X=xt;default:c.hasOwnProperty(_t)||Oe(e,i,_t,null,c,xt)}}for(var gt in c){var _t=c[gt];if(xt=a[gt],c.hasOwnProperty(gt)&&(_t!=null||xt!=null))switch(gt){case"type":_=_t;break;case"name":p=_t;break;case"checked":mt=_t;break;case"defaultChecked":bt=_t;break;case"value":R=_t;break;case"defaultValue":F=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(o(137,i));break;default:_t!==xt&&Oe(e,i,gt,_t,c,xt)}}ze(e,R,F,X,mt,bt,_,p);return;case"select":_t=R=F=gt=null;for(_ in a)if(X=a[_],a.hasOwnProperty(_)&&X!=null)switch(_){case"value":break;case"multiple":_t=X;default:c.hasOwnProperty(_)||Oe(e,i,_,null,c,X)}for(p in c)if(_=c[p],X=a[p],c.hasOwnProperty(p)&&(_!=null||X!=null))switch(p){case"value":gt=_;break;case"defaultValue":F=_;break;case"multiple":R=_;default:_!==X&&Oe(e,i,p,_,c,X)}i=F,a=R,c=_t,gt!=null?qn(e,!!a,gt,!1):!!c!=!!a&&(i!=null?qn(e,!!a,i,!0):qn(e,!!a,a?[]:"",!1));return;case"textarea":_t=gt=null;for(F in a)if(p=a[F],a.hasOwnProperty(F)&&p!=null&&!c.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Oe(e,i,F,null,c,p)}for(R in c)if(p=c[R],_=a[R],c.hasOwnProperty(R)&&(p!=null||_!=null))switch(R){case"value":gt=p;break;case"defaultValue":_t=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==_&&Oe(e,i,R,p,c,_)}jt(e,gt,_t);return;case"option":for(var Ft in a)if(gt=a[Ft],a.hasOwnProperty(Ft)&&gt!=null&&!c.hasOwnProperty(Ft))switch(Ft){case"selected":e.selected=!1;break;default:Oe(e,i,Ft,null,c,gt)}for(X in c)if(gt=c[X],_t=a[X],c.hasOwnProperty(X)&&gt!==_t&&(gt!=null||_t!=null))switch(X){case"selected":e.selected=gt&&typeof gt!="function"&&typeof gt!="symbol";break;default:Oe(e,i,X,gt,c,_t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in a)gt=a[Ut],a.hasOwnProperty(Ut)&&gt!=null&&!c.hasOwnProperty(Ut)&&Oe(e,i,Ut,null,c,gt);for(mt in c)if(gt=c[mt],_t=a[mt],c.hasOwnProperty(mt)&&gt!==_t&&(gt!=null||_t!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(o(137,i));break;default:Oe(e,i,mt,gt,c,_t)}return;default:if(Er(i)){for(var Le in a)gt=a[Le],a.hasOwnProperty(Le)&&gt!==void 0&&!c.hasOwnProperty(Le)&&_m(e,i,Le,void 0,c,gt);for(bt in c)gt=c[bt],_t=a[bt],!c.hasOwnProperty(bt)||gt===_t||gt===void 0&&_t===void 0||_m(e,i,bt,gt,c,_t);return}}for(var st in a)gt=a[st],a.hasOwnProperty(st)&&gt!=null&&!c.hasOwnProperty(st)&&Oe(e,i,st,null,c,gt);for(xt in c)gt=c[xt],_t=a[xt],!c.hasOwnProperty(xt)||gt===_t||gt==null&&_t==null||Oe(e,i,xt,gt,c,_t)}var vm=null,ym=null;function Mh(e){return e.nodeType===9?e:e.ownerDocument}function Zv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function wm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bm=null;function B2(){var e=window.event;return e&&e.type==="popstate"?e===bm?!1:(bm=e,!0):(bm=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,H2=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,F2=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(e){return Kv.resolve(null).then(e).catch(V2)}:Yv;function V2(e){setTimeout(function(){throw e})}function Vo(e){return e==="head"}function Xv(e,i){var a=i,c=0,p=0;do{var _=a.nextSibling;if(e.removeChild(a),_&&_.nodeType===8)if(a=_.data,a==="/$"){if(0<c&&8>c){a=c;var R=e.ownerDocument;if(a&1&&Bu(R.documentElement),a&2&&Bu(R.body),a&4)for(a=R.head,Bu(a),R=a.firstChild;R;){var F=R.nextSibling,X=R.nodeName;R[qs]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&R.rel.toLowerCase()==="stylesheet"||a.removeChild(R),R=F}}if(p===0){e.removeChild(_),Yu(i);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:c=a.charCodeAt(0)-48;else c=0;a=_}while(a);Yu(i)}function Em(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Em(a),Gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function q2(e,i,a,c){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[qs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=Os(e.nextSibling),e===null)break}return null}function G2(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Os(e.nextSibling),e===null))return null;return e}function xm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Z2(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Os(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Tm=null;function Qv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Jv(e,i,a){switch(i=Mh(a),e){case"html":if(e=i.documentElement,!e)throw Error(o(452));return e;case"head":if(e=i.head,!e)throw Error(o(453));return e;case"body":if(e=i.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Bu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Gs(e)}var ms=new Map,$v=new Set;function Oh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Br=H.d;H.d={f:W2,r:Y2,D:K2,C:X2,L:Q2,m:J2,X:tE,S:$2,M:eE};function W2(){var e=Br.f(),i=xh();return e||i}function Y2(e){var i=Di(e);i!==null&&i.tag===5&&i.type==="form"?y_(i):Br.r(e)}var Ul=typeof document>"u"?null:document;function ty(e,i,a){var c=Ul;if(c&&typeof i=="string"&&i){var p=Ge(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),$v.has(p)||($v.add(p),e={rel:e,crossOrigin:a,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Kn(i,"link",e),Qe(i),c.head.appendChild(i)))}}function K2(e){Br.D(e),ty("dns-prefetch",e,null)}function X2(e,i){Br.C(e,i),ty("preconnect",e,i)}function Q2(e,i,a){Br.L(e,i,a);var c=Ul;if(c&&e&&i){var p='link[rel="preload"][as="'+Ge(i)+'"]';i==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+Ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+Ge(a.imageSizes)+'"]')):p+='[href="'+Ge(e)+'"]';var _=p;switch(i){case"style":_=zl(e);break;case"script":_=jl(e)}ms.has(_)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),ms.set(_,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(Hu(_))||i==="script"&&c.querySelector(Fu(_))||(i=c.createElement("link"),Kn(i,"link",e),Qe(i),c.head.appendChild(i)))}}function J2(e,i){Br.m(e,i);var a=Ul;if(a&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ge(c)+'"][href="'+Ge(e)+'"]',_=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=jl(e)}if(!ms.has(_)&&(e=E({rel:"modulepreload",href:e},i),ms.set(_,e),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fu(_)))return}c=a.createElement("link"),Kn(c,"link",e),Qe(c),a.head.appendChild(c)}}}function $2(e,i,a){Br.S(e,i,a);var c=Ul;if(c&&e){var p=On(c).hoistableStyles,_=zl(e);i=i||"default";var R=p.get(_);if(!R){var F={loading:0,preload:null};if(R=c.querySelector(Hu(_)))F.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=ms.get(_))&&Sm(e,a);var X=R=c.createElement("link");Qe(X),Kn(X,"link",e),X._p=new Promise(function(mt,bt){X.onload=mt,X.onerror=bt}),X.addEventListener("load",function(){F.loading|=1}),X.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Lh(R,i,c)}R={type:"stylesheet",instance:R,count:1,state:F},p.set(_,R)}}}function tE(e,i){Br.X(e,i);var a=Ul;if(a&&e){var c=On(a).hoistableScripts,p=jl(e),_=c.get(p);_||(_=a.querySelector(Fu(p)),_||(e=E({src:e,async:!0},i),(i=ms.get(p))&&Am(e,i),_=a.createElement("script"),Qe(_),Kn(_,"link",e),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function eE(e,i){Br.M(e,i);var a=Ul;if(a&&e){var c=On(a).hoistableScripts,p=jl(e),_=c.get(p);_||(_=a.querySelector(Fu(p)),_||(e=E({src:e,async:!0,type:"module"},i),(i=ms.get(p))&&Am(e,i),_=a.createElement("script"),Qe(_),Kn(_,"link",e),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function ey(e,i,a,c){var p=(p=wt.current)?Oh(p):null;if(!p)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=zl(a.href),a=On(p).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=zl(a.href);var _=On(p).hoistableStyles,R=_.get(e);if(R||(p=p.ownerDocument||p,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,R),(_=p.querySelector(Hu(e)))&&!_._p&&(R.instance=_,R.state.loading=5),ms.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ms.set(e,a),_||nE(p,e,a,R.state))),i&&c===null)throw Error(o(528,""));return R}if(i&&c!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=jl(a),a=On(p).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function zl(e){return'href="'+Ge(e)+'"'}function Hu(e){return'link[rel="stylesheet"]['+e+"]"}function ny(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function nE(e,i,a,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Kn(i,"link",a),Qe(i),e.head.appendChild(i))}function jl(e){return'[src="'+Ge(e)+'"]'}function Fu(e){return"script[async]"+e}function iy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ge(a.href)+'"]');if(c)return i.instance=c,Qe(c),c;var p=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Qe(c),Kn(c,"style",p),Lh(c,a.precedence,e),i.instance=c;case"stylesheet":p=zl(a.href);var _=e.querySelector(Hu(p));if(_)return i.state.loading|=4,i.instance=_,Qe(_),_;c=ny(a),(p=ms.get(p))&&Sm(c,p),_=(e.ownerDocument||e).createElement("link"),Qe(_);var R=_;return R._p=new Promise(function(F,X){R.onload=F,R.onerror=X}),Kn(_,"link",c),i.state.loading|=4,Lh(_,a.precedence,e),i.instance=_;case"script":return _=jl(a.src),(p=e.querySelector(Fu(_)))?(i.instance=p,Qe(p),p):(c=a,(p=ms.get(_))&&(c=E({},a),Am(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Qe(p),Kn(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Lh(c,a.precedence,e));return i.instance}function Lh(e,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,_=p,R=0;R<c.length;R++){var F=c[R];if(F.dataset.precedence===i)_=F;else if(_!==p)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Sm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Am(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var kh=null;function sy(e,i,a){if(kh===null){var c=new Map,p=kh=new Map;p.set(a,c)}else p=kh,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var _=a[p];if(!(_[qs]||_[ln]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(i)||"";R=e+R;var F=c.get(R);F?F.push(_):c.set(R,[_])}}return c}function ry(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function iE(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function oy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Vu=null;function sE(){}function rE(e,i,a){if(Vu===null)throw Error(o(475));var c=Vu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=zl(a.href),_=e.querySelector(Hu(p));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Dh.bind(c),e.then(c,c)),i.state.loading|=4,i.instance=_,Qe(_);return}_=e.ownerDocument||e,a=ny(a),(p=ms.get(p))&&Sm(a,p),_=_.createElement("link"),Qe(_);var R=_;R._p=new Promise(function(F,X){R.onload=F,R.onerror=X}),Kn(_,"link",a),i.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Dh.bind(c),e.addEventListener("load",i),e.addEventListener("error",i))}}function oE(){if(Vu===null)throw Error(o(475));var e=Vu;return e.stylesheets&&e.count===0&&Cm(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Cm(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Dh(){if(this.count--,this.count===0){if(this.stylesheets)Cm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ph=null;function Cm(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ph=new Map,i.forEach(aE,e),Ph=null,Dh.call(e))}function aE(e,i){if(!(i.state.loading&4)){var a=Ph.get(e);if(a)var c=a.get(null);else{a=new Map,Ph.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var R=p[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(a.set(R.dataset.precedence,R),c=R)}c&&a.set(null,c)}p=i.instance,R=p.getAttribute("data-precedence"),_=a.get(R)||c,_===c&&a.set(null,p),a.set(R,p),this.count++,c=Dh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),_?_.parentNode.insertBefore(p,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var qu={$$typeof:et,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function lE(e,i,a,c,p,_,R,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function ay(e,i,a,c,p,_,R,F,X,mt,bt,xt){return e=new lE(e,i,a,R,F,X,mt,xt),i=1,_===!0&&(i|=24),_=gi(3,null,null,i),e.current=_,_.stateNode=e,i=ld(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:c,isDehydrated:a,cache:i},fd(_),e}function ly(e){return e?(e=Mr,e):Mr}function uy(e,i,a,c,p,_){p=ly(p),c.context===null?c.context=p:c.pendingContext=p,c=Io(i),c.payload={element:a},_=_===void 0?null:_,_!==null&&(c.callback=_),a=Mo(e,c,i),a!==null&&(Qi(a,e,i),wu(a,e,i))}function cy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Nm(e,i){cy(e,i),(e=e.alternate)&&cy(e,i)}function hy(e){if(e.tag===13){var i=So(e,67108864);i!==null&&Qi(i,e,67108864),Nm(e,67108864)}}var Uh=!0;function uE(e,i,a,c){var p=k.T;k.T=null;var _=H.p;try{H.p=2,Rm(e,i,a,c)}finally{H.p=_,k.T=p}}function cE(e,i,a,c){var p=k.T;k.T=null;var _=H.p;try{H.p=8,Rm(e,i,a,c)}finally{H.p=_,k.T=p}}function Rm(e,i,a,c){if(Uh){var p=Im(c);if(p===null)gm(e,i,c,zh,a),dy(e,c);else if(fE(p,e,i,a,c))c.stopPropagation();else if(dy(e,c),i&4&&-1<hE.indexOf(e)){for(;p!==null;){var _=Di(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=nn(_.pendingLanes);if(R!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;R;){var X=1<<31-Pe(R);F.entanglements[1]|=X,R&=~X}ar(_),(Ne&6)===0&&(bh=Zt()+500,Uu(0))}}break;case 13:F=So(_,2),F!==null&&Qi(F,_,2),xh(),Nm(_,2)}if(_=Im(c),_===null&&gm(e,i,c,zh,a),_===p)break;p=_}p!==null&&c.stopPropagation()}else gm(e,i,c,null,a)}}function Im(e){return e=Gn(e),Mm(e)}var zh=null;function Mm(e){if(zh=null,e=ts(e),e!==null){var i=h(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return zh=e,null}function fy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case Ve:return 2;case qe:return 8;case _e:case dn:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Om=!1,qo=null,Go=null,Zo=null,Gu=new Map,Zu=new Map,Wo=[],hE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(e,i){switch(e){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Zo=null;break;case"pointerover":case"pointerout":Gu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(i.pointerId)}}function Wu(e,i,a,c,p,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:_,targetContainers:[p]},i!==null&&(i=Di(i),i!==null&&hy(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function fE(e,i,a,c,p){switch(i){case"focusin":return qo=Wu(qo,e,i,a,c,p),!0;case"dragenter":return Go=Wu(Go,e,i,a,c,p),!0;case"mouseover":return Zo=Wu(Zo,e,i,a,c,p),!0;case"pointerover":var _=p.pointerId;return Gu.set(_,Wu(Gu.get(_)||null,e,i,a,c,p)),!0;case"gotpointercapture":return _=p.pointerId,Zu.set(_,Wu(Zu.get(_)||null,e,i,a,c,p)),!0}return!1}function my(e){var i=ts(e.target);if(i!==null){var a=h(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){e.blockedOn=i,so(e.priority,function(){if(a.tag===13){var c=Xi();c=$i(c);var p=So(a,c);p!==null&&Qi(p,a,c),Nm(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Im(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);ji=c,a.target.dispatchEvent(c),ji=null}else return i=Di(a),i!==null&&hy(i),e.blockedOn=a,!1;i.shift()}return!0}function py(e,i,a){jh(e)&&a.delete(i)}function dE(){Om=!1,qo!==null&&jh(qo)&&(qo=null),Go!==null&&jh(Go)&&(Go=null),Zo!==null&&jh(Zo)&&(Zo=null),Gu.forEach(py),Zu.forEach(py)}function Bh(e,i){e.blockedOn===i&&(e.blockedOn=null,Om||(Om=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,dE)))}var Hh=null;function gy(e){Hh!==e&&(Hh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hh===e&&(Hh=null);for(var i=0;i<e.length;i+=3){var a=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if(Mm(c||a)===null)continue;break}var _=Di(a);_!==null&&(e.splice(i,3),i-=3,Md(_,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function Yu(e){function i(X){return Bh(X,e)}qo!==null&&Bh(qo,e),Go!==null&&Bh(Go,e),Zo!==null&&Bh(Zo,e),Gu.forEach(i),Zu.forEach(i);for(var a=0;a<Wo.length;a++){var c=Wo[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Wo.length&&(a=Wo[0],a.blockedOn===null);)my(a),a.blockedOn===null&&Wo.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],_=a[c+1],R=p[sn]||null;if(typeof _=="function")R||gy(a);else if(R){var F=null;if(_&&_.hasAttribute("formAction")){if(p=_,R=_[sn]||null)F=R.formAction;else if(Mm(p)!==null)continue}else F=R.action;typeof F=="function"?a[c+1]=F:(a.splice(c,3),c-=3),gy(a)}}}function Lm(e){this._internalRoot=e}Fh.prototype.render=Lm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,c=Xi();uy(a,c,e,i,null,null)},Fh.prototype.unmount=Lm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;uy(e.current,2,null,e,null,null),xh(),i[Ei]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Mn();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Wo.length&&i!==0&&i<Wo[a].priority;a++);Wo.splice(a,0,e),a===0&&my(e)}};var _y=t.version;if(_y!=="19.1.1")throw Error(o(527,_y,"19.1.1"));H.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(i),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var mE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{ae=Vh.inject(mE),ee=Vh}catch{}}return Xu.createRoot=function(e,i){if(!l(e))throw Error(o(299));var a=!1,c="",p=L_,_=k_,R=D_,F=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(F=i.unstable_transitionCallbacks)),i=ay(e,1,!1,null,null,a,c,p,_,R,F,null),e[Ei]=i.current,pm(e),new Lm(i)},Xu.hydrateRoot=function(e,i,a){if(!l(e))throw Error(o(299));var c=!1,p="",_=L_,R=k_,F=D_,X=null,mt=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(R=a.onCaughtError),a.onRecoverableError!==void 0&&(F=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(X=a.unstable_transitionCallbacks),a.formState!==void 0&&(mt=a.formState)),i=ay(e,1,!0,i,a??null,c,p,_,R,F,X,mt),i.context=ly(null),a=i.current,c=Xi(),c=$i(c),p=Io(c),p.callback=null,Mo(a,p,c),a=c,i.current.lanes=a,an(i,a),ar(i),e[Ei]=i.current,pm(e),new Fh(i)},Xu.version="19.1.1",Xu}var Cy;function xE(){if(Cy)return Pm.exports;Cy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pm.exports=EE(),Pm.exports}var TE=xE();const SE=()=>{};var Ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At=function(s,t){if(!s)throw eu(t)},eu=function(s){return new Error("Firebase Database ("+h1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(s){const t=[];let n=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++o)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},AE=function(s){const t=[];let n=0,o=0;for(;n<s.length;){const l=s[n++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[n++];t[o++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[n++],m=s[n++],g=s[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(y>>10)),t[o++]=String.fromCharCode(56320+(y&1023))}else{const h=s[n++],m=s[n++];t[o++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},Np={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<s.length;l+=3){const h=s[l],m=l+1<s.length,g=m?s[l+1]:0,y=l+2<s.length,w=y?s[l+2]:0,E=h>>2,T=(h&3)<<4|g>>4;let x=(g&15)<<2|w>>6,I=w&63;y||(I=64,m||(x=64)),o.push(n[E],n[T],n[x],n[I])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(f1(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):AE(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<s.length;){const h=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const w=l<s.length?n[s.charAt(l)]:64;++l;const T=l<s.length?n[s.charAt(l)]:64;if(++l,h==null||g==null||w==null||T==null)throw new CE;const x=h<<2|g>>4;if(o.push(x),w!==64){const I=g<<4&240|w>>2;if(o.push(I),T!==64){const P=w<<6&192|T;o.push(P)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class CE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d1=function(s){const t=f1(s);return Np.encodeByteArray(t,!0)},sf=function(s){return d1(s).replace(/\./g,"")},rf=function(s){try{return Np.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(s){return m1(void 0,s)}function m1(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!RE(n)||(s[n]=m1(s[n],t[n]));return s}function RE(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=()=>IE().__FIREBASE_DEFAULTS__,OE=()=>{if(typeof process>"u"||typeof Ny>"u")return;const s=Ny.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},LE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&rf(s[1]);return t&&JSON.parse(t)},Rp=()=>{try{return SE()||ME()||OE()||LE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},p1=s=>Rp()?.emulatorHosts?.[s],Ip=s=>{const t=p1(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),o]:[t.substring(0,n),o]},g1=()=>Rp()?.config,_1=s=>Rp()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pf(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sf(JSON.stringify(n)),sf(JSON.stringify(m)),""].join(".")}const sc={};function kE(){const s={prod:[],emulator:[]};for(const t of Object.keys(sc))sc[t]?s.emulator.push(t):s.prod.push(t);return s}function DE(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let Ry=!1;function Uf(s,t){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||sc[s]===t||sc[s]||Ry)return;sc[s]=t;function n(x){return`__firebase__banner__${x}`}const o="__firebase__banner",h=kE().prod.length>0;function m(){const x=document.getElementById(o);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,I){x.setAttribute("width","24"),x.setAttribute("id",I),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function w(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Ry=!0,m()},x}function E(x,I){x.setAttribute("id",I),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=DE(o),I=n("text"),P=document.getElementById(I)||document.createElement("span"),G=n("learnmore"),Z=document.getElementById(G)||document.createElement("a"),W=n("preprendIcon"),pt=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const et=x.element;g(et),E(Z,G);const Q=w();y(pt,W),et.append(pt,P,Z,Q),document.body.appendChild(et)}h?(P.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Op(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wi())}function PE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function v1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zE(){const s=wi();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jE(){return h1.NODE_ADMIN===!0}function BE(){try{return typeof indexedDB=="object"}catch{return!1}}function HE(){return new Promise((s,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(o),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="FirebaseError";class gr extends Error{constructor(t,n,o){super(n),this.code=t,this.customData=o,this.name=FE,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(t,n,o){this.service=t,this.serviceName=n,this.errors=o}create(t,...n){const o=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?VE(h,o):"Error",g=`${this.serviceName}: ${m} (${l}).`;return new gr(l,g,o)}}function VE(s,t){return s.replace(qE,(n,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const qE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(s){return JSON.parse(s)}function Cn(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=function(s){let t={},n={},o={},l="";try{const h=s.split(".");t=mc(rf(h[0])||""),n=mc(rf(h[1])||""),l=h[2],o=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:o,signature:l}},GE=function(s){const t=y1(s),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ZE=function(s){const t=y1(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function Xl(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function rp(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function of(s,t,n){const o={};for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=t.call(n,s[l],l,s));return o}function ia(s,t){if(s===t)return!0;const n=Object.keys(s),o=Object.keys(t);for(const l of n){if(!o.includes(l))return!1;const h=s[l],m=t[l];if(Iy(h)&&Iy(m)){if(!ia(h,m))return!1}else if(h!==m)return!1}for(const l of o)if(!n.includes(l))return!1;return!0}function Iy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(s){const t=[];for(const[n,o]of Object.entries(s))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function ec(s){const t={};return s.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[l,h]=o.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function nc(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const o=this.W_;if(typeof t=="string")for(let T=0;T<16;T++)o[T]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let T=0;T<16;T++)o[T]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let T=16;T<80;T++){const x=o[T-3]^o[T-8]^o[T-14]^o[T-16];o[T]=(x<<1|x>>>31)&4294967295}let l=this.chain_[0],h=this.chain_[1],m=this.chain_[2],g=this.chain_[3],y=this.chain_[4],w,E;for(let T=0;T<80;T++){T<40?T<20?(w=g^h&(m^g),E=1518500249):(w=h^m^g,E=1859775393):T<60?(w=h&m|g&(h|m),E=2400959708):(w=h^m^g,E=3395469782);const x=(l<<5|l>>>27)+w+y+E+o[T]&4294967295;y=g,g=m,m=(h<<30|h>>>2)&4294967295,h=l,l=x}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const o=n-this.blockSize;let l=0;const h=this.buf_;let m=this.inbuf_;for(;l<n;){if(m===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<n;)if(h[m]=t.charCodeAt(l),++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}else for(;l<n;)if(h[m]=t[l],++m,++l,m===this.blockSize){this.compress_(h),m=0;break}}this.inbuf_=m,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let h=24;h>=0;h-=8)t[o]=this.chain_[l]>>h&255,++o;return t}}function YE(s,t){const n=new KE(s,t);return n.subscribe.bind(n)}class KE{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,o){let l;if(t===void 0&&n===void 0&&o===void 0)throw new Error("Missing Observer.");XE(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:o},l.next===void 0&&(l.next=Bm),l.error===void 0&&(l.error=Bm),l.complete===void 0&&(l.complete=Bm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XE(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Bm(){}function Lp(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(s){const t=[];let n=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);if(l>=55296&&l<=56319){const h=l-55296;o++,At(o<s.length,"Surrogate pair missing trail surrogate.");const m=s.charCodeAt(o)-56320;l=65536+(h<<10)+m}l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):l<65536?(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},zf=function(s){let t=0;for(let n=0;n<s.length;n++){const o=s.charCodeAt(n);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(s){return s&&s._delegate?s._delegate:s}class Yr{constructor(t,n,o){this.name=t,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const o=new Df;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),o=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tx(t))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});o.resolve(h)}catch{}}}}clearInstance(t=Ba){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ba){return this.instances.has(t)}getOptions(t=Ba){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[h,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);o===g&&m.resolve(l)}return l}onInit(t,n){const o=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(o)??new Set;l.add(t),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&t(h,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const o=this.onInitCallbacks.get(n);if(o)for(const l of o)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:$E(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Ba){return this.component?this.component.multipleInstances?t:Ba:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $E(s){return s===Ba?void 0:s}function tx(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new JE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xe||(xe={}));const nx={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},ix=xe.INFO,sx={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},rx=(s,t,...n)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),l=sx[t];if(l)console[l](`[${o}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jf{constructor(t){this.name=t,this._logLevel=ix,this._logHandler=rx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...t),this._logHandler(this,xe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...t),this._logHandler(this,xe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...t),this._logHandler(this,xe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...t),this._logHandler(this,xe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...t),this._logHandler(this,xe.ERROR,...t)}}const ox=(s,t)=>t.some(n=>s instanceof n);let My,Oy;function ax(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lx(){return Oy||(Oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w1=new WeakMap,op=new WeakMap,b1=new WeakMap,Hm=new WeakMap,kp=new WeakMap;function ux(s){const t=new Promise((n,o)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{n($o(s.result)),l()},m=()=>{o(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",m)});return t.then(n=>{n instanceof IDBCursor&&w1.set(n,s)}).catch(()=>{}),kp.set(t,s),t}function cx(s){if(op.has(s))return;const t=new Promise((n,o)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{o(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});op.set(s,t)}let ap={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return op.get(s);if(t==="objectStoreNames")return s.objectStoreNames||b1.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $o(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function hx(s){ap=s(ap)}function fx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=s.call(Fm(this),t,...n);return b1.set(o,t.sort?t.sort():[t]),$o(o)}:lx().includes(s)?function(...t){return s.apply(Fm(this),t),$o(w1.get(this))}:function(...t){return $o(s.apply(Fm(this),t))}}function dx(s){return typeof s=="function"?fx(s):(s instanceof IDBTransaction&&cx(s),ox(s,ax())?new Proxy(s,ap):s)}function $o(s){if(s instanceof IDBRequest)return ux(s);if(Hm.has(s))return Hm.get(s);const t=dx(s);return t!==s&&(Hm.set(s,t),kp.set(t,s)),t}const Fm=s=>kp.get(s);function mx(s,t,{blocked:n,upgrade:o,blocking:l,terminated:h}={}){const m=indexedDB.open(s,t),g=$o(m);return o&&m.addEventListener("upgradeneeded",y=>{o($o(m.result),y.oldVersion,y.newVersion,$o(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),g}const px=["get","getKey","getAll","getAllKeys","count"],gx=["put","add","delete","clear"],Vm=new Map;function Ly(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Vm.get(t))return Vm.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,l=gx.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(l||px.includes(n)))return;const h=async function(m,...g){const y=this.transaction(m,l?"readwrite":"readonly");let w=y.store;return o&&(w=w.index(g.shift())),(await Promise.all([w[n](...g),l&&y.done]))[0]};return Vm.set(t,h),h}hx(s=>({...s,get:(t,n,o)=>Ly(t,n)||s.get(t,n,o),has:(t,n)=>!!Ly(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vx(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function vx(s){return s.getComponent()?.type==="VERSION"}const lp="@firebase/app",ky="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new jf("@firebase/app"),yx="@firebase/app-compat",wx="@firebase/analytics-compat",bx="@firebase/analytics",Ex="@firebase/app-check-compat",xx="@firebase/app-check",Tx="@firebase/auth",Sx="@firebase/auth-compat",Ax="@firebase/database",Cx="@firebase/data-connect",Nx="@firebase/database-compat",Rx="@firebase/functions",Ix="@firebase/functions-compat",Mx="@firebase/installations",Ox="@firebase/installations-compat",Lx="@firebase/messaging",kx="@firebase/messaging-compat",Dx="@firebase/performance",Px="@firebase/performance-compat",Ux="@firebase/remote-config",zx="@firebase/remote-config-compat",jx="@firebase/storage",Bx="@firebase/storage-compat",Hx="@firebase/firestore",Fx="@firebase/ai",Vx="@firebase/firestore-compat",qx="firebase",Gx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",Zx={[lp]:"fire-core",[yx]:"fire-core-compat",[bx]:"fire-analytics",[wx]:"fire-analytics-compat",[xx]:"fire-app-check",[Ex]:"fire-app-check-compat",[Tx]:"fire-auth",[Sx]:"fire-auth-compat",[Ax]:"fire-rtdb",[Cx]:"fire-data-connect",[Nx]:"fire-rtdb-compat",[Rx]:"fire-fn",[Ix]:"fire-fn-compat",[Mx]:"fire-iid",[Ox]:"fire-iid-compat",[Lx]:"fire-fcm",[kx]:"fire-fcm-compat",[Dx]:"fire-perf",[Px]:"fire-perf-compat",[Ux]:"fire-rc",[zx]:"fire-rc-compat",[jx]:"fire-gcs",[Bx]:"fire-gcs-compat",[Hx]:"fire-fst",[Vx]:"fire-fst-compat",[Fx]:"fire-vertex","fire-js":"fire-js",[qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,Wx=new Map,cp=new Map;function Dy(s,t){try{s.container.addComponent(t)}catch(n){Kr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function sa(s){const t=s.name;if(cp.has(t))return Kr.debug(`There were multiple attempts to register component ${t}.`),!1;cp.set(t,s);for(const n of af.values())Dy(n,s);for(const n of Wx.values())Dy(n,s);return!0}function Rc(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function vi(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new Nc("app","Firebase",Yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,n,o){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=Gx;function E1(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const o={name:up,automaticDataCollectionEnabled:!0,...t},l=o.name;if(typeof l!="string"||!l)throw ta.create("bad-app-name",{appName:String(l)});if(n||(n=g1()),!n)throw ta.create("no-options");const h=af.get(l);if(h){if(ia(n,h.options)&&ia(o,h.config))return h;throw ta.create("duplicate-app",{appName:l})}const m=new ex(l);for(const y of cp.values())m.addComponent(y);const g=new Kx(n,o,m);return af.set(l,g),g}function Bf(s=up){const t=af.get(s);if(!t&&s===up&&g1())return E1();if(!t)throw ta.create("no-app",{appName:s});return t}function ps(s,t,n){let o=Zx[s]??s;n&&(o+=`-${n}`);const l=o.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${t}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kr.warn(m.join(" "));return}sa(new Yr(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="firebase-heartbeat-database",Qx=1,pc="firebase-heartbeat-store";let qm=null;function x1(){return qm||(qm=mx(Xx,Qx,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ta.create("idb-open",{originalErrorMessage:s.message})})),qm}async function Jx(s){try{const n=(await x1()).transaction(pc),o=await n.objectStore(pc).get(T1(s));return await n.done,o}catch(t){if(t instanceof gr)Kr.warn(t.message);else{const n=ta.create("idb-get",{originalErrorMessage:t?.message});Kr.warn(n.message)}}}async function Py(s,t){try{const o=(await x1()).transaction(pc,"readwrite");await o.objectStore(pc).put(t,T1(s)),await o.done}catch(n){if(n instanceof gr)Kr.warn(n.message);else{const o=ta.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(o.message)}}}function T1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=1024,tT=30;class eT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iT(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Uy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats.length>tT){const l=sT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Kr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Uy(),{heartbeatsToSend:n,unsentEntries:o}=nT(this._heartbeatsCache.heartbeats),l=sf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Kr.warn(t),""}}}function Uy(){return new Date().toISOString().substring(0,10)}function nT(s,t=$x){const n=[];let o=s.slice();for(const l of s){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),zy(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),zy(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class iT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BE()?HE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return Py(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return Py(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function zy(s){return sf(JSON.stringify({version:2,heartbeats:s})).length}function sT(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let o=1;o<s.length;o++)s[o].date<n&&(n=s[o].date,t=o);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s){sa(new Yr("platform-logger",t=>new _x(t),"PRIVATE")),sa(new Yr("heartbeat",t=>new eT(t),"PRIVATE")),ps(lp,ky,s),ps(lp,ky,"esm2020"),ps("fire-js","")}rT("");function S1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oT=S1,A1=new Nc("auth","Firebase",S1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new jf("@firebase/auth");function aT(s,...t){lf.logLevel<=xe.WARN&&lf.warn(`Auth (${ca}): ${s}`,...t)}function Xh(s,...t){lf.logLevel<=xe.ERROR&&lf.error(`Auth (${ca}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(s,...t){throw Pp(s,...t)}function Hs(s,...t){return Pp(s,...t)}function Dp(s,t,n){const o={...oT(),[t]:n};return new Nc("auth","Firebase",o).create(t,{appName:s.name})}function Gr(s){return Dp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lT(s,t,n){const o=n;if(!(t instanceof o))throw o.name!==t.constructor.name&&gs(s,"argument-error"),Dp(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pp(s,...t){if(typeof s!="string"){const n=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=s.name),s._errorFactory.create(n,...o)}return A1.create(s,...t)}function Bt(s,t,...n){if(!s)throw Pp(t,...n)}function Fr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Xh(t),new Error(t)}function Xr(s,t){s||Fr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){return typeof self<"u"&&self.location?.href||""}function uT(){return jy()==="http:"||jy()==="https:"}function jy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uT()||UE()||"connection"in navigator)?navigator.onLine:!0}function hT(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xr(n>t,"Short delay should be less than long delay!"),this.isMobile=Op()||v1()}get(){return cT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(s,t){Xr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static initialize(t,n,o){this.fetchImpl=t,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mT=new Ic(3e4,6e4);function to(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function eo(s,t,n,o,l={}){return N1(s,l,async()=>{let h={},m={};o&&(t==="GET"?m=o:h={body:JSON.stringify(o)});const g=nu({key:s.config.apiKey,...m}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const w={method:t,headers:y,...h};return PE()||(w.referrerPolicy="no-referrer"),s.emulatorConfig&&ua(s.emulatorConfig.host)&&(w.credentials="include"),C1.fetch()(await R1(s,s.config.apiHost,n,g),w)})}async function N1(s,t,n){s._canInitEmulator=!1;const o={...fT,...t};try{const l=new gT(s),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw qh(s,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const g=h.ok?m.errorMessage:m.error.message,[y,w]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(s,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw qh(s,"email-already-in-use",m);if(y==="USER_DISABLED")throw qh(s,"user-disabled",m);const E=o[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw Dp(s,E,w);gs(s,E)}}catch(l){if(l instanceof gr)throw l;gs(s,"network-request-failed",{message:String(l)})}}async function Mc(s,t,n,o,l={}){const h=await eo(s,t,n,o,l);return"mfaPendingCredential"in h&&gs(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function R1(s,t,n,o){const l=`${t}${n}?${o}`,h=s,m=h.config.emulator?Up(s.config,l):`${s.config.apiScheme}://${l}`;return dT.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}function pT(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(Hs(this.auth,"network-request-failed")),mT.get())})}}function qh(s,t,n){const o={appName:s.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const l=Hs(s,t,o);return l.customData._tokenResponse=n,l}function By(s){return s!==void 0&&s.enterprise!==void 0}class _T{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return pT(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vT(s,t){return eo(s,"GET","/v2/recaptchaConfig",to(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(s,t){return eo(s,"POST","/v1/accounts:delete",t)}async function uf(s,t){return eo(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wT(s,t=!1){const n=Xn(s),o=await n.getIdToken(t),l=zp(o);Bt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h?.sign_in_provider;return{claims:l,token:o,authTime:rc(Gm(l.auth_time)),issuedAtTime:rc(Gm(l.iat)),expirationTime:rc(Gm(l.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Gm(s){return Number(s)*1e3}function zp(s){const[t,n,o]=s.split(".");if(t===void 0||n===void 0||o===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const l=rf(n);return l?JSON.parse(l):(Xh("Failed to decode base64 JWT payload"),null)}catch(l){return Xh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Hy(s){const t=zp(s);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(s,t,n=!1){if(n)return t;try{return await t}catch(o){throw o instanceof gr&&bT(o)&&s.auth.currentUser===s&&await s.auth.signOut(),o}}function bT({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(s){const t=s.auth,n=await s.getIdToken(),o=await gc(s,uf(t,{idToken:n}));Bt(o?.users.length,t,"internal-error");const l=o.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?I1(l.providerUserInfo):[],m=TT(s.providerData,h),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!m?.length,w=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new fp(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(s,E)}async function xT(s){const t=Xn(s);await cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TT(s,t){return[...s.filter(o=>!t.some(l=>l.providerId===o.providerId)),...t]}function I1(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(s,t){const n=await N1(s,{},async()=>{const o=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,m=await R1(s,l,"/v1/token",`key=${h}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:o};return s.emulatorConfig&&ua(s.emulatorConfig.host)&&(y.credentials="include"),C1.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AT(s,t){return eo(s,"POST","/v2/accounts:revokeToken",to(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Hy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Bt(t.length!==0,"internal-error");const n=Hy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:o,refreshToken:l,expiresIn:h}=await ST(t,n);this.updateTokensAndExpiration(o,l,Number(h))}updateTokensAndExpiration(t,n,o){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,n){const{refreshToken:o,accessToken:l,expirationTime:h}=n,m=new Vl;return o&&(Bt(typeof o=="string","internal-error",{appName:t}),m.refreshToken=o),l&&(Bt(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(Bt(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(s,t){Bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ps{constructor({uid:t,auth:n,stsTokenManager:o,...l}){this.providerId="firebase",this.proactiveRefresh=new ET(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await gc(this,this.stsTokenManager.getToken(this.auth,t));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return wT(this,t)}reload(){return xT(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ps({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(Gr(this.auth));const t=await this.getIdToken();return await gc(this,yT(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const o=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,m=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,w=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:I,providerData:P,stsTokenManager:G}=n;Bt(T&&G,t,"internal-error");const Z=Vl.fromJSON(this.name,G);Bt(typeof T=="string",t,"internal-error"),Ko(o,t.name),Ko(l,t.name),Bt(typeof x=="boolean",t,"internal-error"),Bt(typeof I=="boolean",t,"internal-error"),Ko(h,t.name),Ko(m,t.name),Ko(g,t.name),Ko(y,t.name),Ko(w,t.name),Ko(E,t.name);const W=new Ps({uid:T,auth:t,email:l,emailVerified:x,displayName:o,isAnonymous:I,photoURL:m,phoneNumber:h,tenantId:g,stsTokenManager:Z,createdAt:w,lastLoginAt:E});return P&&Array.isArray(P)&&(W.providerData=P.map(pt=>({...pt}))),y&&(W._redirectEventId=y),W}static async _fromIdTokenResponse(t,n,o=!1){const l=new Vl;l.updateFromServerResponse(n);const h=new Ps({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:o});return await cf(h),h}static async _fromGetAccountInfoResponse(t,n,o){const l=n.users[0];Bt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?I1(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!h?.length,g=new Vl;g.updateFromIdToken(o);const y=new Ps({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:m}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new fp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,w),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map;function Vr(s){Xr(s instanceof Function,"Expected a class definition");let t=Fy.get(s);return t?(Xr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Fy.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}M1.type="NONE";const Vy=M1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(s,t,n){return`firebase:${s}:${t}:${n}`}class ql{constructor(t,n,o){this.persistence=t,this.auth=n,this.userKey=o;const{config:l,name:h}=this.auth;this.fullUserKey=Qh(this.userKey,l.apiKey,h),this.fullPersistenceKey=Qh("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await uf(this.auth,{idToken:t}).catch(()=>{});return n?Ps._fromGetAccountInfoResponse(this.auth,n,t):null}return Ps._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,o="authUser"){if(!n.length)return new ql(Vr(Vy),t,o);const l=(await Promise.all(n.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let h=l[0]||Vr(Vy);const m=Qh(o,t.config.apiKey,t.name);let g=null;for(const w of n)try{const E=await w._get(m);if(E){let T;if(typeof E=="string"){const x=await uf(t,{idToken:E}).catch(()=>{});if(!x)break;T=await Ps._fromGetAccountInfoResponse(t,x,E)}else T=Ps._fromJSON(t,E);w!==h&&(g=T),h=w;break}}catch{}const y=l.filter(w=>w._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new ql(h,t,o):(h=y[0],g&&await h._set(m,g.toJSON()),await Promise.all(n.map(async w=>{if(w!==h)try{await w._remove(m)}catch{}})),new ql(h,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(D1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(O1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(U1(t))return"Blackberry";if(z1(t))return"Webos";if(L1(t))return"Safari";if((t.includes("chrome/")||k1(t))&&!t.includes("edge/"))return"Chrome";if(P1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=s.match(n);if(o?.length===2)return o[1]}return"Other"}function O1(s=wi()){return/firefox\//i.test(s)}function L1(s=wi()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function k1(s=wi()){return/crios\//i.test(s)}function D1(s=wi()){return/iemobile/i.test(s)}function P1(s=wi()){return/android/i.test(s)}function U1(s=wi()){return/blackberry/i.test(s)}function z1(s=wi()){return/webos/i.test(s)}function jp(s=wi()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function CT(s=wi()){return jp(s)&&!!window.navigator?.standalone}function NT(){return zE()&&document.documentMode===10}function j1(s=wi()){return jp(s)||P1(s)||z1(s)||U1(s)||/windows phone/i.test(s)||D1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(s,t=[]){let n;switch(s){case"Browser":n=qy(wi());break;case"Worker":n=`${qy(wi())}-${s}`;break;default:n=s}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const o=h=>new Promise((m,g)=>{try{const y=t(h);m(y)}catch(y){g(y)}});o.onAbort=n,this.queue.push(o);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const o of this.queue)await o(t),o.onAbort&&n.push(o.onAbort)}catch(o){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(s,t={}){return eo(s,"GET","/v2/passwordPolicy",to(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=6;class OT{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MT,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const o=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=t.length>=o),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let o;for(let l=0;l<t.length;l++)o=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(t,n,o,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,n,o,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gy(this),this.idTokenSubscription=new Gy(this),this.beforeStateQueue=new RT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ql.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await uf(this,{idToken:t}),o=await Ps._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(o)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(vi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===m)&&g?.user&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await cf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hT()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vi(this.app))return Promise.reject(Gr(this));const n=t?Xn(t):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vi(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IT(this),n=new OT(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nc("auth","Firebase",t())}onAuthStateChanged(t,n,o){return this.registerStateListener(this.authStateSubscription,t,n,o)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,o){return this.registerStateListener(this.idTokenSubscription,t,n,o)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const o=this.onAuthStateChanged(()=>{o(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(o.tenantId=this.tenantId),await AT(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const o=await this.getOrInitRedirectPersistenceManager(n);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Vr(t)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await ql.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,o,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(g,this,"internal-error"),g.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,o,l);return()=>{m=!0,y()}}else{const y=t.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&aT(`Error while retrieving App Check token: ${t.error}`),t?.token}}function no(s){return Xn(s)}class Gy{constructor(t){this.auth=t,this.observer=null,this.addObserver=YE(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kT(s){Hf=s}function H1(s){return Hf.loadJS(s)}function DT(){return Hf.recaptchaEnterpriseScript}function PT(){return Hf.gapiScript}function UT(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class zT{constructor(){this.enterprise=new jT}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class jT{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const BT="recaptcha-enterprise",F1="NO_RECAPTCHA";class HT{constructor(t){this.type=BT,this.auth=no(t)}async verify(t="verify",n=!1){async function o(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(m,g)=>{vT(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const w=new _T(y);return h.tenantId==null?h._agentRecaptchaConfig=w:h._tenantRecaptchaConfigs[h.tenantId]=w,m(w.siteKey)}}).catch(y=>{g(y)})})}function l(h,m,g){const y=window.grecaptcha;By(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:t}).then(w=>{m(w)}).catch(()=>{m(F1)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zT().execute("siteKey",{action:"verify"}):new Promise((h,m)=>{o(this.auth).then(g=>{if(!n&&By(window.grecaptcha))l(g,h,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}let y=DT();y.length!==0&&(y+=g),H1(y).then(()=>{l(g,h,m)}).catch(w=>{m(w)})}}).catch(g=>{m(g)})})}}async function Zy(s,t,n,o=!1,l=!1){const h=new HT(s);let m;if(l)m=F1;else try{m=await h.verify(n)}catch{m=await h.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,w=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:w,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return o?Object.assign(g,{captchaResp:m}):Object.assign(g,{captchaResponse:m}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function hf(s,t,n,o,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Zy(s,t,n,n==="getOobCode");return o(s,h)}else return o(s,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Zy(s,t,n,n==="getOobCode");return o(s,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(s,t){const n=Rc(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(ia(h,t??{}))return l;gs(l,"already-initialized")}return n.initialize({options:t})}function VT(s,t){const n=t?.persistence||[],o=(Array.isArray(n)?n:[n]).map(Vr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(o,t?.popupRedirectResolver)}function qT(s,t,n){const o=no(s);Bt(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const l=!1,h=V1(t),{host:m,port:g}=GT(t),y=g===null?"":`:${g}`,w={url:`${h}//${m}${y}/`},E=Object.freeze({host:m,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!o._canInitEmulator){Bt(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),Bt(ia(w,o.config.emulator)&&ia(E,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=w,o.emulatorConfig=E,o.settings.appVerificationDisabledForTesting=!0,ua(m)?(Pf(`${h}//${m}${y}`),Uf("Auth",!0)):ZT()}function V1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function GT(s){const t=V1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const o=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(o);if(l){const h=l[1];return{host:h,port:Wy(o.substr(h.length+1))}}else{const[h,m]=o.split(":");return{host:h,port:Wy(m)}}}function Wy(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function ZT(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(t){return Fr("not implemented")}_linkToIdToken(t,n){return Fr("not implemented")}_getReauthenticationResolver(t){return Fr("not implemented")}}async function WT(s,t){return eo(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YT(s,t){return Mc(s,"POST","/v1/accounts:signInWithPassword",to(s,t))}async function KT(s,t){return eo(s,"POST","/v1/accounts:sendOobCode",to(s,t))}async function XT(s,t){return KT(s,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(s,t){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",to(s,t))}async function JT(s,t){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",to(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends Bp{constructor(t,n,o,l=null){super("password",o),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new _c(t,n,"password")}static _fromEmailAndCode(t,n,o=null){return new _c(t,n,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hf(t,n,"signInWithPassword",YT);case"emailLink":return QT(t,{email:this._email,oobCode:this._password});default:gs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const o={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hf(t,o,"signUpPassword",WT);case"emailLink":return JT(t,{idToken:n,email:this._email,oobCode:this._password});default:gs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(s,t){return Mc(s,"POST","/v1/accounts:signInWithIdp",to(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="http://localhost";class Xa extends Bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:l,...h}=n;if(!o||!l)return null;const m=new Xa(o,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const n=this.buildRequest();return Gl(t,n)}_linkToIdToken(t,n){const o=this.buildRequest();return o.idToken=n,Gl(t,o)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Gl(t,n)}buildRequest(){const t={requestUri:$T,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eS(s){const t=ec(nc(s)).link,n=t?ec(nc(t)).deep_link_id:null,o=ec(nc(s)).deep_link_id;return(o?ec(nc(o)).link:null)||o||n||t||s}class Hp{constructor(t){const n=ec(nc(t)),o=n.apiKey??null,l=n.oobCode??null,h=tS(n.mode??null);Bt(o&&l&&h,"argument-error"),this.apiKey=o,this.operation=h,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=eS(t);try{return new Hp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.providerId=iu.PROVIDER_ID}static credential(t,n){return _c._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const o=Hp.parseLink(n);return Bt(o,"argument-error"),_c._fromEmailAndCode(t,o.code,o.tenantId)}}iu.PROVIDER_ID="password";iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Oc{constructor(){super("facebook.com")}static credential(t){return Xa._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xo.credentialFromTaggedObject(t)}static credentialFromError(t){return Xo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xo.credential(t.oauthAccessToken)}catch{return null}}}Xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:o}=t;if(!n&&!o)return null;try{return hr.credential(n,o)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Oc{constructor(){super("github.com")}static credential(t){return Xa._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qo.credentialFromTaggedObject(t)}static credentialFromError(t){return Qo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qo.credential(t.oauthAccessToken)}catch{return null}}}Qo.GITHUB_SIGN_IN_METHOD="github.com";Qo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Oc{constructor(){super("twitter.com")}static credential(t,n){return Xa._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Jo.credentialFromTaggedObject(t)}static credentialFromError(t){return Jo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=t;if(!n||!o)return null;try{return Jo.credential(n,o)}catch{return null}}}Jo.TWITTER_SIGN_IN_METHOD="twitter.com";Jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(s,t){return Mc(s,"POST","/v1/accounts:signUp",to(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,o,l=!1){const h=await Ps._fromIdTokenResponse(t,o,l),m=Yy(o);return new Qa({user:h,providerId:m,_tokenResponse:o,operationType:n})}static async _forOperation(t,n,o){await t._updateTokensIfNecessary(o,!0);const l=Yy(o);return new Qa({user:t,providerId:l,_tokenResponse:o,operationType:n})}}function Yy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends gr{constructor(t,n,o,l){super(n.code,n.message),this.operationType=o,this.user=l,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,n,o,l){return new ff(t,n,o,l)}}function q1(s,t,n,o){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(s,h,t,o):h})}async function iS(s,t,n=!1){const o=await gc(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Qa._forOperation(s,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(s,t,n=!1){const{auth:o}=s;if(vi(o.app))return Promise.reject(Gr(o));const l="reauthenticate";try{const h=await gc(s,q1(o,l,t,s),n);Bt(h.idToken,o,"internal-error");const m=zp(h.idToken);Bt(m,o,"internal-error");const{sub:g}=m;return Bt(s.uid===g,o,"user-mismatch"),Qa._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&gs(o,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(s,t,n=!1){if(vi(s.app))return Promise.reject(Gr(s));const o="signIn",l=await q1(s,o,t),h=await Qa._fromIdTokenResponse(s,o,l);return n||await s._updateCurrentUser(h.user),h}async function rS(s,t){return G1(no(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(s){const t=no(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function oS(s,t,n){const o=no(s);await hf(o,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",XT)}async function aS(s,t,n){if(vi(s.app))return Promise.reject(Gr(s));const o=no(s),m=await hf(o,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nS).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Z1(s),y}),g=await Qa._fromIdTokenResponse(o,"signIn",m);return await o._updateCurrentUser(g.user),g}function lS(s,t,n){return vi(s.app)?Promise.reject(Gr(s)):rS(Xn(s),iu.credential(t,n)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&Z1(s),o})}function uS(s,t,n,o){return Xn(s).onIdTokenChanged(t,n,o)}function cS(s,t,n){return Xn(s).beforeAuthStateChanged(t,n)}function hS(s,t,n,o){return Xn(s).onAuthStateChanged(t,n,o)}function Vp(s){return Xn(s).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=1e3,dS=10;class Y1 extends W1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const o=this.storage.getItem(n),l=this.localCache[n];o!==l&&t(n,l,o)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((m,g,y)=>{this.notifyListeners(m,y)});return}const o=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(o);!n&&this.localCache[o]===m||this.notifyListeners(o,m)},h=this.storage.getItem(o);NT()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,dS):l()}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:o}),!0)})},fS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Y1.type="LOCAL";const mS=Y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends W1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}K1.type="SESSION";const X1=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const o=new Ff(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:o,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!m?.size)return;n.ports[0].postMessage({status:"ack",eventId:o,eventType:l});const g=Array.from(m).map(async w=>w(n.origin,h)),y=await pS(g);n.ports[0].postMessage({status:"done",eventId:o,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(s="",t=10){let n="";for(let o=0;o<t;o++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,o=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((g,y)=>{const w=qp("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},o);m={messageChannel:l,onMessage(T){const x=T;if(x.data.eventId===w)switch(x.data.status){case"ack":clearTimeout(E),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(x.data.response);break;default:clearTimeout(E),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:w,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function _S(s){dr().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function vS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yS(){return navigator?.serviceWorker?.controller||null}function wS(){return Q1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebaseLocalStorageDb",bS=1,mf="firebaseLocalStorage",$1="fbase_key";class Lc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(s,t){return s.transaction([mf],t?"readwrite":"readonly").objectStore(mf)}function ES(){const s=indexedDB.deleteDatabase(J1);return new Lc(s).toPromise()}function dp(){const s=indexedDB.open(J1,bS);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const o=s.result;try{o.createObjectStore(mf,{keyPath:$1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const o=s.result;o.objectStoreNames.contains(mf)?t(o):(o.close(),await ES(),t(await dp()))})})}async function Ky(s,t,n){const o=Vf(s,!0).put({[$1]:t,value:n});return new Lc(o).toPromise()}async function xS(s,t){const n=Vf(s,!1).get(t),o=await new Lc(n).toPromise();return o===void 0?null:o.value}function Xy(s,t){const n=Vf(s,!0).delete(t);return new Lc(n).toPromise()}const TS=800,SS=3;class tw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(n++>SS)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(wS()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vS(),!this.activeServiceWorker)return;this.sender=new gS(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dp();return await Ky(t,df,"1"),await Xy(t,df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(o=>Ky(o,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(o=>xS(o,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Vf(l,!1).getAll();return new Lc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],o=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)o.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!o.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tw.type="LOCAL";const AS=tw;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(s,t){return t?Vr(t):(Bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Bp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Gl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Gl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Gl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function CS(s){return G1(s.auth,new Gp(s),s.bypassAuthState)}function NS(s){const{auth:t,user:n}=s;return Bt(n,t,"internal-error"),sS(n,new Gp(s),s.bypassAuthState)}async function RS(s){const{auth:t,user:n}=s;return Bt(n,t,"internal-error"),iS(n,new Gp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,n,o,l,h=!1){this.auth=t,this.resolver=o,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:o,postBody:l,tenantId:h,error:m,type:g}=t;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:o,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(w){this.reject(w)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return CS;case"linkViaPopup":case"linkViaRedirect":return RS;case"reauthViaPopup":case"reauthViaRedirect":return NS;default:gs(this.auth,"internal-error")}}resolve(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Ic(2e3,1e4);async function iw(s,t,n){if(vi(s.app))return Promise.reject(Hs(s,"operation-not-supported-in-this-environment"));const o=no(s);lT(s,t,Fp);const l=ew(o,n);return new Va(o,"signInViaPopup",t,l).executeNotNull()}class Va extends nw{constructor(t,n,o,l,h){super(t,n,l,h),this.provider=o,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const t=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IS.get())};t()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="pendingRedirect",Jh=new Map;class OS extends nw{constructor(t,n,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,o),this.eventId=null}async execute(){let t=Jh.get(this.auth._key());if(!t){try{const o=await LS(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(n){t=()=>Promise.reject(n)}Jh.set(this.auth._key(),t)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LS(s,t){const n=PS(t),o=DS(s);if(!await o._isAvailable())return!1;const l=await o._get(n)==="true";return await o._remove(n),l}function kS(s,t){Jh.set(s._key(),t)}function DS(s){return Vr(s._redirectPersistence)}function PS(s){return Qh(MS,s.config.apiKey,s.name)}async function US(s,t,n=!1){if(vi(s.app))return Promise.reject(Gr(s));const o=no(s),l=ew(o,t),m=await new OS(o,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await o._persistUserIfCurrent(m.user),await o._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=600*1e3;class jS{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(n=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!BS(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!sw(t)){const o=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Hs(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const o=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qy(t))}saveEventToCache(t){this.cachedEventUids.add(Qy(t)),this.lastProcessedEventTime=Date.now()}}function Qy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function sw({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function BS(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sw(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(s,t={}){return eo(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VS=/^https?/;async function qS(s){if(s.config.emulator)return;const{authorizedDomains:t}=await HS(s);for(const n of t)try{if(GS(n))return}catch{}gs(s,"unauthorized-domain")}function GS(s){const t=hp(),{protocol:n,hostname:o}=new URL(t);if(s.startsWith("chrome-extension://")){const m=new URL(s);return m.hostname===""&&o===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===o}if(!VS.test(n))return!1;if(FS.test(s))return o===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Ic(3e4,6e4);function Jy(){const s=dr().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function WS(s){return new Promise((t,n)=>{function o(){Jy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jy(),n(Hs(s,"network-request-failed"))},timeout:ZS.get()})}if(dr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(dr().gapi?.load)o();else{const l=UT("iframefcb");return dr()[l]=()=>{gapi.load?o():n(Hs(s,"network-request-failed"))},H1(`${PT()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw $h=null,t})}let $h=null;function YS(s){return $h=$h||WS(s),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Ic(5e3,15e3),XS="__/auth/iframe",QS="emulator/auth/iframe",JS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$S=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tA(s){const t=s.config;Bt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Up(t,QS):`https://${s.config.authDomain}/${XS}`,o={apiKey:t.apiKey,appName:s.name,v:ca},l=$S.get(s.config.apiHost);l&&(o.eid=l);const h=s._getFrameworks();return h.length&&(o.fw=h.join(",")),`${n}?${nu(o).slice(1)}`}async function eA(s){const t=await YS(s),n=dr().gapi;return Bt(n,s,"internal-error"),t.open({where:document.body,url:tA(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JS,dontclear:!0},o=>new Promise(async(l,h)=>{await o.restyle({setHideOnLeave:!1});const m=Hs(s,"network-request-failed"),g=dr().setTimeout(()=>{h(m)},KS.get());function y(){dr().clearTimeout(g),l(o)}o.ping(y).then(y,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iA=500,sA=600,rA="_blank",oA="http://localhost";class $y{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aA(s,t,n,o=iA,l=sA){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-o)/2,0).toString();let g="";const y={...nA,width:o.toString(),height:l.toString(),top:h,left:m},w=wi().toLowerCase();n&&(g=k1(w)?rA:n),O1(w)&&(t=t||oA,y.scrollbars="yes");const E=Object.entries(y).reduce((x,[I,P])=>`${x}${I}=${P},`,"");if(CT(w)&&g!=="_self")return lA(t||"",g),new $y(null);const T=window.open(t||"",g,E);Bt(T,s,"popup-blocked");try{T.focus()}catch{}return new $y(T)}function lA(s,t){const n=document.createElement("a");n.href=s,n.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="__/auth/handler",cA="emulator/auth/handler",hA=encodeURIComponent("fac");async function t0(s,t,n,o,l,h){Bt(s.config.authDomain,s,"auth-domain-config-required"),Bt(s.config.apiKey,s,"invalid-api-key");const m={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:o,v:ca,eventId:l};if(t instanceof Fp){t.setDefaultLanguage(s.languageCode),m.providerId=t.providerId||"",rp(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))m[E]=T}if(t instanceof Oc){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(m.scopes=E.join(","))}s.tenantId&&(m.tid=s.tenantId);const g=m;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await s._getAppCheckToken(),w=y?`#${hA}=${encodeURIComponent(y)}`:"";return`${fA(s)}?${nu(g).slice(1)}${w}`}function fA({config:s}){return s.emulator?Up(s,cA):`https://${s.authDomain}/${uA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="webStorageSupport";class dA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X1,this._completeRedirectFn=US,this._overrideRedirectResult=kS}async _openPopup(t,n,o,l){Xr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await t0(t,n,o,hp(),l);return aA(t,h,qp())}async _openRedirect(t,n,o,l){await this._originValidation(t);const h=await t0(t,n,o,hp(),l);return _S(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Xr(h,"If manager is not set, promise should be"),h)}const o=this.initAndGetManager(t);return this.eventManagers[n]={promise:o},o.catch(()=>{delete this.eventManagers[n]}),o}async initAndGetManager(t){const n=await eA(t),o=new jS(t);return n.register("authEvent",l=>(Bt(l?.authEvent,t,"invalid-auth-event"),{status:o.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=n,o}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Zm,{type:Zm},l=>{const h=l?.[0]?.[Zm];h!==void 0&&n(!!h),gs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qS(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return j1()||L1()||jp()}}const mA=dA;var e0="@firebase/auth",n0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(o=>{t(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _A(s){sa(new Yr("auth",(t,{options:n})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:g}=o.options;Bt(m&&!m.includes(":"),"invalid-api-key",{appName:o.name});const y={apiKey:m,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B1(s)},w=new LT(o,l,h,y);return VT(w,n),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,o)=>{t.getProvider("auth-internal").initialize()})),sa(new Yr("auth-internal",t=>{const n=no(t.getProvider("auth").getImmediate());return(o=>new pA(o))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(e0,n0,gA(s)),ps(e0,n0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=300,yA=_1("authIdTokenMaxAge")||vA;let i0=null;const wA=s=>async t=>{const n=t&&await t.getIdTokenResult(),o=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(o&&o>yA)return;const l=n?.token;i0!==l&&(i0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function rw(s=Bf()){const t=Rc(s,"auth");if(t.isInitialized())return t.getImmediate();const n=FT(s,{popupRedirectResolver:mA,persistence:[AS,mS,X1]}),o=_1("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(o,location.origin);if(location.origin===h.origin){const m=wA(h.toString());cS(n,m,()=>m(n.currentUser)),uS(n,g=>m(g))}}const l=p1("auth");return l&&qT(n,`http://${l}`),n}function bA(){return document.getElementsByTagName("head")?.[0]??document}kT({loadJS(s){return new Promise((t,n)=>{const o=document.createElement("script");o.setAttribute("src",s),o.onload=t,o.onerror=l=>{const h=Hs("internal-error");h.customData=l,n(h)},o.type="text/javascript",o.charset="UTF-8",bA().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_A("Browser");var EA="firebase",xA="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(EA,xA,"app");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(q,A){function C(){}C.prototype=A.prototype,q.D=A.prototype,q.prototype=new C,q.prototype.constructor=q,q.C=function(z,j,D){for(var O=Array(arguments.length-2),J=2;J<arguments.length;J++)O[J-2]=arguments[J];return A.prototype[j].apply(z,O)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(q,A,C){C||(C=0);var z=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)z[j]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(j=0;16>j;++j)z[j]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=q.g[0],C=q.g[1],j=q.g[2];var D=q.g[3],O=A+(D^C&(j^D))+z[0]+3614090360&4294967295;A=C+(O<<7&4294967295|O>>>25),O=D+(j^A&(C^j))+z[1]+3905402710&4294967295,D=A+(O<<12&4294967295|O>>>20),O=j+(C^D&(A^C))+z[2]+606105819&4294967295,j=D+(O<<17&4294967295|O>>>15),O=C+(A^j&(D^A))+z[3]+3250441966&4294967295,C=j+(O<<22&4294967295|O>>>10),O=A+(D^C&(j^D))+z[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=D+(j^A&(C^j))+z[5]+1200080426&4294967295,D=A+(O<<12&4294967295|O>>>20),O=j+(C^D&(A^C))+z[6]+2821735955&4294967295,j=D+(O<<17&4294967295|O>>>15),O=C+(A^j&(D^A))+z[7]+4249261313&4294967295,C=j+(O<<22&4294967295|O>>>10),O=A+(D^C&(j^D))+z[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=D+(j^A&(C^j))+z[9]+2336552879&4294967295,D=A+(O<<12&4294967295|O>>>20),O=j+(C^D&(A^C))+z[10]+4294925233&4294967295,j=D+(O<<17&4294967295|O>>>15),O=C+(A^j&(D^A))+z[11]+2304563134&4294967295,C=j+(O<<22&4294967295|O>>>10),O=A+(D^C&(j^D))+z[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=D+(j^A&(C^j))+z[13]+4254626195&4294967295,D=A+(O<<12&4294967295|O>>>20),O=j+(C^D&(A^C))+z[14]+2792965006&4294967295,j=D+(O<<17&4294967295|O>>>15),O=C+(A^j&(D^A))+z[15]+1236535329&4294967295,C=j+(O<<22&4294967295|O>>>10),O=A+(j^D&(C^j))+z[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=D+(C^j&(A^C))+z[6]+3225465664&4294967295,D=A+(O<<9&4294967295|O>>>23),O=j+(A^C&(D^A))+z[11]+643717713&4294967295,j=D+(O<<14&4294967295|O>>>18),O=C+(D^A&(j^D))+z[0]+3921069994&4294967295,C=j+(O<<20&4294967295|O>>>12),O=A+(j^D&(C^j))+z[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=D+(C^j&(A^C))+z[10]+38016083&4294967295,D=A+(O<<9&4294967295|O>>>23),O=j+(A^C&(D^A))+z[15]+3634488961&4294967295,j=D+(O<<14&4294967295|O>>>18),O=C+(D^A&(j^D))+z[4]+3889429448&4294967295,C=j+(O<<20&4294967295|O>>>12),O=A+(j^D&(C^j))+z[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=D+(C^j&(A^C))+z[14]+3275163606&4294967295,D=A+(O<<9&4294967295|O>>>23),O=j+(A^C&(D^A))+z[3]+4107603335&4294967295,j=D+(O<<14&4294967295|O>>>18),O=C+(D^A&(j^D))+z[8]+1163531501&4294967295,C=j+(O<<20&4294967295|O>>>12),O=A+(j^D&(C^j))+z[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=D+(C^j&(A^C))+z[2]+4243563512&4294967295,D=A+(O<<9&4294967295|O>>>23),O=j+(A^C&(D^A))+z[7]+1735328473&4294967295,j=D+(O<<14&4294967295|O>>>18),O=C+(D^A&(j^D))+z[12]+2368359562&4294967295,C=j+(O<<20&4294967295|O>>>12),O=A+(C^j^D)+z[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=D+(A^C^j)+z[8]+2272392833&4294967295,D=A+(O<<11&4294967295|O>>>21),O=j+(D^A^C)+z[11]+1839030562&4294967295,j=D+(O<<16&4294967295|O>>>16),O=C+(j^D^A)+z[14]+4259657740&4294967295,C=j+(O<<23&4294967295|O>>>9),O=A+(C^j^D)+z[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=D+(A^C^j)+z[4]+1272893353&4294967295,D=A+(O<<11&4294967295|O>>>21),O=j+(D^A^C)+z[7]+4139469664&4294967295,j=D+(O<<16&4294967295|O>>>16),O=C+(j^D^A)+z[10]+3200236656&4294967295,C=j+(O<<23&4294967295|O>>>9),O=A+(C^j^D)+z[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=D+(A^C^j)+z[0]+3936430074&4294967295,D=A+(O<<11&4294967295|O>>>21),O=j+(D^A^C)+z[3]+3572445317&4294967295,j=D+(O<<16&4294967295|O>>>16),O=C+(j^D^A)+z[6]+76029189&4294967295,C=j+(O<<23&4294967295|O>>>9),O=A+(C^j^D)+z[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=D+(A^C^j)+z[12]+3873151461&4294967295,D=A+(O<<11&4294967295|O>>>21),O=j+(D^A^C)+z[15]+530742520&4294967295,j=D+(O<<16&4294967295|O>>>16),O=C+(j^D^A)+z[2]+3299628645&4294967295,C=j+(O<<23&4294967295|O>>>9),O=A+(j^(C|~D))+z[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=D+(C^(A|~j))+z[7]+1126891415&4294967295,D=A+(O<<10&4294967295|O>>>22),O=j+(A^(D|~C))+z[14]+2878612391&4294967295,j=D+(O<<15&4294967295|O>>>17),O=C+(D^(j|~A))+z[5]+4237533241&4294967295,C=j+(O<<21&4294967295|O>>>11),O=A+(j^(C|~D))+z[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=D+(C^(A|~j))+z[3]+2399980690&4294967295,D=A+(O<<10&4294967295|O>>>22),O=j+(A^(D|~C))+z[10]+4293915773&4294967295,j=D+(O<<15&4294967295|O>>>17),O=C+(D^(j|~A))+z[1]+2240044497&4294967295,C=j+(O<<21&4294967295|O>>>11),O=A+(j^(C|~D))+z[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=D+(C^(A|~j))+z[15]+4264355552&4294967295,D=A+(O<<10&4294967295|O>>>22),O=j+(A^(D|~C))+z[6]+2734768916&4294967295,j=D+(O<<15&4294967295|O>>>17),O=C+(D^(j|~A))+z[13]+1309151649&4294967295,C=j+(O<<21&4294967295|O>>>11),O=A+(j^(C|~D))+z[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=D+(C^(A|~j))+z[11]+3174756917&4294967295,D=A+(O<<10&4294967295|O>>>22),O=j+(A^(D|~C))+z[2]+718787259&4294967295,j=D+(O<<15&4294967295|O>>>17),O=C+(D^(j|~A))+z[9]+3951481745&4294967295,q.g[0]=q.g[0]+A&4294967295,q.g[1]=q.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,q.g[2]=q.g[2]+j&4294967295,q.g[3]=q.g[3]+D&4294967295}o.prototype.u=function(q,A){A===void 0&&(A=q.length);for(var C=A-this.blockSize,z=this.B,j=this.h,D=0;D<A;){if(j==0)for(;D<=C;)l(this,q,D),D+=this.blockSize;if(typeof q=="string"){for(;D<A;)if(z[j++]=q.charCodeAt(D++),j==this.blockSize){l(this,z),j=0;break}}else for(;D<A;)if(z[j++]=q[D++],j==this.blockSize){l(this,z),j=0;break}}this.h=j,this.o+=A},o.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var A=1;A<q.length-8;++A)q[A]=0;var C=8*this.o;for(A=q.length-8;A<q.length;++A)q[A]=C&255,C/=256;for(this.u(q),q=Array(16),A=C=0;4>A;++A)for(var z=0;32>z;z+=8)q[C++]=this.g[A]>>>z&255;return q};function h(q,A){var C=g;return Object.prototype.hasOwnProperty.call(C,q)?C[q]:C[q]=A(q)}function m(q,A){this.h=A;for(var C=[],z=!0,j=q.length-1;0<=j;j--){var D=q[j]|0;z&&D==A||(C[j]=D,z=!1)}this.g=C}var g={};function y(q){return-128<=q&&128>q?h(q,function(A){return new m([A|0],0>A?-1:0)}):new m([q|0],0>q?-1:0)}function w(q){if(isNaN(q)||!isFinite(q))return T;if(0>q)return Z(w(-q));for(var A=[],C=1,z=0;q>=C;z++)A[z]=q/C|0,C*=4294967296;return new m(A,0)}function E(q,A){if(q.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(q.charAt(0)=="-")return Z(E(q.substring(1),A));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=w(Math.pow(A,8)),z=T,j=0;j<q.length;j+=8){var D=Math.min(8,q.length-j),O=parseInt(q.substring(j,j+D),A);8>D?(D=w(Math.pow(A,D)),z=z.j(D).add(w(O))):(z=z.j(C),z=z.add(w(O)))}return z}var T=y(0),x=y(1),I=y(16777216);s=m.prototype,s.m=function(){if(G(this))return-Z(this).m();for(var q=0,A=1,C=0;C<this.g.length;C++){var z=this.i(C);q+=(0<=z?z:4294967296+z)*A,A*=4294967296}return q},s.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(P(this))return"0";if(G(this))return"-"+Z(this).toString(q);for(var A=w(Math.pow(q,6)),C=this,z="";;){var j=Q(C,A).g;C=W(C,j.j(A));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(q);if(C=j,P(C))return D+z;for(;6>D.length;)D="0"+D;z=D+z}},s.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function P(q){if(q.h!=0)return!1;for(var A=0;A<q.g.length;A++)if(q.g[A]!=0)return!1;return!0}function G(q){return q.h==-1}s.l=function(q){return q=W(this,q),G(q)?-1:P(q)?0:1};function Z(q){for(var A=q.g.length,C=[],z=0;z<A;z++)C[z]=~q.g[z];return new m(C,~q.h).add(x)}s.abs=function(){return G(this)?Z(this):this},s.add=function(q){for(var A=Math.max(this.g.length,q.g.length),C=[],z=0,j=0;j<=A;j++){var D=z+(this.i(j)&65535)+(q.i(j)&65535),O=(D>>>16)+(this.i(j)>>>16)+(q.i(j)>>>16);z=O>>>16,D&=65535,O&=65535,C[j]=O<<16|D}return new m(C,C[C.length-1]&-2147483648?-1:0)};function W(q,A){return q.add(Z(A))}s.j=function(q){if(P(this)||P(q))return T;if(G(this))return G(q)?Z(this).j(Z(q)):Z(Z(this).j(q));if(G(q))return Z(this.j(Z(q)));if(0>this.l(I)&&0>q.l(I))return w(this.m()*q.m());for(var A=this.g.length+q.g.length,C=[],z=0;z<2*A;z++)C[z]=0;for(z=0;z<this.g.length;z++)for(var j=0;j<q.g.length;j++){var D=this.i(z)>>>16,O=this.i(z)&65535,J=q.i(j)>>>16,at=q.i(j)&65535;C[2*z+2*j]+=O*at,pt(C,2*z+2*j),C[2*z+2*j+1]+=D*at,pt(C,2*z+2*j+1),C[2*z+2*j+1]+=O*J,pt(C,2*z+2*j+1),C[2*z+2*j+2]+=D*J,pt(C,2*z+2*j+2)}for(z=0;z<A;z++)C[z]=C[2*z+1]<<16|C[2*z];for(z=A;z<2*A;z++)C[z]=0;return new m(C,0)};function pt(q,A){for(;(q[A]&65535)!=q[A];)q[A+1]+=q[A]>>>16,q[A]&=65535,A++}function et(q,A){this.g=q,this.h=A}function Q(q,A){if(P(A))throw Error("division by zero");if(P(q))return new et(T,T);if(G(q))return A=Q(Z(q),A),new et(Z(A.g),Z(A.h));if(G(A))return A=Q(q,Z(A)),new et(Z(A.g),A.h);if(30<q.g.length){if(G(q)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var C=x,z=A;0>=z.l(q);)C=ot(C),z=ot(z);var j=Y(C,1),D=Y(z,1);for(z=Y(z,2),C=Y(C,2);!P(z);){var O=D.add(z);0>=O.l(q)&&(j=j.add(C),D=O),z=Y(z,1),C=Y(C,1)}return A=W(q,j.j(A)),new et(j,A)}for(j=T;0<=q.l(A);){for(C=Math.max(1,Math.floor(q.m()/A.m())),z=Math.ceil(Math.log(C)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),D=w(C),O=D.j(A);G(O)||0<O.l(q);)C-=z,D=w(C),O=D.j(A);P(D)&&(D=x),j=j.add(D),q=W(q,O)}return new et(j,q)}s.A=function(q){return Q(this,q).h},s.and=function(q){for(var A=Math.max(this.g.length,q.g.length),C=[],z=0;z<A;z++)C[z]=this.i(z)&q.i(z);return new m(C,this.h&q.h)},s.or=function(q){for(var A=Math.max(this.g.length,q.g.length),C=[],z=0;z<A;z++)C[z]=this.i(z)|q.i(z);return new m(C,this.h|q.h)},s.xor=function(q){for(var A=Math.max(this.g.length,q.g.length),C=[],z=0;z<A;z++)C[z]=this.i(z)^q.i(z);return new m(C,this.h^q.h)};function ot(q){for(var A=q.g.length+1,C=[],z=0;z<A;z++)C[z]=q.i(z)<<1|q.i(z-1)>>>31;return new m(C,q.h)}function Y(q,A){var C=A>>5;A%=32;for(var z=q.g.length-C,j=[],D=0;D<z;D++)j[D]=0<A?q.i(D+C)>>>A|q.i(D+C+1)<<32-A:q.i(D+C);return new m(j,q.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=w,m.fromString=E,Zp=m}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,N){return f==Array.prototype||f==Object.prototype||(f[b]=N.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var b=0;b<f.length;++b){var N=f[b];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var o=n(this);function l(f,b){if(b)t:{var N=o;f=f.split(".");for(var V=0;V<f.length-1;V++){var ct=f[V];if(!(ct in N))break t;N=N[ct]}f=f[f.length-1],V=N[f],b=b(V),b!=V&&b!=null&&t(N,f,{configurable:!0,writable:!0,value:b})}}function h(f,b){f instanceof String&&(f+="");var N=0,V=!1,ct={next:function(){if(!V&&N<f.length){var yt=N++;return{value:b(yt,f[yt]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ct[Symbol.iterator]=function(){return ct},ct}l("Array.prototype.values",function(f){return f||function(){return h(this,function(b,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},g=this||self;function y(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function w(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function E(f,b,N){return f.call.apply(f.bind,arguments)}function T(f,b,N){if(!f)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ct,V),f.apply(b,ct)}}return function(){return f.apply(b,arguments)}}function x(f,b,N){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,x.apply(null,arguments)}function I(f,b){var N=Array.prototype.slice.call(arguments,1);return function(){var V=N.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function P(f,b){function N(){}N.prototype=b.prototype,f.aa=b.prototype,f.prototype=new N,f.prototype.constructor=f,f.Qb=function(V,ct,yt){for(var St=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)St[ve-2]=arguments[ve];return b.prototype[ct].apply(V,St)}}function G(f){const b=f.length;if(0<b){const N=Array(b);for(let V=0;V<b;V++)N[V]=f[V];return N}return[]}function Z(f,b){for(let N=1;N<arguments.length;N++){const V=arguments[N];if(y(V)){const ct=f.length||0,yt=V.length||0;f.length=ct+yt;for(let St=0;St<yt;St++)f[ct+St]=V[St]}else f.push(V)}}class W{constructor(b,N){this.i=b,this.j=N,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function pt(f){return/^[\s\xa0]*$/.test(f)}function et(){var f=g.navigator;return f&&(f=f.userAgent)?f:""}function Q(f){return Q[" "](f),f}Q[" "]=function(){};var ot=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function Y(f,b,N){for(const V in f)b.call(N,f[V],V,f)}function q(f,b){for(const N in f)b.call(void 0,f[N],N,f)}function A(f){const b={};for(const N in f)b[N]=f[N];return b}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(f,b){let N,V;for(let ct=1;ct<arguments.length;ct++){V=arguments[ct];for(N in V)f[N]=V[N];for(let yt=0;yt<C.length;yt++)N=C[yt],Object.prototype.hasOwnProperty.call(V,N)&&(f[N]=V[N])}}function j(f){var b=1;f=f.split(":");const N=[];for(;0<b&&f.length;)N.push(f.shift()),b--;return f.length&&N.push(f.join(":")),N}function D(f){g.setTimeout(()=>{throw f},0)}function O(){var f=rt;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class J{constructor(){this.h=this.g=null}add(b,N){const V=at.get();V.set(b,N),this.h?this.h.next=V:this.g=V,this.h=V}}var at=new W(()=>new k,f=>f.reset());class k{constructor(){this.next=this.g=this.h=null}set(b,N){this.h=b,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let H,$=!1,rt=new J,B=()=>{const f=g.Promise.resolve(void 0);H=()=>{f.then(nt)}};var nt=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(N){D(N)}var b=at;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}$=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const N=()=>{};g.addEventListener("test",N,b),g.removeEventListener("test",N,b)}catch{}return f})();function it(f,b){if(ht.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var N=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(ot){t:{try{Q(b.nodeName);var ct=!0;break t}catch{}ct=!1}ct||(b=null)}}else N=="mouseover"?b=f.fromElement:N=="mouseout"&&(b=f.toElement);this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:wt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&it.aa.h.call(this)}}P(it,ht);var wt={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function Gt(f,b,N,V,ct){this.listener=f,this.proxy=null,this.src=b,this.type=N,this.capture=!!V,this.ha=ct,this.key=++Mt,this.da=this.fa=!1}function Xt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function oe(f){this.src=f,this.g={},this.h=0}oe.prototype.add=function(f,b,N,V,ct){var yt=f.toString();f=this.g[yt],f||(f=this.g[yt]=[],this.h++);var St=En(f,b,V,ct);return-1<St?(b=f[St],N||(b.fa=!1)):(b=new Gt(b,this.src,yt,!!V,ct),b.fa=N,f.push(b)),b};function me(f,b){var N=b.type;if(N in f.g){var V=f.g[N],ct=Array.prototype.indexOf.call(V,b,void 0),yt;(yt=0<=ct)&&Array.prototype.splice.call(V,ct,1),yt&&(Xt(b),f.g[N].length==0&&(delete f.g[N],f.h--))}}function En(f,b,N,V){for(var ct=0;ct<f.length;++ct){var yt=f[ct];if(!yt.da&&yt.listener==b&&yt.capture==!!N&&yt.ha==V)return ct}return-1}var fn="closure_lm_"+(1e6*Math.random()|0),be={};function We(f,b,N,V,ct){if(Array.isArray(b)){for(var yt=0;yt<b.length;yt++)We(f,b[yt],N,V,ct);return null}return N=mn(N),f&&f[Dt]?f.K(b,N,w(V)?!!V.capture:!1,ct):Zt(f,b,N,!1,V,ct)}function Zt(f,b,N,V,ct,yt){if(!b)throw Error("Invalid event type");var St=w(ct)?!!ct.capture:!!ct,ve=Te(f);if(ve||(f[fn]=ve=new oe(f)),N=ve.add(b,N,V,St,yt),N.proxy)return N;if(V=le(),N.proxy=V,V.src=f,V.listener=N,f.addEventListener)dt||(ct=St),ct===void 0&&(ct=!1),f.addEventListener(b.toString(),V,ct);else if(f.attachEvent)f.attachEvent(_e(b.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return N}function le(){function f(N){return b.call(f.src,f.listener,N)}const b=dn;return f}function Ve(f,b,N,V,ct){if(Array.isArray(b))for(var yt=0;yt<b.length;yt++)Ve(f,b[yt],N,V,ct);else V=w(V)?!!V.capture:!!V,N=mn(N),f&&f[Dt]?(f=f.i,b=String(b).toString(),b in f.g&&(yt=f.g[b],N=En(yt,N,V,ct),-1<N&&(Xt(yt[N]),Array.prototype.splice.call(yt,N,1),yt.length==0&&(delete f.g[b],f.h--)))):f&&(f=Te(f))&&(b=f.g[b.toString()],f=-1,b&&(f=En(b,N,V,ct)),(N=-1<f?b[f]:null)&&qe(N))}function qe(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Dt])me(b.i,f);else{var N=f.type,V=f.proxy;b.removeEventListener?b.removeEventListener(N,V,f.capture):b.detachEvent?b.detachEvent(_e(N),V):b.addListener&&b.removeListener&&b.removeListener(V),(N=Te(b))?(me(N,f),N.h==0&&(N.src=null,b[fn]=null)):Xt(f)}}}function _e(f){return f in be?be[f]:be[f]="on"+f}function dn(f,b){if(f.da)f=!0;else{b=new it(b,this);var N=f.listener,V=f.ha||f.src;f.fa&&qe(f),f=N.call(V,b)}return f}function Te(f){return f=f[fn],f instanceof oe?f:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(f){return typeof f=="function"?f:(f[pe]||(f[pe]=function(b){return f.handleEvent(b)}),f[pe])}function ae(){lt.call(this),this.i=new oe(this),this.M=this,this.F=null}P(ae,lt),ae.prototype[Dt]=!0,ae.prototype.removeEventListener=function(f,b,N,V){Ve(this,f,b,N,V)};function ee(f,b){var N,V=f.F;if(V)for(N=[];V;V=V.F)N.push(V);if(f=f.M,V=b.type||b,typeof b=="string")b=new ht(b,f);else if(b instanceof ht)b.target=b.target||f;else{var ct=b;b=new ht(V,f),z(b,ct)}if(ct=!0,N)for(var yt=N.length-1;0<=yt;yt--){var St=b.g=N[yt];ct=ge(St,V,!0,b)&&ct}if(St=b.g=f,ct=ge(St,V,!0,b)&&ct,ct=ge(St,V,!1,b)&&ct,N)for(yt=0;yt<N.length;yt++)St=b.g=N[yt],ct=ge(St,V,!1,b)&&ct}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var N=f.g[b],V=0;V<N.length;V++)Xt(N[V]);delete f.g[b],f.h--}}this.F=null},ae.prototype.K=function(f,b,N,V){return this.i.add(String(f),b,!1,N,V)},ae.prototype.L=function(f,b,N,V){return this.i.add(String(f),b,!0,N,V)};function ge(f,b,N,V){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var ct=!0,yt=0;yt<b.length;++yt){var St=b[yt];if(St&&!St.da&&St.capture==N){var ve=St.listener,je=St.ha||St.src;St.fa&&me(f.i,St),ct=ve.call(je,V)!==!1&&ct}}return ct&&!V.defaultPrevented}function Pe(f,b,N){if(typeof f=="function")N&&(f=x(f,N));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:g.setTimeout(f,b||0)}function Xe(f){f.g=Pe(()=>{f.g=null,f.i&&(f.i=!1,Xe(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Rn extends lt{constructor(b,N){super(),this.m=b,this.l=N,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(f){lt.call(this),this.h=f,this.g={}}P(tn,lt);var pn=[];function en(f){Y(f.g,function(b,N){this.g.hasOwnProperty(N)&&qe(b)},f),f.g={}}tn.prototype.N=function(){tn.aa.N.call(this),en(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=g.JSON.stringify,Ji=g.JSON.parse,ui=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function _s(){}_s.prototype.h=null;function Vs(f){return f.h||(f.h=f.i())}function Li(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function an(){ht.call(this,"d")}P(an,ht);function Qn(){ht.call(this,"c")}P(Qn,ht);var In={},ki=null;function $i(){return ki=ki||new ae}In.La="serverreachability";function Jn(f){ht.call(this,In.La,f)}P(Jn,ht);function Mn(f){const b=$i();ee(b,new Jn(b))}In.STAT_EVENT="statevent";function so(f,b){ht.call(this,In.STAT_EVENT,f),this.stat=b}P(so,ht);function Ue(f){const b=$i();ee(b,new so(b,f))}In.Ma="timingevent";function ln(f,b){ht.call(this,In.Ma,f),this.size=b}P(ln,ht);function sn(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},b)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function $n(f,b,N,V,ct,yt){f.info(function(){if(f.g)if(yt)for(var St="",ve=yt.split("&"),je=0;je<ve.length;je++){var ne=ve[je].split("=");if(1<ne.length){var _n=ne[0];ne=ne[1];var Ae=_n.split("_");St=2<=Ae.length&&Ae[1]=="type"?St+(_n+"="+ne+"&"):St+(_n+"=redacted&")}}else St=null;else St=yt;return"XMLHTTP REQ ("+V+") [attempt "+ct+"]: "+b+`
`+N+`
`+St})}function Lt(f,b,N,V,ct,yt,St){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ct+"]: "+b+`
`+N+`
`+yt+" "+St})}function vs(f,b,N,V){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+qs(f,N)+(V?" "+V:"")})}function fa(f,b){f.info(function(){return"TIMEOUT: "+b})}Ei.prototype.info=function(){};function qs(f,b){if(!f.g)return b;if(!b)return null;try{var N=JSON.parse(b);if(N){for(f=0;f<N.length;f++)if(Array.isArray(N[f])){var V=N[f];if(!(2>V.length)){var ct=V[1];if(Array.isArray(ct)&&!(1>ct.length)){var yt=ct[0];if(yt!="noop"&&yt!="stop"&&yt!="close")for(var St=1;St<ct.length;St++)ct[St]=""}}}}return nn(N)}catch{return b}}var Gs={NO_ERROR:0,TIMEOUT:8},ts={},Di;function Vn(){}P(Vn,_s),Vn.prototype.g=function(){return new XMLHttpRequest},Vn.prototype.i=function(){return{}},Di=new Vn;function On(f,b,N,V){this.j=f,this.i=b,this.l=N,this.R=V||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}var da={},ro={};function Pi(f,b,N){f.L=1,f.v=ci(ze(b)),f.m=N,f.P=!0,es(f,null)}function es(f,b){f.F=Date.now(),yr(f),f.A=ze(f.v);var N=f.A,V=f.R;Array.isArray(V)||(V=[String(V)]),ga(N.i,"t",V),f.C=0,N=f.j.J,f.h=new Qe,f.g=ul(f.j,N?b:null,!f.m),0<f.O&&(f.M=new Rn(x(f.Y,f,f.g),f.O)),b=f.U,N=f.g,V=f.ca;var ct="readystatechange";Array.isArray(ct)||(ct&&(pn[0]=ct.toString()),ct=pn);for(var yt=0;yt<ct.length;yt++){var St=We(N,ct[yt],V||b.handleEvent,!1,b.h||b);if(!St)break;b.g[St.key]=St}b=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Mn(),$n(f.i,f.u,f.A,f.l,f.R,f.m)}On.prototype.ca=function(f){f=f.target;const b=this.M;b&&Dn(f)==3?b.j():this.Y(f)},On.prototype.Y=function(f){try{if(f==this.g)t:{const Ae=Dn(this.g);var b=this.g.Ba();const ii=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||_a(this.g)))){this.J||Ae!=4||b==7||(b==8||0>=ii?Mn(3):Mn(2)),Zs(this);var N=this.g.Z();this.X=N;e:if(sl(this)){var V=_a(this.g);f="";var ct=V.length,yt=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),ns(this);var St="";break e}this.h.i=new g.TextDecoder}for(b=0;b<ct;b++)this.h.h=!0,f+=this.h.i.decode(V[b],{stream:!(yt&&b==ct-1)});V.length=0,this.h.g+=f,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=N==200,Lt(this.i,this.u,this.A,this.l,this.R,Ae,N),this.o){if(this.T&&!this.K){e:{if(this.g){var ve,je=this.g;if((ve=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(ve)){var ne=ve;break e}}ne=null}if(N=ne)vs(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,N);else{this.o=!1,this.s=3,Ue(12),xn(this),ns(this);break t}}if(this.P){N=!0;let si;for(;!this.J&&this.C<St.length;)if(si=vr(this,St),si==ro){Ae==4&&(this.s=4,Ue(14),N=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(si==da){this.s=4,Ue(15),vs(this.i,this.l,St,"[Invalid Chunk]"),N=!1;break}else vs(this.i,this.l,si,null),ys(this,si);if(sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||St.length!=0||this.h.h||(this.s=1,Ue(16),N=!1),this.o=this.o&&N,!N)vs(this.i,this.l,St,"[Invalid Chunked Response]"),xn(this),ns(this);else if(0<St.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),Js(_n),_n.M=!0,Ue(11))}}else vs(this.i,this.l,St,null),ys(this,St);Ae==4&&xn(this),this.o&&!this.J&&(Ae==4?ya(this.j,this):(this.o=!1,yr(this)))}else au(this.g),N==400&&0<St.indexOf("Unknown SID")?(this.s=3,Ue(12)):(this.s=0,Ue(13)),xn(this),ns(this)}}}catch{}finally{}};function sl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function vr(f,b){var N=f.C,V=b.indexOf(`
`,N);return V==-1?ro:(N=Number(b.substring(N,V)),isNaN(N)?da:(V+=1,V+N>b.length?ro:(b=b.slice(V,V+N),f.C=V+N,b)))}On.prototype.cancel=function(){this.J=!0,xn(this)};function yr(f){f.S=Date.now()+f.I,rl(f,f.I)}function rl(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=sn(x(f.ba,f),b)}function Zs(f){f.B&&(g.clearTimeout(f.B),f.B=null)}On.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(fa(this.i,this.A),this.L!=2&&(Mn(),Ue(17)),xn(this),this.s=2,ns(this)):rl(this,this.S-f)};function ns(f){f.j.G==0||f.J||ya(f.j,f)}function xn(f){Zs(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,en(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function ys(f,b){try{var N=f.j;if(N.G!=0&&(N.g==f||Qt(N.h,f))){if(!f.K&&Qt(N.h,f)&&N.G==3){try{var V=N.Da.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ct=V;if(ct[0]==0){t:if(!N.u){if(N.g)if(N.g.F+3e3<f.F)po(N),ho(N);else break t;fo(N),Ue(18)}}else N.za=ct[1],0<N.za-N.T&&37500>ct[2]&&N.F&&N.v==0&&!N.C&&(N.C=sn(x(N.Za,N),6e3));if(1>=ss(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Ss(N,11)}else if((f.K||N.g==f)&&po(N),!pt(b))for(ct=N.Da.g.parse(b),b=0;b<ct.length;b++){let ne=ct[b];if(N.T=ne[0],ne=ne[1],N.G==2)if(ne[0]=="c"){N.K=ne[1],N.ia=ne[2];const _n=ne[3];_n!=null&&(N.la=_n,N.j.info("VER="+N.la));const Ae=ne[4];Ae!=null&&(N.Aa=Ae,N.j.info("SVER="+N.Aa));const ii=ne[5];ii!=null&&typeof ii=="number"&&0<ii&&(V=1.5*ii,N.L=V,N.j.info("backChannelRequestTimeoutMs_="+V)),V=N;const si=f.g;if(si){const vn=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vn){var yt=V.h;yt.g||vn.indexOf("spdy")==-1&&vn.indexOf("quic")==-1&&vn.indexOf("h2")==-1||(yt.j=yt.l,yt.g=new Set,yt.h&&(Se(yt,yt.h),yt.h=null))}if(V.D){const As=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(V.ya=As,jt(V.I,V.D,As))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-f.F,N.j.info("Handshake RTT: "+N.R+"ms")),V=N;var St=f;if(V.qa=_o(V,V.J?V.ia:null,V.W),St.K){gn(V.h,St);var ve=St,je=V.L;je&&(ve.I=je),ve.B&&(Zs(ve),yr(ve)),V.g=St}else Fi(V);0<N.i.length&&Qs(N)}else ne[0]!="stop"&&ne[0]!="close"||Ss(N,7);else N.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?Ss(N,7):co(N):ne[0]!="noop"&&N.l&&N.l.ta(ne),N.v=0)}}Mn(4)}catch{}}var Ws=class{constructor(f,b){this.g=f,this.map=b}};function is(f){this.l=f||10,g.PerformanceNavigationTiming?(f=g.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ss(f){return f.h?1:f.g?f.g.size:0}function Qt(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Se(f,b){f.g?f.g.add(b):f.h=b}function gn(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}is.prototype.cancel=function(){if(this.i=rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function rs(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const N of f.g.values())b=b.concat(N.D);return b}return G(f.i)}function Ys(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var b=[],N=f.length,V=0;V<N;V++)b.push(f[V]);return b}b=[],N=0;for(V in f)b[N++]=f[V];return b}function Ks(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var b=[];f=f.length;for(var N=0;N<f;N++)b.push(N);return b}b=[],N=0;for(const V in f)b[N++]=V;return b}}}function qt(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var N=Ks(f),V=Ys(f),ct=V.length,yt=0;yt<ct;yt++)b.call(void 0,V[yt],N&&N[yt],f)}var Ce=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(f,b){if(f){f=f.split("&");for(var N=0;N<f.length;N++){var V=f[N].indexOf("="),ct=null;if(0<=V){var yt=f[N].substring(0,V);ct=f[N].substring(V+1)}else yt=f[N];b(yt,ct?decodeURIComponent(ct.replace(/\+/g," ")):"")}}}function Ge(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ge){this.h=f.h,br(this,f.j),this.o=f.o,this.g=f.g,Ui(this,f.s),this.l=f.l;var b=f.i,N=new ji;N.i=b.i,b.g&&(N.g=new Map(b.g),N.h=b.h),qn(this,N),this.m=f.m}else f&&(b=String(f).match(Ce))?(this.h=!1,br(this,b[1]||"",!0),this.o=Ln(b[2]||""),this.g=Ln(b[3]||"",!0),Ui(this,b[4]),this.l=Ln(b[5]||"",!0),qn(this,b[6]||"",!0),this.m=Ln(b[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}Ge.prototype.toString=function(){var f=[],b=this.j;b&&f.push(zi(b,ws,!0),":");var N=this.g;return(N||b=="file")&&(f.push("//"),(b=this.o)&&f.push(zi(b,ws,!0),"@"),f.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&f.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(zi(N,N.charAt(0)=="/"?pa:Er,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",zi(N,Xs)),f.join("")};function ze(f){return new Ge(f)}function br(f,b,N){f.j=N?Ln(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Ui(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function qn(f,b,N){b instanceof ji?(f.i=b,hi(f.i,f.h)):(N||(b=zi(b,ao)),f.i=new ji(b,f.h))}function jt(f,b,N){f.i.set(b,N)}function ci(f){return jt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ln(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zi(f,b,N){return typeof f=="string"?(f=encodeURI(f).replace(b,oo),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function oo(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ws=/[#\/\?@]/g,Er=/[#\?:]/g,pa=/[#\?]/g,ao=/[#\?@]/g,Xs=/#/g;function ji(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Gn(f){f.g||(f.g=new Map,f.h=0,f.i&&ma(f.i,function(b,N){f.add(decodeURIComponent(b.replace(/\+/g," ")),N)}))}s=ji.prototype,s.add=function(f,b){Gn(this),this.i=null,f=Pt(this,f);var N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(b),this.h+=1,this};function os(f,b){Gn(f),b=Pt(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Bi(f,b){return Gn(f),b=Pt(f,b),f.g.has(b)}s.forEach=function(f,b){Gn(this),this.g.forEach(function(N,V){N.forEach(function(ct){f.call(b,ct,V,this)},this)},this)},s.na=function(){Gn(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),N=[];for(let V=0;V<b.length;V++){const ct=f[V];for(let yt=0;yt<ct.length;yt++)N.push(b[V])}return N},s.V=function(f){Gn(this);let b=[];if(typeof f=="string")Bi(this,f)&&(b=b.concat(this.g.get(Pt(this,f))));else{f=Array.from(this.g.values());for(let N=0;N<f.length;N++)b=b.concat(f[N])}return b},s.set=function(f,b){return Gn(this),this.i=null,f=Pt(this,f),Bi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},s.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function ga(f,b,N){os(f,b),0<N.length&&(f.i=null,f.g.set(Pt(f,b),G(N)),f.h+=N.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var N=0;N<b.length;N++){var V=b[N];const yt=encodeURIComponent(String(V)),St=this.V(V);for(V=0;V<St.length;V++){var ct=yt;St[V]!==""&&(ct+="="+encodeURIComponent(String(St[V]))),f.push(ct)}}return this.i=f.join("&")};function Pt(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function hi(f,b){b&&!f.j&&(Gn(f),f.i=null,f.g.forEach(function(N,V){var ct=V.toLowerCase();V!=ct&&(os(this,V),ga(this,ct,N))},f)),f.j=b}function ue(f,b){const N=new Ei;if(g.Image){const V=new Image;V.onload=I(ti,N,"TestLoadImage: loaded",!0,b,V),V.onerror=I(ti,N,"TestLoadImage: error",!1,b,V),V.onabort=I(ti,N,"TestLoadImage: abort",!1,b,V),V.ontimeout=I(ti,N,"TestLoadImage: timeout",!1,b,V),g.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else b(!1)}function xi(f,b){const N=new Ei,V=new AbortController,ct=setTimeout(()=>{V.abort(),ti(N,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:V.signal}).then(yt=>{clearTimeout(ct),yt.ok?ti(N,"TestPingServer: ok",!0,b):ti(N,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(ct),ti(N,"TestPingServer: error",!1,b)})}function ti(f,b,N,V,ct){try{ct&&(ct.onload=null,ct.onerror=null,ct.onabort=null,ct.ontimeout=null),V(N)}catch{}}function bs(){this.g=new ui}function Ti(f,b,N){const V=N||"";try{qt(f,function(ct,yt){let St=ct;w(ct)&&(St=nn(ct)),b.push(V+yt+"="+encodeURIComponent(St))})}catch(ct){throw b.push(V+"type="+encodeURIComponent("_badmap")),ct}}function ei(f){this.l=f.Ub||null,this.j=f.eb||!1}P(ei,_s),ei.prototype.g=function(){return new Hi(this.l,this.j)},ei.prototype.i=(function(f){return function(){return f}})({});function Hi(f,b){ae.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Hi,ae),s=Hi.prototype,s.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,kn(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||g).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ie(this)),this.readyState=0},s.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Es(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Es(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}s.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Ie(this):kn(this),this.readyState==3&&Es(this)}},s.Ra=function(f){this.g&&(this.response=this.responseText=f,Ie(this))},s.Qa=function(f){this.g&&(this.response=f,Ie(this))},s.ga=function(){this.g&&Ie(this)};function Ie(f){f.readyState=4,f.l=null,f.j=null,f.v=null,kn(f)}s.setRequestHeader=function(f,b){this.u.append(f,b)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var N=b.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=b.next();return f.join(`\r
`)};function kn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function lo(f){let b="";return Y(f,function(N,V){b+=V,b+=":",b+=N,b+=`\r
`}),b}function un(f,b,N){t:{for(V in N){var V=!1;break t}V=!0}V||(N=lo(N),typeof f=="string"?N!=null&&encodeURIComponent(String(N)):jt(f,b,N))}function Ee(f){ae.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ee,ae);var xr=/^https?$/i,xs=["POST","PUT"];s=Ee.prototype,s.Ha=function(f){this.J=f},s.ea=function(f,b,N,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Di.g(),this.v=this.o?Vs(this.o):Vs(Di),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(yt){ol(this,yt);return}if(f=N||"",N=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ct in V)N.set(ct,V[ct]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const yt of V.keys())N.set(yt,V.get(yt));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(N.keys()).find(yt=>yt.toLowerCase()=="content-type"),ct=g.FormData&&f instanceof g.FormData,!(0<=Array.prototype.indexOf.call(xs,b,void 0))||V||ct||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[yt,St]of N)this.g.setRequestHeader(yt,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tn(this),this.u=!0,this.g.send(f),this.u=!1}catch(yt){ol(this,yt)}};function ol(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,Tr(f),as(f)}function Tr(f){f.A||(f.A=!0,ee(f,"complete"),ee(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ee(this,"complete"),ee(this,"abort"),as(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),Ee.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Wt(this):this.bb())},s.bb=function(){Wt(this)};function Wt(f){if(f.h&&typeof m<"u"&&(!f.v[1]||Dn(f)!=4||f.Z()!=2)){if(f.u&&Dn(f)==4)Pe(f.Ea,0,f);else if(ee(f,"readystatechange"),Dn(f)==4){f.h=!1;try{const St=f.Z();t:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var N;if(!(N=b)){var V;if(V=St===0){var ct=String(f.D).match(Ce)[1]||null;!ct&&g.self&&g.self.location&&(ct=g.self.location.protocol.slice(0,-1)),V=!xr.test(ct?ct.toLowerCase():"")}N=V}if(N)ee(f,"complete"),ee(f,"success");else{f.m=6;try{var yt=2<Dn(f)?f.g.statusText:""}catch{yt=""}f.l=yt+" ["+f.Z()+"]",Tr(f)}}finally{as(f)}}}}function as(f,b){if(f.g){Tn(f);const N=f.g,V=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||ee(f,"ready");try{N.onreadystatechange=V}catch{}}}function Tn(f){f.I&&(g.clearTimeout(f.I),f.I=null)}s.isActive=function(){return!!this.g};function Dn(f){return f.g?f.g.readyState:0}s.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Ji(b)}};function _a(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function au(f){const b={};f=(f.g&&2<=Dn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(pt(f[V]))continue;var N=j(f[V]);const ct=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const yt=b[ct]||[];b[ct]=yt,yt.push(N)}q(b,function(V){return V.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(f,b,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||b}function uo(f){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,f),this.cb=Ts("retryDelaySeedMs",1e4,f),this.Wa=Ts("forwardChannelMaxRetries",2,f),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new is(f&&f.concurrentRequestLimit),this.Da=new bs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=uo.prototype,s.la=8,s.G=1,s.connect=function(f,b,N,V){Ue(0),this.W=f,this.H=b||{},N&&V!==void 0&&(this.H.OSID=N,this.H.OAID=V),this.F=this.X,this.I=_o(this,null,this.W),Qs(this)};function co(f){if(al(f),f.G==3){var b=f.U++,N=ze(f.I);if(jt(N,"SID",f.K),jt(N,"RID",b),jt(N,"TYPE","terminate"),Sr(f,N),b=new On(f,f.j,b),b.L=2,b.v=ci(ze(N)),N=!1,g.navigator&&g.navigator.sendBeacon)try{N=g.navigator.sendBeacon(b.v.toString(),"")}catch{}!N&&g.Image&&(new Image().src=b.v,N=!0),N||(b.g=ul(b.j,null),b.g.ea(b.v)),b.F=Date.now(),yr(b)}ll(f)}function ho(f){f.g&&(Js(f),f.g.cancel(),f.g=null)}function al(f){ho(f),f.u&&(g.clearTimeout(f.u),f.u=null),po(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&g.clearTimeout(f.s),f.s=null)}function Qs(f){if(!wr(f.h)&&!f.s){f.s=!0;var b=f.Ga;H||B(),$||(H(),$=!0),rt.add(b,f),f.B=0}}function lu(f,b){return ss(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=sn(x(f.Ga,f,b),go(f,f.B)),f.B++,!0)}s.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ct=new On(this,this.j,f);let yt=this.o;if(this.S&&(yt?(yt=A(yt),z(yt,this.S)):yt=this.S),this.m!==null||this.O||(ct.H=yt,yt=null),this.P)t:{for(var b=0,N=0;N<this.i.length;N++){e:{var V=this.i[N];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break e}V=void 0}if(V===void 0)break;if(b+=V,4096<b){b=N;break t}if(b===4096||N===this.i.length-1){b=N+1;break t}}b=1e3}else b=1e3;b=va(this,ct,b),N=ze(this.I),jt(N,"RID",f),jt(N,"CVER",22),this.D&&jt(N,"X-HTTP-Session-Id",this.D),Sr(this,N),yt&&(this.O?b="headers="+encodeURIComponent(String(lo(yt)))+"&"+b:this.m&&un(N,this.m,yt)),Se(this.h,ct),this.Ua&&jt(N,"TYPE","init"),this.P?(jt(N,"$req",b),jt(N,"SID","null"),ct.T=!0,Pi(ct,N,null)):Pi(ct,N,b),this.G=2}}else this.G==3&&(f?ni(this,f):this.i.length==0||wr(this.h)||ni(this))};function ni(f,b){var N;b?N=b.l:N=f.U++;const V=ze(f.I);jt(V,"SID",f.K),jt(V,"RID",N),jt(V,"AID",f.T),Sr(f,V),f.m&&f.o&&un(V,f.m,f.o),N=new On(f,f.j,N,f.B+1),f.m===null&&(N.H=f.o),b&&(f.i=b.D.concat(f.i)),b=va(f,N,1e3),N.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Se(f.h,N),Pi(N,V,b)}function Sr(f,b){f.H&&Y(f.H,function(N,V){jt(b,V,N)}),f.l&&qt({},function(N,V){jt(b,V,N)})}function va(f,b,N){N=Math.min(f.i.length,N);var V=f.l?x(f.l.Na,f.l,f):null;t:{var ct=f.i;let yt=-1;for(;;){const St=["count="+N];yt==-1?0<N?(yt=ct[0].g,St.push("ofs="+yt)):yt=0:St.push("ofs="+yt);let ve=!0;for(let je=0;je<N;je++){let ne=ct[je].g;const _n=ct[je].map;if(ne-=yt,0>ne)yt=Math.max(0,ct[je].g-100),ve=!1;else try{Ti(_n,St,"req"+ne+"_")}catch{V&&V(_n)}}if(ve){V=St.join("&");break t}}}return f=f.i.splice(0,N),b.D=f,V}function Fi(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;H||B(),$||(H(),$=!0),rt.add(b,f),f.v=0}}function fo(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=sn(x(f.Fa,f),go(f,f.v)),f.v++,!0)}s.Fa=function(){if(this.u=null,mo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=sn(x(this.ab,this),f)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ue(10),ho(this),mo(this))};function Js(f){f.A!=null&&(g.clearTimeout(f.A),f.A=null)}function mo(f){f.g=new On(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=ze(f.qa);jt(b,"RID","rpc"),jt(b,"SID",f.K),jt(b,"AID",f.T),jt(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&jt(b,"TO",f.ja),jt(b,"TYPE","xmlhttp"),Sr(f,b),f.m&&f.o&&un(b,f.m,f.o),f.L&&(f.g.I=f.L);var N=f.g;f=f.ia,N.L=1,N.v=ci(ze(b)),N.m=null,N.P=!0,es(N,f)}s.Za=function(){this.C!=null&&(this.C=null,ho(this),fo(this),Ue(19))};function po(f){f.C!=null&&(g.clearTimeout(f.C),f.C=null)}function ya(f,b){var N=null;if(f.g==b){po(f),Js(f),f.g=null;var V=2}else if(Qt(f.h,b))N=b.D,gn(f.h,b),V=1;else return;if(f.G!=0){if(b.o)if(V==1){N=b.m?b.m.length:0,b=Date.now()-b.F;var ct=f.B;V=$i(),ee(V,new ln(V,N)),Qs(f)}else Fi(f);else if(ct=b.s,ct==3||ct==0&&0<b.X||!(V==1&&lu(f,b)||V==2&&fo(f)))switch(N&&0<N.length&&(b=f.h,b.i=b.i.concat(N)),ct){case 1:Ss(f,5);break;case 4:Ss(f,10);break;case 3:Ss(f,6);break;default:Ss(f,2)}}}function go(f,b){let N=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(N*=2),N*b}function Ss(f,b){if(f.j.info("Error code "+b),b==2){var N=x(f.fb,f),V=f.Xa;const ct=!V;V=new Ge(V||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||br(V,"https"),ci(V),ct?ue(V.toString(),N):xi(V.toString(),N)}else Ue(2);f.G=0,f.l&&f.l.sa(b),ll(f),al(f)}s.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function ll(f){if(f.G=0,f.ka=[],f.l){const b=rs(f.h);(b.length!=0||f.i.length!=0)&&(Z(f.ka,b),Z(f.ka,f.i),f.h.i.length=0,G(f.i),f.i.length=0),f.l.ra()}}function _o(f,b,N){var V=N instanceof Ge?ze(N):new Ge(N);if(V.g!="")b&&(V.g=b+"."+V.g),Ui(V,V.s);else{var ct=g.location;V=ct.protocol,b=b?b+"."+ct.hostname:ct.hostname,ct=+ct.port;var yt=new Ge(null);V&&br(yt,V),b&&(yt.g=b),ct&&Ui(yt,ct),N&&(yt.l=N),V=yt}return N=f.D,b=f.ya,N&&b&&jt(V,N,b),jt(V,"VER",f.la),Sr(f,V),V}function ul(f,b,N){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new Ee(new ei({eb:N})):new Ee(f.pa),b.Ha(f.J),b}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wa(){}s=wa.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Zn(f,b){ae.call(this),this.g=new uo(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!pt(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!pt(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new $s(this)}P(Zn,ae),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){co(this.g)},Zn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.u&&(N={},N.__data__=nn(f),f=N);b.i.push(new Ws(b.Ya++,f)),b.G==3&&Qs(b)},Zn.prototype.N=function(){this.g.l=null,delete this.j,co(this.g),delete this.g,Zn.aa.N.call(this)};function Ar(f){an.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){t:{for(const N in b){f=N;break t}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}P(Ar,an);function ls(){Qn.call(this),this.status=1}P(ls,Qn);function $s(f){this.g=f}P($s,wa),$s.prototype.ua=function(){ee(this.g,"a")},$s.prototype.ta=function(f){ee(this.g,new Ar(f))},$s.prototype.sa=function(f){ee(this.g,new ls)},$s.prototype.ra=function(){ee(this.g,"b")},Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,ts.COMPLETE="complete",Li.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",o0="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new jf("@firebase/firestore");function Us(s,...t){if(Ql.logLevel<=xe.DEBUG){const n=t.map(Wp);Ql.debug(`Firestore (${kc}): ${s}`,...n)}}function ow(s,...t){if(Ql.logLevel<=xe.ERROR){const n=t.map(Wp);Ql.error(`Firestore (${kc}): ${s}`,...n)}}function TA(s,...t){if(Ql.logLevel<=xe.WARN){const n=t.map(Wp);Ql.warn(`Firestore (${kc}): ${s}`,...n)}}function Wp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(s,t,n){let o="Unexpected state";typeof t=="string"?o=t:n=t,aw(s,o,n)}function aw(s,t,n){let o=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{o+=" CONTEXT: "+JSON.stringify(n)}catch{o+=" CONTEXT: "+n}throw ow(o),new Error(o)}function oc(s,t,n,o){let l="Unexpected state";typeof n=="string"?l=n:o=n,s||aw(t,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class de extends gr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(_i.UNAUTHENTICATED)))}shutdown(){}}class AA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CA{constructor(t){this.t=t,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){oc(this.o===void 0,42304);let o=this.i;const l=y=>this.i!==o?(o=this.i,n(y)):Promise.resolve();let h=new ac;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ac,t.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{Us("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Us("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ac)}}),0),m()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((o=>this.i!==t?(Us("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(oc(typeof o.accessToken=="string",31837,{l:o}),new lw(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return oc(t===null||typeof t=="string",2055,{h:t}),new _i(t)}}class NA{constructor(t,n,o){this.P=t,this.T=n,this.I=o,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RA{constructor(t,n,o){this.P=t,this.T=n,this.I=o}getToken(){return Promise.resolve(new NA(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(_i.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IA{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){oc(this.o===void 0,3512);const o=h=>{h.error!=null&&Us("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,Us("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>o(h)))};const l=h=>{Us("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Us("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(oc(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new a0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let o=0;o<s;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const l=MA(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<n&&(o+=t.charAt(l[h]%62))}return o}}function ra(s,t){return s<t?-1:s>t?1:0}function LA(s,t){const n=Math.min(s.length,t.length);for(let o=0;o<n;o++){const l=s.charAt(o),h=t.charAt(o);if(l!==h)return Wm(l)===Wm(h)?ra(l,h):Wm(l)?1:-1}return ra(s.length,t.length)}const kA=55296,DA=57343;function Wm(s){const t=s.charCodeAt(0);return t>=kA&&t<=DA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="__name__";class lr{constructor(t,n,o){n===void 0?n=0:n>t.length&&vc(637,{offset:n,range:t.length}),o===void 0?o=t.length-n:o>t.length-n&&vc(1746,{length:o,range:t.length-n}),this.segments=t,this.offset=n,this.len=o}get length(){return this.len}isEqual(t){return lr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof lr?t.forEach((o=>{n.push(o)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,o=this.limit();n<o;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const o=Math.min(t.length,n.length);for(let l=0;l<o;l++){const h=lr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return ra(t.length,n.length)}static compareSegments(t,n){const o=lr.isNumericId(t),l=lr.isNumericId(n);return o&&!l?-1:!o&&l?1:o&&l?lr.extractNumericId(t).compare(lr.extractNumericId(n)):LA(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zp.fromString(t.substring(4,t.length-2))}}class ks extends lr{construct(t,n,o){return new ks(t,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const o of t){if(o.indexOf("//")>=0)throw new de(fe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter((l=>l.length>0)))}return new ks(n)}static emptyPath(){return new ks([])}}const PA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fa extends lr{construct(t,n,o){return new Fa(t,n,o)}static isValidIdentifier(t){return PA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fa.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l0}static keyField(){return new Fa([l0])}static fromServerFormat(t){const n=[];let o="",l=0;const h=()=>{if(o.length===0)throw new de(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let m=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new de(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=y,l+=2}else g==="`"?(m=!m,l++):g!=="."||m?(o+=g,l++):(h(),l++)}if(h(),m)throw new de(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fa(n)}static emptyPath(){return new Fa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.path=t}static fromPath(t){return new qa(ks.fromString(t))}static fromName(t){return new qa(ks.fromString(t).popFirst(5))}static empty(){return new qa(ks.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ks.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ks.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qa(new ks(t.slice()))}}function UA(s,t,n,o){if(t===!0&&o===!0)throw new de(fe.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function zA(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function jA(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(o){return o.constructor?o.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vc(12329,{type:typeof s})}function BA(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new de(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jA(s);throw new de(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(s,t){const n={typeString:s};return t&&(n.value=t),n}function Dc(s,t){if(!zA(s))throw new de(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const o in t)if(t[o]){const l=t[o].typeString,h="value"in t[o]?{value:t[o].value}:void 0;if(!(o in s)){n=`JSON missing required field: '${o}'`;break}const m=s[o];if(l&&typeof m!==l){n=`JSON field '${o}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${o}' field to equal '${h.value}'`;break}}if(n)throw new de(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-62135596800,c0=1e6;class ur{static now(){return ur.fromMillis(Date.now())}static fromDate(t){return ur.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),o=Math.floor((t-1e3*n)*c0);return new ur(n,o)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new de(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<u0)throw new de(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new de(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(t){return this.seconds===t.seconds?ra(this.nanoseconds,t.nanoseconds):ra(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ur._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Dc(t,ur._jsonSchema))return new ur(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-u0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ur._jsonSchemaVersion="firestore/timestamp/1.0",ur._jsonSchema={type:bn("string",ur._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};function HA(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new FA("Invalid base64 string: "+h):h}})(t);return new Ja(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h})(t);return new Ja(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ra(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ja.EMPTY_BYTE_STRING=new Ja("");const mp="(default)";class pf{constructor(t,n){this.projectId=t,this.database=n||mp}static empty(){return new pf("","")}get isDefaultDatabase(){return this.database===mp}isEqual(t){return t instanceof pf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t,n=null,o=[],l=[],h=null,m="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=m,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qA(s){return new VA(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h0,he;(he=h0||(h0={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zp([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1048576;function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,n,o=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=o,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-o);l>0&&Us("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n,o,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new ac,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,o,l,h){const m=Date.now()+o,g=new Yp(t,n,m,l,h);return g.start(o),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var f0,d0;(d0=f0||(f0={})).Ma="default",d0.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firestore.googleapis.com",p0=!0;class g0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new de(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uw,this.ssl=p0}else this.host=t.host,this.ssl=t.ssl??p0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZA)throw new de(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA(t.experimentalLongPollingOptions??{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(o,l){return o.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cw{constructor(t,n,o,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new de(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new SA;switch(o.type){case"firstParty":return new RA(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new de(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const o=m0.get(n);o&&(Us("ComponentProvider","Removing Datastore"),m0.delete(n),o.terminate())})(this),Promise.resolve()}}function KA(s,t,n,o={}){s=BA(s,cw);const l=ua(t),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;l&&(Pf(`https://${g}`),Uf("Firestore",!0)),h.host!==uw&&h.host!==g&&TA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:l,emulatorOptions:o};if(!ia(y,m)&&(s._setSettings(y),o.mockUserToken)){let w,E;if(typeof o.mockUserToken=="string")w=o.mockUserToken,E=_i.MOCK_USER;else{w=Mp(o.mockUserToken,s._app?.options.projectId);const T=o.mockUserToken.sub||o.mockUserToken.user_id;if(!T)throw new de(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new _i(T)}s._authCredentials=new AA(new lw(w,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Kp(this.firestore,t,this._query)}}class fr{constructor(t,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fr(this.firestore,t,this._key)}toJSON(){return{type:fr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,o){if(Dc(n,fr._jsonSchema))return new fr(t,o||null,new qa(ks.fromString(n.referencePath)))}}fr._jsonSchemaVersion="firestore/documentReference/1.0",fr._jsonSchema={type:bn("string",fr._jsonSchemaVersion),referencePath:bn("string")};class Xp extends Kp{constructor(t,n,o){super(t,n,qA(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fr(this.firestore,null,new qa(t))}withConverter(t){return new Xp(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="AsyncQueue";class v0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WA(this,"async_queue_retry"),this._c=()=>{const o=Ym();o&&Us(_0,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=t;const n=Ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ac;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!HA(t))throw t;Us(_0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((o=>{throw this.nc=o,this.rc=!1,ow("INTERNAL UNHANDLED ERROR: ",y0(o)),o})).then((o=>(this.rc=!1,o))))));return this.ac=n,n}enqueueAfterDelay(t,n,o){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Yp.createAndSchedule(this,t,n,o,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&vc(47125,{Pc:y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,o)=>n.targetTimeMs-o.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function y0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class XA extends cw{constructor(t,n,o,l){super(t,n,o,l),this.type="firestore",this._queue=new v0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new v0(t),this._firestoreClient=void 0,await t}}}function QA(s,t){const n=typeof s=="object"?s:Bf(),o=typeof s=="string"?s:mp,l=Rc(n,"firestore").getImmediate({identifier:o});if(!l._initialized){const h=Ip("firestore");h&&KA(l,...h)}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hr(Ja.fromBase64String(t))}catch(n){throw new de(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Hr(Ja.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Dc(t,Hr._jsonSchema))return Hr.fromBase64String(t.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:bn("string",Hr._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new de(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fa(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new de(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new de(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ra(this._lat,t._lat)||ra(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ya._jsonSchemaVersion}}static fromJSON(t){if(Dc(t,Ya._jsonSchema))return new Ya(t.latitude,t.longitude)}}Ya._jsonSchemaVersion="firestore/geoPoint/1.0",Ya._jsonSchema={type:bn("string",Ya._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(o,l){if(o.length!==l.length)return!1;for(let h=0;h<o.length;++h)if(o[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ka._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Dc(t,Ka._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ka(t.vectorValues);throw new de(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ka._jsonSchemaVersion="firestore/vectorValue/1.0",Ka._jsonSchema={type:bn("string",Ka._jsonSchemaVersion),vectorValues:bn("object")};const JA=new RegExp("[~\\*/\\[\\]]");function $A(s,t,n){if(t.search(JA)>=0)throw w0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new hw(...t.split("."))._internalPath}catch{throw w0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function w0(s,t,n,o,l){let h=`Function ${t}() called with invalid data`;h+=". ";let m="";return new de(fe.INVALID_ARGUMENT,h+s+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,n,o,l,h){this._firestore=t,this._userDataWriter=n,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(dw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tC extends fw{data(){return super.data()}}function dw(s,t){return typeof t=="string"?$A(s,t):t instanceof hw?t._internalPath:t._delegate._internalPath}class Zh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zl extends fw{constructor(t,n,o,l,h,m){super(t,n,o,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const o=this._document.data.field(dw("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zl._jsonSchema={type:bn("string",Zl._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class tf extends Zl{data(t={}){return super.data(t)}}class lc{constructor(t,n,o,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Zh(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((o=>{t.call(n,new tf(this._firestore,this._userDataWriter,o.key,o,new Zh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((g=>{const y=new tf(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zh(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const y=new tf(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zh(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,E=-1;return g.type!==0&&(w=m.indexOf(g.doc.key),m=m.delete(g.doc.key)),g.type!==1&&(m=m.add(g.doc),E=m.indexOf(g.doc.key)),{type:eC(g.type),doc:y,oldIndex:w,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=OA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],o=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),o.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vc(61501,{type:s})}}lc._jsonSchemaVersion="firestore/querySnapshot/1.0",lc._jsonSchema={type:bn("string",lc._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};(function(t,n=!0){(function(l){kc=l})(ca),sa(new Yr("firestore",((o,{instanceIdentifier:l,options:h})=>{const m=o.getProvider("app").getImmediate(),g=new XA(new CA(o.getProvider("auth-internal")),new IA(m,o.getProvider("app-check-internal")),(function(w,E){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new de(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pf(w.options.projectId,E)})(m,l),m);return h={useFetchStreams:n,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),ps(r0,o0,t),ps(r0,o0,"esm2020")})();var b0={};const E0="@firebase/database",x0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mw="";function nC(s){mw=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Cn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:mc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return $r(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new iC(t)}}catch{}return new sC},Ga=pw("localStorage"),rC=pw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new jf("@firebase/database"),oC=(function(){let s=1;return function(){return s++}})(),gw=function(s){const t=QE(s),n=new WE;n.update(t);const o=n.digest();return Np.encodeByteArray(o)},Pc=function(...s){let t="";for(let n=0;n<s.length;n++){const o=s[n];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Pc.apply(null,o):typeof o=="object"?t+=Cn(o):t+=o,t+=" "}return t};let uc=null,T0=!0;const aC=function(s,t){At(!0,"Can't turn on custom loggers persistently."),Wl.logLevel=xe.VERBOSE,uc=Wl.log.bind(Wl)},li=function(...s){if(T0===!0&&(T0=!1,uc===null&&rC.get("logging_enabled")===!0&&aC()),uc){const t=Pc.apply(null,s);uc(t)}},Uc=function(s){return function(...t){li(s,...t)}},pp=function(...s){const t="FIREBASE INTERNAL ERROR: "+Pc(...s);Wl.error(t)},Qr=function(...s){const t=`FIREBASE FATAL ERROR: ${Pc(...s)}`;throw Wl.error(t),new Error(t)},Mi=function(...s){const t="FIREBASE WARNING: "+Pc(...s);Wl.warn(t)},lC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_w=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},uC=function(s){if(document.readyState==="complete")s();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Jl="[MIN_NAME]",$a="[MAX_NAME]",su=function(s,t){if(s===t)return 0;if(s===Jl||t===$a)return-1;if(t===Jl||s===$a)return 1;{const n=S0(s),o=S0(t);return n!==null?o!==null?n-o===0?s.length-t.length:n-o:-1:o!==null?1:s<t?-1:1}},cC=function(s,t){return s===t?0:s<t?-1:1},Qu=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+Cn(t))},Qp=function(s){if(typeof s!="object"||s===null)return Cn(s);const t=[];for(const o in s)t.push(o);t.sort();let n="{";for(let o=0;o<t.length;o++)o!==0&&(n+=","),n+=Cn(t[o]),n+=":",n+=Qp(s[t[o]]);return n+="}",n},vw=function(s,t){const n=s.length;if(n<=t)return[s];const o=[];for(let l=0;l<n;l+=t)l+t>n?o.push(s.substring(l,n)):o.push(s.substring(l,l+t));return o};function Oi(s,t){for(const n in s)s.hasOwnProperty(n)&&t(n,s[n])}const yw=function(s){At(!_w(s),"Invalid JSON number");const t=11,n=52,o=(1<<t-1)-1;let l,h,m,g,y;s===0?(h=0,m=0,l=1/s===-1/0?1:0):(l=s<0,s=Math.abs(s),s>=Math.pow(2,1-o)?(g=Math.min(Math.floor(Math.log(s)/Math.LN2),o),h=g+o,m=Math.round(s*Math.pow(2,n-g)-Math.pow(2,n))):(h=0,m=Math.round(s/Math.pow(2,1-o-n))));const w=[];for(y=n;y;y-=1)w.push(m%2?1:0),m=Math.floor(m/2);for(y=t;y;y-=1)w.push(h%2?1:0),h=Math.floor(h/2);w.push(l?1:0),w.reverse();const E=w.join("");let T="";for(y=0;y<64;y+=8){let x=parseInt(E.substr(y,8),2).toString(16);x.length===1&&(x="0"+x),T=T+x}return T.toLowerCase()},hC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dC(s,t){let n="Unknown Error";s==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?n="Client doesn't have permission to access the desired data.":s==="unavailable"&&(n="The service is unavailable");const o=new Error(s+" at "+t._path.toString()+": "+n);return o.code=s.toUpperCase(),o}const mC=new RegExp("^-?(0*)\\d{1,10}$"),pC=-2147483648,gC=2147483647,S0=function(s){if(mC.test(s)){const t=Number(s);if(t>=pC&&t<=gC)return t}return null},ru=function(s){try{s()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Mi("Exception was thrown by user callback.",n),t},Math.floor(0))}},_C=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},cc=function(s,t){const n=setTimeout(s,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,vi(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(o=>this.appCheck=o)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,o):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Mi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,n,o){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(li("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,o):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mi(t)}}class ef{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ef.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="5",ww="v",bw="s",Ew="r",xw="f",Tw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Sw="ls",Aw="p",gp="ac",Cw="websocket",Nw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n,o,l,h=!1,m="",g=!1,y=!1,w=null){this.secure=n,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=y,this.emulatorOptions=w,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ga.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ga.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function wC(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Iw(s,t,n){At(typeof t=="string","typeof type must == string"),At(typeof n=="object","typeof params must == object");let o;if(t===Cw)o=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Nw)o=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);wC(s)&&(n.ns=s.namespace);const l=[];return Oi(n,(h,m)=>{l.push(h+"="+m)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.counters_={}}incrementCounter(t,n=1){$r(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return NE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km={},Xm={};function $p(s){const t=s.toString();return Km[t]||(Km[t]=new bC),Km[t]}function EC(s,t){const n=s.toString();return Xm[n]||(Xm[n]=t()),Xm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&ru(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="start",TC="close",SC="pLPCommand",AC="pRTLPCB",Mw="id",Ow="pw",Lw="ser",CC="cb",NC="seg",RC="ts",IC="d",MC="dframe",kw=1870,Dw=30,OC=kw-Dw,LC=25e3,kC=3e4;class Hl{constructor(t,n,o,l,h,m,g){this.connId=t,this.repoInfo=n,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.transportSessionId=m,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uc(t),this.stats_=$p(n),this.urlFn=y=>(this.appCheckToken&&(y[gp]=this.appCheckToken),Iw(n,Nw,y))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kC)),uC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tg((...h)=>{const[m,g,y,w,E]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===A0)this.id=g,this.password=y;else if(m===TC)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...h)=>{const[m,g]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,g)},()=>{this.onClosed_()},this.urlFn);const o={};o[A0]="t",o[Lw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[CC]=this.scriptTagHolder.uniqueCallbackIdentifier),o[ww]=Jp,this.transportSessionId&&(o[bw]=this.transportSessionId),this.lastSessionId&&(o[Sw]=this.lastSessionId),this.applicationId&&(o[Aw]=this.applicationId),this.appCheckToken&&(o[gp]=this.appCheckToken),typeof location<"u"&&location.hostname&&Tw.test(location.hostname)&&(o[Ew]=xw);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hl.forceAllow_=!0}static forceDisallow(){Hl.forceDisallow_=!0}static isAvailable(){return Hl.forceAllow_?!0:!Hl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!hC()&&!fC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Cn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=d1(n),l=vw(o,OC);for(let h=0;h<l.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[h]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const o={};o[MC]="t",o[Mw]=t,o[Ow]=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Cn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class tg{constructor(t,n,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oC(),window[SC+this.uniqueCallbackIdentifier]=t,window[AC+this.uniqueCallbackIdentifier]=n,this.myIFrame=tg.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(g){li("frame writing exception"),g.stack&&li(g.stack),li(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||li("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Mw]=this.myID,t[Ow]=this.myPW,t[Lw]=this.currentSerial;let n=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Dw+o.length<=kw;){const m=this.pendingSegs.shift();o=o+"&"+NC+l+"="+m.seg+"&"+RC+l+"="+m.ts+"&"+IC+l+"="+m.d,l++}return n=n+o,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,o){this.pendingSegs.push({seg:t,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(o,Math.floor(LC)),h=()=>{clearTimeout(l),o()};this.addTag(t,h)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{li("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=16384,PC=45e3;let gf=null;typeof MozWebSocket<"u"?gf=MozWebSocket:typeof WebSocket<"u"&&(gf=WebSocket);class Ds{constructor(t,n,o,l,h,m,g){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uc(this.connId),this.stats_=$p(n),this.connURL=Ds.connectionURL_(n,m,g,l,o),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,o,l,h){const m={};return m[ww]=Jp,typeof location<"u"&&location.hostname&&Tw.test(location.hostname)&&(m[Ew]=xw),n&&(m[bw]=n),o&&(m[Sw]=o),l&&(m[gp]=l),h&&(m[Aw]=h),Iw(t,Cw,m)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ga.set("previous_websocket_failure",!0);try{let o;jE(),this.mySock=new gf(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Ds.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(n);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&gf!==null&&!Ds.forceDisallow_}static previouslyFailed(){return Ga.isInMemoryStorage||Ga.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ga.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const o=mc(n);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(At(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const o=this.extractFrameCount_(n);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const n=Cn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=vw(n,DC);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PC))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ds.responsesRequiredToBeHealthy=2;Ds.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{static get ALL_TRANSPORTS(){return[Hl,Ds]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Ds&&Ds.isAvailable();let o=n&&!Ds.previouslyFailed();if(t.webSocketOnly&&(n||Mi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ds];else{const l=this.transports_=[];for(const h of yc.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);yc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=6e4,zC=5e3,jC=10*1024,BC=100*1024,Qm="t",C0="d",HC="s",N0="r",FC="e",R0="o",I0="a",M0="n",O0="p",VC="h";class qC{constructor(t,n,o,l,h,m,g,y,w,E){this.id=t,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=h,this.onMessage_=m,this.onReady_=g,this.onDisconnect_=y,this.onKill_=w,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uc("c:"+this.id+":"),this.transportManager_=new yc(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=cc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Qm in t){const n=t[Qm];n===I0?this.upgradeIfSecondaryHealthy_():n===N0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===R0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Qu("t",t),o=Qu("d",t);if(n==="c")this.onSecondaryControl_(o);else if(n==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:O0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:I0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:M0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Qu("t",t),o=Qu("d",t);n==="c"?this.onControl_(o):n==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Qu(Qm,t);if(C0 in t){const o=t[C0];if(n===VC){const l={...o};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===M0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HC?this.onConnectionShutdown_(o):n===N0?this.onReset_(o):n===FC?pp("Server Error: "+o):n===R0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pp("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jp!==o&&Mi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),cc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:O0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ga.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{put(t,n,o,l){}merge(t,n,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,o){}onDisconnectMerge(t,n,o){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.allowedEvents_=t,this.listeners_={},At(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,n)}}on(t,n,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:o});const l=this.getInitialEvent(t);l&&n.apply(o,l)}off(t,n,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let h=0;h<l.length;h++)if(l[h].callback===n&&(!o||o===l[h].context)){l.splice(h,1);return}}validateEventType_(t){At(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends Uw{static getInstance(){return new _f}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Op()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return At(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=32,k0=768;class De{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function we(){return new De("")}function $t(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function oa(s){return s.pieces_.length-s.pieceNum_}function Fe(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new De(s.pieces_,t)}function zw(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function GC(s){let t="";for(let n=s.pieceNum_;n<s.pieces_.length;n++)s.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[n])));return t||"/"}function jw(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Bw(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let n=s.pieceNum_;n<s.pieces_.length-1;n++)t.push(s.pieces_[n]);return new De(t,0)}function Nn(s,t){const n=[];for(let o=s.pieceNum_;o<s.pieces_.length;o++)n.push(s.pieces_[o]);if(t instanceof De)for(let o=t.pieceNum_;o<t.pieces_.length;o++)n.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&n.push(o[l])}return new De(n,0)}function re(s){return s.pieceNum_>=s.pieces_.length}function yi(s,t){const n=$t(s),o=$t(t);if(n===null)return t;if(n===o)return yi(Fe(s),Fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function eg(s,t){if(oa(s)!==oa(t))return!1;for(let n=s.pieceNum_,o=t.pieceNum_;n<=s.pieces_.length;n++,o++)if(s.pieces_[n]!==t.pieces_[o])return!1;return!0}function zs(s,t){let n=s.pieceNum_,o=t.pieceNum_;if(oa(s)>oa(t))return!1;for(;n<s.pieces_.length;){if(s.pieces_[n]!==t.pieces_[o])return!1;++n,++o}return!0}class ZC{constructor(t,n){this.errorPrefix_=n,this.parts_=jw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=zf(this.parts_[o]);Hw(this)}}function WC(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=zf(t),Hw(s)}function YC(s){const t=s.parts_.pop();s.byteLength_-=zf(t),s.parts_.length>0&&(s.byteLength_-=1)}function Hw(s){if(s.byteLength_>k0)throw new Error(s.errorPrefix_+"has a key path longer than "+k0+" bytes ("+s.byteLength_+").");if(s.parts_.length>L0)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+L0+") or object contains a cycle "+Ha(s))}function Ha(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Uw{static getInstance(){return new ng}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return At(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=1e3,KC=300*1e3,D0=30*1e3,XC=1.3,QC=3e4,JC="server_kill",P0=3;class Zr extends Pw{constructor(t,n,o,l,h,m,g,y){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=g,this.authOverride_=y,this.id=Zr.nextPersistentConnectionId_++,this.log_=Uc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ju,this.maxReconnectDelay_=KC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ng.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&_f.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,o){const l=++this.requestNumber_,h={r:l,a:t,b:n};this.log_(Cn(h)),At(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const n=new Df,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:m=>{const g=m.d;m.s==="ok"?n.resolve(g):n.reject(g)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),n.promise}listen(t,n,o,l){this.initConnection_();const h=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),At(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),At(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const g={onComplete:l,hashFn:n,query:t,tag:o};this.listens.get(m).set(h,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(o)})}sendListen_(t){const n=t.query,o=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o},m="q";t.tag&&(h.q=n._queryObject,h.t=t.tag),h.h=t.hashFn(),this.sendRequest(m,h,g=>{const y=g.d,w=g.s;Zr.warnOnListenWarnings_(y,n),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",g),w!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(w,y))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&$r(t,"w")){const o=Xl(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',h=n._path.toString();Mi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||ZE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=D0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=GE(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(n,o,l=>{const h=l.s,m=l.d||"error";this.authToken_===t&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,o=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,o)})}unlisten(t,n){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),At(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,n)}sendUnlisten_(t,n,o,l){this.log_("Unlisten on "+t+" for "+n);const h={p:t},m="n";l&&(h.q=o,h.t=l),this.sendRequest(m,h)}onDisconnectPut(t,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:o})}onDisconnectMerge(t,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:o})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,o,l){const h={p:n,d:o};this.log_("onDisconnect "+t,h),this.sendRequest(t,h,m=>{l&&setTimeout(()=>{l(m.s,m.d)},Math.floor(0))})}put(t,n,o,l){this.putInternal("p",t,n,o,l)}merge(t,n,o,l){this.putInternal("m",t,n,o,l)}putInternal(t,n,o,l,h){this.initConnection_();const m={p:n,d:o};h!==void 0&&(m.h=h),this.outstandingPuts_.push({action:t,request:m,onComplete:l}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,o,h=>{this.log_(n+" response",h),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,o=>{if(o.s!=="ok"){const h=o.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Cn(t));const n=t.r,o=this.requestCBHash_[n];o&&(delete this.requestCBHash_[n],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):pp("Unrecognized action received from server: "+Cn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){At(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QC&&(this.reconnectDelay_=Ju),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Zr.nextConnectionId_++,h=this.lastSessionId;let m=!1,g=null;const y=function(){g?g.close():(m=!0,o())},w=function(T){At(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(T)};this.realtime_={close:y,sendRequest:w};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[T,x]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);m?li("getToken() completed but was canceled"):(li("getToken() completed. Creating connection."),this.authToken_=T&&T.accessToken,this.appCheckToken_=x&&x.token,g=new qC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,o,I=>{Mi(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(JC)},h))}catch(T){this.log_("Failed to get token: "+T),m||(this.repoInfo_.nodeAdmin&&Mi(T),y())}}}interrupt(t){li("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){li("Resuming connection for reason: "+t),delete this.interruptReasons_[t],rp(this.interruptReasons_)&&(this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let o;n?o=n.map(h=>Qp(h)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,n){const o=new De(t).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(n),h.delete(n),h.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,n){li("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=P0&&(this.reconnectDelay_=D0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){li("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=P0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+mw.replace(/\./g,"-")]=1,Op()?t["framework.cordova"]=1:v1()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=_f.getInstance().currentlyOnline();return rp(this.interruptReasons_)&&t}}Zr.nextPersistentConnectionId_=0;Zr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new te(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const o=new te(Jl,t),l=new te(Jl,n);return this.compare(o,l)!==0}minPost(){return te.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh;class Fw extends qf{static get __EMPTY_NODE(){return Wh}static set __EMPTY_NODE(t){Wh=t}compare(t,n){return su(t.name,n.name)}isDefinedOn(t){throw eu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return te.MIN}maxPost(){return new te($a,Wh)}makePost(t,n){return At(typeof t=="string","KeyIndex indexValue must always be a string."),new te(t,Wh)}toString(){return".key"}}const Yl=new Fw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n,o,l,h=null){this.isReverse_=l,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!t.isEmpty();)if(t=t,m=n?o(t.key,n):1,l&&(m*=-1),m<0)this.isReverse_?t=t.left:t=t.right;else if(m===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Hn{constructor(t,n,o,l,h){this.key=t,this.value=n,this.color=o??Hn.RED,this.left=l??Ii.EMPTY_NODE,this.right=h??Ii.EMPTY_NODE}copy(t,n,o,l,h){return new Hn(t??this.key,n??this.value,o??this.color,l??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,o){let l=this;const h=o(t,l.key);return h<0?l=l.copy(null,null,null,l.left.insert(t,n,o),null):h===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,n,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ii.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let o,l;if(o=this,n(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),n(t,o.key)===0){if(o.right.isEmpty())return Ii.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Hn.RED=!0;Hn.BLACK=!1;class $C{copy(t,n,o,l,h){return this}insert(t,n,o){return new Hn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ii{constructor(t,n=Ii.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ii(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Hn.BLACK,null,null))}remove(t){return new Ii(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Hn.BLACK,null,null))}get(t){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(t,o.key),n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(t){let n,o=this.root_,l=null;for(;!o.isEmpty();)if(n=this.comparator_(t,o.key),n===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else n<0?o=o.left:n>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Yh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Yh(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Yh(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Yh(this.root_,null,this.comparator_,!0,t)}}Ii.EMPTY_NODE=new $C;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(s,t){return su(s.name,t.name)}function ig(s,t){return su(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p;function eN(s){_p=s}const Vw=function(s){return typeof s=="number"?"number:"+yw(s):"string:"+s},qw=function(s){if(s.isLeafNode()){const t=s.val();At(typeof t=="string"||typeof t=="number"||typeof t=="object"&&$r(t,".sv"),"Priority must be a string or number.")}else At(s===_p||s.isEmpty(),"priority of unexpected type.");At(s===_p||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U0;class Bn{static set __childrenNodeConstructor(t){U0=t}static get __childrenNodeConstructor(){return U0}constructor(t,n=Bn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,At(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Bn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return re(t)?this:$t(t)===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Bn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const o=$t(t);return o===null?n:n.isEmpty()&&o!==".priority"?this:(At(o!==".priority"||oa(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Bn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Vw(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=yw(this.value_):t+=this.value_,this.lazyHash_=gw(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Bn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Bn.__childrenNodeConstructor?-1:(At(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,o=typeof this.value_,l=Bn.VALUE_TYPE_ORDER.indexOf(n),h=Bn.VALUE_TYPE_ORDER.indexOf(o);return At(l>=0,"Unknown leaf type: "+n),At(h>=0,"Unknown leaf type: "+o),l===h?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Bn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gw,Zw;function nN(s){Gw=s}function iN(s){Zw=s}class sN extends qf{compare(t,n){const o=t.node.getPriority(),l=n.node.getPriority(),h=o.compareTo(l);return h===0?su(t.name,n.name):h}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te($a,new Bn("[PRIORITY-POST]",Zw))}makePost(t,n){const o=Gw(t);return new te(n,new Bn("[PRIORITY-POST]",o))}toString(){return".priority"}}const on=new sN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=Math.log(2);class oN{constructor(t){const n=h=>parseInt(Math.log(h)/rN,10),o=h=>parseInt(Array(h+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const vf=function(s,t,n,o){s.sort(t);const l=function(y,w){const E=w-y;let T,x;if(E===0)return null;if(E===1)return T=s[y],x=n?n(T):T,new Hn(x,T.node,Hn.BLACK,null,null);{const I=parseInt(E/2,10)+y,P=l(y,I),G=l(I+1,w);return T=s[I],x=n?n(T):T,new Hn(x,T.node,Hn.BLACK,P,G)}},h=function(y){let w=null,E=null,T=s.length;const x=function(P,G){const Z=T-P,W=T;T-=P;const pt=l(Z+1,W),et=s[Z],Q=n?n(et):et;I(new Hn(Q,et.node,G,null,pt))},I=function(P){w?(w.left=P,w=P):(E=P,w=P)};for(let P=0;P<y.count;++P){const G=y.nextBitIsOne(),Z=Math.pow(2,y.count-(P+1));G?x(Z,Hn.BLACK):(x(Z,Hn.BLACK),x(Z,Hn.RED))}return E},m=new oN(s.length),g=h(m);return new Ii(o||t,g)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm;const Bl={};class qr{static get Default(){return At(Bl&&on,"ChildrenNode.ts has not been loaded"),Jm=Jm||new qr({".priority":Bl},{".priority":on}),Jm}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Xl(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ii?n:null}hasIndex(t){return $r(this.indexSet_,t.toString())}addIndex(t,n){At(t!==Yl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const h=n.getIterator(te.Wrap);let m=h.getNext();for(;m;)l=l||t.isDefinedOn(m.node),o.push(m),m=h.getNext();let g;l?g=vf(o,t.getCompare()):g=Bl;const y=t.toString(),w={...this.indexSet_};w[y]=t;const E={...this.indexes_};return E[y]=g,new qr(E,w)}addToIndexes(t,n){const o=of(this.indexes_,(l,h)=>{const m=Xl(this.indexSet_,h);if(At(m,"Missing index implementation for "+h),l===Bl)if(m.isDefinedOn(t.node)){const g=[],y=n.getIterator(te.Wrap);let w=y.getNext();for(;w;)w.name!==t.name&&g.push(w),w=y.getNext();return g.push(t),vf(g,m.getCompare())}else return Bl;else{const g=n.get(t.name);let y=l;return g&&(y=y.remove(new te(t.name,g))),y.insert(t,t.node)}});return new qr(o,this.indexSet_)}removeFromIndexes(t,n){const o=of(this.indexes_,l=>{if(l===Bl)return l;{const h=n.get(t.name);return h?l.remove(new te(t.name,h)):l}});return new qr(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;class Ht{static get EMPTY_NODE(){return $u||($u=new Ht(new Ii(ig),null,qr.Default))}constructor(t,n,o){this.children_=t,this.priorityNode_=n,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&qw(this.priorityNode_),this.children_.isEmpty()&&At(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$u}updatePriority(t){return this.children_.isEmpty()?this:new Ht(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?$u:n}}getChild(t){const n=$t(t);return n===null?this:this.getImmediateChild(n).getChild(Fe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(At(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const o=new te(t,n);let l,h;n.isEmpty()?(l=this.children_.remove(t),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,n),h=this.indexMap_.addToIndexes(o,this.children_));const m=l.isEmpty()?$u:this.priorityNode_;return new Ht(l,m,h)}}updateChild(t,n){const o=$t(t);if(o===null)return n;{At($t(t)!==".priority"||oa(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Fe(t),n);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let o=0,l=0,h=!0;if(this.forEachChild(on,(m,g)=>{n[m]=g.val(t),o++,h&&Ht.INTEGER_REGEXP_.test(m)?l=Math.max(l,Number(m)):h=!1}),!t&&h&&l<2*o){const m=[];for(const g in n)m[g]=n[g];return m}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Vw(this.getPriority().val())+":"),this.forEachChild(on,(n,o)=>{const l=o.hash();l!==""&&(t+=":"+n+":"+l)}),this.lazyHash_=t===""?"":gw(t)}return this.lazyHash_}getPredecessorChildName(t,n,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new te(t,n));return h?h.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const o=n.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new te(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const o=n.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new te(n,this.children_.get(n)):null}forEachChild(t,n){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const o=this.resolveIndex_(n);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,te.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,t)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const o=this.resolveIndex_(n);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,te.Wrap);let h=l.peek();for(;h!=null&&n.compare(h,t)>0;)l.getNext(),h=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zc?-1:0}withIndex(t){if(t===Yl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Ht(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Yl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const o=this.getIterator(on),l=n.getIterator(on);let h=o.getNext(),m=l.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=o.getNext(),m=l.getNext()}return h===null&&m===null}else return!1;else return!1}}resolveIndex_(t){return t===Yl?null:this.indexMap_.get(t.toString())}}Ht.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aN extends Ht{constructor(){super(new Ii(ig),Ht.EMPTY_NODE,qr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ht.EMPTY_NODE}isEmpty(){return!1}}const zc=new aN;Object.defineProperties(te,{MIN:{value:new te(Jl,Ht.EMPTY_NODE)},MAX:{value:new te($a,zc)}});Fw.__EMPTY_NODE=Ht.EMPTY_NODE;Bn.__childrenNodeConstructor=Ht;eN(zc);iN(zc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=!0;function Fn(s,t=null){if(s===null)return Ht.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),At(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const n=s;return new Bn(n,Fn(t))}if(!(s instanceof Array)&&lN){const n=[];let o=!1;if(Oi(s,(m,g)=>{if(m.substring(0,1)!=="."){const y=Fn(g);y.isEmpty()||(o=o||!y.getPriority().isEmpty(),n.push(new te(m,y)))}}),n.length===0)return Ht.EMPTY_NODE;const h=vf(n,tN,m=>m.name,ig);if(o){const m=vf(n,on.getCompare());return new Ht(h,Fn(t),new qr({".priority":m},{".priority":on}))}else return new Ht(h,Fn(t),qr.Default)}else{let n=Ht.EMPTY_NODE;return Oi(s,(o,l)=>{if($r(s,o)&&o.substring(0,1)!=="."){const h=Fn(l);(h.isLeafNode()||!h.isEmpty())&&(n=n.updateImmediateChild(o,h))}}),n.updatePriority(Fn(t))}}nN(Fn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN extends qf{constructor(t){super(),this.indexPath_=t,At(!re(t)&&$t(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const o=this.extractChild(t.node),l=this.extractChild(n.node),h=o.compareTo(l);return h===0?su(t.name,n.name):h}makePost(t,n){const o=Fn(t),l=Ht.EMPTY_NODE.updateChild(this.indexPath_,o);return new te(n,l)}maxPost(){const t=Ht.EMPTY_NODE.updateChild(this.indexPath_,zc);return new te($a,t)}toString(){return jw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN extends qf{compare(t,n){const o=t.node.compareTo(n.node);return o===0?su(t.name,n.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(t,n){const o=Fn(t);return new te(n,o)}toString(){return".value"}}const hN=new cN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(s){return{type:"value",snapshotNode:s}}function $l(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function wc(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function bc(s,t,n){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:n}}function fN(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t){this.index_=t}updateChild(t,n,o,l,h,m){At(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(n);return g.getChild(l).equals(o.getChild(l))&&g.isEmpty()===o.isEmpty()||(m!=null&&(o.isEmpty()?t.hasChild(n)?m.trackChildChange(wc(n,g)):At(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?m.trackChildChange($l(n,o)):m.trackChildChange(bc(n,o,g))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(t,n,o){return o!=null&&(t.isLeafNode()||t.forEachChild(on,(l,h)=>{n.hasChild(l)||o.trackChildChange(wc(l,h))}),n.isLeafNode()||n.forEachChild(on,(l,h)=>{if(t.hasChild(l)){const m=t.getImmediateChild(l);m.equals(h)||o.trackChildChange(bc(l,h,m))}else o.trackChildChange($l(l,h))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Ht.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t){this.indexedFilter_=new sg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ec.getStartPost_(t),this.endPost_=Ec.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&o}updateChild(t,n,o,l,h,m){return this.matches(new te(n,o))||(o=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,o,l,h,m)}updateFullNode(t,n,o){n.isLeafNode()&&(n=Ht.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(Ht.EMPTY_NODE);const h=this;return n.forEachChild(on,(m,g)=>{h.matches(new te(m,g))||(l=l.updateImmediateChild(m,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Ec(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,o,l,h,m){return this.rangedFilter_.matches(new te(n,o))||(o=Ht.EMPTY_NODE),t.getImmediateChild(n).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,o,l,h,m):this.fullLimitUpdateChild_(t,n,o,h,m)}updateFullNode(t,n,o){let l;if(n.isLeafNode()||n.isEmpty())l=Ht.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=Ht.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const g=h.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))l=l.updateImmediateChild(g.name,g.node),m++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(Ht.EMPTY_NODE);let h;this.reverse_?h=l.getReverseIterator(this.index_):h=l.getIterator(this.index_);let m=0;for(;h.hasNext();){const g=h.getNext();m<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?m++:l=l.updateImmediateChild(g.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,o,l,h){let m;if(this.reverse_){const T=this.index_.getCompare();m=(x,I)=>T(I,x)}else m=this.index_.getCompare();const g=t;At(g.numChildren()===this.limit_,"");const y=new te(n,o),w=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),E=this.rangedFilter_.matches(y);if(g.hasChild(n)){const T=g.getImmediateChild(n);let x=l.getChildAfterChild(this.index_,w,this.reverse_);for(;x!=null&&(x.name===n||g.hasChild(x.name));)x=l.getChildAfterChild(this.index_,x,this.reverse_);const I=x==null?1:m(x,y);if(E&&!o.isEmpty()&&I>=0)return h?.trackChildChange(bc(n,o,T)),g.updateImmediateChild(n,o);{h?.trackChildChange(wc(n,T));const G=g.updateImmediateChild(n,Ht.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(h?.trackChildChange($l(x.name,x.node)),G.updateImmediateChild(x.name,x.node)):G}}else return o.isEmpty()?t:E&&m(w,y)>=0?(h!=null&&(h.trackChildChange(wc(w.name,w.node)),h.trackChildChange($l(n,o))),g.updateImmediateChild(n,o).updateImmediateChild(w.name,Ht.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=on}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return At(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return At(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jl}hasEnd(){return this.endSet_}getIndexEndValue(){return At(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return At(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$a}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return At(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===on}copy(){const t=new rg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function mN(s){return s.loadsAllData()?new sg(s.getIndex()):s.hasLimit()?new dN(s):new Ec(s)}function z0(s){const t={};if(s.isDefault())return t;let n;if(s.index_===on?n="$priority":s.index_===hN?n="$value":s.index_===Yl?n="$key":(At(s.index_ instanceof uN,"Unrecognized index type!"),n=s.index_.toString()),t.orderBy=Cn(n),s.startSet_){const o=s.startAfterSet_?"startAfter":"startAt";t[o]=Cn(s.indexStartValue_),s.startNameSet_&&(t[o]+=","+Cn(s.indexStartName_))}if(s.endSet_){const o=s.endBeforeSet_?"endBefore":"endAt";t[o]=Cn(s.indexEndValue_),s.endNameSet_&&(t[o]+=","+Cn(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function j0(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let n=s.viewFrom_;n===""&&(s.isViewFromLeft()?n="l":n="r"),t.vf=n}return s.index_!==on&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Pw{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(At(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=Uc("p:rest:"),this.listens_={}}listen(t,n,o,l){const h=t._path.toString();this.log_("Listen called for "+h+" "+t._queryIdentifier);const m=yf.getListenId_(t,o),g={};this.listens_[m]=g;const y=z0(t._queryParams);this.restRequest_(h+".json",y,(w,E)=>{let T=E;if(w===404&&(T=null,w=null),w===null&&this.onDataUpdate_(h,T,!1,o),Xl(this.listens_,m)===g){let x;w?w===401?x="permission_denied":x="rest_error:"+w:x="ok",l(x,null)}})}unlisten(t,n){const o=yf.getListenId_(t,n);delete this.listens_[o]}get(t){const n=z0(t._queryParams),o=t._path.toString(),l=new Df;return this.restRequest_(o+".json",n,(h,m)=>{let g=m;h===404&&(g=null,h=null),h===null?(this.onDataUpdate_(o,g,!1,null),l.resolve(g)):l.reject(new Error(g))}),l.promise}refreshAuthToken(t){}restRequest_(t,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,h])=>{l&&l.accessToken&&(n.auth=l.accessToken),h&&h.token&&(n.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+nu(n);this.log_("Sending REST request for "+m);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(o&&g.readyState===4){this.log_("REST Response for "+m+" received. status:",g.status,"response:",g.responseText);let y=null;if(g.status>=200&&g.status<300){try{y=mc(g.responseText)}catch{Mi("Failed to parse JSON response for "+m+": "+g.responseText)}o(null,y)}else g.status!==401&&g.status!==404&&Mi("Got unsuccessful REST response for "+m+" Status: "+g.status),o(g.status);o=null}},g.open("GET",m,!0),g.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(){return{value:null,children:new Map}}function Yw(s,t,n){if(re(t))s.value=n,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,n);else{const o=$t(t);s.children.has(o)||s.children.set(o,wf());const l=s.children.get(o);t=Fe(t),Yw(l,t,n)}}function vp(s,t,n){s.value!==null?n(t,s.value):gN(s,(o,l)=>{const h=new De(t.toString()+"/"+o);vp(l,h,n)})}function gN(s,t){s.children.forEach((n,o)=>{t(o,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&Oi(this.last_,(o,l)=>{n[o]=n[o]-l}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=10*1e3,vN=30*1e3,yN=300*1e3;class wN{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _N(t);const o=B0+(vN-B0)*Math.random();cc(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),n={};let o=!1;Oi(t,(l,h)=>{h>0&&$r(this.statsToReport_,l)&&(n[l]=h,o=!0)}),o&&this.server_.reportStats(n),cc(this.reportStats_.bind(this),Math.floor(Math.random()*2*yN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var js;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(js||(js={}));function Kw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function og(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ag(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n,o){this.path=t,this.affectedTree=n,this.revert=o,this.type=js.ACK_USER_WRITE,this.source=Kw()}operationForChild(t){if(re(this.path)){if(this.affectedTree.value!=null)return At(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new De(t));return new bf(we(),n,this.revert)}}else return At($t(this.path)===t,"operationForChild called for unrelated child."),new bf(Fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n){this.source=t,this.path=n,this.type=js.LISTEN_COMPLETE}operationForChild(t){return re(this.path)?new xc(this.source,we()):new xc(this.source,Fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t,n,o){this.source=t,this.path=n,this.snap=o,this.type=js.OVERWRITE}operationForChild(t){return re(this.path)?new tl(this.source,we(),this.snap.getImmediateChild(t)):new tl(this.source,Fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n,o){this.source=t,this.path=n,this.children=o,this.type=js.MERGE}operationForChild(t){if(re(this.path)){const n=this.children.subtree(new De(t));return n.isEmpty()?null:n.value?new tl(this.source,we(),n.value):new Tc(this.source,we(),n)}else return At($t(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Tc(this.source,Fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n,o){this.node_=t,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(re(t))return this.isFullyInitialized()&&!this.filtered_;const n=$t(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function EN(s,t,n,o){const l=[],h=[];return t.forEach(m=>{m.type==="child_changed"&&s.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(fN(m.childName,m.snapshotNode))}),tc(s,l,"child_removed",t,o,n),tc(s,l,"child_added",t,o,n),tc(s,l,"child_moved",h,o,n),tc(s,l,"child_changed",t,o,n),tc(s,l,"value",t,o,n),l}function tc(s,t,n,o,l,h){const m=o.filter(g=>g.type===n);m.sort((g,y)=>TN(s,g,y)),m.forEach(g=>{const y=xN(s,g,h);l.forEach(w=>{w.respondsTo(g.type)&&t.push(w.createEvent(y,s.query_))})})}function xN(s,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function TN(s,t,n){if(t.childName==null||n.childName==null)throw eu("Should only compare child_ events.");const o=new te(t.childName,t.snapshotNode),l=new te(n.childName,n.snapshotNode);return s.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(s,t){return{eventCache:s,serverCache:t}}function hc(s,t,n,o){return Gf(new aa(t,n,o),s.serverCache)}function Xw(s,t,n,o){return Gf(s.eventCache,new aa(t,n,o))}function Ef(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function el(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m;const SN=()=>($m||($m=new Ii(cC)),$m);class Ze{static fromObject(t){let n=new Ze(null);return Oi(t,(o,l)=>{n=n.set(new De(o),l)}),n}constructor(t,n=SN()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(re(t))return null;{const o=$t(t),l=this.children.get(o);if(l!==null){const h=l.findRootMostMatchingPathAndValue(Fe(t),n);return h!=null?{path:Nn(new De(o),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(re(t))return this;{const n=$t(t),o=this.children.get(n);return o!==null?o.subtree(Fe(t)):new Ze(null)}}set(t,n){if(re(t))return new Ze(n,this.children);{const o=$t(t),h=(this.children.get(o)||new Ze(null)).set(Fe(t),n),m=this.children.insert(o,h);return new Ze(this.value,m)}}remove(t){if(re(t))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const n=$t(t),o=this.children.get(n);if(o){const l=o.remove(Fe(t));let h;return l.isEmpty()?h=this.children.remove(n):h=this.children.insert(n,l),this.value===null&&h.isEmpty()?new Ze(null):new Ze(this.value,h)}else return this}}get(t){if(re(t))return this.value;{const n=$t(t),o=this.children.get(n);return o?o.get(Fe(t)):null}}setTree(t,n){if(re(t))return n;{const o=$t(t),h=(this.children.get(o)||new Ze(null)).setTree(Fe(t),n);let m;return h.isEmpty()?m=this.children.remove(o):m=this.children.insert(o,h),new Ze(this.value,m)}}fold(t){return this.fold_(we(),t)}fold_(t,n){const o={};return this.children.inorderTraversal((l,h)=>{o[l]=h.fold_(Nn(t,l),n)}),n(t,this.value,o)}findOnPath(t,n){return this.findOnPath_(t,we(),n)}findOnPath_(t,n,o){const l=this.value?o(n,this.value):!1;if(l)return l;if(re(t))return null;{const h=$t(t),m=this.children.get(h);return m?m.findOnPath_(Fe(t),Nn(n,h),o):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,we(),n)}foreachOnPath_(t,n,o){if(re(t))return this;{this.value&&o(n,this.value);const l=$t(t),h=this.children.get(l);return h?h.foreachOnPath_(Fe(t),Nn(n,l),o):new Ze(null)}}foreach(t){this.foreach_(we(),t)}foreach_(t,n){this.children.inorderTraversal((o,l)=>{l.foreach_(Nn(t,o),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,o)=>{o.value&&t(n,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.writeTree_=t}static empty(){return new Fs(new Ze(null))}}function fc(s,t,n){if(re(t))return new Fs(new Ze(n));{const o=s.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let h=o.value;const m=yi(l,t);return h=h.updateChild(m,n),new Fs(s.writeTree_.set(l,h))}else{const l=new Ze(n),h=s.writeTree_.setTree(t,l);return new Fs(h)}}}function H0(s,t,n){let o=s;return Oi(n,(l,h)=>{o=fc(o,Nn(t,l),h)}),o}function F0(s,t){if(re(t))return Fs.empty();{const n=s.writeTree_.setTree(t,new Ze(null));return new Fs(n)}}function yp(s,t){return il(s,t)!=null}function il(s,t){const n=s.writeTree_.findRootMostValueAndPath(t);return n!=null?s.writeTree_.get(n.path).getChild(yi(n.path,t)):null}function V0(s){const t=[],n=s.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(on,(o,l)=>{t.push(new te(o,l))}):s.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new te(o,l.value))}),t}function ea(s,t){if(re(t))return s;{const n=il(s,t);return n!=null?new Fs(new Ze(n)):new Fs(s.writeTree_.subtree(t))}}function wp(s){return s.writeTree_.isEmpty()}function tu(s,t){return Qw(we(),s.writeTree_,t)}function Qw(s,t,n){if(t.value!=null)return n.updateChild(s,t.value);{let o=null;return t.children.inorderTraversal((l,h)=>{l===".priority"?(At(h.value!==null,"Priority writes must always be leaf nodes"),o=h.value):n=Qw(Nn(s,l),h,n)}),!n.getChild(s).isEmpty()&&o!==null&&(n=n.updateChild(Nn(s,".priority"),o)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(s,t){return eb(t,s)}function AN(s,t,n,o,l){At(o>s.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),s.allWrites.push({path:t,snap:n,writeId:o,visible:l}),l&&(s.visibleWrites=fc(s.visibleWrites,t,n)),s.lastWriteId=o}function CN(s,t){for(let n=0;n<s.allWrites.length;n++){const o=s.allWrites[n];if(o.writeId===t)return o}return null}function NN(s,t){const n=s.allWrites.findIndex(g=>g.writeId===t);At(n>=0,"removeWrite called with nonexistent writeId.");const o=s.allWrites[n];s.allWrites.splice(n,1);let l=o.visible,h=!1,m=s.allWrites.length-1;for(;l&&m>=0;){const g=s.allWrites[m];g.visible&&(m>=n&&RN(g,o.path)?l=!1:zs(o.path,g.path)&&(h=!0)),m--}if(l){if(h)return IN(s),!0;if(o.snap)s.visibleWrites=F0(s.visibleWrites,o.path);else{const g=o.children;Oi(g,y=>{s.visibleWrites=F0(s.visibleWrites,Nn(o.path,y))})}return!0}else return!1}function RN(s,t){if(s.snap)return zs(s.path,t);for(const n in s.children)if(s.children.hasOwnProperty(n)&&zs(Nn(s.path,n),t))return!0;return!1}function IN(s){s.visibleWrites=Jw(s.allWrites,MN,we()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function MN(s){return s.visible}function Jw(s,t,n){let o=Fs.empty();for(let l=0;l<s.length;++l){const h=s[l];if(t(h)){const m=h.path;let g;if(h.snap)zs(n,m)?(g=yi(n,m),o=fc(o,g,h.snap)):zs(m,n)&&(g=yi(m,n),o=fc(o,we(),h.snap.getChild(g)));else if(h.children){if(zs(n,m))g=yi(n,m),o=H0(o,g,h.children);else if(zs(m,n))if(g=yi(m,n),re(g))o=H0(o,we(),h.children);else{const y=Xl(h.children,$t(g));if(y){const w=y.getChild(Fe(g));o=fc(o,we(),w)}}}else throw eu("WriteRecord should have .snap or .children")}}return o}function $w(s,t,n,o,l){if(!o&&!l){const h=il(s.visibleWrites,t);if(h!=null)return h;{const m=ea(s.visibleWrites,t);if(wp(m))return n;if(n==null&&!yp(m,we()))return null;{const g=n||Ht.EMPTY_NODE;return tu(m,g)}}}else{const h=ea(s.visibleWrites,t);if(!l&&wp(h))return n;if(!l&&n==null&&!yp(h,we()))return null;{const m=function(w){return(w.visible||l)&&(!o||!~o.indexOf(w.writeId))&&(zs(w.path,t)||zs(t,w.path))},g=Jw(s.allWrites,m,t),y=n||Ht.EMPTY_NODE;return tu(g,y)}}}function ON(s,t,n){let o=Ht.EMPTY_NODE;const l=il(s.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(on,(h,m)=>{o=o.updateImmediateChild(h,m)}),o;if(n){const h=ea(s.visibleWrites,t);return n.forEachChild(on,(m,g)=>{const y=tu(ea(h,new De(m)),g);o=o.updateImmediateChild(m,y)}),V0(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}else{const h=ea(s.visibleWrites,t);return V0(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}}function LN(s,t,n,o,l){At(o||l,"Either existingEventSnap or existingServerSnap must exist");const h=Nn(t,n);if(yp(s.visibleWrites,h))return null;{const m=ea(s.visibleWrites,h);return wp(m)?l.getChild(n):tu(m,l.getChild(n))}}function kN(s,t,n,o){const l=Nn(t,n),h=il(s.visibleWrites,l);if(h!=null)return h;if(o.isCompleteForChild(n)){const m=ea(s.visibleWrites,l);return tu(m,o.getNode().getImmediateChild(n))}else return null}function DN(s,t){return il(s.visibleWrites,t)}function PN(s,t,n,o,l,h,m){let g;const y=ea(s.visibleWrites,t),w=il(y,we());if(w!=null)g=w;else if(n!=null)g=tu(y,n);else return[];if(g=g.withIndex(m),!g.isEmpty()&&!g.isLeafNode()){const E=[],T=m.getCompare(),x=h?g.getReverseIteratorFrom(o,m):g.getIteratorFrom(o,m);let I=x.getNext();for(;I&&E.length<l;)T(I,o)!==0&&E.push(I),I=x.getNext();return E}else return[]}function UN(){return{visibleWrites:Fs.empty(),allWrites:[],lastWriteId:-1}}function xf(s,t,n,o){return $w(s.writeTree,s.treePath,t,n,o)}function lg(s,t){return ON(s.writeTree,s.treePath,t)}function q0(s,t,n,o){return LN(s.writeTree,s.treePath,t,n,o)}function Tf(s,t){return DN(s.writeTree,Nn(s.treePath,t))}function zN(s,t,n,o,l,h){return PN(s.writeTree,s.treePath,t,n,o,l,h)}function ug(s,t,n){return kN(s.writeTree,s.treePath,t,n)}function tb(s,t){return eb(Nn(s.treePath,t),s.writeTree)}function eb(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,o=t.childName;At(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),At(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const h=l.type;if(n==="child_added"&&h==="child_removed")this.changeMap.set(o,bc(o,t.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&h==="child_added")this.changeMap.delete(o);else if(n==="child_removed"&&h==="child_changed")this.changeMap.set(o,wc(o,l.oldSnap));else if(n==="child_changed"&&h==="child_added")this.changeMap.set(o,$l(o,t.snapshotNode));else if(n==="child_changed"&&h==="child_changed")this.changeMap.set(o,bc(o,t.snapshotNode,l.oldSnap));else throw eu("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{getCompleteChild(t){return null}getChildAfterChild(t,n,o){return null}}const nb=new BN;class cg{constructor(t,n,o=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new aa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ug(this.writes_,t,o)}}getChildAfterChild(t,n,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:el(this.viewCache_),h=zN(this.writes_,l,n,1,o,t);return h.length===0?null:h[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(s){return{filter:s}}function FN(s,t){At(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),At(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function VN(s,t,n,o,l){const h=new jN;let m,g;if(n.type===js.OVERWRITE){const w=n;w.source.fromUser?m=bp(s,t,w.path,w.snap,o,l,h):(At(w.source.fromServer,"Unknown source."),g=w.source.tagged||t.serverCache.isFiltered()&&!re(w.path),m=Sf(s,t,w.path,w.snap,o,l,g,h))}else if(n.type===js.MERGE){const w=n;w.source.fromUser?m=GN(s,t,w.path,w.children,o,l,h):(At(w.source.fromServer,"Unknown source."),g=w.source.tagged||t.serverCache.isFiltered(),m=Ep(s,t,w.path,w.children,o,l,g,h))}else if(n.type===js.ACK_USER_WRITE){const w=n;w.revert?m=YN(s,t,w.path,o,l,h):m=ZN(s,t,w.path,w.affectedTree,o,l,h)}else if(n.type===js.LISTEN_COMPLETE)m=WN(s,t,n.path,o,h);else throw eu("Unknown operation type: "+n.type);const y=h.getChanges();return qN(t,m,y),{viewCache:m,changes:y}}function qN(s,t,n){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),h=Ef(s);(n.length>0||!s.eventCache.isFullyInitialized()||l&&!o.getNode().equals(h)||!o.getNode().getPriority().equals(h.getPriority()))&&n.push(Ww(Ef(t)))}}function ib(s,t,n,o,l,h){const m=t.eventCache;if(Tf(o,n)!=null)return t;{let g,y;if(re(n))if(At(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const w=el(t),E=w instanceof Ht?w:Ht.EMPTY_NODE,T=lg(o,E);g=s.filter.updateFullNode(t.eventCache.getNode(),T,h)}else{const w=xf(o,el(t));g=s.filter.updateFullNode(t.eventCache.getNode(),w,h)}else{const w=$t(n);if(w===".priority"){At(oa(n)===1,"Can't have a priority with additional path components");const E=m.getNode();y=t.serverCache.getNode();const T=q0(o,n,E,y);T!=null?g=s.filter.updatePriority(E,T):g=m.getNode()}else{const E=Fe(n);let T;if(m.isCompleteForChild(w)){y=t.serverCache.getNode();const x=q0(o,n,m.getNode(),y);x!=null?T=m.getNode().getImmediateChild(w).updateChild(E,x):T=m.getNode().getImmediateChild(w)}else T=ug(o,w,t.serverCache);T!=null?g=s.filter.updateChild(m.getNode(),w,T,E,l,h):g=m.getNode()}}return hc(t,g,m.isFullyInitialized()||re(n),s.filter.filtersNodes())}}function Sf(s,t,n,o,l,h,m,g){const y=t.serverCache;let w;const E=m?s.filter:s.filter.getIndexedFilter();if(re(n))w=E.updateFullNode(y.getNode(),o,null);else if(E.filtersNodes()&&!y.isFiltered()){const I=y.getNode().updateChild(n,o);w=E.updateFullNode(y.getNode(),I,null)}else{const I=$t(n);if(!y.isCompleteForPath(n)&&oa(n)>1)return t;const P=Fe(n),Z=y.getNode().getImmediateChild(I).updateChild(P,o);I===".priority"?w=E.updatePriority(y.getNode(),Z):w=E.updateChild(y.getNode(),I,Z,P,nb,null)}const T=Xw(t,w,y.isFullyInitialized()||re(n),E.filtersNodes()),x=new cg(l,T,h);return ib(s,T,n,l,x,g)}function bp(s,t,n,o,l,h,m){const g=t.eventCache;let y,w;const E=new cg(l,t,h);if(re(n))w=s.filter.updateFullNode(t.eventCache.getNode(),o,m),y=hc(t,w,!0,s.filter.filtersNodes());else{const T=$t(n);if(T===".priority")w=s.filter.updatePriority(t.eventCache.getNode(),o),y=hc(t,w,g.isFullyInitialized(),g.isFiltered());else{const x=Fe(n),I=g.getNode().getImmediateChild(T);let P;if(re(x))P=o;else{const G=E.getCompleteChild(T);G!=null?zw(x)===".priority"&&G.getChild(Bw(x)).isEmpty()?P=G:P=G.updateChild(x,o):P=Ht.EMPTY_NODE}if(I.equals(P))y=t;else{const G=s.filter.updateChild(g.getNode(),T,P,x,E,m);y=hc(t,G,g.isFullyInitialized(),s.filter.filtersNodes())}}}return y}function G0(s,t){return s.eventCache.isCompleteForChild(t)}function GN(s,t,n,o,l,h,m){let g=t;return o.foreach((y,w)=>{const E=Nn(n,y);G0(t,$t(E))&&(g=bp(s,g,E,w,l,h,m))}),o.foreach((y,w)=>{const E=Nn(n,y);G0(t,$t(E))||(g=bp(s,g,E,w,l,h,m))}),g}function Z0(s,t,n){return n.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function Ep(s,t,n,o,l,h,m,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y=t,w;re(n)?w=o:w=new Ze(null).setTree(n,o);const E=t.serverCache.getNode();return w.children.inorderTraversal((T,x)=>{if(E.hasChild(T)){const I=t.serverCache.getNode().getImmediateChild(T),P=Z0(s,I,x);y=Sf(s,y,new De(T),P,l,h,m,g)}}),w.children.inorderTraversal((T,x)=>{const I=!t.serverCache.isCompleteForChild(T)&&x.value===null;if(!E.hasChild(T)&&!I){const P=t.serverCache.getNode().getImmediateChild(T),G=Z0(s,P,x);y=Sf(s,y,new De(T),G,l,h,m,g)}}),y}function ZN(s,t,n,o,l,h,m){if(Tf(l,n)!=null)return t;const g=t.serverCache.isFiltered(),y=t.serverCache;if(o.value!=null){if(re(n)&&y.isFullyInitialized()||y.isCompleteForPath(n))return Sf(s,t,n,y.getNode().getChild(n),l,h,g,m);if(re(n)){let w=new Ze(null);return y.getNode().forEachChild(Yl,(E,T)=>{w=w.set(new De(E),T)}),Ep(s,t,n,w,l,h,g,m)}else return t}else{let w=new Ze(null);return o.foreach((E,T)=>{const x=Nn(n,E);y.isCompleteForPath(x)&&(w=w.set(E,y.getNode().getChild(x)))}),Ep(s,t,n,w,l,h,g,m)}}function WN(s,t,n,o,l){const h=t.serverCache,m=Xw(t,h.getNode(),h.isFullyInitialized()||re(n),h.isFiltered());return ib(s,m,n,o,nb,l)}function YN(s,t,n,o,l,h){let m;if(Tf(o,n)!=null)return t;{const g=new cg(o,t,l),y=t.eventCache.getNode();let w;if(re(n)||$t(n)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=xf(o,el(t));else{const T=t.serverCache.getNode();At(T instanceof Ht,"serverChildren would be complete if leaf node"),E=lg(o,T)}E=E,w=s.filter.updateFullNode(y,E,h)}else{const E=$t(n);let T=ug(o,E,t.serverCache);T==null&&t.serverCache.isCompleteForChild(E)&&(T=y.getImmediateChild(E)),T!=null?w=s.filter.updateChild(y,E,T,Fe(n),g,h):t.eventCache.getNode().hasChild(E)?w=s.filter.updateChild(y,E,Ht.EMPTY_NODE,Fe(n),g,h):w=y,w.isEmpty()&&t.serverCache.isFullyInitialized()&&(m=xf(o,el(t)),m.isLeafNode()&&(w=s.filter.updateFullNode(w,m,h)))}return m=t.serverCache.isFullyInitialized()||Tf(o,we())!=null,hc(t,w,m,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new sg(o.getIndex()),h=mN(o);this.processor_=HN(h);const m=n.serverCache,g=n.eventCache,y=l.updateFullNode(Ht.EMPTY_NODE,m.getNode(),null),w=h.updateFullNode(Ht.EMPTY_NODE,g.getNode(),null),E=new aa(y,m.isFullyInitialized(),l.filtersNodes()),T=new aa(w,g.isFullyInitialized(),h.filtersNodes());this.viewCache_=Gf(T,E),this.eventGenerator_=new bN(this.query_)}get query(){return this.query_}}function XN(s){return s.viewCache_.serverCache.getNode()}function QN(s){return Ef(s.viewCache_)}function JN(s,t){const n=el(s.viewCache_);return n&&(s.query._queryParams.loadsAllData()||!re(t)&&!n.getImmediateChild($t(t)).isEmpty())?n.getChild(t):null}function W0(s){return s.eventRegistrations_.length===0}function $N(s,t){s.eventRegistrations_.push(t)}function Y0(s,t,n){const o=[];if(n){At(t==null,"A cancel should cancel all event registrations.");const l=s.query._path;s.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(n,l);m&&o.push(m)})}if(t){let l=[];for(let h=0;h<s.eventRegistrations_.length;++h){const m=s.eventRegistrations_[h];if(!m.matches(t))l.push(m);else if(t.hasAnyCallback()){l=l.concat(s.eventRegistrations_.slice(h+1));break}}s.eventRegistrations_=l}else s.eventRegistrations_=[];return o}function K0(s,t,n,o){t.type===js.MERGE&&t.source.queryId!==null&&(At(el(s.viewCache_),"We should always have a full cache before handling merges"),At(Ef(s.viewCache_),"Missing event cache, even though we have a server cache"));const l=s.viewCache_,h=VN(s.processor_,l,t,n,o);return FN(s.processor_,h.viewCache),At(h.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=h.viewCache,sb(s,h.changes,h.viewCache.eventCache.getNode(),null)}function t4(s,t){const n=s.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(on,(h,m)=>{o.push($l(h,m))}),n.isFullyInitialized()&&o.push(Ww(n.getNode())),sb(s,o,n.getNode(),t)}function sb(s,t,n,o){const l=o?[o]:s.eventRegistrations_;return EN(s.eventGenerator_,t,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;class rb{constructor(){this.views=new Map}}function e4(s){At(!Af,"__referenceConstructor has already been defined"),Af=s}function n4(){return At(Af,"Reference.ts has not been loaded"),Af}function i4(s){return s.views.size===0}function hg(s,t,n,o){const l=t.source.queryId;if(l!==null){const h=s.views.get(l);return At(h!=null,"SyncTree gave us an op for an invalid query."),K0(h,t,n,o)}else{let h=[];for(const m of s.views.values())h=h.concat(K0(m,t,n,o));return h}}function ob(s,t,n,o,l){const h=t._queryIdentifier,m=s.views.get(h);if(!m){let g=xf(n,l?o:null),y=!1;g?y=!0:o instanceof Ht?(g=lg(n,o),y=!1):(g=Ht.EMPTY_NODE,y=!1);const w=Gf(new aa(g,y,!1),new aa(o,l,!1));return new KN(t,w)}return m}function s4(s,t,n,o,l,h){const m=ob(s,t,o,l,h);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,m),$N(m,n),t4(m,n)}function r4(s,t,n,o){const l=t._queryIdentifier,h=[];let m=[];const g=la(s);if(l==="default")for(const[y,w]of s.views.entries())m=m.concat(Y0(w,n,o)),W0(w)&&(s.views.delete(y),w.query._queryParams.loadsAllData()||h.push(w.query));else{const y=s.views.get(l);y&&(m=m.concat(Y0(y,n,o)),W0(y)&&(s.views.delete(l),y.query._queryParams.loadsAllData()||h.push(y.query)))}return g&&!la(s)&&h.push(new(n4())(t._repo,t._path)),{removed:h,events:m}}function ab(s){const t=[];for(const n of s.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function na(s,t){let n=null;for(const o of s.views.values())n=n||JN(o,t);return n}function lb(s,t){if(t._queryParams.loadsAllData())return Wf(s);{const o=t._queryIdentifier;return s.views.get(o)}}function ub(s,t){return lb(s,t)!=null}function la(s){return Wf(s)!=null}function Wf(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;function o4(s){At(!Cf,"__referenceConstructor has already been defined"),Cf=s}function a4(){return At(Cf,"Reference.ts has not been loaded"),Cf}let l4=1;class X0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=UN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cb(s,t,n,o,l){return AN(s.pendingWriteTree_,t,n,o,l),l?Bc(s,new tl(Kw(),t,n)):[]}function Za(s,t,n=!1){const o=CN(s.pendingWriteTree_,t);if(NN(s.pendingWriteTree_,t)){let h=new Ze(null);return o.snap!=null?h=h.set(we(),!0):Oi(o.children,m=>{h=h.set(new De(m),!0)}),Bc(s,new bf(o.path,h,n))}else return[]}function jc(s,t,n){return Bc(s,new tl(og(),t,n))}function u4(s,t,n){const o=Ze.fromObject(n);return Bc(s,new Tc(og(),t,o))}function c4(s,t){return Bc(s,new xc(og(),t))}function h4(s,t,n){const o=dg(s,n);if(o){const l=mg(o),h=l.path,m=l.queryId,g=yi(h,t),y=new xc(ag(m),g);return pg(s,h,y)}else return[]}function Nf(s,t,n,o,l=!1){const h=t._path,m=s.syncPointTree_.get(h);let g=[];if(m&&(t._queryIdentifier==="default"||ub(m,t))){const y=r4(m,t,n,o);i4(m)&&(s.syncPointTree_=s.syncPointTree_.remove(h));const w=y.removed;if(g=y.events,!l){const E=w.findIndex(x=>x._queryParams.loadsAllData())!==-1,T=s.syncPointTree_.findOnPath(h,(x,I)=>la(I));if(E&&!T){const x=s.syncPointTree_.subtree(h);if(!x.isEmpty()){const I=m4(x);for(let P=0;P<I.length;++P){const G=I[P],Z=G.query,W=mb(s,G);s.listenProvider_.startListening(dc(Z),Sc(s,Z),W.hashFn,W.onComplete)}}}!T&&w.length>0&&!o&&(E?s.listenProvider_.stopListening(dc(t),null):w.forEach(x=>{const I=s.queryToTagMap.get(Yf(x));s.listenProvider_.stopListening(dc(x),I)}))}p4(s,w)}return g}function hb(s,t,n,o){const l=dg(s,o);if(l!=null){const h=mg(l),m=h.path,g=h.queryId,y=yi(m,t),w=new tl(ag(g),y,n);return pg(s,m,w)}else return[]}function f4(s,t,n,o){const l=dg(s,o);if(l){const h=mg(l),m=h.path,g=h.queryId,y=yi(m,t),w=Ze.fromObject(n),E=new Tc(ag(g),y,w);return pg(s,m,E)}else return[]}function xp(s,t,n,o=!1){const l=t._path;let h=null,m=!1;s.syncPointTree_.foreachOnPath(l,(x,I)=>{const P=yi(x,l);h=h||na(I,P),m=m||la(I)});let g=s.syncPointTree_.get(l);g?(m=m||la(g),h=h||na(g,we())):(g=new rb,s.syncPointTree_=s.syncPointTree_.set(l,g));let y;h!=null?y=!0:(y=!1,h=Ht.EMPTY_NODE,s.syncPointTree_.subtree(l).foreachChild((I,P)=>{const G=na(P,we());G&&(h=h.updateImmediateChild(I,G))}));const w=ub(g,t);if(!w&&!t._queryParams.loadsAllData()){const x=Yf(t);At(!s.queryToTagMap.has(x),"View does not exist, but we have a tag");const I=g4();s.queryToTagMap.set(x,I),s.tagToQueryMap.set(I,x)}const E=Zf(s.pendingWriteTree_,l);let T=s4(g,t,n,E,h,y);if(!w&&!m&&!o){const x=lb(g,t);T=T.concat(_4(s,t,x))}return T}function fg(s,t,n){const l=s.pendingWriteTree_,h=s.syncPointTree_.findOnPath(t,(m,g)=>{const y=yi(m,t),w=na(g,y);if(w)return w});return $w(l,t,h,n,!0)}function d4(s,t){const n=t._path;let o=null;s.syncPointTree_.foreachOnPath(n,(w,E)=>{const T=yi(w,n);o=o||na(E,T)});let l=s.syncPointTree_.get(n);l?o=o||na(l,we()):(l=new rb,s.syncPointTree_=s.syncPointTree_.set(n,l));const h=o!=null,m=h?new aa(o,!0,!1):null,g=Zf(s.pendingWriteTree_,t._path),y=ob(l,t,g,h?m.getNode():Ht.EMPTY_NODE,h);return QN(y)}function Bc(s,t){return fb(t,s.syncPointTree_,null,Zf(s.pendingWriteTree_,we()))}function fb(s,t,n,o){if(re(s.path))return db(s,t,n,o);{const l=t.get(we());n==null&&l!=null&&(n=na(l,we()));let h=[];const m=$t(s.path),g=s.operationForChild(m),y=t.children.get(m);if(y&&g){const w=n?n.getImmediateChild(m):null,E=tb(o,m);h=h.concat(fb(g,y,w,E))}return l&&(h=h.concat(hg(l,s,o,n))),h}}function db(s,t,n,o){const l=t.get(we());n==null&&l!=null&&(n=na(l,we()));let h=[];return t.children.inorderTraversal((m,g)=>{const y=n?n.getImmediateChild(m):null,w=tb(o,m),E=s.operationForChild(m);E&&(h=h.concat(db(E,g,y,w)))}),l&&(h=h.concat(hg(l,s,o,n))),h}function mb(s,t){const n=t.query,o=Sc(s,n);return{hashFn:()=>(XN(t)||Ht.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?h4(s,n._path,o):c4(s,n._path);{const h=dC(l,n);return Nf(s,n,null,h)}}}}function Sc(s,t){const n=Yf(t);return s.queryToTagMap.get(n)}function Yf(s){return s._path.toString()+"$"+s._queryIdentifier}function dg(s,t){return s.tagToQueryMap.get(t)}function mg(s){const t=s.indexOf("$");return At(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new De(s.substr(0,t))}}function pg(s,t,n){const o=s.syncPointTree_.get(t);At(o,"Missing sync point for query tag that we're tracking");const l=Zf(s.pendingWriteTree_,t);return hg(o,n,l,null)}function m4(s){return s.fold((t,n,o)=>{if(n&&la(n))return[Wf(n)];{let l=[];return n&&(l=ab(n)),Oi(o,(h,m)=>{l=l.concat(m)}),l}})}function dc(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(a4())(s._repo,s._path):s}function p4(s,t){for(let n=0;n<t.length;++n){const o=t[n];if(!o._queryParams.loadsAllData()){const l=Yf(o),h=s.queryToTagMap.get(l);s.queryToTagMap.delete(l),s.tagToQueryMap.delete(h)}}}function g4(){return l4++}function _4(s,t,n){const o=t._path,l=Sc(s,t),h=mb(s,n),m=s.listenProvider_.startListening(dc(t),l,h.hashFn,h.onComplete),g=s.syncPointTree_.subtree(o);if(l)At(!la(g.value),"If we're adding a query, it shouldn't be shadowed");else{const y=g.fold((w,E,T)=>{if(!re(w)&&E&&la(E))return[Wf(E).query];{let x=[];return E&&(x=x.concat(ab(E).map(I=>I.query))),Oi(T,(I,P)=>{x=x.concat(P)}),x}});for(let w=0;w<y.length;++w){const E=y[w];s.listenProvider_.stopListening(dc(E),Sc(s,E))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new gg(n)}node(){return this.node_}}class _g{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Nn(this.path_,t);return new _g(this.syncTree_,n)}node(){return fg(this.syncTree_,this.path_)}}const v4=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Q0=function(s,t,n){if(!s||typeof s!="object")return s;if(At(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return y4(s[".sv"],t,n);if(typeof s[".sv"]=="object")return w4(s[".sv"],t);At(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},y4=function(s,t,n){switch(s){case"timestamp":return n.timestamp;default:At(!1,"Unexpected server value: "+s)}},w4=function(s,t,n){s.hasOwnProperty("increment")||At(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const o=s.increment;typeof o!="number"&&At(!1,"Unexpected increment value: "+o);const l=t.node();if(At(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const m=l.getValue();return typeof m!="number"?o:m+o},b4=function(s,t,n,o){return vg(t,new _g(n,s),o)},pb=function(s,t,n){return vg(s,new gg(t),n)};function vg(s,t,n){const o=s.getPriority().val(),l=Q0(o,t.getImmediateChild(".priority"),n);let h;if(s.isLeafNode()){const m=s,g=Q0(m.getValue(),t,n);return g!==m.getValue()||l!==m.getPriority().val()?new Bn(g,Fn(l)):s}else{const m=s;return h=m,l!==m.getPriority().val()&&(h=h.updatePriority(new Bn(l))),m.forEachChild(on,(g,y)=>{const w=vg(y,t.getImmediateChild(g),n);w!==y&&(h=h.updateImmediateChild(g,w))}),h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t="",n=null,o={children:{},childCount:0}){this.name=t,this.parent=n,this.node=o}}function wg(s,t){let n=t instanceof De?t:new De(t),o=s,l=$t(n);for(;l!==null;){const h=Xl(o.node.children,l)||{children:{},childCount:0};o=new yg(l,o,h),n=Fe(n),l=$t(n)}return o}function ou(s){return s.node.value}function gb(s,t){s.node.value=t,Tp(s)}function _b(s){return s.node.childCount>0}function E4(s){return ou(s)===void 0&&!_b(s)}function Kf(s,t){Oi(s.node.children,(n,o)=>{t(new yg(n,s,o))})}function vb(s,t,n,o){n&&t(s),Kf(s,l=>{vb(l,t,!0)})}function x4(s,t,n){let o=s.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Hc(s){return new De(s.parent===null?s.name:Hc(s.parent)+"/"+s.name)}function Tp(s){s.parent!==null&&T4(s.parent,s.name,s)}function T4(s,t,n){const o=E4(n),l=$r(s.node.children,t);o&&l?(delete s.node.children[t],s.node.childCount--,Tp(s)):!o&&!l&&(s.node.children[t]=n.node,s.node.childCount++,Tp(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=/[\[\].#$\/\u0000-\u001F\u007F]/,A4=/[\[\].#$\u0000-\u001F\u007F]/,tp=10*1024*1024,yb=function(s){return typeof s=="string"&&s.length!==0&&!S4.test(s)},wb=function(s){return typeof s=="string"&&s.length!==0&&!A4.test(s)},C4=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),wb(s)},bb=function(s,t,n,o){o&&t===void 0||bg(Lp(s,"value"),t,n)},bg=function(s,t,n){const o=n instanceof De?new ZC(n,s):n;if(t===void 0)throw new Error(s+"contains undefined "+Ha(o));if(typeof t=="function")throw new Error(s+"contains a function "+Ha(o)+" with contents = "+t.toString());if(_w(t))throw new Error(s+"contains "+t.toString()+" "+Ha(o));if(typeof t=="string"&&t.length>tp/3&&zf(t)>tp)throw new Error(s+"contains a string greater than "+tp+" utf8 bytes "+Ha(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,h=!1;if(Oi(t,(m,g)=>{if(m===".value")l=!0;else if(m!==".priority"&&m!==".sv"&&(h=!0,!yb(m)))throw new Error(s+" contains an invalid key ("+m+") "+Ha(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WC(o,m),bg(s,g,o),YC(o)}),l&&h)throw new Error(s+' contains ".value" child '+Ha(o)+" in addition to actual children.")}},Eb=function(s,t,n,o){if(!wb(n))throw new Error(Lp(s,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},N4=function(s,t,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Eb(s,t,n)},xb=function(s,t){if($t(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},R4=function(s,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!yb(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!C4(n))throw new Error(Lp(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Eg(s,t){let n=null;for(let o=0;o<t.length;o++){const l=t[o],h=l.getPath();n!==null&&!eg(h,n.path)&&(s.eventLists_.push(n),n=null),n===null&&(n={events:[],path:h}),n.events.push(l)}n&&s.eventLists_.push(n)}function Tb(s,t,n){Eg(s,n),Sb(s,o=>eg(o,t))}function mr(s,t,n){Eg(s,n),Sb(s,o=>zs(o,t)||zs(t,o))}function Sb(s,t){s.recursionDepth_++;let n=!0;for(let o=0;o<s.eventLists_.length;o++){const l=s.eventLists_[o];if(l){const h=l.path;t(h)?(M4(s.eventLists_[o]),s.eventLists_[o]=null):n=!1}}n&&(s.eventLists_=[]),s.recursionDepth_--}function M4(s){for(let t=0;t<s.events.length;t++){const n=s.events[t];if(n!==null){s.events[t]=null;const o=n.getEventRunner();uc&&li("event: "+n.toString()),ru(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="repo_interrupt",L4=25;class k4{constructor(t,n,o,l){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new I4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wf(),this.transactionQueueTree_=new yg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function D4(s,t,n){if(s.stats_=$p(s.repoInfo_),s.forceRestClient_||_C())s.server_=new yf(s.repoInfo_,(o,l,h,m)=>{J0(s,o,l,h,m)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>$0(s,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Cn(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}s.persistentConnection_=new Zr(s.repoInfo_,t,(o,l,h,m)=>{J0(s,o,l,h,m)},o=>{$0(s,o)},o=>{P4(s,o)},s.authTokenProvider_,s.appCheckProvider_,n),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(o=>{s.server_.refreshAuthToken(o)}),s.appCheckProvider_.addTokenChangeListener(o=>{s.server_.refreshAppCheckToken(o.token)}),s.statsReporter_=EC(s.repoInfo_,()=>new wN(s.stats_,s.server_)),s.infoData_=new pN,s.infoSyncTree_=new X0({startListening:(o,l,h,m)=>{let g=[];const y=s.infoData_.getNode(o._path);return y.isEmpty()||(g=jc(s.infoSyncTree_,o._path,y),setTimeout(()=>{m("ok")},0)),g},stopListening:()=>{}}),Tg(s,"connected",!1),s.serverSyncTree_=new X0({startListening:(o,l,h,m)=>(s.server_.listen(o,h,l,(g,y)=>{const w=m(g,y);mr(s.eventQueue_,o._path,w)}),[]),stopListening:(o,l)=>{s.server_.unlisten(o,l)}})}function Ab(s){const n=s.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xg(s){return v4({timestamp:Ab(s)})}function J0(s,t,n,o,l){s.dataUpdateCount++;const h=new De(t);n=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,n):n;let m=[];if(l)if(o){const y=of(n,w=>Fn(w));m=f4(s.serverSyncTree_,h,y,l)}else{const y=Fn(n);m=hb(s.serverSyncTree_,h,y,l)}else if(o){const y=of(n,w=>Fn(w));m=u4(s.serverSyncTree_,h,y)}else{const y=Fn(n);m=jc(s.serverSyncTree_,h,y)}let g=h;m.length>0&&(g=Qf(s,h)),mr(s.eventQueue_,g,m)}function $0(s,t){Tg(s,"connected",t),t===!1&&j4(s)}function P4(s,t){Oi(t,(n,o)=>{Tg(s,n,o)})}function Tg(s,t,n){const o=new De("/.info/"+t),l=Fn(n);s.infoData_.updateSnapshot(o,l);const h=jc(s.infoSyncTree_,o,l);mr(s.eventQueue_,o,h)}function Cb(s){return s.nextWriteId_++}function U4(s,t,n){const o=d4(s.serverSyncTree_,t);return o!=null?Promise.resolve(o):s.server_.get(t).then(l=>{const h=Fn(l).withIndex(t._queryParams.getIndex());xp(s.serverSyncTree_,t,n,!0);let m;if(t._queryParams.loadsAllData())m=jc(s.serverSyncTree_,t._path,h);else{const g=Sc(s.serverSyncTree_,t);m=hb(s.serverSyncTree_,t._path,h,g)}return mr(s.eventQueue_,t._path,m),Nf(s.serverSyncTree_,t,n,null,!0),h},l=>(Xf(s,"get for query "+Cn(t)+" failed: "+l),Promise.reject(new Error(l))))}function z4(s,t,n,o,l){Xf(s,"set",{path:t.toString(),value:n,priority:o});const h=xg(s),m=Fn(n,o),g=fg(s.serverSyncTree_,t),y=pb(m,g,h),w=Cb(s),E=cb(s.serverSyncTree_,t,y,w,!0);Eg(s.eventQueue_,E),s.server_.put(t.toString(),m.val(!0),(x,I)=>{const P=x==="ok";P||Mi("set at "+t+" failed: "+x);const G=Za(s.serverSyncTree_,w,!P);mr(s.eventQueue_,t,G),V4(s,l,x,I)});const T=Ob(s,t);Qf(s,T),mr(s.eventQueue_,T,[])}function j4(s){Xf(s,"onDisconnectEvents");const t=xg(s),n=wf();vp(s.onDisconnect_,we(),(l,h)=>{const m=b4(l,h,s.serverSyncTree_,t);Yw(n,l,m)});let o=[];vp(n,we(),(l,h)=>{o=o.concat(jc(s.serverSyncTree_,l,h));const m=Ob(s,l);Qf(s,m)}),s.onDisconnect_=wf(),mr(s.eventQueue_,we(),o)}function B4(s,t,n){let o;$t(t._path)===".info"?o=xp(s.infoSyncTree_,t,n):o=xp(s.serverSyncTree_,t,n),Tb(s.eventQueue_,t._path,o)}function H4(s,t,n){let o;$t(t._path)===".info"?o=Nf(s.infoSyncTree_,t,n):o=Nf(s.serverSyncTree_,t,n),Tb(s.eventQueue_,t._path,o)}function F4(s){s.persistentConnection_&&s.persistentConnection_.interrupt(O4)}function Xf(s,...t){let n="";s.persistentConnection_&&(n=s.persistentConnection_.id+":"),li(n,...t)}function V4(s,t,n,o){t&&ru(()=>{if(n==="ok")t(null);else{const l=(n||"error").toUpperCase();let h=l;o&&(h+=": "+o);const m=new Error(h);m.code=l,t(m)}})}function Nb(s,t,n){return fg(s.serverSyncTree_,t,n)||Ht.EMPTY_NODE}function Sg(s,t=s.transactionQueueTree_){if(t||Jf(s,t),ou(t)){const n=Ib(s,t);At(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&q4(s,Hc(t),n)}else _b(t)&&Kf(t,n=>{Sg(s,n)})}function q4(s,t,n){const o=n.map(w=>w.currentWriteId),l=Nb(s,t,o);let h=l;const m=l.hash();for(let w=0;w<n.length;w++){const E=n[w];At(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const T=yi(t,E.path);h=h.updateChild(T,E.currentOutputSnapshotRaw)}const g=h.val(!0),y=t;s.server_.put(y.toString(),g,w=>{Xf(s,"transaction put response",{path:y.toString(),status:w});let E=[];if(w==="ok"){const T=[];for(let x=0;x<n.length;x++)n[x].status=2,E=E.concat(Za(s.serverSyncTree_,n[x].currentWriteId)),n[x].onComplete&&T.push(()=>n[x].onComplete(null,!0,n[x].currentOutputSnapshotResolved)),n[x].unwatcher();Jf(s,wg(s.transactionQueueTree_,t)),Sg(s,s.transactionQueueTree_),mr(s.eventQueue_,t,E);for(let x=0;x<T.length;x++)ru(T[x])}else{if(w==="datastale")for(let T=0;T<n.length;T++)n[T].status===3?n[T].status=4:n[T].status=0;else{Mi("transaction at "+y.toString()+" failed: "+w);for(let T=0;T<n.length;T++)n[T].status=4,n[T].abortReason=w}Qf(s,t)}},m)}function Qf(s,t){const n=Rb(s,t),o=Hc(n),l=Ib(s,n);return G4(s,l,o),o}function G4(s,t,n){if(t.length===0)return;const o=[];let l=[];const m=t.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const y=t[g],w=yi(n,y.path);let E=!1,T;if(At(w!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===4)E=!0,T=y.abortReason,l=l.concat(Za(s.serverSyncTree_,y.currentWriteId,!0));else if(y.status===0)if(y.retryCount>=L4)E=!0,T="maxretry",l=l.concat(Za(s.serverSyncTree_,y.currentWriteId,!0));else{const x=Nb(s,y.path,m);y.currentInputSnapshot=x;const I=t[g].update(x.val());if(I!==void 0){bg("transaction failed: Data returned ",I,y.path);let P=Fn(I);typeof I=="object"&&I!=null&&$r(I,".priority")||(P=P.updatePriority(x.getPriority()));const Z=y.currentWriteId,W=xg(s),pt=pb(P,x,W);y.currentOutputSnapshotRaw=P,y.currentOutputSnapshotResolved=pt,y.currentWriteId=Cb(s),m.splice(m.indexOf(Z),1),l=l.concat(cb(s.serverSyncTree_,y.path,pt,y.currentWriteId,y.applyLocally)),l=l.concat(Za(s.serverSyncTree_,Z,!0))}else E=!0,T="nodata",l=l.concat(Za(s.serverSyncTree_,y.currentWriteId,!0))}mr(s.eventQueue_,n,l),l=[],E&&(t[g].status=2,(function(x){setTimeout(x,Math.floor(0))})(t[g].unwatcher),t[g].onComplete&&(T==="nodata"?o.push(()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot)):o.push(()=>t[g].onComplete(new Error(T),!1,null))))}Jf(s,s.transactionQueueTree_);for(let g=0;g<o.length;g++)ru(o[g]);Sg(s,s.transactionQueueTree_)}function Rb(s,t){let n,o=s.transactionQueueTree_;for(n=$t(t);n!==null&&ou(o)===void 0;)o=wg(o,n),t=Fe(t),n=$t(t);return o}function Ib(s,t){const n=[];return Mb(s,t,n),n.sort((o,l)=>o.order-l.order),n}function Mb(s,t,n){const o=ou(t);if(o)for(let l=0;l<o.length;l++)n.push(o[l]);Kf(t,l=>{Mb(s,l,n)})}function Jf(s,t){const n=ou(t);if(n){let o=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[o]=n[l],o++);n.length=o,gb(t,n.length>0?n:void 0)}Kf(t,o=>{Jf(s,o)})}function Ob(s,t){const n=Hc(Rb(s,t)),o=wg(s.transactionQueueTree_,t);return x4(o,l=>{ep(s,l)}),ep(s,o),vb(o,l=>{ep(s,l)}),n}function ep(s,t){const n=ou(t);if(n){const o=[];let l=[],h=-1;for(let m=0;m<n.length;m++)n[m].status===3||(n[m].status===1?(At(h===m-1,"All SENT items should be at beginning of queue."),h=m,n[m].status=3,n[m].abortReason="set"):(At(n[m].status===0,"Unexpected transaction status in abort"),n[m].unwatcher(),l=l.concat(Za(s.serverSyncTree_,n[m].currentWriteId,!0)),n[m].onComplete&&o.push(n[m].onComplete.bind(null,new Error("set"),!1,null))));h===-1?gb(t,void 0):n.length=h+1,mr(s.eventQueue_,Hc(t),l);for(let m=0;m<o.length;m++)ru(o[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(s){let t="";const n=s.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let l=n[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function W4(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const n of s.split("&")){if(n.length===0)continue;const o=n.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Mi(`Invalid query segment '${n}' in query '${s}'`)}return t}const t1=function(s,t){const n=Y4(s),o=n.namespace;n.domain==="firebase.com"&&Qr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&n.domain!=="localhost"&&Qr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||lC();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Rw(n.host,n.secure,o,l,t,"",o!==n.subdomain),path:new De(n.pathString)}},Y4=function(s){let t="",n="",o="",l="",h="",m=!0,g="https",y=443;if(typeof s=="string"){let w=s.indexOf("//");w>=0&&(g=s.substring(0,w-1),s=s.substring(w+2));let E=s.indexOf("/");E===-1&&(E=s.length);let T=s.indexOf("?");T===-1&&(T=s.length),t=s.substring(0,Math.min(E,T)),E<T&&(l=Z4(s.substring(E,T)));const x=W4(s.substring(Math.min(s.length,T)));w=t.indexOf(":"),w>=0?(m=g==="https"||g==="wss",y=parseInt(t.substring(w+1),10)):w=t.length;const I=t.slice(0,w);if(I.toLowerCase()==="localhost")n="localhost";else if(I.split(".").length<=2)n=I;else{const P=t.indexOf(".");o=t.substring(0,P).toLowerCase(),n=t.substring(P+1),h=o}"ns"in x&&(h=x.ns)}return{host:t,port:y,domain:n,subdomain:o,secure:m,scheme:g,pathString:l,namespace:h}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",K4=(function(){let s=0;const t=[];return function(n){const o=n===s;s=n;let l;const h=new Array(8);for(l=7;l>=0;l--)h[l]=e1.charAt(n%64),n=Math.floor(n/64);At(n===0,"Cannot push at time == 0");let m=h.join("");if(o){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)m+=e1.charAt(t[l]);return At(m.length===20,"nextPushId: Length should be 20."),m}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t,n,o,l){this.eventType=t,this.eventRegistration=n,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Cn(this.snapshot.exportVal())}}class Q4{constructor(t,n,o){this.eventRegistration=t,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return At(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,o,l){this._repo=t,this._path=n,this._queryParams=o,this._orderByCalled=l}get key(){return re(this._path)?null:zw(this._path)}get ref(){return new io(this._repo,this._path)}get _queryIdentifier(){const t=j0(this._queryParams),n=Qp(t);return n==="{}"?"default":n}get _queryObject(){return j0(this._queryParams)}isEqual(t){if(t=Xn(t),!(t instanceof Ag))return!1;const n=this._repo===t._repo,o=eg(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return n&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+GC(this._path)}}class io extends Ag{constructor(t,n){super(t,n,new rg,!1)}get parent(){const t=Bw(this._path);return t===null?null:new io(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ac{constructor(t,n,o){this._node=t,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new De(t),o=Cc(this.ref,t);return new Ac(this._node.getChild(n),o,on)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new Ac(l,Cc(this.ref,o),on)))}hasChild(t){const n=new De(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wr(s,t){return s=Xn(s),s._checkNotDeleted("ref"),t!==void 0?Cc(s._root,t):s._root}function Cc(s,t){return s=Xn(s),$t(s._path)===null?N4("child","path",t):Eb("child","path",t),new io(s._repo,Nn(s._path,t))}function J4(s,t){s=Xn(s),xb("push",s._path),bb("push",t,s._path,!0);const n=Ab(s._repo),o=K4(n),l=Cc(s,o),h=Cc(s,o);let m;return m=Promise.resolve(h),l.then=m.then.bind(m),l.catch=m.then.bind(m,void 0),l}function $f(s,t){s=Xn(s),xb("set",s._path),bb("set",t,s._path,!1);const n=new Df;return z4(s._repo,s._path,t,null,n.wrapCallback(()=>{})),n.promise}function Sp(s){s=Xn(s);const t=new Lb(()=>{}),n=new td(t);return U4(s._repo,s,n).then(o=>new Ac(o,new io(s._repo,s._path),s._queryParams.getIndex()))}class td{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const o=n._queryParams.getIndex();return new X4("value",this,new Ac(t.snapshotNode,new io(n._repo,n._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Q4(this,t,n):null}matches(t){return t instanceof td?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function $4(s,t,n,o,l){const h=new Lb(n,void 0),m=new td(h);return B4(s._repo,s,m),()=>H4(s._repo,s,m)}function kb(s,t,n,o){return $4(s,"value",t)}e4(io);o4(io);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="FIREBASE_DATABASE_EMULATOR_HOST",Ap={};let eR=!1;function nR(s,t,n,o){const l=t.lastIndexOf(":"),h=t.substring(0,l),m=ua(h);s.repoInfo_=new Rw(t,m,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,n),o&&(s.authTokenProvider_=o)}function iR(s,t,n,o,l){let h=o||s.options.databaseURL;h===void 0&&(s.options.projectId||Qr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),li("Using default host for project ",s.options.projectId),h=`${s.options.projectId}-default-rtdb.firebaseio.com`);let m=t1(h,l),g=m.repoInfo,y;typeof process<"u"&&b0&&(y=b0[tR]),y?(h=`http://${y}?ns=${g.namespace}`,m=t1(h,l),g=m.repoInfo):m.repoInfo.secure;const w=new yC(s.name,s.options,t);R4("Invalid Firebase Database URL",m),re(m.path)||Qr("Database URL must point to the root of a Firebase Database (not including a child path).");const E=rR(g,s,w,new vC(s,n));return new oR(E,s)}function sR(s,t){const n=Ap[t];(!n||n[s.key]!==s)&&Qr(`Database ${t}(${s.repoInfo_}) has already been deleted.`),F4(s),delete n[s.key]}function rR(s,t,n,o){let l=Ap[t.name];l||(l={},Ap[t.name]=l);let h=l[s.toURLString()];return h&&Qr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new k4(s,eR,n,o),l[s.toURLString()]=h,h}class oR{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(D4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new io(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(sR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Qr("Cannot call "+t+" on a deleted database.")}}function ed(s=Bf(),t){const n=Rc(s,"database").getImmediate({identifier:t});if(!n._instanceStarted){const o=Ip("database");o&&aR(n,...o)}return n}function aR(s,t,n,o={}){s=Xn(s),s._checkNotDeleted("useEmulator");const l=`${t}:${n}`,h=s._repoInternal;if(s._instanceStarted){if(l===s._repoInternal.repoInfo_.host&&ia(o,h.repoInfo_.emulatorOptions))return;Qr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(h.repoInfo_.nodeAdmin)o.mockUserToken&&Qr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new ef(ef.OWNER);else if(o.mockUserToken){const g=typeof o.mockUserToken=="string"?o.mockUserToken:Mp(o.mockUserToken,s.app.options.projectId);m=new ef(g)}ua(t)&&(Pf(t),Uf("Database",!0)),nR(h,l,o,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(s){nC(ca),sa(new Yr("database",(t,{instanceIdentifier:n})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),h=t.getProvider("app-check-internal");return iR(o,l,h,n)},"PUBLIC").setMultipleInstances(!0)),ps(E0,x0,s),ps(E0,x0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={".sv":"timestamp"};function cR(){return uR}Zr.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Zr.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};lR();const hR={apiKey:"AIzaSyD_b9wrt2arX4Kn4lVpamW4CCvjRzh4HfQ",authDomain:"foodshare-6b9cd.firebaseapp.com",projectId:"foodshare-6b9cd",storageBucket:"foodshare-6b9cd.firebasestorage.app",messagingSenderId:"915356278039",appId:"1:915356278039:web:0bf110f0398bcc34bf2b52",databaseURL:"https://foodshare-6b9cd-default-rtdb.asia-southeast1.firebasedatabase.app",measurementId:"G-V2DB7H8229"},Cg=E1(hR),Jr=rw(Cg);QA(Cg);const Kl=ed(Cg),ha="/FoodShare_MINIProjuct/assets/Logo-Km2Q-M3Q.png";function fR({onFinish:s}){const[t,n]=Nt.useState(!0),[o,l]=Nt.useState(!1);return Nt.useEffect(()=>{const h=setTimeout(()=>l(!0),1800),m=setTimeout(()=>{n(!1),s()},2e3);return()=>{clearTimeout(h),clearTimeout(m)}},[s]),t?M.jsx("div",{className:"w-full h-screen bg-[#2e2eff] font-sans text-white flex justify-center ",children:M.jsxs("div",{className:`text-center mt-[250px] transition-all duration-500 ${o?"animate-slide-up-fade":""}`,children:[M.jsx("img",{src:ha,alt:"Logo",className:"w-24 h-auto mx-auto mb-3"}),M.jsx("h1",{className:"text-2xl font-bold tracking-widest",children:"MA THAN"})]})}):null}const Db="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMaSURBVHgBrVRdSFRBFP5m5m676UplBkU/mhWVRj9G9EOmQj30EoJFRUQQVC/RDz0EQbBBRFRQTxEEBRUWWyEJgfWi2C+oqVSi66qtf6WVrZard70z09zrdblua/XggcO9M3POd8535pwBJlnIBPtUqTTVtxoZiGIlU4tBhg8X36PVYSP+B1DLzwf8LhTPSkIR+pWjtOFN62lAG4c/8yl2m7ZKjb8B0pICrCn0opp/g2CadR5vIwWHoKlgLw0U5JahIp5aLLNH+cgpZKgW/eAmmBAqLzMHr9JkpYo3V5lyM2cVpjSIjviA1PE1iryoEjo4kaBSOY7MRsPpbizLDsF9rgzsWC+yh2ajzjUD2oFmpF0OImQX4w8hoefum3wb4TJHUdoC0bkd5xOwsP5PZGC6Xb+JRXZ6hAx4hHFWE5GtqB0LNFYO/FtozNB3GAsQVs7fJdhBDWe6jCKMbwtj45W3gWg4/DMBDGFJqW5Wfjn3zbOHfRagB9qC2OUrmGu30Ia42rTrS5cYelfC1LiYhRTBNqvfUguQMoM4WY21nFMkiduz1qMEBBUmqoxRHuEIWi2hTFhEx8k9nnQ8GG53UEaG+1NAd/f+ssApYVE9il6euYpRA4y5lDtpgDMR+cWjo2XYdejrNqnPTGu8m3s/2z6XSDARa32V5V2RmXlUpeGdM48ETqYSu2KjBJpq2N113Xtlp0ihfRG+fN+9ggs2GHWAWfYrjz+5FIpm5hHVsobqWtbRXOKohG2YD3rw+oGRnsawQQmlfKqLzp8Wra+6VLt3kRYKtLaCkrkLM7ecyXpcH9yYVfX6CLzJ7cKTvoa1HqXEDiacdWa7fYtXiR2ba4bafnDlzszRc6clkaRkNWtqdCKDEtG+IU5dQ9Q97OWVTX4tPXBqffWdq+/GWMRfJtl1dllO8p4N1T2NA5wxYU/tuPuWOtfk3CwvJf5Xa2/7gnXOy0v4fJnRdvrz/ClL5+8KDxgw9NFiTlEvxvQ0RetjyN9y48X+igprm4/LCIklNiWbClcsinoHszWdQXcN1tcWfw7ZfgQJHthJl9/L/jKeg65HLwAAAABJRU5ErkJggg==";function dR({onSignUpClick:s,onForgotPasswordClick:t,onLoginSuccess:n}){const[o,l]=Nt.useState(!1),[h,m]=Nt.useState(!1),[g,y]=Nt.useState(""),[w,E]=Nt.useState("");Nt.useEffect(()=>{const G=setTimeout(()=>l(!0),100);return()=>clearTimeout(G)},[]);const T=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
      <circle cx="12" cy="12" r="3"/>
    </svg>
  `),x=encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" 
    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
    viewBox="0 0 24 24">
      <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 
      a18.2 18.2 0 0 1 2.53-3.69"/>
      <path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/>
      <path d="M3 3l18 18"/>
    </svg>
  `),I=async G=>{G.preventDefault();try{const W=(await lS(Jr,g,w)).user,pt=await Sp(Wr(Kl,"users/"+W.uid));let et={};pt.exists()&&(et=pt.val()),console.log("Login success!",W.email),n&&n({email:W.email,uid:W.uid,...et})}catch(Z){console.error("Login error:",Z.code,Z.message),Z.code==="auth/user-not-found"?alert("  "):Z.code==="auth/wrong-password"?alert(" "):Z.code==="auth/invalid-credential"?alert(" "):alert(": "+Z.message)}},P=async()=>{const G=new hr;try{const W=(await iw(Jr,G)).user;(await Sp(Wr(Kl,"users/"+W.uid))).exists()||await $f(Wr(Kl,"users/"+W.uid),{email:W.email,name:W.displayName||"",uid:W.uid}),n&&n({email:W.email,name:W.displayName,uid:W.uid})}catch(Z){console.error(Z),alert(Z.message)}};return M.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[M.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[M.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Log In"}),M.jsx("p",{className:"text-white text-sm",children:"Please sign in to your existing account"})]}),M.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${o?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:M.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[M.jsxs("form",{onSubmit:I,children:[M.jsxs("div",{className:"mt-6 mb-4",children:[M.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),M.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:g,onChange:G=>y(G.target.value)})]}),M.jsxs("div",{className:"mb-4 relative",children:[M.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),M.jsx("input",{type:h?"text":"password",id:"password",placeholder:"Enter your password",className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:w,onChange:G=>E(G.target.value)}),M.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${h?x:T}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>m(!h)})]}),M.jsxs("div",{className:"flex justify-between items-center mb-6 text-sm",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx("input",{type:"checkbox",id:"remember-me",className:"form-checkbox text-[#2e2eff] rounded border-gray-300 focus:ring-[#2e2eff]"}),M.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-gray-700",children:"Remember me"})]}),M.jsx("button",{type:"button",onClick:t,className:"text-[#2e2eff] font-medium",children:"Forgot Password"})]}),M.jsx("div",{className:"flex flex-col items-center mt-16",children:M.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"LOG IN"})})]}),M.jsxs("div",{className:"relative flex items-center justify-center my-4",children:[M.jsx("span",{className:"absolute text-gray-400 bg-white px-2",children:"or"}),M.jsx("hr",{className:"w-full border-t border-gray-300"})]}),M.jsx("div",{className:"flex justify-center mt-4",children:M.jsxs("button",{onClick:P,className:"flex items-center justify-center w-[200px] py-3 bg-white text-gray-600 font-medium rounded-[4vw] border border-gray-300 shadow transition hover:bg-gray-100",children:[M.jsx("img",{src:Db,alt:"Google",className:"h-5 w-5 mr-2"}),"Google"]})}),M.jsx("div",{className:"flex justify-center mt-6 text-sm",children:M.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",M.jsx("button",{onClick:s,className:"text-[#2e2eff] font-medium",children:"SIGN UP"})]})})]})})]})}function mR({onLoginClick:s,onGoogleClick:t,onRegisterClick:n,onLoginSuccess:o}){const[l,h]=Nt.useState(!1);Nt.useEffect(()=>{const g=setTimeout(()=>h(!0),100);return()=>clearTimeout(g)},[]);const m=async()=>{const g=new hr;try{const w=(await iw(Jr,g)).user;console.log("Google login user:",w),alert("Google Login Success!"),o&&o(w)}catch(y){console.error(y),alert(y.message)}};return M.jsxs("div",{className:"w-full h-screen bg-[#2e2eff] font-sans flex flex-col justify-between items-center px-6 py-8",children:[M.jsxs("div",{className:`flex flex-col items-center mt-12 transition-all duration-700 ease-out 
                       ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[M.jsx("img",{src:ha,alt:"MA THAN Logo",className:"w-20 h-20 mb-2"}),M.jsx("div",{className:"text-white text-base font-bold",children:"MA THAN"})]}),M.jsxs("div",{className:`flex flex-col items-center w-full max-w-sm mt-[-180px] transition-all duration-700 ease-out delay-200
                       ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[M.jsx("h1",{className:"text-white text-3xl font-bold mb-2",children:"Log In"}),M.jsx("p",{className:"text-white text-center mb-6",children:"Please sign in with your student email to continue."}),M.jsx("button",{onClick:s,className:"w-[300px] h-[70px] py-3 bg-white text-[#2e2eff] rounded-[4vw] text-lg font-medium mb-4 shadow hover:bg-gray-100 transition",children:"Sign in with Email"}),M.jsxs("button",{onClick:m,className:"w-[150px] py-3 bg-white text-[#2e2eff] flex items-center justify-center rounded-[4vw] text-sm font-medium shadow hover:bg-gray-100 transition",children:[M.jsx("img",{src:Db,alt:"Google",className:"w-5 h-5 mr-2"}),"Google"]})]}),M.jsx("button",{onClick:n,className:`text-white text-sm hover:underline mb-4 transition-all duration-700 ease-out delay-400
                    ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:"Create an Account"})]})}function pR({onBackToLogin:s}){const[t,n]=Nt.useState(!1),[o,l]=Nt.useState(!1),[h,m]=Nt.useState(!1),[g,y]=Nt.useState(""),[w,E]=Nt.useState(""),[T,x]=Nt.useState(""),[I,P]=Nt.useState(""),[G,Z]=Nt.useState(!1);Nt.useEffect(()=>{const Q=setTimeout(()=>n(!0),100);return()=>clearTimeout(Q)},[]);const W=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none"  stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>'),pt=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#9D9B9B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8 a18.2 18.2 0 0 1 2.53-3.69"/><path d="M9.88 9.88a3 3 0 0 1 4.24 4.24"/><path d="M3 3l18 18"/></svg>'),et=async Q=>{if(Q.preventDefault(),T!==I){alert("Passwords do not match!");return}try{Z(!0);const Y=(await aS(Jr,w,T)).user;await $f(Wr(Kl,"users/"+Y.uid),{name:g,email:w,uid:Y.uid,createdAt:new Date().toISOString()}),await Vp(Jr),setTimeout(()=>{Z(!1),alert("Sign Up Success! Please login."),s()},1e3)}catch(ot){console.error(ot),Z(!1),alert(ot.message)}};return G?M.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center bg-[#2e2eff] text-white",children:[M.jsx("div",{className:"loader border-t-4 border-b-4 border-white rounded-full w-12 h-12 animate-spin mb-4"}),M.jsx("p",{className:"text-lg font-medium",children:"Signing up, please wait..."})]}):M.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[M.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[M.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Sign Up"}),M.jsx("p",{className:"text-white text-sm",children:"Create an account to get started"})]}),M.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:M.jsx("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:M.jsxs("form",{onSubmit:et,children:[M.jsxs("div",{className:"mt-6 mb-4",children:[M.jsx("label",{htmlFor:"name",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"NAME"}),M.jsx("input",{type:"text",id:"name",placeholder:"John Doe",value:g,onChange:Q=>y(Q.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),M.jsxs("div",{className:"mb-4",children:[M.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),M.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:w,onChange:Q=>E(Q.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),M.jsxs("div",{className:"mb-4 relative",children:[M.jsx("label",{htmlFor:"password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"PASSWORD"}),M.jsx("input",{type:o?"text":"password",id:"password",placeholder:"Enter your password",value:T,onChange:Q=>x(Q.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),M.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${o?pt:W}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>l(!o)})]}),M.jsxs("div",{className:"mb-6 relative",children:[M.jsx("label",{htmlFor:"retype-password",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"RE-TYPE PASSWORD"}),M.jsx("input",{type:h?"text":"password",id:"retype-password",placeholder:"Re-enter your password",value:I,onChange:Q=>P(Q.target.value),className:"w-full pr-12 px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),M.jsx("span",{className:"absolute right-4 top-1/2 mt-2 -translate-y-1/2 w-6 h-6 cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml;utf8,${h?pt:W}")`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"1.5rem"},onClick:()=>m(!h)})]}),M.jsxs("div",{className:"flex flex-col items-center mt-8",children:[M.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SIGN UP"}),M.jsx("button",{type:"button",onClick:s,className:"w-[250px] flex justify-center py-3 text-[#2e2eff] font-medium rounded-[4vw] border border-[#2e2eff] hover:bg-white hover:text-[#2e2eff] transition",children:"Back to Login"})]})]})})})]})}function gR({onBackToLogin:s}){const[t,n]=Nt.useState(!1),[o,l]=Nt.useState("");Nt.useEffect(()=>{const m=setTimeout(()=>n(!0),100);return()=>clearTimeout(m)},[]);const h=async m=>{if(m.preventDefault(),!o)return alert("Please enter your email!");try{await oS(Jr,o),alert("Password reset email sent! Check your inbox."),s()}catch(g){console.error(g),alert(g.message)}};return M.jsxs("div",{className:"w-full bg-[#2e2eff] font-sans flex flex-col justify-start items-center pt-8",children:[M.jsxs("div",{className:`text-center mt-12 transition-all duration-700 ease-out
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[M.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Forgot Password"}),M.jsx("p",{className:"text-white text-sm",children:"Enter your email to reset your password"})]}),M.jsx("div",{className:`flex flex-col items-center w-full h-full max-w-md mt-8 transition-all duration-700 ease-out delay-200
        ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:M.jsxs("div",{className:"bg-white w-full h-[700px] p-6 md:p-10 rounded-t-3xl",children:[M.jsxs("form",{onSubmit:h,children:[M.jsxs("div",{className:"mt-6 mb-4",children:[M.jsx("label",{htmlFor:"email",className:"block text-[#9D9B9B] text-xs font-bold mb-1",children:"EMAIL"}),M.jsx("input",{type:"email",id:"email",placeholder:"example@email.com",value:o,onChange:m=>l(m.target.value),className:"w-full px-4 py-3 bg-[#F3F3F3] text-gray-900 placeholder-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),M.jsx("div",{className:"flex flex-col items-center mt-8",children:M.jsx("button",{type:"submit",className:"flex justify-center w-[300px] py-4 bg-[#2e2eff] text-white text-lg font-bold rounded-[4vw] shadow-lg transition duration-300 hover:bg-[#1a1aee] mb-4",children:"SEND RESET EMAIL"})})]}),M.jsx("div",{className:"flex justify-center mt-6 text-sm",children:M.jsx("button",{onClick:s,className:"text-[#2e2eff] font-medium",children:"Back to Login"})})]})})]})}function _R({userData:s,onLogout:t}){const n=async()=>{try{await Vp(Jr),t()}catch(o){console.error(o),alert("Logout failed: "+o.message)}};return M.jsxs("div",{className:"min-h-screen bg-[#2e2eff] flex flex-col items-center justify-start p-8",children:[M.jsxs("div",{className:"text-center mt-12 text-white",children:[M.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome, ",s.name||s.email]}),M.jsx("p",{className:"text-lg text-gray-200",children:"Your account details"})]}),M.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-10 w-full max-w-md",children:[M.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Profile Information"}),M.jsxs("div",{className:"space-y-2 text-gray-700",children:[M.jsxs("p",{children:[M.jsx("span",{className:"font-bold",children:"UID:"})," ",s.uid]}),M.jsxs("p",{children:[M.jsx("span",{className:"font-bold",children:"Name:"})," ",s.name||"-"]}),M.jsxs("p",{children:[M.jsx("span",{className:"font-bold",children:"Email:"})," ",s.email]}),M.jsxs("p",{children:[M.jsx("span",{className:"font-bold",children:"Created At:"})," ",s.createdAt||"-"]})]})]}),M.jsx("button",{onClick:n,className:"mt-10 px-6 py-3 bg-white text-[#2e2eff] font-bold rounded-lg shadow hover:bg-gray-100 transition",children:"Logout"})]})}const nl="/FoodShare_MINIProjuct/assets/profile-CN0Wr-CP.jpg",vR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%81%E0%B8%A5%E0%B9%88%E0%B8%AD%E0%B8%87-Dk8nk2Qa.png",yR="/FoodShare_MINIProjuct/assets/%E0%B8%82%E0%B8%99%E0%B8%A1-DDcJMfBx.png",wR="/FoodShare_MINIProjuct/assets/%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%94%E0%B8%B7%E0%B9%88%E0%B8%A1-skj4bCgd.png";function bR({userData:s,onLogout:t,onGoToDashboard:n,onSelectCategory:o,onSearch:l,onGoToMenu:h,onGoToNotifications:m,onGoToProfile:g,onBack:y,onGoToPost:w,searchQuery:E,setSearchQuery:T}){const[x,I]=Nt.useState([]);return Nt.useEffect(()=>{const P=ed(),G=Wr(P,"foodPosts"),Z=kb(G,W=>{if(W.exists()){const pt=W.val(),et=Object.entries(pt).map(([Q,ot])=>({id:Q,...ot}));et.sort((Q,ot)=>ot.createdAt-Q.createdAt),I(et)}else I([])});return()=>Z()},[]),M.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[M.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("img",{src:ha,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),M.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),M.jsx("div",{className:"flex items-center space-x-4",children:M.jsx("img",{src:nl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:g})})]}),M.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[M.jsx("div",{className:"my-4 animate-fadeIn",children:M.jsxs("h1",{className:"text-[16px] md:text-2xl font-bold text-gray-800",children:["HEY! HELLO,"," ",M.jsx("span",{className:"text-[#2e2eff]",children:"Good Afternoon!"})]})}),M.jsxs("div",{className:"relative my-4 w-full mx-auto",children:[M.jsx("input",{type:"text",placeholder:"Search menu...",value:E,onChange:P=>T(P.target.value),onKeyDown:P=>{P.key==="Enter"&&l&&l(E)},className:`w-full pl-10 pr-4 py-3 bg-gray-100 rounded-lg placeholder-gray-500 \r
                      focus:outline-none focus:ring-2 focus:ring-[#2e2eff] transition-shadow \r
                      duration-300 hover:shadow-md text-base md:text-lg`}),M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:h,children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),M.jsxs("section",{className:"my-6",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"All Categories"}),M.jsx("button",{onClick:h,className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),M.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-3 gap-6",children:[{name:"Lunch Boxes",img:vR},{name:"Snacks",img:yR},{name:"Beverages",img:wR}].map((P,G)=>M.jsxs("div",{className:"flex flex-col items-center bg-white w-full cursor-pointer transform transition duration-300 shadow-md hover:scale-105 hover:shadow-xl rounded-xl p-4",onClick:()=>o(P.name),children:[M.jsx("img",{src:P.img,alt:P.name,className:"w-20 h-20 md:w-28 md:h-28 object-contain rounded-lg"}),M.jsx("span",{className:"mt-2 text-sm md:text-base text-center font-medium",children:P.name})]},G))})]}),M.jsxs("section",{className:"my-6",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h2",{className:"text-lg md:text-2xl font-bold text-gray-800",children:"Latest Food Shares"}),M.jsx("button",{onClick:h,className:"text-[#2e2eff] text-sm md:text-base font-semibold hover:underline transition",children:"See All >"})]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.length===0?M.jsx("p",{className:"text-gray-500",children:""}):x.map(P=>M.jsxs("div",{className:"bg-gray-100 rounded-xl overflow-hidden shadow-md hover:shadow-xl transform transition duration-300 hover:-translate-y-1",children:[P.image&&M.jsx("img",{src:P.image,alt:P.foodName,className:"w-full h-48 md:h-56 object-cover"}),M.jsxs("div",{className:"p-4",children:[M.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800",children:P.foodName}),M.jsxs("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:[" ",P.description||"No location info"]}),M.jsxs("p",{className:"text-gray-500 text-sm mt-1 flex items-center",children:["  - ",P.productionDate,"  - ",P.expiryDate]})]})]},P.id))})]})]}),M.jsxs("div",{className:"hidden md:block",children:[M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{})]}),M.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full ",children:[M.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:M.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:w,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),M.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!0,action:()=>y("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>h()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>m()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>g()}].map((P,G)=>P.empty?M.jsx("div",{className:"w-16"},G):M.jsxs("button",{onClick:P.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${P.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{d:P.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),M.jsx("span",{className:"text-xs md:text-sm mt-1",children:P.name})]},G))})]})]})}function ER({onBack:s,onGoToDashboard:t,onGoToMenu:n,onGoToNotifications:o,onGoToProfile:l,onGoToPost:h,searchQuery:m,setSearchQuery:g,selectedCategoryFromHome:y="ALL",onSelectFood:w}){const[E,T]=Nt.useState(y),[x,I]=Nt.useState([]),P=["ALL","Lunch Boxes","Snacks","Beverages"];Nt.useEffect(()=>{T(y)},[y]),Nt.useEffect(()=>{const Z=ed(),W=Wr(Z,"foodPosts"),pt=kb(W,et=>{if(et.exists()){const Q=et.val(),ot=Object.entries(Q).map(([Y,q])=>({id:Y,title:q.foodName||"Untitled",img:q.image||"/default-food.png",description:q.description||"",productionDate:q.productionDate||"",expiryDate:q.expiryDate||"",category:q.category||"Uncategorized",location:q.location||null,createdAt:q.createdAt||null}));I(ot)}else I([])});return()=>pt()},[]);const G=x.filter(Z=>{const W=E==="ALL"||Z.category?.toLowerCase()===E.toLowerCase(),pt=!m||Z.title?.toLowerCase().includes(m.toLowerCase());return W&&pt});return M.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[M.jsxs("header",{className:"p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl md:px-12 md:py-6",children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("img",{src:ha,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),M.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),M.jsx("div",{className:"flex items-center space-x-4",children:M.jsx("img",{src:nl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300",onClick:l})})]}),M.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[M.jsxs("button",{onClick:s,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),M.jsx("span",{className:"text-lg font-semibold",children:"Shared Food Board"})]}),M.jsxs("div",{className:"relative mb-4",children:[M.jsx("input",{type:"text",placeholder:"Search...",value:m||"",onChange:Z=>g(Z.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-100 placeholder-gray-400 shadow transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-[#2e2eff] hover:shadow-md"}),M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),M.jsx("div",{className:"flex space-x-4 overflow-x-auto text-gray-600 mb-4",children:P.map((Z,W)=>M.jsx("span",{onClick:()=>T(Z),className:`whitespace-nowrap px-4 py-2 border-b-2 cursor-pointer transition-colors duration-300 ease-in-out
                ${E===Z?"border-[#2e2eff] text-[#2e2eff]":"border-transparent hover:border-gray-300 hover:text-[#2e2eff]"}`,children:Z},W))}),M.jsx("section",{className:"space-y-4",children:G.map((Z,W)=>M.jsxs("div",{onClick:()=>w(Z),className:"flex flex-col sm:flex-row bg-white rounded-xl shadow-md p-4 space-y-2 sm:space-y-0 sm:space-x-4 items-start sm:items-center transform transition duration-300 hover:scale-105 hover:shadow-lg cursor-pointer",children:[M.jsx("img",{src:Z.img,alt:Z.title,className:"w-full sm:w-24 h-48 sm:h-24 object-cover rounded-lg border border-gray-200 flex-shrink-0"}),M.jsxs("div",{className:"flex-1 flex flex-col justify-between w-full",children:[M.jsx("h3",{className:"font-semibold text-gray-800 text-base md:text-lg",children:Z.title}),M.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-blue-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a2 2 0 01-2.828 0L6.343 16.657a8 8 0 1111.314 0z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),M.jsx("span",{className:"truncate",children:Z.location?`Lat: ${Z.location.lat}, Lng: ${Z.location.lng}`:""})]}),M.jsxs("div",{className:"flex flex-wrap items-center text-gray-500 text-sm mt-2 space-x-4",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-blue-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),M.jsxs("span",{children:[": ",Z.productionDate||"-"]})]}),M.jsxs("div",{className:"flex items-center",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-red-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),M.jsxs("span",{children:[": ",Z.expiryDate||"-"]})]})]}),M.jsx("div",{className:"mt-2",children:M.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full
                        ${Z.category==="Lunch Boxes"?"bg-yellow-100 text-yellow-800":Z.category==="Snacks"?"bg-pink-100 text-pink-800":Z.category==="Beverages"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:Z.category})})]})]},W))})]}),M.jsxs("div",{className:"hidden md:block",children:[M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{})]}),M.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[M.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:M.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:h,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),M.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!0,action:()=>n()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>o()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>l()}].map((Z,W)=>Z.empty?M.jsx("div",{className:"w-16"},W):M.jsxs("button",{onClick:Z.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${Z.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{d:Z.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),M.jsx("span",{className:"text-xs md:text-sm mt-1",children:Z.name})]},W))})]})]})}function xR({onBack:s,onGoToDashboard:t,onGoToMenu:n,onGoToNotifications:o,userData:l,onGoToProfile:h,onGoToPost:m}){const[g,y]=Nt.useState("shares"),w={shares:[{title:" has been successfully claimed.",status:"Claimed by Natcha",date:"July 29, 2025 at 12:45 PM"},{title:" has been posted and is now visible to others.",status:"Active",date:"July 29, 2025 at 11:03 AM"},{title:" was removed due to inactivity.",status:"Auto-expired",date:"July 29, 2025 at 9:41 AM"}],pickups:[{title:"Pickup:  is ready.",status:"Pending",date:"July 29, 2025 at 1:00 PM"}]};return M.jsxs("div",{className:"font-sans flex flex-col min-h-screen bg-gray-50",children:[M.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("img",{src:ha,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),M.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),M.jsx("div",{className:"flex items-center space-x-4",children:M.jsx("img",{src:nl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:h})})]}),M.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[M.jsxs("button",{onClick:s,className:"flex items-center text-gray-700 mb-4",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),M.jsx("span",{className:"text-lg font-semibold",children:"Notifications"})]}),M.jsxs("div",{className:"relative border-b mb-4 flex",children:[M.jsx("button",{onClick:()=>y("shares"),className:`flex-1 text-center pb-2 ${g==="shares"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Shares"}),M.jsx("button",{onClick:()=>y("pickups"),className:`flex-1 text-center pb-2 ${g==="pickups"?"text-[#2e2eff]":"text-gray-500"}`,children:"My Pickups"}),M.jsx("span",{className:"absolute bottom-0 left-0 w-1/2 h-0.5 bg-[#2e2eff] transition-transform duration-300",style:{transform:g==="shares"?"translateX(0%)":"translateX(100%)"}})]}),M.jsx("section",{className:"space-y-4",children:w[g].map((E,T)=>M.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[M.jsx("h3",{className:"font-semibold text-gray-800",children:E.title}),M.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),M.jsx("span",{children:E.status})]}),M.jsxs("div",{className:"flex items-center text-gray-500 text-sm mt-1",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),M.jsx("span",{children:E.date})]})]},T))})]}),M.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[M.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:M.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:m,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),M.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>n()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>o(),active:!0},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>h()}].map((E,T)=>E.empty?M.jsx("div",{className:"w-16"},T):M.jsxs("button",{onClick:E.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${E.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{d:E.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),M.jsx("span",{className:"text-xs md:text-sm mt-1",children:E.name})]},T))})]})]})}function TR({onBack:s,onLogout:t,userData:n,onGoToDashboard:o,onGoToMenu:l,onGoToNotifications:h,onGoToProfile:m,onGoToPost:g}){const[y,w]=Nt.useState(null),[E,T]=Nt.useState(!1),[x,I]=Nt.useState(!0),[P,G]=Nt.useState({name:"",fullName:"",studentId:"",phone:"",email:""}),Z=[{key:"name",label:"",placeholder:"No Name"},{key:"fullName",label:"",placeholder:"No Full Name"},{key:"studentId",label:"",placeholder:"00000000"},{key:"phone",label:"",placeholder:"000-000-0000"},{key:"email",label:"Email",placeholder:"No Email"}];Nt.useEffect(()=>{async function Q(){if(n?.uid)try{const ot=await Sp(Wr(Kl,`users/${n.uid}`)),Y=ot.exists()?ot.val():{},q={name:Y.name||"",fullName:Y.fullName||"",studentId:Y.studentId||"00000000",phone:Y.phone||"000-000-0000",email:Y.email||""};w(q),G(q),await new Promise(A=>setTimeout(A,700))}catch(ot){console.error("Error fetching user:",ot)}finally{I(!1)}}Q()},[n]);const W=Q=>{const{name:ot,value:Y}=Q.target;G(q=>({...q,[ot]:Y}))},pt=async()=>{if(n?.uid)try{await $f(Wr(Kl,`users/${n.uid}`),P),w(P),T(!1),alert(" ")}catch(Q){console.error("Error saving data:",Q),alert(" ")}},et=()=>{Vp(Jr).then(()=>t()).catch(console.error)};return x?M.jsx("div",{className:"flex-1 flex items-center justify-center h-screen bg-gray-100",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"loader border-4 border-blue-500 border-t-transparent rounded-full w-16 h-16 animate-spin mx-auto"}),M.jsx("p",{className:"mt-4 text-gray-700",children:"Loading user data..."})]})}):x?M.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[M.jsxs("header",{className:"bg-[#2e2eff] flex items-center justify-between p-4 rounded-b-3xl",children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"}),M.jsx("div",{className:"h-4 w-24 bg-gray-300 rounded animate-pulse"})]}),M.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full animate-pulse"})]}),M.jsxs("main",{className:"flex-1 overflow-y-auto p-6 flex flex-col items-center space-y-4 animate-pulse",children:[M.jsx("div",{className:"w-28 h-28 bg-gray-300 rounded-full"}),M.jsx("div",{className:"w-full max-w-md space-y-3",children:Z.map((Q,ot)=>M.jsx("div",{className:"h-12 bg-gray-200 rounded-lg"},ot))})]})]}):M.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[M.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("img",{src:ha,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),M.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),M.jsx("div",{className:"flex items-center space-x-4",children:M.jsx("img",{src:nl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:m})})]}),M.jsxs("main",{className:`flex-1 p-4 md:p-8 flex flex-col items-center bg-gradient-to-b from-white to-gray-100\r
        max-w-2xl mx-auto w-full space-y-6 pb-36 transition-all duration-300`,children:[M.jsxs("button",{onClick:s,className:"flex items-center self-start text-gray-700 mb-4 hover:text-[#2e2eff] transition",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),M.jsx("span",{className:"text-lg font-semibold",children:"Profile"})]}),M.jsx("img",{src:nl,alt:"User Avatar",className:"w-28 h-28 md:w-36 md:h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-white"}),M.jsxs("div",{className:"w-full max-w-md space-y-4",children:[Z.map(({key:Q,placeholder:ot})=>M.jsxs("div",{className:"flex flex-col bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition",children:[M.jsx("label",{className:"text-gray-500 text-xs mb-1",children:Q==="name"?"UserName":Q==="fullName"?"Full Name":Q==="studentId"?"Student ID":Q==="phone"?"Phone":"Email"}),M.jsxs("div",{className:"flex items-center justify-between",children:[E?M.jsx("input",{type:Q==="email"?"email":"text",name:Q,value:P[Q],onChange:W,className:"flex-1 text-gray-800 text-sm focus:outline-none bg-gray-50 rounded px-2 py-1 border border-gray-200"}):M.jsx("span",{className:"text-gray-700 text-sm break-all",children:y[Q]||ot}),!E&&M.jsx("button",{onClick:()=>T(!0),className:"ml-3 px-3 py-1 text-blue-500 text-xs font-semibold rounded-md hover:bg-blue-50 transition",children:"Edit"})]})]},Q)),E&&M.jsx("button",{onClick:pt,className:"w-full py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition mt-2",children:"Save"})]}),M.jsx("button",{onClick:et,className:"px-5 py-2 mt-5 bg-red-500 text-white rounded-md hover:bg-red-600 transition text-sm font-medium shadow",children:"Logout"})]}),M.jsxs("div",{className:"hidden md:block",children:[M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{})]}),M.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-50 max-w-3xl mx-auto w-full",children:[M.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:M.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:g,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),M.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",action:()=>s("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",action:()=>l()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",action:()=>h()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",action:()=>m(),active:!0}].map((Q,ot)=>Q.empty?M.jsx("div",{className:"w-16"},ot):M.jsxs("button",{onClick:Q.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${Q.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{d:Q.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),M.jsx("span",{className:"text-xs md:text-sm mt-1",children:Q.name})]},ot))})]})]})}function SR(s,t){const n=Nt.useRef(t);Nt.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}c1();const AR=1;function CR(s){return Object.freeze({__version:AR,map:s})}function NR(s,t){return Object.freeze({...s,...t})}const Ng=Nt.createContext(null);function Pb(){const s=Nt.use(Ng);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function RR(s){function t(n,o){const{instance:l,context:h}=s(n).current;Nt.useImperativeHandle(o,()=>l);const{children:m}=n;return m==null?null:sp.createElement(Ng,{value:h},m)}return Nt.forwardRef(t)}function IR(s){function t(n,o){const{instance:l}=s(n).current;return Nt.useImperativeHandle(o,()=>l),null}return Nt.forwardRef(t)}function MR(s,t){const n=Nt.useRef(void 0);Nt.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function Ub(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}var ic={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var OR=ic.exports,n1;function LR(){return n1||(n1=1,(function(s,t){(function(n,o){o(t)})(OR,(function(n){var o="1.9.4";function l(r){var u,d,v,S;for(d=1,v=arguments.length;d<v;d++){S=arguments[d];for(u in S)r[u]=S[u]}return r}var h=Object.create||(function(){function r(){}return function(u){return r.prototype=u,new r}})();function m(r,u){var d=Array.prototype.slice;if(r.bind)return r.bind.apply(r,d.call(arguments,1));var v=d.call(arguments,2);return function(){return r.apply(u,v.length?v.concat(d.call(arguments)):arguments)}}var g=0;function y(r){return"_leaflet_id"in r||(r._leaflet_id=++g),r._leaflet_id}function w(r,u,d){var v,S,U,K;return K=function(){v=!1,S&&(U.apply(d,S),S=!1)},U=function(){v?S=arguments:(r.apply(d,arguments),setTimeout(K,u),v=!0)},U}function E(r,u,d){var v=u[1],S=u[0],U=v-S;return r===v&&d?r:((r-S)%U+U)%U+S}function T(){return!1}function x(r,u){if(u===!1)return r;var d=Math.pow(10,u===void 0?6:u);return Math.round(r*d)/d}function I(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function P(r){return I(r).split(/\s+/)}function G(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?h(r.options):{});for(var d in u)r.options[d]=u[d];return r.options}function Z(r,u,d){var v=[];for(var S in r)v.push(encodeURIComponent(d?S.toUpperCase():S)+"="+encodeURIComponent(r[S]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var W=/\{ *([\w_ -]+) *\}/g;function pt(r,u){return r.replace(W,function(d,v){var S=u[v];if(S===void 0)throw new Error("No value provided for variable "+d);return typeof S=="function"&&(S=S(u)),S})}var et=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Q(r,u){for(var d=0;d<r.length;d++)if(r[d]===u)return d;return-1}var ot="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var q=0;function A(r){var u=+new Date,d=Math.max(0,16-(u-q));return q=u+d,window.setTimeout(r,d)}var C=window.requestAnimationFrame||Y("RequestAnimationFrame")||A,z=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function j(r,u,d){if(d&&C===A)r.call(u);else return C.call(window,m(r,u))}function D(r){r&&z.call(window,r)}var O={__proto__:null,extend:l,create:h,bind:m,get lastId(){return g},stamp:y,throttle:w,wrapNum:E,falseFn:T,formatNum:x,trim:I,splitWords:P,setOptions:G,getParamString:Z,template:pt,isArray:et,indexOf:Q,emptyImageUrl:ot,requestFn:C,cancelFn:z,requestAnimFrame:j,cancelAnimFrame:D};function J(){}J.extend=function(r){var u=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,v=h(d);v.constructor=u,u.prototype=v;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return r.statics&&l(u,r.statics),r.includes&&(at(r.includes),l.apply(null,[v].concat(r.includes))),l(v,r),delete v.statics,delete v.includes,v.options&&(v.options=d.options?h(d.options):{},l(v.options,r.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,K=v._initHooks.length;U<K;U++)v._initHooks[U].call(this)}},u},J.include=function(r){var u=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},J.mergeOptions=function(r){return l(this.prototype.options,r),this},J.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),d=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function at(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=et(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var k={on:function(r,u,d){if(typeof r=="object")for(var v in r)this._on(v,r[v],u);else{r=P(r);for(var S=0,U=r.length;S<U;S++)this._on(r[S],u,d)}return this},off:function(r,u,d){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var v in r)this._off(v,r[v],u);else{r=P(r);for(var S=arguments.length===1,U=0,K=r.length;U<K;U++)S?this._off(r[U]):this._off(r[U],u,d)}return this},_on:function(r,u,d,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,d)===!1){d===this&&(d=void 0);var S={fn:u,ctx:d};v&&(S.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(S)}},_off:function(r,u,d){var v,S,U;if(this._events&&(v=this._events[r],!!v)){if(arguments.length===1){if(this._firingCount)for(S=0,U=v.length;S<U;S++)v[S].fn=T;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var K=this._listens(r,u,d);if(K!==!1){var ut=v[K];this._firingCount&&(ut.fn=T,this._events[r]=v=v.slice()),v.splice(K,1)}}},fire:function(r,u,d){if(!this.listens(r,d))return this;var v=l({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[r];if(S){this._firingCount=this._firingCount+1||1;for(var U=0,K=S.length;U<K;U++){var ut=S[U],vt=ut.fn;ut.once&&this.off(r,vt,ut.ctx),vt.call(ut.ctx||this,v)}this._firingCount--}}return d&&this._propagateEvent(v),this},listens:function(r,u,d,v){typeof r!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(v=!!u,S=void 0,d=void 0);var U=this._events&&this._events[r];if(U&&U.length&&this._listens(r,S,d)!==!1)return!0;if(v){for(var K in this._eventParents)if(this._eventParents[K].listens(r,u,d,v))return!0}return!1},_listens:function(r,u,d){if(!this._events)return!1;var v=this._events[r]||[];if(!u)return!!v.length;d===this&&(d=void 0);for(var S=0,U=v.length;S<U;S++)if(v[S].fn===u&&v[S].ctx===d)return S;return!1},once:function(r,u,d){if(typeof r=="object")for(var v in r)this._on(v,r[v],u,!0);else{r=P(r);for(var S=0,U=r.length;S<U;S++)this._on(r[S],u,d,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[y(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[y(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};k.addEventListener=k.on,k.removeEventListener=k.clearAllEventListeners=k.off,k.addOneTimeEventListener=k.once,k.fireEvent=k.fire,k.hasEventListeners=k.listens;var H=J.extend(k);function $(r,u,d){this.x=d?Math.round(r):r,this.y=d?Math.round(u):u}var rt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(r){return this.clone()._add(B(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(B(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new $(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new $(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=rt(this.x),this.y=rt(this.y),this},distanceTo:function(r){r=B(r);var u=r.x-this.x,d=r.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(r){return r=B(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=B(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function B(r,u,d){return r instanceof $?r:et(r)?new $(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new $(r.x,r.y):new $(r,u,d)}function nt(r,u){if(r)for(var d=u?[r,u]:r,v=0,S=d.length;v<S;v++)this.extend(d[v])}nt.prototype={extend:function(r){var u,d;if(!r)return this;if(r instanceof $||typeof r[0]=="number"||"x"in r)u=d=B(r);else if(r=lt(r),u=r.min,d=r.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(r){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,d;return typeof r[0]=="number"||r instanceof $?r=B(r):r=lt(r),r instanceof nt?(u=r.min,d=r.max):u=d=r,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(r){r=lt(r);var u=this.min,d=this.max,v=r.min,S=r.max,U=S.x>=u.x&&v.x<=d.x,K=S.y>=u.y&&v.y<=d.y;return U&&K},overlaps:function(r){r=lt(r);var u=this.min,d=this.max,v=r.min,S=r.max,U=S.x>u.x&&v.x<d.x,K=S.y>u.y&&v.y<d.y;return U&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,d=this.max,v=Math.abs(u.x-d.x)*r,S=Math.abs(u.y-d.y)*r;return lt(B(u.x-v,u.y-S),B(d.x+v,d.y+S))},equals:function(r){return r?(r=lt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function lt(r,u){return!r||r instanceof nt?r:new nt(r,u)}function ht(r,u){if(r)for(var d=u?[r,u]:r,v=0,S=d.length;v<S;v++)this.extend(d[v])}ht.prototype={extend:function(r){var u=this._southWest,d=this._northEast,v,S;if(r instanceof it)v=r,S=r;else if(r instanceof ht){if(v=r._southWest,S=r._northEast,!v||!S)return this}else return r?this.extend(wt(r)||dt(r)):this;return!u&&!d?(this._southWest=new it(v.lat,v.lng),this._northEast=new it(S.lat,S.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),d.lat=Math.max(S.lat,d.lat),d.lng=Math.max(S.lng,d.lng)),this},pad:function(r){var u=this._southWest,d=this._northEast,v=Math.abs(u.lat-d.lat)*r,S=Math.abs(u.lng-d.lng)*r;return new ht(new it(u.lat-v,u.lng-S),new it(d.lat+v,d.lng+S))},getCenter:function(){return new it((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new it(this.getNorth(),this.getWest())},getSouthEast:function(){return new it(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof it||"lat"in r?r=wt(r):r=dt(r);var u=this._southWest,d=this._northEast,v,S;return r instanceof ht?(v=r.getSouthWest(),S=r.getNorthEast()):v=S=r,v.lat>=u.lat&&S.lat<=d.lat&&v.lng>=u.lng&&S.lng<=d.lng},intersects:function(r){r=dt(r);var u=this._southWest,d=this._northEast,v=r.getSouthWest(),S=r.getNorthEast(),U=S.lat>=u.lat&&v.lat<=d.lat,K=S.lng>=u.lng&&v.lng<=d.lng;return U&&K},overlaps:function(r){r=dt(r);var u=this._southWest,d=this._northEast,v=r.getSouthWest(),S=r.getNorthEast(),U=S.lat>u.lat&&v.lat<d.lat,K=S.lng>u.lng&&v.lng<d.lng;return U&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=dt(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function dt(r,u){return r instanceof ht?r:new ht(r,u)}function it(r,u,d){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,d!==void 0&&(this.alt=+d)}it.prototype={equals:function(r,u){if(!r)return!1;r=wt(r);var d=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return d<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+x(this.lat,r)+", "+x(this.lng,r)+")"},distanceTo:function(r){return Mt.distance(this,wt(r))},wrap:function(){return Mt.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,d=u/Math.cos(Math.PI/180*this.lat);return dt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new it(this.lat,this.lng,this.alt)}};function wt(r,u,d){return r instanceof it?r:et(r)&&typeof r[0]!="object"?r.length===3?new it(r[0],r[1],r[2]):r.length===2?new it(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new it(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new it(r,u,d)}var Dt={latLngToPoint:function(r,u){var d=this.projection.project(r),v=this.scale(u);return this.transformation._transform(d,v)},pointToLatLng:function(r,u){var d=this.scale(u),v=this.transformation.untransform(r,d);return this.projection.unproject(v)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(r),v=this.transformation.transform(u.min,d),S=this.transformation.transform(u.max,d);return new nt(v,S)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?E(r.lng,this.wrapLng,!0):r.lng,d=this.wrapLat?E(r.lat,this.wrapLat,!0):r.lat,v=r.alt;return new it(d,u,v)},wrapLatLngBounds:function(r){var u=r.getCenter(),d=this.wrapLatLng(u),v=u.lat-d.lat,S=u.lng-d.lng;if(v===0&&S===0)return r;var U=r.getSouthWest(),K=r.getNorthEast(),ut=new it(U.lat-v,U.lng-S),vt=new it(K.lat-v,K.lng-S);return new ht(ut,vt)}},Mt=l({},Dt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var d=Math.PI/180,v=r.lat*d,S=u.lat*d,U=Math.sin((u.lat-r.lat)*d/2),K=Math.sin((u.lng-r.lng)*d/2),ut=U*U+Math.cos(v)*Math.cos(S)*K*K,vt=2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut));return this.R*vt}}),Gt=6378137,Xt={R:Gt,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,d=this.MAX_LATITUDE,v=Math.max(Math.min(d,r.lat),-d),S=Math.sin(v*u);return new $(this.R*r.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(r){var u=180/Math.PI;return new it((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:(function(){var r=Gt*Math.PI;return new nt([-r,-r],[r,r])})()};function oe(r,u,d,v){if(et(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=d,this._d=v}oe.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new $((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function me(r,u,d,v){return new oe(r,u,d,v)}var En=l({},Mt,{code:"EPSG:3857",projection:Xt,transformation:(function(){var r=.5/(Math.PI*Xt.R);return me(r,.5,-r,.5)})()}),fn=l({},En,{code:"EPSG:900913"});function be(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function We(r,u){var d="",v,S,U,K,ut,vt;for(v=0,U=r.length;v<U;v++){for(ut=r[v],S=0,K=ut.length;S<K;S++)vt=ut[S],d+=(S?"L":"M")+vt.x+" "+vt.y;d+=u?Lt.svg?"z":"x":""}return d||"M0 0"}var Zt=document.documentElement.style,le="ActiveXObject"in window,Ve=le&&!document.addEventListener,qe="msLaunchUri"in navigator&&!("documentMode"in document),_e=$n("webkit"),dn=$n("android"),Te=$n("android 2")||$n("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mn=dn&&$n("Google")&&pe<537&&!("AudioNode"in window),ae=!!window.opera,ee=!qe&&$n("chrome"),ge=$n("gecko")&&!_e&&!ae&&!le,Pe=!ee&&$n("safari"),Xe=$n("phantom"),Rn="OTransition"in Zt,tn=navigator.platform.indexOf("Win")===0,pn=le&&"transition"in Zt,en="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Te,nn="MozPerspective"in Zt,Ji=!window.L_DISABLE_3D&&(pn||en||nn)&&!Rn&&!Xe,ui=typeof orientation<"u"||$n("mobile"),_s=ui&&_e,Vs=ui&&en,Li=!window.PointerEvent&&window.MSPointerEvent,bi=!!(window.PointerEvent||Li),an="ontouchstart"in window||!!window.TouchEvent,Qn=!window.L_NO_TOUCH&&(an||bi),In=ui&&ae,ki=ui&&ge,$i=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jn=(function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",T,u),window.removeEventListener("testPassiveEventSupport",T,u)}catch{}return r})(),Mn=(function(){return!!document.createElement("canvas").getContext})(),so=!!(document.createElementNS&&be("svg").createSVGRect),Ue=!!so&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ln=!so&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),sn=navigator.platform.indexOf("Mac")===0,Ei=navigator.platform.indexOf("Linux")===0;function $n(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Lt={ie:le,ielt9:Ve,edge:qe,webkit:_e,android:dn,android23:Te,androidStock:mn,opera:ae,chrome:ee,gecko:ge,safari:Pe,phantom:Xe,opera12:Rn,win:tn,ie3d:pn,webkit3d:en,gecko3d:nn,any3d:Ji,mobile:ui,mobileWebkit:_s,mobileWebkit3d:Vs,msPointer:Li,pointer:bi,touch:Qn,touchNative:an,mobileOpera:In,mobileGecko:ki,retina:$i,passiveEvents:Jn,canvas:Mn,svg:so,vml:ln,inlineSvg:Ue,mac:sn,linux:Ei},vs=Lt.msPointer?"MSPointerDown":"pointerdown",fa=Lt.msPointer?"MSPointerMove":"pointermove",qs=Lt.msPointer?"MSPointerUp":"pointerup",Gs=Lt.msPointer?"MSPointerCancel":"pointercancel",ts={touchstart:vs,touchmove:fa,touchend:qs,touchcancel:Gs},Di={touchstart:yr,touchmove:vr,touchend:vr,touchcancel:vr},Vn={},On=!1;function Qe(r,u,d){return u==="touchstart"&&sl(),Di[u]?(d=Di[u].bind(this,d),r.addEventListener(ts[u],d,!1),d):(console.warn("wrong event specified:",u),T)}function da(r,u,d){if(!ts[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(ts[u],d,!1)}function ro(r){Vn[r.pointerId]=r}function Pi(r){Vn[r.pointerId]&&(Vn[r.pointerId]=r)}function es(r){delete Vn[r.pointerId]}function sl(){On||(document.addEventListener(vs,ro,!0),document.addEventListener(fa,Pi,!0),document.addEventListener(qs,es,!0),document.addEventListener(Gs,es,!0),On=!0)}function vr(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Vn)u.touches.push(Vn[d]);u.changedTouches=[u],r(u)}}function yr(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ie(u),vr(r,u)}function rl(r){var u={},d,v;for(v in r)d=r[v],u[v]=d&&d.bind?d.bind(r):d;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Zs=200;function ns(r,u){r.addEventListener("dblclick",u);var d=0,v;function S(U){if(U.detail!==1){v=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var K=lo(U);if(!(K.some(function(vt){return vt instanceof HTMLLabelElement&&vt.attributes.for})&&!K.some(function(vt){return vt instanceof HTMLInputElement||vt instanceof HTMLSelectElement}))){var ut=Date.now();ut-d<=Zs?(v++,v===2&&u(rl(U))):v=1,d=ut}}}return r.addEventListener("click",S),{dblclick:u,simDblclick:S}}function xn(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var ys=Ui(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ws=Ui(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),is=Ws==="webkitTransition"||Ws==="OTransition"?Ws+"End":"transitionend";function wr(r){return typeof r=="string"?document.getElementById(r):r}function ss(r,u){var d=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(r,null);d=v?v[u]:null}return d==="auto"?null:d}function Qt(r,u,d){var v=document.createElement(r);return v.className=u||"",d&&d.appendChild(v),v}function Se(r){var u=r.parentNode;u&&u.removeChild(r)}function gn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function rs(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Ys(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function Ks(r,u){if(r.classList!==void 0)return r.classList.contains(u);var d=Ge(r);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function qt(r,u){if(r.classList!==void 0)for(var d=P(u),v=0,S=d.length;v<S;v++)r.classList.add(d[v]);else if(!Ks(r,u)){var U=Ge(r);ma(r,(U?U+" ":"")+u)}}function Ce(r,u){r.classList!==void 0?r.classList.remove(u):ma(r,I((" "+Ge(r)+" ").replace(" "+u+" "," ")))}function ma(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function Ge(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function ze(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&br(r,u)}function br(r,u){var d=!1,v="DXImageTransform.Microsoft.Alpha";try{d=r.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):r.style.filter+=" progid:"+v+"(opacity="+u+")"}function Ui(r){for(var u=document.documentElement.style,d=0;d<r.length;d++)if(r[d]in u)return r[d];return!1}function qn(r,u,d){var v=u||new $(0,0);r.style[ys]=(Lt.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(d?" scale("+d+")":"")}function jt(r,u){r._leaflet_pos=u,Lt.any3d?qn(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function ci(r){return r._leaflet_pos||new $(0,0)}var Ln,zi,oo;if("onselectstart"in document)Ln=function(){Pt(window,"selectstart",Ie)},zi=function(){ue(window,"selectstart",Ie)};else{var ws=Ui(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ln=function(){if(ws){var r=document.documentElement.style;oo=r[ws],r[ws]="none"}},zi=function(){ws&&(document.documentElement.style[ws]=oo,oo=void 0)}}function Er(){Pt(window,"dragstart",Ie)}function pa(){ue(window,"dragstart",Ie)}var ao,Xs;function ji(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Gn(),ao=r,Xs=r.style.outlineStyle,r.style.outlineStyle="none",Pt(window,"keydown",Gn))}function Gn(){ao&&(ao.style.outlineStyle=Xs,ao=void 0,Xs=void 0,ue(window,"keydown",Gn))}function os(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Bi(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var ga={__proto__:null,TRANSFORM:ys,TRANSITION:Ws,TRANSITION_END:is,get:wr,getStyle:ss,create:Qt,remove:Se,empty:gn,toFront:rs,toBack:Ys,hasClass:Ks,addClass:qt,removeClass:Ce,setClass:ma,getClass:Ge,setOpacity:ze,testProp:Ui,setTransform:qn,setPosition:jt,getPosition:ci,get disableTextSelection(){return Ln},get enableTextSelection(){return zi},disableImageDrag:Er,enableImageDrag:pa,preventOutline:ji,restoreOutline:Gn,getSizedParentNode:os,getScale:Bi};function Pt(r,u,d,v){if(u&&typeof u=="object")for(var S in u)bs(r,S,u[S],d);else{u=P(u);for(var U=0,K=u.length;U<K;U++)bs(r,u[U],d,v)}return this}var hi="_leaflet_events";function ue(r,u,d,v){if(arguments.length===1)xi(r),delete r[hi];else if(u&&typeof u=="object")for(var S in u)Ti(r,S,u[S],d);else if(u=P(u),arguments.length===2)xi(r,function(ut){return Q(u,ut)!==-1});else for(var U=0,K=u.length;U<K;U++)Ti(r,u[U],d,v);return this}function xi(r,u){for(var d in r[hi]){var v=d.split(/\d/)[0];(!u||u(v))&&Ti(r,v,null,null,d)}}var ti={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bs(r,u,d,v){var S=u+y(d)+(v?"_"+y(v):"");if(r[hi]&&r[hi][S])return this;var U=function(ut){return d.call(v||r,ut||window.event)},K=U;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?U=Qe(r,u,U):Lt.touch&&u==="dblclick"?U=ns(r,U):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(ti[u]||u,U,Lt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(U=function(ut){ut=ut||window.event,xs(r,ut)&&K(ut)},r.addEventListener(ti[u],U,!1)):r.addEventListener(u,K,!1):r.attachEvent("on"+u,U),r[hi]=r[hi]||{},r[hi][S]=U}function Ti(r,u,d,v,S){S=S||u+y(d)+(v?"_"+y(v):"");var U=r[hi]&&r[hi][S];if(!U)return this;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?da(r,u,U):Lt.touch&&u==="dblclick"?xn(r,U):"removeEventListener"in r?r.removeEventListener(ti[u]||u,U,!1):r.detachEvent("on"+u,U),r[hi][S]=null}function ei(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Hi(r){return bs(r,"wheel",ei),this}function Es(r){return Pt(r,"mousedown touchstart dblclick contextmenu",ei),r._leaflet_disable_click=!0,this}function Ie(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function kn(r){return Ie(r),ei(r),this}function lo(r){if(r.composedPath)return r.composedPath();for(var u=[],d=r.target;d;)u.push(d),d=d.parentNode;return u}function un(r,u){if(!u)return new $(r.clientX,r.clientY);var d=Bi(u),v=d.boundingClientRect;return new $((r.clientX-v.left)/d.x-u.clientLeft,(r.clientY-v.top)/d.y-u.clientTop)}var Ee=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xr(r){return Lt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ee:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function xs(r,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==r;)d=d.parentNode}catch{return!1}return d!==r}var ol={__proto__:null,on:Pt,off:ue,stopPropagation:ei,disableScrollPropagation:Hi,disableClickPropagation:Es,preventDefault:Ie,stop:kn,getPropagationPath:lo,getMousePosition:un,getWheelDelta:xr,isExternalTarget:xs,addListener:Pt,removeListener:ue},Tr=H.extend({run:function(r,u,d,v){this.stop(),this._el=r,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=ci(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var d=this._startPos.add(this._offset.multiplyBy(r));u&&d._round(),jt(this._el,d),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Wt=H.extend({options:{crs:En,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=G(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(wt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ws&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pt(this._proxy,is,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(wt(r),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,d.zoom):this._tryAnimatedPan(r,d.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,d){var v=this.getZoomScale(u),S=this.getSize().divideBy(2),U=r instanceof $?r:this.latLngToContainerPoint(r),K=U.subtract(S).multiplyBy(1-1/v),ut=this.containerPointToLatLng(S.add(K));return this.setView(ut,u,{zoom:d})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():dt(r);var d=B(u.paddingTopLeft||u.padding||[0,0]),v=B(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(r,!1,d.add(v));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:r.getCenter(),zoom:S};var U=v.subtract(d).divideBy(2),K=this.project(r.getSouthWest(),S),ut=this.project(r.getNorthEast(),S),vt=this.unproject(K.add(ut).divideBy(2).add(U),S);return{center:vt,zoom:S}},fitBounds:function(r,u){if(r=dt(r),!r.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(r,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=B(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Tr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,d){if(d=d||{},d.animate===!1||!Lt.any3d)return this.setView(r,u,d);this._stop();var v=this.project(this.getCenter()),S=this.project(r),U=this.getSize(),K=this._zoom;r=wt(r),u=u===void 0?K:u;var ut=Math.max(U.x,U.y),vt=ut*this.getZoomScale(K,u),Tt=S.distanceTo(v)||1,Ct=1.42,Rt=Ct*Ct;function Ot(Ye){var hs=Ye?-1:1,Rs=Ye?vt:ut,ir=vt*vt-ut*ut+hs*Rt*Rt*Tt*Tt,Is=2*Rs*Rt*Tt,Ma=ir/Is,vl=Math.sqrt(Ma*Ma+1)-Ma,Oa=vl<1e-9?-18:Math.log(vl);return Oa}function Vt(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function Be(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}function Je(Ye){return Vt(Ye)/Be(Ye)}var Pn=Ot(0);function Si(Ye){return ut*(Be(Pn)/Be(Pn+Ct*Ye))}function Yc(Ye){return ut*(Be(Pn)*Je(Pn+Ct*Ye)-Vt(Pn))/Rt}function Kc(Ye){return 1-Math.pow(1-Ye,1.5)}var Ia=Date.now(),Co=(Ot(1)-Pn)/Ct,Xc=d.duration?1e3*d.duration:1e3*Co*.8;function No(){var Ye=(Date.now()-Ia)/Xc,hs=Kc(Ye)*Co;Ye<=1?(this._flyToFrame=j(No,this),this._move(this.unproject(v.add(S.subtract(v).multiplyBy(Yc(hs)/Tt)),K),this.getScaleZoom(ut/Si(hs),K),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),No.call(this),this},flyToBounds:function(r,u){var d=this._getBoundsCenterZoom(r,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(r){return r=dt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var d=this.getCenter(),v=this._limitCenter(d,this._zoom,dt(r));return d.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var d=B(u.paddingTopLeft||u.padding||[0,0]),v=B(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),U=this.project(r),K=this.getPixelBounds(),ut=lt([K.min.add(d),K.max.subtract(v)]),vt=ut.getSize();if(!ut.contains(U)){this._enforcingBounds=!0;var Tt=U.subtract(ut.getCenter()),Ct=ut.extend(U).getSize().subtract(vt);S.x+=Tt.x<0?-Ct.x:Ct.x,S.y+=Tt.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),v=u.divideBy(2).round(),S=d.divideBy(2).round(),U=v.subtract(S);return!U.x&&!U.y?this:(r.animate&&r.pan?this.panBy(U):(r.pan&&this._rawPanBy(U),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,r):navigator.geolocation.getCurrentPosition(u,d,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,d=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,d=r.coords.longitude,v=new it(u,d),S=v.toBounds(r.coords.accuracy*2),U=this._locateOptions;if(U.setView){var K=this.getBoundsZoom(S);this.setView(v,U.maxZoom?Math.min(K,U.maxZoom):K)}var ut={latlng:v,bounds:S,timestamp:r.timestamp};for(var vt in r.coords)typeof r.coords[vt]=="number"&&(ut[vt]=r.coords[vt]);this.fire("locationfound",ut)}},addHandler:function(r,u){if(!u)return this;var d=this[r]=new u(this);return this._handlers.push(d),this.options[r]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Se(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var d="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),v=Qt("div",d,u||this._mapPane);return r&&(this._panes[r]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),d=this.unproject(r.getTopRight());return new ht(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,d){r=dt(r),d=B(d||[0,0]);var v=this.getZoom()||0,S=this.getMinZoom(),U=this.getMaxZoom(),K=r.getNorthWest(),ut=r.getSouthEast(),vt=this.getSize().subtract(d),Tt=lt(this.project(ut,v),this.project(K,v)).getSize(),Ct=Lt.any3d?this.options.zoomSnap:1,Rt=vt.x/Tt.x,Ot=vt.y/Tt.y,Vt=u?Math.max(Rt,Ot):Math.min(Rt,Ot);return v=this.getScaleZoom(Vt,v),Ct&&(v=Math.round(v/(Ct/100))*(Ct/100),v=u?Math.ceil(v/Ct)*Ct:Math.floor(v/Ct)*Ct),Math.max(S,Math.min(U,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var d=this._getTopLeftPoint(r,u);return new nt(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(r)/d.scale(u)},getScaleZoom:function(r,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var v=d.zoom(r*d.scale(u));return isNaN(v)?1/0:v},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(wt(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(B(r),u)},layerPointToLatLng:function(r){var u=B(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(wt(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(wt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(dt(r))},distance:function(r,u){return this.options.crs.distance(wt(r),wt(u))},containerPointToLayerPoint:function(r){return B(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return B(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(B(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(r)))},mouseEventToContainerPoint:function(r){return un(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=wr(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,qt(r,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ss(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(r.markerPane,"leaflet-zoom-hide"),qt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,d){jt(this._mapPane,new $(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,d)._move(r,u)._moveEnd(S),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,d,v){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),v?d&&d.pinch&&this.fire("zoom",d):((S||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){jt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[y(this._container)]=this;var u=r?ue:Pt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var d=[],v,S=u==="mouseout"||u==="mouseover",U=r.target||r.srcElement,K=!1;U;){if(v=this._targets[y(U)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){K=!0;break}if(v&&v.listens(u,!0)&&(S&&!xs(U,r)||(d.push(v),S))||U===this._container)break;U=U.parentNode}return!d.length&&!K&&!S&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var d=r.type;d==="mousedown"&&ji(u),this._fireDOMEvent(r,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,d){if(r.type==="click"){var v=l({},r);v.type="preclick",this._fireDOMEvent(v,v.type,d)}var S=this._findEventTargets(r,u);if(d){for(var U=[],K=0;K<d.length;K++)d[K].listens(u,!0)&&U.push(d[K]);S=U.concat(S)}if(S.length){u==="contextmenu"&&Ie(r);var ut=S[0],vt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Tt=ut.getLatLng&&(!ut._radius||ut._radius<=10);vt.containerPoint=Tt?this.latLngToContainerPoint(ut.getLatLng()):this.mouseEventToContainerPoint(r),vt.layerPoint=this.containerPointToLayerPoint(vt.containerPoint),vt.latlng=Tt?ut.getLatLng():this.layerPointToLatLng(vt.layerPoint)}for(K=0;K<S.length;K++)if(S[K].fire(u,vt,!0),vt.originalEvent._stopped||S[K].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return ci(this._mapPane)||new $(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var d=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var d=this.getSize()._divideBy(2);return this.project(r,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,d){var v=this._getNewPixelOrigin(d,u);return this.project(r,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(r,u,d){var v=this._getNewPixelOrigin(d,u);return lt([this.project(r.getSouthWest(),u)._subtract(v),this.project(r.getNorthWest(),u)._subtract(v),this.project(r.getSouthEast(),u)._subtract(v),this.project(r.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,d){if(!d)return r;var v=this.project(r,u),S=this.getSize().divideBy(2),U=new nt(v.subtract(S),v.add(S)),K=this._getBoundsOffset(U,d,u);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?r:this.unproject(v.add(K),u)},_limitOffset:function(r,u){if(!u)return r;var d=this.getPixelBounds(),v=new nt(d.min.add(r),d.max.add(r));return r.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(r,u,d){var v=lt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),S=v.min.subtract(r.min),U=v.max.subtract(r.max),K=this._rebound(S.x,-U.x),ut=this._rebound(S.y,-U.y);return new $(K,ut)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),d=this.getMaxZoom(),v=Lt.any3d?this.options.zoomSnap:1;return v&&(r=Math.round(r/v)*v),Math.max(u,Math.min(d,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var d=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var r=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var d=ys,v=this._proxy.style[d];qn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();qn(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),S=this._getCenterOffset(r)._divideBy(1-1/v);return d.animate!==!0&&!this.getSize().contains(S)?!1:(j(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,d,v){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function as(r,u){return new Wt(r,u)}var Tn=J.extend({options:{position:"topright"},initialize:function(r){G(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),d=this.getPosition(),v=r._controlCorners[d];return qt(u,"leaflet-control"),d.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Dn=function(r){return new Tn(r)};Wt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",d=this._controlContainer=Qt("div",u+"control-container",this._container);function v(S,U){var K=u+S+" "+u+U;r[S+U]=Qt("div",K,d)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Se(this._controlCorners[r]);Se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _a=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,d,v){return d<v?-1:v<d?1:0}},initialize:function(r,u,d){G(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in r)this._addLayer(r[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Tn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Qt("div",r),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Es(u),Hi(u);var v=this._section=Qt("section",r+"-list");d&&(this._map.on("click",this.collapse,this),Pt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Qt("a",r+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Pt(S,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){Ie(U),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Qt("div",r+"-base",v),this._separator=Qt("div",r+"-separator",v),this._overlaysList=Qt("div",r+"-overlays",v),u.appendChild(v)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,d){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(v,S){return this.options.sortFunction(v.layer,S.layer,v.name,S.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gn(this._baseLayersList),gn(this._overlaysList),this._layerControlInputs=[];var r,u,d,v,S=0;for(d=0;d<this._layers.length;d++)v=this._layers[d],this._addItem(v),u=u||v.overlay,r=r||!v.overlay,S+=v.overlay?0:1;return this.options.hideSingleBase&&(r=r&&S>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(y(r.target)),d=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(r,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=d,v.firstChild},_addItem:function(r){var u=document.createElement("label"),d=this._map.hasLayer(r.layer),v;r.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=d):v=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(v),v.layerId=y(r.layer),Pt(v,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+r.name;var U=document.createElement("span");u.appendChild(U),U.appendChild(v),U.appendChild(S);var K=r.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,d,v=[],S=[];this._handlingClick=!0;for(var U=r.length-1;U>=0;U--)u=r[U],d=this._getLayer(u.layerId).layer,u.checked?v.push(d):u.checked||S.push(d);for(U=0;U<S.length;U++)this._map.hasLayer(S[U])&&this._map.removeLayer(S[U]);for(U=0;U<v.length;U++)this._map.hasLayer(v[U])||this._map.addLayer(v[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,d,v=this._map.getZoom(),S=r.length-1;S>=0;S--)u=r[S],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&v<d.options.minZoom||d.options.maxZoom!==void 0&&v>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Pt(r,"click",Ie),this.expand();var u=this;setTimeout(function(){ue(r,"click",Ie),u._preventClick=!1})}}),au=function(r,u,d){return new _a(r,u,d)},Ts=Tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",d=Qt("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,d,v,S){var U=Qt("a",d,v);return U.innerHTML=r,U.href="#",U.title=u,U.setAttribute("role","button"),U.setAttribute("aria-label",u),Es(U),Pt(U,"click",kn),Pt(U,"click",S,this),Pt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";Ce(this._zoomInButton,u),Ce(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(qt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(qt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ts,this.addControl(this.zoomControl))});var uo=function(r){return new Ts(r)},co=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",d=Qt("div",u),v=this.options;return this._addScales(v,u+"-line",d),r.on(v.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),d},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,d){r.metric&&(this._mScale=Qt("div",u,d)),r.imperial&&(this._iScale=Qt("div",u,d))},_update:function(){var r=this._map,u=r.getSize().y/2,d=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/r)},_updateImperial:function(r){var u=r*3.2808399,d,v,S;u>5280?(d=u/5280,v=this._getRoundNum(d),this._updateScale(this._iScale,v+" mi",v/d)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(r,u,d){r.style.width=Math.round(this.options.maxWidth*d)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),d=r/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),ho=function(r){return new co(r)},al='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qs=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?al+" ":"")+"Leaflet</a>"},initialize:function(r){G(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),Es(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),r.length&&d.push(r.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new Qs().addTo(this)});var lu=function(r){return new Qs(r)};Tn.Layers=_a,Tn.Zoom=Ts,Tn.Scale=co,Tn.Attribution=Qs,Dn.layers=au,Dn.zoom=uo,Dn.scale=ho,Dn.attribution=lu;var ni=J.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ni.addTo=function(r,u){return r.addHandler(u,this),this};var Sr={Events:k},va=Lt.touch?"touchstart mousedown":"mousedown",Fi=H.extend({options:{clickTolerance:3},initialize:function(r,u,d,v){G(this,v),this._element=r,this._dragStartTarget=u||r,this._preventOutline=d},enable:function(){this._enabled||(Pt(this._dragStartTarget,va,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fi._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,va,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ks(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Fi._dragging===this&&this.finishDrag();return}if(!(Fi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Fi._dragging=this,this._preventOutline&&ji(this._element),Er(),Ln(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,d=os(this._element);this._startPoint=new $(u.clientX,u.clientY),this._startPos=ci(this._element),this._parentScale=Bi(d);var v=r.type==="mousedown";Pt(document,v?"mousemove":"touchmove",this._onMove,this),Pt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,d=new $(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Ie(r),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),jt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),pa(),zi();var u=this._moved&&this._moving;this._moving=!1,Fi._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function fo(r,u,d){var v,S=[1,4,2,8],U,K,ut,vt,Tt,Ct,Rt,Ot;for(U=0,Ct=r.length;U<Ct;U++)r[U]._code=ls(r[U],u);for(ut=0;ut<4;ut++){for(Rt=S[ut],v=[],U=0,Ct=r.length,K=Ct-1;U<Ct;K=U++)vt=r[U],Tt=r[K],vt._code&Rt?Tt._code&Rt||(Ot=Ar(Tt,vt,Rt,u,d),Ot._code=ls(Ot,u),v.push(Ot)):(Tt._code&Rt&&(Ot=Ar(Tt,vt,Rt,u,d),Ot._code=ls(Ot,u),v.push(Ot)),v.push(vt));r=v}return r}function Js(r,u){var d,v,S,U,K,ut,vt,Tt,Ct;if(!r||r.length===0)throw new Error("latlngs not passed");b(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Rt=wt([0,0]),Ot=dt(r),Vt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Vt<1700&&(Rt=mo(r));var Be=r.length,Je=[];for(d=0;d<Be;d++){var Pn=wt(r[d]);Je.push(u.project(wt([Pn.lat-Rt.lat,Pn.lng-Rt.lng])))}for(ut=vt=Tt=0,d=0,v=Be-1;d<Be;v=d++)S=Je[d],U=Je[v],K=S.y*U.x-U.y*S.x,vt+=(S.x+U.x)*K,Tt+=(S.y+U.y)*K,ut+=K*3;ut===0?Ct=Je[0]:Ct=[vt/ut,Tt/ut];var Si=u.unproject(B(Ct));return wt([Si.lat+Rt.lat,Si.lng+Rt.lng])}function mo(r){for(var u=0,d=0,v=0,S=0;S<r.length;S++){var U=wt(r[S]);u+=U.lat,d+=U.lng,v++}return wt([u/v,d/v])}var po={__proto__:null,clipPolygon:fo,polygonCenter:Js,centroid:mo};function ya(r,u){if(!u||!r.length)return r.slice();var d=u*u;return r=ul(r,d),r=ll(r,d),r}function go(r,u,d){return Math.sqrt(f(r,u,d,!0))}function Ss(r,u,d){return f(r,u,d)}function ll(r,u){var d=r.length,v=typeof Uint8Array<"u"?Uint8Array:Array,S=new v(d);S[0]=S[d-1]=1,_o(r,S,u,0,d-1);var U,K=[];for(U=0;U<d;U++)S[U]&&K.push(r[U]);return K}function _o(r,u,d,v,S){var U=0,K,ut,vt;for(ut=v+1;ut<=S-1;ut++)vt=f(r[ut],r[v],r[S],!0),vt>U&&(K=ut,U=vt);U>d&&(u[K]=1,_o(r,u,d,v,K),_o(r,u,d,K,S))}function ul(r,u){for(var d=[r[0]],v=1,S=0,U=r.length;v<U;v++)$s(r[v],r[S])>u&&(d.push(r[v]),S=v);return S<U-1&&d.push(r[U-1]),d}var wa;function Zn(r,u,d,v,S){var U=v?wa:ls(r,d),K=ls(u,d),ut,vt,Tt;for(wa=K;;){if(!(U|K))return[r,u];if(U&K)return!1;ut=U||K,vt=Ar(r,u,ut,d,S),Tt=ls(vt,d),ut===U?(r=vt,U=Tt):(u=vt,K=Tt)}}function Ar(r,u,d,v,S){var U=u.x-r.x,K=u.y-r.y,ut=v.min,vt=v.max,Tt,Ct;return d&8?(Tt=r.x+U*(vt.y-r.y)/K,Ct=vt.y):d&4?(Tt=r.x+U*(ut.y-r.y)/K,Ct=ut.y):d&2?(Tt=vt.x,Ct=r.y+K*(vt.x-r.x)/U):d&1&&(Tt=ut.x,Ct=r.y+K*(ut.x-r.x)/U),new $(Tt,Ct,S)}function ls(r,u){var d=0;return r.x<u.min.x?d|=1:r.x>u.max.x&&(d|=2),r.y<u.min.y?d|=4:r.y>u.max.y&&(d|=8),d}function $s(r,u){var d=u.x-r.x,v=u.y-r.y;return d*d+v*v}function f(r,u,d,v){var S=u.x,U=u.y,K=d.x-S,ut=d.y-U,vt=K*K+ut*ut,Tt;return vt>0&&(Tt=((r.x-S)*K+(r.y-U)*ut)/vt,Tt>1?(S=d.x,U=d.y):Tt>0&&(S+=K*Tt,U+=ut*Tt)),K=r.x-S,ut=r.y-U,v?K*K+ut*ut:new $(S,U)}function b(r){return!et(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function N(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),b(r)}function V(r,u){var d,v,S,U,K,ut,vt,Tt;if(!r||r.length===0)throw new Error("latlngs not passed");b(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ct=wt([0,0]),Rt=dt(r),Ot=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());Ot<1700&&(Ct=mo(r));var Vt=r.length,Be=[];for(d=0;d<Vt;d++){var Je=wt(r[d]);Be.push(u.project(wt([Je.lat-Ct.lat,Je.lng-Ct.lng])))}for(d=0,v=0;d<Vt-1;d++)v+=Be[d].distanceTo(Be[d+1])/2;if(v===0)Tt=Be[0];else for(d=0,U=0;d<Vt-1;d++)if(K=Be[d],ut=Be[d+1],S=K.distanceTo(ut),U+=S,U>v){vt=(U-v)/S,Tt=[ut.x-vt*(ut.x-K.x),ut.y-vt*(ut.y-K.y)];break}var Pn=u.unproject(B(Tt));return wt([Pn.lat+Ct.lat,Pn.lng+Ct.lng])}var ct={__proto__:null,simplify:ya,pointToSegmentDistance:go,closestPointOnSegment:Ss,clipSegment:Zn,_getEdgeIntersection:Ar,_getBitCode:ls,_sqClosestPointOnSegment:f,isFlat:b,_flat:N,polylineCenter:V},yt={project:function(r){return new $(r.lng,r.lat)},unproject:function(r){return new it(r.y,r.x)},bounds:new nt([-180,-90],[180,90])},St={R:6378137,R_MINOR:6356752314245179e-9,bounds:new nt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,d=this.R,v=r.lat*u,S=this.R_MINOR/d,U=Math.sqrt(1-S*S),K=U*Math.sin(v),ut=Math.tan(Math.PI/4-v/2)/Math.pow((1-K)/(1+K),U/2);return v=-d*Math.log(Math.max(ut,1e-10)),new $(r.lng*u*d,v)},unproject:function(r){for(var u=180/Math.PI,d=this.R,v=this.R_MINOR/d,S=Math.sqrt(1-v*v),U=Math.exp(-r.y/d),K=Math.PI/2-2*Math.atan(U),ut=0,vt=.1,Tt;ut<15&&Math.abs(vt)>1e-7;ut++)Tt=S*Math.sin(K),Tt=Math.pow((1-Tt)/(1+Tt),S/2),vt=Math.PI/2-2*Math.atan(U*Tt)-K,K+=vt;return new it(K*u,r.x*u/d)}},ve={__proto__:null,LonLat:yt,Mercator:St,SphericalMercator:Xt},je=l({},Mt,{code:"EPSG:3395",projection:St,transformation:(function(){var r=.5/(Math.PI*St.R);return me(r,.5,-r,.5)})()}),ne=l({},Mt,{code:"EPSG:4326",projection:yt,transformation:me(1/180,1,-1/180,.5)}),_n=l({},Dt,{projection:yt,transformation:me(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var d=u.lng-r.lng,v=u.lat-r.lat;return Math.sqrt(d*d+v*v)},infinite:!0});Dt.Earth=Mt,Dt.EPSG3395=je,Dt.EPSG3857=En,Dt.EPSG900913=fn,Dt.EPSG4326=ne,Dt.Simple=_n;var Ae=H.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[y(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[y(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=y(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return y(r)in this._layers},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},_addLayers:function(r){r=r?et(r)?r:[r]:[];for(var u=0,d=r.length;u<d;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[y(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=y(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,d=this._getZoomSpan();for(var v in this._zoomBoundLayers){var S=this._zoomBoundLayers[v].options;r=S.minZoom===void 0?r:Math.min(r,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ii=Ae.extend({initialize:function(r,u){G(this,u),this._layers={};var d,v;if(r)for(d=0,v=r.length;d<v;d++)this.addLayer(r[d])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),d,v;for(d in this._layers)v=this._layers[d],v[r]&&v[r].apply(v,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return y(r)}}),si=function(r,u){return new ii(r,u)},vn=ii.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ii.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ii.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ht;for(var u in this._layers){var d=this._layers[u];r.extend(d.getBounds?d.getBounds():d.getLatLng())}return r}}),As=function(r,u){return new vn(r,u)},vo=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){G(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var d=this._getIconUrl(r);if(!d){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(r,u){var d=this.options,v=d[u+"Size"];typeof v=="number"&&(v=[v,v]);var S=B(v),U=B(u==="shadow"&&d.shadowAnchor||d.iconAnchor||S&&S.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(d.className||""),U&&(r.style.marginLeft=-U.x+"px",r.style.marginTop=-U.y+"px"),S&&(r.style.width=S.x+"px",r.style.height=S.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Lt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function cl(r){return new vo(r)}var yo=vo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof yo.imagePath!="string"&&(yo.imagePath=this._detectIconPath()),(this.options.imagePath||yo.imagePath)+vo.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(d,v,S){var U=v.exec(d);return U&&U[S]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Qt("div","leaflet-default-icon-path",document.body),u=ss(r,"background-image")||ss(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),uu=ni.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Fi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,d=u._map,v=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,U=ci(u._icon),K=d.getPixelBounds(),ut=d.getPixelOrigin(),vt=lt(K.min._subtract(ut).add(S),K.max._subtract(ut).subtract(S));if(!vt.contains(U)){var Tt=B((Math.max(vt.max.x,U.x)-vt.max.x)/(K.max.x-vt.max.x)-(Math.min(vt.min.x,U.x)-vt.min.x)/(K.min.x-vt.min.x),(Math.max(vt.max.y,U.y)-vt.max.y)/(K.max.y-vt.max.y)-(Math.min(vt.min.y,U.y)-vt.min.y)/(K.min.y-vt.min.y)).multiplyBy(v);d.panBy(Tt,{animate:!1}),this._draggable._newPos._add(Tt),this._draggable._startPos._add(Tt),jt(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=j(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,d=u._shadow,v=ci(u._icon),S=u._map.layerPointToLatLng(v);d&&jt(d,v),u._latlng=S,r.latlng=S,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),wo=Ae.extend({options:{icon:new yo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){G(this,u),this._latlng=wt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=wt(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=r.icon.createIcon(this._icon),v=!1;d!==this._icon&&(this._icon&&this._removeIcon(),v=!0,r.title&&(d.title=r.title),d.tagName==="IMG"&&(d.alt=r.alt||"")),qt(d,u),r.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(d,"focus",this._panOnFocus,this);var S=r.icon.createShadow(this._shadow),U=!1;S!==this._shadow&&(this._removeShadow(),U=!0),S&&(qt(S,u),S.alt=""),this._shadow=S,r.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&U&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),Se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Se(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&jt(this._icon,r),this._shadow&&jt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uu)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uu(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&ze(this._icon,r),this._shadow&&ze(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,d=u.iconSize?B(u.iconSize):B(0,0),v=u.iconAnchor?B(u.iconAnchor):B(0,0);r.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:d.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cu(r,u){return new wo(r,u)}var Cs=Ae.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return G(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ba=Cs.extend({options:{fill:!0,radius:10},initialize:function(r,u){G(this,u),this._latlng=wt(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=wt(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return Cs.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,d=this._clickTolerance(),v=[r+d,u+d];this._pxBounds=new nt(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fc(r,u){return new ba(r,u)}var hu=ba.extend({initialize:function(r,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),G(this,u),this._latlng=wt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ht(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Cs.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,d=this._map,v=d.options.crs;if(v.distance===Mt.distance){var S=Math.PI/180,U=this._mRadius/Mt.R/S,K=d.project([u+U,r]),ut=d.project([u-U,r]),vt=K.add(ut).divideBy(2),Tt=d.unproject(vt).lat,Ct=Math.acos((Math.cos(U*S)-Math.sin(u*S)*Math.sin(Tt*S))/(Math.cos(u*S)*Math.cos(Tt*S)))/S;(isNaN(Ct)||Ct===0)&&(Ct=U/Math.cos(Math.PI/180*u)),this._point=vt.subtract(d.getPixelOrigin()),this._radius=isNaN(Ct)?0:vt.x-d.project([Tt,r-Ct]).x,this._radiusY=vt.y-K.y}else{var Rt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Rt).x}this._updateBounds()}});function sd(r,u,d){return new hu(r,u,d)}var Ns=Cs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){G(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,d=null,v=f,S,U,K=0,ut=this._parts.length;K<ut;K++)for(var vt=this._parts[K],Tt=1,Ct=vt.length;Tt<Ct;Tt++){S=vt[Tt-1],U=vt[Tt];var Rt=v(r,S,U,!0);Rt<u&&(u=Rt,d=v(r,S,U))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return V(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=wt(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ht,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return b(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],d=b(r),v=0,S=r.length;v<S;v++)d?(u[v]=wt(r[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(r[v]);return u},_project:function(){var r=new nt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new $(r,r);this._rawPxBounds&&(this._pxBounds=new nt([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,d){var v=r[0]instanceof it,S=r.length,U,K;if(v){for(K=[],U=0;U<S;U++)K[U]=this._map.latLngToLayerPoint(r[U]),d.extend(K[U]);u.push(K)}else for(U=0;U<S;U++)this._projectLatlngs(r[U],u,d)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,v,S,U,K,ut,vt;for(d=0,S=0,U=this._rings.length;d<U;d++)for(vt=this._rings[d],v=0,K=vt.length;v<K-1;v++)ut=Zn(vt[v],vt[v+1],r,v,!0),ut&&(u[S]=u[S]||[],u[S].push(ut[0]),(ut[1]!==vt[v+1]||v===K-2)&&(u[S].push(ut[1]),S++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,d=0,v=r.length;d<v;d++)r[d]=ya(r[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var d,v,S,U,K,ut,vt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(d=0,U=this._parts.length;d<U;d++)for(ut=this._parts[d],v=0,K=ut.length,S=K-1;v<K;S=v++)if(!(!u&&v===0)&&go(r,ut[S],ut[v])<=vt)return!0;return!1}});function rd(r,u){return new Ns(r,u)}Ns._flat=N;var bo=Ns.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Js(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=Ns.prototype._convertLatLngs.call(this,r),d=u.length;return d>=2&&u[0]instanceof it&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(r){Ns.prototype._setLatLngs.call(this,r),b(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return b(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,d=new $(u,u);if(r=new nt(r.min.subtract(d),r.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,S=this._rings.length,U;v<S;v++)U=fo(this._rings[v],r,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,d,v,S,U,K,ut,vt,Tt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(U=0,vt=this._parts.length;U<vt;U++)for(d=this._parts[U],K=0,Tt=d.length,ut=Tt-1;K<Tt;ut=K++)v=d[K],S=d[ut],v.y>r.y!=S.y>r.y&&r.x<(S.x-v.x)*(r.y-v.y)/(S.y-v.y)+v.x&&(u=!u);return u||Ns.prototype._containsPoint.call(this,r,!0)}});function fi(r,u){return new bo(r,u)}var di=vn.extend({initialize:function(r,u){G(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=et(r)?r:r.features,d,v,S;if(u){for(d=0,v=u.length;d<v;d++)S=u[d],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var U=this.options;if(U.filter&&!U.filter(r))return this;var K=Ea(r,U);return K?(K.feature=Eo(r),K.defaultOptions=K.options,this.resetStyle(K),U.onEachFeature&&U.onEachFeature(r,K),this.addLayer(K)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function Ea(r,u){var d=r.type==="Feature"?r.geometry:r,v=d?d.coordinates:null,S=[],U=u&&u.pointToLayer,K=u&&u.coordsToLatLng||hl,ut,vt,Tt,Ct;if(!v&&!d)return null;switch(d.type){case"Point":return ut=K(v),fu(U,r,ut,u);case"MultiPoint":for(Tt=0,Ct=v.length;Tt<Ct;Tt++)ut=K(v[Tt]),S.push(fu(U,r,ut,u));return new vn(S);case"LineString":case"MultiLineString":return vt=xa(v,d.type==="LineString"?0:1,K),new Ns(vt,u);case"Polygon":case"MultiPolygon":return vt=xa(v,d.type==="Polygon"?1:2,K),new bo(vt,u);case"GeometryCollection":for(Tt=0,Ct=d.geometries.length;Tt<Ct;Tt++){var Rt=Ea({geometry:d.geometries[Tt],type:"Feature",properties:r.properties},u);Rt&&S.push(Rt)}return new vn(S);case"FeatureCollection":for(Tt=0,Ct=d.features.length;Tt<Ct;Tt++){var Ot=Ea(d.features[Tt],u);Ot&&S.push(Ot)}return new vn(S);default:throw new Error("Invalid GeoJSON object.")}}function fu(r,u,d,v){return r?r(u,d):new wo(d,v&&v.markersInheritOptions&&v)}function hl(r){return new it(r[1],r[0],r[2])}function xa(r,u,d){for(var v=[],S=0,U=r.length,K;S<U;S++)K=u?xa(r[S],u-1,d):(d||hl)(r[S]),v.push(K);return v}function Ta(r,u){return r=wt(r),r.alt!==void 0?[x(r.lng,u),x(r.lat,u),x(r.alt,u)]:[x(r.lng,u),x(r.lat,u)]}function fl(r,u,d,v){for(var S=[],U=0,K=r.length;U<K;U++)S.push(u?fl(r[U],b(r[U])?0:u-1,d,v):Ta(r[U],v));return!u&&d&&S.length>0&&S.push(S[0].slice()),S}function Vi(r,u){return r.feature?l({},r.feature,{geometry:u}):Eo(u)}function Eo(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Cr={toGeoJSON:function(r){return Vi(this,{type:"Point",coordinates:Ta(this.getLatLng(),r)})}};wo.include(Cr),hu.include(Cr),ba.include(Cr),Ns.include({toGeoJSON:function(r){var u=!b(this._latlngs),d=fl(this._latlngs,u?1:0,!1,r);return Vi(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),bo.include({toGeoJSON:function(r){var u=!b(this._latlngs),d=u&&!b(this._latlngs[0]),v=fl(this._latlngs,d?2:u?1:0,!0,r);return u||(v=[v]),Vi(this,{type:(d?"Multi":"")+"Polygon",coordinates:v})}}),ii.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(r).geometry.coordinates)}),Vi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var d=u==="GeometryCollection",v=[];return this.eachLayer(function(S){if(S.toGeoJSON){var U=S.toGeoJSON(r);if(d)v.push(U.geometry);else{var K=Eo(U);K.type==="FeatureCollection"?v.push.apply(v,K.features):v.push(K)}}}),d?Vi(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function dl(r,u){return new di(r,u)}var Vc=dl,us=Ae.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,d){this._url=r,this._bounds=dt(u),G(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&rs(this._image),this},bringToBack:function(){return this._map&&Ys(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=dt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:Qt("img");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=T,u.onmousemove=T,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;qn(this._image,d,u)},_reset:function(){var r=this._image,u=new nt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();jt(r,u.min),r.style.width=d.x+"px",r.style.height=d.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),xo=function(r,u,d){return new us(r,u,d)},ml=us.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:Qt("video");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=T,u.onmousemove=T,u.onloadeddata=m(this.fire,this,"load"),r){for(var d=u.getElementsByTagName("source"),v=[],S=0;S<d.length;S++)v.push(d[S].src);this._url=d.length>0?v:[u.src];return}et(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var K=Qt("source");K.src=this._url[U],u.appendChild(K)}}});function qc(r,u,d){return new ml(r,u,d)}var tr=us.extend({_initImage:function(){var r=this._image=this._url;qt(r,"leaflet-image-layer"),this._zoomAnimated&&qt(r,"leaflet-zoom-animated"),this.options.className&&qt(r,this.options.className),r.onselectstart=T,r.onmousemove=T}});function Gc(r,u,d){return new tr(r,u,d)}var qi=Ae.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof it||et(r))?(this._latlng=wt(r),G(this,u)):(G(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(m(Se,void 0,this._container),200)):Se(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=wt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rs(this._container),this},bringToBack:function(){return this._map&&Ys(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof vn){u=null;var d=this._source._layers;for(var v in d)if(d[v]._map){u=d[v];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=B(this.options.offset),d=this._getAnchor();this._zoomAnimated?jt(this._container,r.add(d)):u=u.add(r).add(d);var v=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(r,u,d,v){var S=u;return S instanceof r||(S=new r(v).setContent(u)),d&&S.setLatLng(d),S}}),Ae.include({_initOverlay:function(r,u,d,v){var S=d;return S instanceof r?(G(S,v),S._source=this):(S=u&&!v?u:new r(v,this),S.setContent(d)),S}});var Sa=qi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,qi.prototype.openOn.call(this,r)},onAdd:function(r){qi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cs||this._source.on("preclick",ei))},onRemove:function(r){qi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cs||this._source.off("preclick",ei))},getEvents:function(){var r=qi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Qt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Qt("div",r+"-content-wrapper",u);if(this._contentNode=Qt("div",r+"-content",d),Es(u),Hi(this._contentNode),Pt(u,"contextmenu",ei),this._tipContainer=Qt("div",r+"-tip-container",u),this._tip=Qt("div",r+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Qt("a",r+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Pt(v,"click",function(S){Ie(S),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var d=r.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var v=r.offsetHeight,S=this.options.maxHeight,U="leaflet-popup-scrolled";S&&v>S?(u.height=S+"px",qt(r,U)):Ce(r,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),d=this._getAnchor();jt(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(ss(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,v=this._containerWidth,S=new $(this._containerLeft,-d-this._containerBottom);S._add(ci(this._container));var U=r.layerPointToContainerPoint(S),K=B(this.options.autoPanPadding),ut=B(this.options.autoPanPaddingTopLeft||K),vt=B(this.options.autoPanPaddingBottomRight||K),Tt=r.getSize(),Ct=0,Rt=0;U.x+v+vt.x>Tt.x&&(Ct=U.x+v-Tt.x+vt.x),U.x-Ct-ut.x<0&&(Ct=U.x-ut.x),U.y+d+vt.y>Tt.y&&(Rt=U.y+d-Tt.y+vt.y),U.y-Rt-ut.y<0&&(Rt=U.y-ut.y),(Ct||Rt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Ct,Rt]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),od=function(r,u){return new Sa(r,u)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(r,u,d){return this._initOverlay(Sa,r,u,d).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Ae.include({bindPopup:function(r,u){return this._popup=this._initOverlay(Sa,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof vn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){kn(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof Cs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var pl=qi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){qi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){qi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=qi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,d,v=this._map,S=this._container,U=v.latLngToContainerPoint(v.getCenter()),K=v.layerPointToContainerPoint(r),ut=this.options.direction,vt=S.offsetWidth,Tt=S.offsetHeight,Ct=B(this.options.offset),Rt=this._getAnchor();ut==="top"?(u=vt/2,d=Tt):ut==="bottom"?(u=vt/2,d=0):ut==="center"?(u=vt/2,d=Tt/2):ut==="right"?(u=0,d=Tt/2):ut==="left"?(u=vt,d=Tt/2):K.x<U.x?(ut="right",u=0,d=Tt/2):(ut="left",u=vt+(Ct.x+Rt.x)*2,d=Tt/2),r=r.subtract(B(u,d,!0)).add(Ct).add(Rt),Ce(S,"leaflet-tooltip-right"),Ce(S,"leaflet-tooltip-left"),Ce(S,"leaflet-tooltip-top"),Ce(S,"leaflet-tooltip-bottom"),qt(S,"leaflet-tooltip-"+ut),jt(S,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&ze(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ad=function(r,u){return new pl(r,u)};Wt.include({openTooltip:function(r,u,d){return this._initOverlay(pl,r,u,d).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Ae.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pl,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof vn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(Pt(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Pt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,d,v;this._tooltip.options.sticky&&r.originalEvent&&(d=this._map.mouseEventToContainerPoint(r.originalEvent),v=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var du=vo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),d=this.options;if(d.html instanceof Element?(gn(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var v=B(d.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Zc(r){return new du(r)}vo.Default=yo;var Nr=Ae.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){G(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Se(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ys(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof $?r:new $(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,d=-r(-1/0,1/0),v=0,S=u.length,U;v<S;v++)U=u[v].style.zIndex,u[v]!==this._container&&U&&(d=r(d,+U));isFinite(d)&&(this.options.zIndex=d+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){ze(this._container,this.options.opacity);var r=+new Date,u=!1,d=!1;for(var v in this._tiles){var S=this._tiles[v];if(!(!S.current||!S.loaded)){var U=Math.min(1,(r-S.loaded)/200);ze(S.el,U),U<1?u=!0:(S.active?d=!0:this._onOpaqueTile(S),S.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(D(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===r?(this._levels[d].el.style.zIndex=u-Math.abs(r-d),this._onUpdateLevel(d)):(Se(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var v=this._levels[r],S=this._map;return v||(v=this._levels[r]={},v.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=S.project(S.unproject(S.getPixelOrigin()),r).round(),v.zoom=r,this._setZoomTransform(v,S.getCenter(),S.getZoom()),T(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var r,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Se(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,d,v){var S=Math.floor(r/2),U=Math.floor(u/2),K=d-1,ut=new $(+S,+U);ut.z=+K;var vt=this._tileCoordsToKey(ut),Tt=this._tiles[vt];return Tt&&Tt.active?(Tt.retain=!0,!0):(Tt&&Tt.loaded&&(Tt.retain=!0),K>v?this._retainParent(S,U,K,v):!1)},_retainChildren:function(r,u,d,v){for(var S=2*r;S<2*r+2;S++)for(var U=2*u;U<2*u+2;U++){var K=new $(S,U);K.z=d+1;var ut=this._tileCoordsToKey(K),vt=this._tiles[ut];if(vt&&vt.active){vt.retain=!0;continue}else vt&&vt.loaded&&(vt.retain=!0);d+1<v&&this._retainChildren(S,U,d+1,v)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,d,v){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var U=this.options.updateWhenZooming&&S!==this._tileZoom;(!v||U)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(r),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],r,u)},_setZoomTransform:function(r,u,d){var v=this._map.getZoomScale(d,r.zoom),S=r.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,d)).round();Lt.any3d?qn(r.el,S,v):jt(r.el,S)},_resetGrid:function(){var r=this._map,u=r.options.crs,d=this._tileSize=this.getTileSize(),v=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],v).x/d.x),Math.ceil(r.project([0,u.wrapLng[1]],v).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],v).y/d.x),Math.ceil(r.project([u.wrapLat[1],0],v).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(d,this._tileZoom),S=u.project(r,this._tileZoom).floor(),U=u.getSize().divideBy(v*2);return new nt(S.subtract(U),S.add(U))},_update:function(r){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(r),S=this._pxBoundsToTileRange(v),U=S.getCenter(),K=[],ut=this.options.keepBuffer,vt=new nt(S.getBottomLeft().subtract([ut,-ut]),S.getTopRight().add([ut,-ut]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Tt in this._tiles){var Ct=this._tiles[Tt].coords;(Ct.z!==this._tileZoom||!vt.contains(new $(Ct.x,Ct.y)))&&(this._tiles[Tt].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(r,d);return}for(var Rt=S.min.y;Rt<=S.max.y;Rt++)for(var Ot=S.min.x;Ot<=S.max.x;Ot++){var Vt=new $(Ot,Rt);if(Vt.z=this._tileZoom,!!this._isValidTile(Vt)){var Be=this._tiles[this._tileCoordsToKey(Vt)];Be?Be.current=!0:K.push(Vt)}}if(K.sort(function(Pn,Si){return Pn.distanceTo(U)-Si.distanceTo(U)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Je=document.createDocumentFragment();for(Ot=0;Ot<K.length;Ot++)this._addTile(K[Ot],Je);this._level.el.appendChild(Je)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(r.x<d.min.x||r.x>d.max.x)||!u.wrapLat&&(r.y<d.min.y||r.y>d.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(r);return dt(this.options.bounds).overlaps(v)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,d=this.getTileSize(),v=r.scaleBy(d),S=v.add(d),U=u.unproject(v,r.z),K=u.unproject(S,r.z);return[U,K]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),d=new ht(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),d=new $(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(r){var u=this._tiles[r];u&&(Se(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){qt(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=T,r.onmousemove=T,Lt.ielt9&&this.options.opacity<1&&ze(r,this.options.opacity)},_addTile:function(r,u){var d=this._getTilePos(r),v=this._tileCoordsToKey(r),S=this.createTile(this._wrapCoords(r),m(this._tileReady,this,r));this._initTile(S),this.createTile.length<2&&j(m(this._tileReady,this,r,null,S)),jt(S,d),this._tiles[v]={el:S,coords:r,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:r})},_tileReady:function(r,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:r});var v=this._tileCoordsToKey(r);d=this._tiles[v],d&&(d.loaded=+new Date,this._map._fadeAnimated?(ze(d.el,0),D(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(qt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new $(this._wrapX?E(r.x,this._wrapX):r.x,this._wrapY?E(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new nt(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Gi(r){return new Nr(r)}var Rr=Nr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=G(this,u),u.detectRetina&&Lt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var d=document.createElement("img");return Pt(d,"load",m(this._tileOnLoad,this,u,d)),Pt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(r),d},getTileUrl:function(r){var u={r:Lt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=d),u["-y"]=d}return pt(this._url,l(u,this.options))},_tileOnLoad:function(r,u){Lt.ielt9?setTimeout(m(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,d){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),r(d,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,v=this.options.zoomOffset;return d&&(r=u-r),r+v},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=T,u.onerror=T,!u.complete)){u.src=ot;var d=this._tiles[r].coords;Se(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",ot),Nr.prototype._removeTile.call(this,r)},_tileReady:function(r,u,d){if(!(!this._map||d&&d.getAttribute("src")===ot))return Nr.prototype._tileReady.call(this,r,u,d)}});function mi(r,u){return new Rr(r,u)}var pi=Rr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var d=l({},this.defaultWmsParams);for(var v in u)v in this.options||(d[v]=u[v]);u=G(this,u);var S=u.detectRetina&&Lt.retina?2:1,U=this.getTileSize();d.width=U.x*S,d.height=U.y*S,this.wmsParams=d},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Rr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),d=this._crs,v=lt(d.project(u[0]),d.project(u[1])),S=v.min,U=v.max,K=(this._wmsVersion>=1.3&&this._crs===ne?[S.y,S.x,U.y,U.x]:[S.x,S.y,U.x,U.y]).join(","),ut=Rr.prototype.getTileUrl.call(this,r);return ut+Z(this.wmsParams,ut,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(r,u){return l(this.wmsParams,r),u||this.redraw(),this}});function To(r,u){return new pi(r,u)}Rr.WMS=pi,mi.wms=To;var Zi=Ae.extend({options:{padding:.1},initialize:function(r){G(this,r),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var d=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),U=v.multiplyBy(-d).add(S).subtract(this._map._getNewPixelOrigin(r,u));Lt.any3d?qn(this._container,U,d):jt(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new nt(d,d.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Aa=Zi.extend({options:{tolerance:0},getEvents:function(){var r=Zi.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Pt(r,"mousemove",this._onMouseMove,this),Pt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,Se(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var r=this._bounds,u=this._container,d=r.getSize(),v=Lt.retina?2:1;jt(u,r.min),u.width=v*d.x,u.height=v*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[y(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,d=u.next,v=u.prev;d?d.prev=v:this._drawLast=v,v?v.next=d:this._drawFirst=d,delete r._order,delete this._layers[y(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),d=[],v,S;for(S=0;S<u.length;S++){if(v=Number(u[S]),isNaN(v))return;d.push(v)}r.options._dashArray=d}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new nt,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)r=v.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var d,v,S,U,K=r._parts,ut=K.length,vt=this._ctx;if(ut){for(vt.beginPath(),d=0;d<ut;d++){for(v=0,S=K[d].length;v<S;v++)U=K[d][v],vt[v?"lineTo":"moveTo"](U.x,U.y);u&&vt.closePath()}this._fillStroke(vt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,d=this._ctx,v=Math.max(Math.round(r._radius),1),S=(Math.max(Math.round(r._radiusY),1)||v)/v;S!==1&&(d.save(),d.scale(1,S)),d.beginPath(),d.arc(u.x,u.y/S,v,0,Math.PI*2,!1),S!==1&&d.restore(),this._fillStroke(d,r)}},_fillStroke:function(r,u){var d=u.options;d.fill&&(r.globalAlpha=d.fillOpacity,r.fillStyle=d.fillColor||d.color,r.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=d.opacity,r.lineWidth=d.weight,r.strokeStyle=d.color,r.lineCap=d.lineCap,r.lineJoin=d.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),d,v,S=this._drawFirst;S;S=S.next)d=S.layer,d.options.interactive&&d._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(d))&&(v=d);this._fireEvent(v?[v]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var d,v,S=this._drawFirst;S;S=S.next)d=S.layer,d.options.interactive&&d._containsPoint(u)&&(v=d);v!==this._hoveredLayer&&(this._handleMouseOut(r),v&&(qt(this._container,"leaflet-interactive"),this._fireEvent([v],r,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,d){this._map._fireDOMEvent(u,d||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var d=u.next,v=u.prev;if(d)d.prev=v;else return;v?v.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var d=u.next,v=u.prev;if(v)v.next=d;else return;d?d.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function Ca(r){return Lt.canvas?new Aa(r):null}var Ir=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),So={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Zi.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=Ir("shape");qt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=Ir("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;Se(u),r.removeInteractiveTarget(u),delete this._layers[y(r)]},_updateStyle:function(r){var u=r._stroke,d=r._fill,v=r.options,S=r._container;S.stroked=!!v.stroke,S.filled=!!v.fill,v.stroke?(u||(u=r._stroke=Ir("stroke")),S.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=et(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(S.removeChild(u),r._stroke=null),v.fill?(d||(d=r._fill=Ir("fill")),S.appendChild(d),d.color=v.fillColor||v.color,d.opacity=v.fillOpacity):d&&(S.removeChild(d),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),d=Math.round(r._radius),v=Math.round(r._radiusY||d);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+v+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){rs(r._container)},_bringToBack:function(r){Ys(r._container)}},Na=Lt.vml?Ir:be,er=Zi.extend({_initContainer:function(){this._container=Na("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Na("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Se(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Zi.prototype._update.call(this);var r=this._bounds,u=r.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),jt(d,r.min),d.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=Na("path");r.options.className&&qt(u,r.options.className),r.options.interactive&&qt(u,"leaflet-interactive"),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Se(r._path),r.removeInteractiveTarget(r._path),delete this._layers[y(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,d=r.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,We(r._parts,u))},_updateCircle:function(r){var u=r._point,d=Math.max(Math.round(r._radius),1),v=Math.max(Math.round(r._radiusY),1)||d,S="a"+d+","+v+" 0 1,0 ",U=r._empty()?"M0 0":"M"+(u.x-d)+","+u.y+S+d*2+",0 "+S+-d*2+",0 ";this._setPath(r,U)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){rs(r._path)},_bringToBack:function(r){Ys(r._path)}});Lt.vml&&er.include(So);function Mr(r){return Lt.svg||Lt.vml?new er(r):null}Wt.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&Ca(r)||Mr(r)}});var Wc=bo.extend({initialize:function(r,u){bo.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=dt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function gi(r,u){return new Wc(r,u)}er.create=Na,er.pointsToPath=We,di.geometryToLayer=Ea,di.coordsToLatLng=hl,di.coordsToLatLngs=xa,di.latLngToCoords=Ta,di.latLngsToCoords=fl,di.getFeature=Vi,di.asFeature=Eo,Wt.mergeOptions({boxZoom:!0});var gl=ni.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ln(),Er(),this._startPoint=this._map.mouseEventToContainerPoint(r),Pt(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new nt(this._point,this._startPoint),d=u.getSize();jt(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Se(this._box),Ce(this._container,"leaflet-crosshair")),zi(),pa(),ue(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",gl),Wt.mergeOptions({doubleClickZoom:!0});var cs=ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,d=u.getZoom(),v=u.options.zoomDelta,S=r.originalEvent.shiftKey?d-v:d+v;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(r.containerPoint,S)}});Wt.addInitHook("addHandler","doubleClickZoom",cs),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mu=ni.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Fi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=dt(this._map.options.maxBounds);this._offsetLimit=lt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),d=this._initialWorldOffset,v=this._draggable._newPos.x,S=(v-u+d)%r+u-d,U=(v+u+d)%r-u-d,K=Math.abs(S+d)<Math.abs(U+d)?S:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(r){var u=this._map,d=u.options,v=!d.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),v)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,K=d.easeLinearity,ut=S.multiplyBy(K/U),vt=ut.distanceTo([0,0]),Tt=Math.min(d.inertiaMaxSpeed,vt),Ct=ut.multiplyBy(Tt/vt),Rt=Tt/(d.inertiaDeceleration*K),Ot=Ct.multiplyBy(-Rt/2).round();!Ot.x&&!Ot.y?u.fire("moveend"):(Ot=u._limitOffset(Ot,u.options.maxBounds),j(function(){u.panBy(Ot,{duration:Rt,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",mu),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ra=ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Pt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,d=r.scrollTop||u.scrollTop,v=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},d=this.keyCodes,v,S;for(v=0,S=d.left.length;v<S;v++)u[d.left[v]]=[-1*r,0];for(v=0,S=d.right.length;v<S;v++)u[d.right[v]]=[r,0];for(v=0,S=d.down.length;v<S;v++)u[d.down[v]]=[0,r];for(v=0,S=d.up.length;v<S;v++)u[d.up[v]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},d=this.keyCodes,v,S;for(v=0,S=d.zoomIn.length;v<S;v++)u[d.zoomIn[v]]=r;for(v=0,S=d.zoomOut.length;v<S;v++)u[d.zoomOut[v]]=-r},_addHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,d=this._map,v;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(v=this._panKeys[u],r.shiftKey&&(v=B(v).multiplyBy(3)),d.options.maxBounds&&(v=d._limitOffset(B(v),d.options.maxBounds)),d.options.worldCopyJump){var S=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(v)));d.panTo(S)}else d.panBy(v)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;kn(r)}}});Wt.addInitHook("addHandler","keyboard",Ra),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nr=ni.extend({addHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=xr(r),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var v=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),v),kn(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),d=this._map.options.zoomSnap||0;r._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,U=d?Math.ceil(S/d)*d:S,K=r._limitZoom(u+(this._delta>0?U:-U))-u;this._delta=0,this._startTime=null,K&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+K):r.setZoomAround(this._lastMousePos,u+K))}});Wt.addInitHook("addHandler","scrollWheelZoom",nr);var pu=600;Wt.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var _l=ni.extend({addHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new $(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Pt(document,"touchend",Ie),Pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),pu),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ue(document,"touchend",Ie),ue(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new $(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var d=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Wt.addInitHook("addHandler","tapHold",_l),Wt.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var Or=ni.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(r.touches[0]),v=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(v)._divideBy(2))),this._startDist=d.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),Ie(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(r.touches[0]),v=u.mouseEventToContainerPoint(r.touches[1]),S=d.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var U=d._add(v)._divideBy(2)._subtract(this._centerPoint);if(S===1&&U.x===0&&U.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),D(this._animRequest);var K=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(K,this,!0),Ie(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,D(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",Or),Wt.BoxZoom=gl,Wt.DoubleClickZoom=cs,Wt.Drag=mu,Wt.Keyboard=Ra,Wt.ScrollWheelZoom=nr,Wt.TapHold=_l,Wt.TouchZoom=Or,n.Bounds=nt,n.Browser=Lt,n.CRS=Dt,n.Canvas=Aa,n.Circle=hu,n.CircleMarker=ba,n.Class=J,n.Control=Tn,n.DivIcon=du,n.DivOverlay=qi,n.DomEvent=ol,n.DomUtil=ga,n.Draggable=Fi,n.Evented=H,n.FeatureGroup=vn,n.GeoJSON=di,n.GridLayer=Nr,n.Handler=ni,n.Icon=vo,n.ImageOverlay=us,n.LatLng=it,n.LatLngBounds=ht,n.Layer=Ae,n.LayerGroup=ii,n.LineUtil=ct,n.Map=Wt,n.Marker=wo,n.Mixin=Sr,n.Path=Cs,n.Point=$,n.PolyUtil=po,n.Polygon=bo,n.Polyline=Ns,n.Popup=Sa,n.PosAnimation=Tr,n.Projection=ve,n.Rectangle=Wc,n.Renderer=Zi,n.SVG=er,n.SVGOverlay=tr,n.TileLayer=Rr,n.Tooltip=pl,n.Transformation=oe,n.Util=O,n.VideoOverlay=ml,n.bind=m,n.bounds=lt,n.canvas=Ca,n.circle=sd,n.circleMarker=Fc,n.control=Dn,n.divIcon=Zc,n.extend=l,n.featureGroup=As,n.geoJSON=dl,n.geoJson=Vc,n.gridLayer=Gi,n.icon=cl,n.imageOverlay=xo,n.latLng=wt,n.latLngBounds=dt,n.layerGroup=si,n.map=as,n.marker=cu,n.point=B,n.polygon=fi,n.polyline=rd,n.popup=od,n.rectangle=gi,n.setOptions=G,n.stamp=y,n.svg=Mr,n.svgOverlay=Gc,n.tileLayer=mi,n.tooltip=ad,n.transformation=me,n.version=o,n.videoOverlay=qc;var Ao=window.L;n.noConflict=function(){return window.L=Ao,this},window.L=n}))})(ic,ic.exports)),ic.exports}var nd=LR();const zb=u1(nd);function jb(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function Bb(s,t){return t==null?function(o,l){const h=Nt.useRef(void 0);return h.current||(h.current=s(o,l)),h}:function(o,l){const h=Nt.useRef(void 0);h.current||(h.current=s(o,l));const m=Nt.useRef(o),{instance:g}=h.current;return Nt.useEffect(function(){m.current!==o&&(t(g,o,m.current),m.current=o)},[g,o,t]),h}}function kR(s,t){Nt.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function Hb(s){return function(n){const o=Pb(),l=s(Ub(n,o),o);return SR(o.map,n.attribution),MR(l.current,n.eventHandlers),kR(l.current,o),l}}function DR(s,t){const n=Bb(s,t),o=Hb(n);return RR(o)}function PR(s,t){const n=Bb(s,t),o=Hb(n);return IR(o)}function UR(s,t,n){const{opacity:o,zIndex:l}=t;o!=null&&o!==n.opacity&&s.setOpacity(o),l!=null&&l!==n.zIndex&&s.setZIndex(l)}function zR(){return Pb().map}function jR(s){const t=zR();return Nt.useEffect(function(){return t.on(s),function(){t.off(s)}},[t,s]),t}function BR({bounds:s,boundsOptions:t,center:n,children:o,className:l,id:h,placeholder:m,style:g,whenReady:y,zoom:w,...E},T){const[x]=Nt.useState({className:l,id:h,style:g}),[I,P]=Nt.useState(null),G=Nt.useRef(void 0);Nt.useImperativeHandle(T,()=>I?.map??null,[I]);const Z=Nt.useCallback(pt=>{if(pt!==null&&!G.current){const et=new nd.Map(pt,E);G.current=et,n!=null&&w!=null?et.setView(n,w):s!=null&&et.fitBounds(s,t),y!=null&&et.whenReady(y),P(CR(et))}},[]);Nt.useEffect(()=>()=>{I?.map.remove()},[I]);const W=I?sp.createElement(Ng,{value:I},o):m??null;return sp.createElement("div",{...x,ref:Z},W)}const HR=Nt.forwardRef(BR),FR=DR(function({position:t,...n},o){const l=new nd.Marker(t,n);return jb(l,NR(o,{overlayContainer:l}))},function(t,n,o){n.position!==o.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==o.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==o.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==o.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),VR=PR(function({url:t,...n},o){const l=new nd.TileLayer(t,Ub(n,o));return jb(l,o)},function(t,n,o){UR(t,n,o);const{url:l}=n;l!=null&&l!==o.url&&t.setUrl(l)}),qR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",GR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",ZR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebasestorage.googleapis.com",WR="storageBucket",YR=120*1e3,KR=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends gr{constructor(t,n,o=0){super(np(t),`Firebase Storage: ${n} (${np(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return np(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pr;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pr||(pr={}));function np(s){return"storage/"+s}function XR(){const s="An unknown error occurred, please check the error payload for server response.";return new _r(pr.UNKNOWN,s)}function QR(){return new _r(pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JR(){return new _r(pr.CANCELED,"User canceled the upload/download.")}function $R(s){return new _r(pr.INVALID_URL,"Invalid URL '"+s+"'.")}function tI(s){return new _r(pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function i1(s){return new _r(pr.INVALID_ARGUMENT,s)}function Vb(){return new _r(pr.APP_DELETED,"The Firebase app was deleted.")}function eI(s){return new _r(pr.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let o;try{o=Bs.makeFromUrl(t,n)}catch{return new Bs(t,"")}if(o.path==="")return o;throw tI(t)}static makeFromUrl(t,n){let o=null;const l="([A-Za-z0-9.\\-_]+)";function h(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const m="(/(.*))?$",g=new RegExp("^gs://"+l+m,"i"),y={bucket:1,path:3};function w(Q){Q.path_=decodeURIComponent(Q.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",I=new RegExp(`^https?://${T}/${E}/b/${l}/o${x}`,"i"),P={bucket:1,path:3},G=n===Fb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Z="([^?#]*)",W=new RegExp(`^https?://${G}/${l}/${Z}`,"i"),et=[{regex:g,indices:y,postModify:h},{regex:I,indices:P,postModify:w},{regex:W,indices:{bucket:1,path:2},postModify:w}];for(let Q=0;Q<et.length;Q++){const ot=et[Q],Y=ot.regex.exec(t);if(Y){const q=Y[ot.indices.bucket];let A=Y[ot.indices.path];A||(A=""),o=new Bs(q,A),ot.postModify(o);break}}if(o==null)throw $R(t);return o}}class nI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(s,t,n){let o=1,l=null,h=null,m=!1,g=0;function y(){return g===2}let w=!1;function E(...Z){w||(w=!0,t.apply(null,Z))}function T(Z){l=setTimeout(()=>{l=null,s(I,y())},Z)}function x(){h&&clearTimeout(h)}function I(Z,...W){if(w){x();return}if(Z){x(),E.call(null,Z,...W);return}if(y()||m){x(),E.call(null,Z,...W);return}o<64&&(o*=2);let et;g===1?(g=2,et=0):et=(o+Math.random())*1e3,T(et)}let P=!1;function G(Z){P||(P=!0,x(),!w&&(l!==null?(Z||(g=2),clearTimeout(l),T(0)):Z||(g=1)))}return T(0),h=setTimeout(()=>{m=!0,G(!0)},n),G}function sI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(s){return s!==void 0}function s1(s,t,n,o){if(o<t)throw i1(`Invalid value for '${s}'. Expected ${t} or greater.`);if(o>n)throw i1(`Invalid value for '${s}'. Expected ${n} or less.`)}function oI(s){const t=encodeURIComponent;let n="?";for(const o in s)if(s.hasOwnProperty(o)){const l=t(o)+"="+t(s[o]);n=n+l+"&"}return n=n.slice(0,-1),n}var Rf;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Rf||(Rf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(s,t){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,h=t.indexOf(s)!==-1;return n||l||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,n,o,l,h,m,g,y,w,E,T,x=!0,I=!1){this.url_=t,this.method_=n,this.headers_=o,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=m,this.callback_=g,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=E,this.connectionFactory_=T,this.retry=x,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,G)=>{this.resolve_=P,this.reject_=G,this.start_()})}start_(){const t=(o,l)=>{if(l){o(!1,new Kh(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const m=g=>{const y=g.loaded,w=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,w)};this.progressCallback_!==null&&h.addUploadProgressListener(m),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(m),this.pendingConnection_=null;const g=h.getErrorCode()===Rf.NO_ERROR,y=h.getStatus();if(!g||aI(y,this.additionalRetryCodes_)&&this.retry){const E=h.getErrorCode()===Rf.ABORT;o(!1,new Kh(!1,null,E));return}const w=this.successCodes_.indexOf(y)!==-1;o(!0,new Kh(w,h))})},n=(o,l)=>{const h=this.resolve_,m=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());rI(y)?h(y):h()}catch(y){m(y)}else if(g!==null){const y=XR();y.serverResponse=g.getErrorText(),this.errorCallback_?m(this.errorCallback_(g,y)):m(y)}else if(l.canceled){const y=this.appDelete_?Vb():JR();m(y)}else{const y=QR();m(y)}};this.canceled_?n(!1,new Kh(!1,null,!0)):this.backoffId_=iI(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&sI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kh{constructor(t,n,o){this.wasSuccessCode=t,this.connection=n,this.canceled=!!o}}function uI(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function cI(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hI(s,t){t&&(s["X-Firebase-GMPID"]=t)}function fI(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function dI(s,t,n,o,l,h,m=!0,g=!1){const y=oI(s.urlParams),w=s.url+y,E=Object.assign({},s.headers);return hI(E,t),uI(E,n),cI(E,h),fI(E,o),new lI(w,s.method,E,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,m,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function pI(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n){this._service=t,n instanceof Bs?this._location=n:this._location=Bs.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new If(t,n)}get root(){const t=new Bs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pI(this._location.path)}get storage(){return this._service}get parent(){const t=mI(this._location.path);if(t===null)return null;const n=new Bs(this._location.bucket,t);return new If(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw eI(t)}}function r1(s,t){const n=t?.[WR];return n==null?null:Bs.makeFromBucketSpec(n,s)}function gI(s,t,n,o={}){s.host=`${t}:${n}`;const l=ua(t);l&&(Pf(`https://${s.host}/b`),Uf("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:h}=o;h&&(s._overrideAuthToken=typeof h=="string"?h:Mp(h,s.app.options.projectId))}class _I{constructor(t,n,o,l,h,m=!1){this.app=t,this._authProvider=n,this._appCheckProvider=o,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=m,this._bucket=null,this._host=Fb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YR,this._maxUploadRetryTime=KR,this._requests=new Set,l!=null?this._bucket=Bs.makeFromBucketSpec(l,this._host):this._bucket=r1(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Bs.makeFromBucketSpec(this._url,t):this._bucket=r1(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){s1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){s1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new If(this,t)}_makeRequest(t,n,o,l,h=!0){if(this._deleted)return new nI(Vb());{const m=dI(t,this._appId,o,l,n,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(t,n){const[o,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,o,l).getPromise()}}const o1="@firebase/storage",a1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="storage";function vI(s=Bf(),t){s=Xn(s);const o=Rc(s,qb).getImmediate({identifier:t}),l=Ip("storage");return l&&yI(o,...l),o}function yI(s,t,n,o={}){gI(s,t,n,o)}function wI(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),o=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new _I(n,o,l,t,ca)}function bI(){sa(new Yr(qb,wI,"PUBLIC").setMultipleInstances(!0)),ps(o1,a1,""),ps(o1,a1,"esm2020")}bI();function EI(s,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(o){if(o!=="default"&&!(o in s)){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}}))})),Object.freeze(s)}function Gb(s,t){return new Promise((function(n,o){let l;return xI(s).then((function(h){try{return l=h,n(new Blob([t.slice(0,2),l,t.slice(2)],{type:"image/jpeg"}))}catch(m){return o(m)}}),o)}))}const xI=s=>new Promise(((t,n)=>{const o=new FileReader;o.addEventListener("load",(({target:{result:l}})=>{const h=new DataView(l);let m=0;if(h.getUint16(m)!==65496)return n("not a valid JPEG");for(m+=2;;){const g=h.getUint16(m);if(g===65498)break;const y=h.getUint16(m+2);if(g===65505&&h.getUint32(m+4)===1165519206){const w=m+10;let E;switch(h.getUint16(w)){case 18761:E=!0;break;case 19789:E=!1;break;default:return n("TIFF header contains invalid endian")}if(h.getUint16(w+2,E)!==42)return n("TIFF header contains invalid version");const T=h.getUint32(w+4,E),x=w+T+2+12*h.getUint16(w+T,E);for(let I=w+T+2;I<x;I+=12)if(h.getUint16(I,E)==274){if(h.getUint16(I+2,E)!==3)return n("Orientation data type is invalid");if(h.getUint32(I+4,E)!==1)return n("Orientation data count is invalid");h.setUint16(I+8,1,E);break}return t(l.slice(m,m+2+y))}m+=2+y}return t(new Blob)})),o.readAsArrayBuffer(s)}));var Mf={},TI={get exports(){return Mf},set exports(s){Mf=s}};(function(s){var t,n,o={};TI.exports=o,o.parse=function(l,h){for(var m=o.bin.readUshort,g=o.bin.readUint,y=0,w={},E=new Uint8Array(l),T=E.length-4;g(E,T)!=101010256;)T--;y=T,y+=4;var x=m(E,y+=4);m(E,y+=2);var I=g(E,y+=2),P=g(E,y+=4);y+=4,y=P;for(var G=0;G<x;G++){g(E,y),y+=4,y+=4,y+=4,g(E,y+=4),I=g(E,y+=4);var Z=g(E,y+=4),W=m(E,y+=4),pt=m(E,y+2),et=m(E,y+4);y+=6;var Q=g(E,y+=8);y+=4,y+=W+pt+et,o._readLocal(E,Q,w,I,Z,h)}return w},o._readLocal=function(l,h,m,g,y,w){var E=o.bin.readUshort,T=o.bin.readUint;T(l,h),E(l,h+=4),E(l,h+=2);var x=E(l,h+=2);T(l,h+=2),T(l,h+=4),h+=4;var I=E(l,h+=8),P=E(l,h+=2);h+=2;var G=o.bin.readUTF8(l,h,I);if(h+=I,h+=P,w)m[G]={size:y,csize:g};else{var Z=new Uint8Array(l.buffer,h);if(x==0)m[G]=new Uint8Array(Z.buffer.slice(h,h+g));else{if(x!=8)throw"unknown compression method: "+x;var W=new Uint8Array(y);o.inflateRaw(Z,W),m[G]=W}}},o.inflateRaw=function(l,h){return o.F.inflate(l,h)},o.inflate=function(l,h){return l[0],l[1],o.inflateRaw(new Uint8Array(l.buffer,l.byteOffset+2,l.length-6),h)},o.deflate=function(l,h){h==null&&(h={level:6});var m=0,g=new Uint8Array(50+Math.floor(1.1*l.length));g[m]=120,g[m+1]=156,m+=2,m=o.F.deflateRaw(l,g,m,h.level);var y=o.adler(l,0,l.length);return g[m+0]=y>>>24&255,g[m+1]=y>>>16&255,g[m+2]=y>>>8&255,g[m+3]=y>>>0&255,new Uint8Array(g.buffer,0,m+4)},o.deflateRaw=function(l,h){h==null&&(h={level:6});var m=new Uint8Array(50+Math.floor(1.1*l.length)),g=o.F.deflateRaw(l,m,g,h.level);return new Uint8Array(m.buffer,0,g)},o.encode=function(l,h){h==null&&(h=!1);var m=0,g=o.bin.writeUint,y=o.bin.writeUshort,w={};for(var E in l){var T=!o._noNeed(E)&&!h,x=l[E],I=o.crc.crc(x,0,x.length);w[E]={cpr:T,usize:x.length,crc:I,file:T?o.deflateRaw(x):x}}for(var E in w)m+=w[E].file.length+30+46+2*o.bin.sizeUTF8(E);m+=22;var P=new Uint8Array(m),G=0,Z=[];for(var E in w){var W=w[E];Z.push(G),G=o._writeHeader(P,G,E,W,0)}var pt=0,et=G;for(var E in w)W=w[E],Z.push(G),G=o._writeHeader(P,G,E,W,1,Z[pt++]);var Q=G-et;return g(P,G,101010256),G+=4,y(P,G+=4,pt),y(P,G+=2,pt),g(P,G+=2,Q),g(P,G+=4,et),G+=4,G+=2,P.buffer},o._noNeed=function(l){var h=l.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(h)!=-1},o._writeHeader=function(l,h,m,g,y,w){var E=o.bin.writeUint,T=o.bin.writeUshort,x=g.file;return E(l,h,y==0?67324752:33639248),h+=4,y==1&&(h+=2),T(l,h,20),T(l,h+=2,0),T(l,h+=2,g.cpr?8:0),E(l,h+=2,0),E(l,h+=4,g.crc),E(l,h+=4,x.length),E(l,h+=4,g.usize),T(l,h+=4,o.bin.sizeUTF8(m)),T(l,h+=2,0),h+=2,y==1&&(h+=2,h+=2,E(l,h+=6,w),h+=4),h+=o.bin.writeUTF8(l,h,m),y==0&&(l.set(x,h),h+=x.length),h},o.crc={table:(function(){for(var l=new Uint32Array(256),h=0;h<256;h++){for(var m=h,g=0;g<8;g++)1&m?m=3988292384^m>>>1:m>>>=1;l[h]=m}return l})(),update:function(l,h,m,g){for(var y=0;y<g;y++)l=o.crc.table[255&(l^h[m+y])]^l>>>8;return l},crc:function(l,h,m){return 4294967295^o.crc.update(4294967295,l,h,m)}},o.adler=function(l,h,m){for(var g=1,y=0,w=h,E=h+m;w<E;){for(var T=Math.min(w+5552,E);w<T;)y+=g+=l[w++];g%=65521,y%=65521}return y<<16|g},o.bin={readUshort:function(l,h){return l[h]|l[h+1]<<8},writeUshort:function(l,h,m){l[h]=255&m,l[h+1]=m>>8&255},readUint:function(l,h){return 16777216*l[h+3]+(l[h+2]<<16|l[h+1]<<8|l[h])},writeUint:function(l,h,m){l[h]=255&m,l[h+1]=m>>8&255,l[h+2]=m>>16&255,l[h+3]=m>>24&255},readASCII:function(l,h,m){for(var g="",y=0;y<m;y++)g+=String.fromCharCode(l[h+y]);return g},writeASCII:function(l,h,m){for(var g=0;g<m.length;g++)l[h+g]=m.charCodeAt(g)},pad:function(l){return l.length<2?"0"+l:l},readUTF8:function(l,h,m){for(var g,y="",w=0;w<m;w++)y+="%"+o.bin.pad(l[h+w].toString(16));try{g=decodeURIComponent(y)}catch{return o.bin.readASCII(l,h,m)}return g},writeUTF8:function(l,h,m){for(var g=m.length,y=0,w=0;w<g;w++){var E=m.charCodeAt(w);if((4294967168&E)==0)l[h+y]=E,y++;else if((4294965248&E)==0)l[h+y]=192|E>>6,l[h+y+1]=128|E>>0&63,y+=2;else if((4294901760&E)==0)l[h+y]=224|E>>12,l[h+y+1]=128|E>>6&63,l[h+y+2]=128|E>>0&63,y+=3;else{if((4292870144&E)!=0)throw"e";l[h+y]=240|E>>18,l[h+y+1]=128|E>>12&63,l[h+y+2]=128|E>>6&63,l[h+y+3]=128|E>>0&63,y+=4}}return y},sizeUTF8:function(l){for(var h=l.length,m=0,g=0;g<h;g++){var y=l.charCodeAt(g);if((4294967168&y)==0)m++;else if((4294965248&y)==0)m+=2;else if((4294901760&y)==0)m+=3;else{if((4292870144&y)!=0)throw"e";m+=4}}return m}},o.F={},o.F.deflateRaw=function(l,h,m,g){var y=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][g],w=o.F.U,E=o.F._goodIndex;o.F._hash;var T=o.F._putsE,x=0,I=m<<3,P=0,G=l.length;if(g==0){for(;x<G;)T(h,I,x+(j=Math.min(65535,G-x))==G?1:0),I=o.F._copyExact(l,x,j,h,I+8),x+=j;return I>>>3}var Z=w.lits,W=w.strt,pt=w.prev,et=0,Q=0,ot=0,Y=0,q=0,A=0;for(G>2&&(W[A=o.F._hash(l,0)]=0),x=0;x<G;x++){if(q=A,x+1<G-2){A=o.F._hash(l,x+1);var C=x+1&32767;pt[C]=W[A],W[A]=C}if(P<=x){(et>14e3||Q>26697)&&G-x>100&&(P<x&&(Z[et]=x-P,et+=2,P=x),I=o.F._writeBlock(x==G-1||P==G?1:0,Z,et,Y,l,ot,x-ot,h,I),et=Q=Y=0,ot=x);var z=0;x<G-2&&(z=o.F._bestMatch(l,x,pt,q,Math.min(y[2],G-x),y[3]));var j=z>>>16,D=65535&z;if(z!=0){D=65535&z;var O=E(j=z>>>16,w.of0);w.lhst[257+O]++;var J=E(D,w.df0);w.dhst[J]++,Y+=w.exb[O]+w.dxb[J],Z[et]=j<<23|x-P,Z[et+1]=D<<16|O<<8|J,et+=2,P=x+j}else w.lhst[l[x]]++;Q++}}for(ot==x&&l.length!=0||(P<x&&(Z[et]=x-P,et+=2,P=x),I=o.F._writeBlock(1,Z,et,Y,l,ot,x-ot,h,I),et=0,Q=0,et=Q=Y=0,ot=x);(7&I)!=0;)I++;return I>>>3},o.F._bestMatch=function(l,h,m,g,y,w){var E=32767&h,T=m[E],x=E-T+32768&32767;if(T==E||g!=o.F._hash(l,h-x))return 0;for(var I=0,P=0,G=Math.min(32767,h);x<=G&&--w!=0&&T!=E;){if(I==0||l[h+I]==l[h+I-x]){var Z=o.F._howLong(l,h,x);if(Z>I){if(P=x,(I=Z)>=y)break;x+2<Z&&(Z=x+2);for(var W=0,pt=0;pt<Z-2;pt++){var et=h-x+pt+32768&32767,Q=et-m[et]+32768&32767;Q>W&&(W=Q,T=et)}}}x+=(E=T)-(T=m[E])+32768&32767}return I<<16|P},o.F._howLong=function(l,h,m){if(l[h]!=l[h-m]||l[h+1]!=l[h+1-m]||l[h+2]!=l[h+2-m])return 0;var g=h,y=Math.min(l.length,h+258);for(h+=3;h<y&&l[h]==l[h-m];)h++;return h-g},o.F._hash=function(l,h){return(l[h]<<8|l[h+1])+(l[h+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(l,h,m,g,y,w,E,T,x){var I,P,G,Z,W,pt,et,Q,ot,Y=o.F.U,q=o.F._putsF,A=o.F._putsE;Y.lhst[256]++,P=(I=o.F.getTrees())[0],G=I[1],Z=I[2],W=I[3],pt=I[4],et=I[5],Q=I[6],ot=I[7];var C=32+((x+3&7)==0?0:8-(x+3&7))+(E<<3),z=g+o.F.contSize(Y.fltree,Y.lhst)+o.F.contSize(Y.fdtree,Y.dhst),j=g+o.F.contSize(Y.ltree,Y.lhst)+o.F.contSize(Y.dtree,Y.dhst);j+=14+3*et+o.F.contSize(Y.itree,Y.ihst)+(2*Y.ihst[16]+3*Y.ihst[17]+7*Y.ihst[18]);for(var D=0;D<286;D++)Y.lhst[D]=0;for(D=0;D<30;D++)Y.dhst[D]=0;for(D=0;D<19;D++)Y.ihst[D]=0;var O=C<z&&C<j?0:z<j?1:2;if(q(T,x,l),q(T,x+1,O),x+=3,O==0){for(;(7&x)!=0;)x++;x=o.F._copyExact(y,w,E,T,x)}else{var J,at;if(O==1&&(J=Y.fltree,at=Y.fdtree),O==2){o.F.makeCodes(Y.ltree,P),o.F.revCodes(Y.ltree,P),o.F.makeCodes(Y.dtree,G),o.F.revCodes(Y.dtree,G),o.F.makeCodes(Y.itree,Z),o.F.revCodes(Y.itree,Z),J=Y.ltree,at=Y.dtree,A(T,x,W-257),A(T,x+=5,pt-1),A(T,x+=5,et-4),x+=4;for(var k=0;k<et;k++)A(T,x+3*k,Y.itree[1+(Y.ordr[k]<<1)]);x+=3*et,x=o.F._codeTiny(Q,Y.itree,T,x),x=o.F._codeTiny(ot,Y.itree,T,x)}for(var H=w,$=0;$<m;$+=2){for(var rt=h[$],B=rt>>>23,nt=H+(8388607&rt);H<nt;)x=o.F._writeLit(y[H++],J,T,x);if(B!=0){var lt=h[$+1],ht=lt>>16,dt=lt>>8&255,it=255&lt;A(T,x=o.F._writeLit(257+dt,J,T,x),B-Y.of0[dt]),x+=Y.exb[dt],q(T,x=o.F._writeLit(it,at,T,x),ht-Y.df0[it]),x+=Y.dxb[it],H+=B}}x=o.F._writeLit(256,J,T,x)}return x},o.F._copyExact=function(l,h,m,g,y){var w=y>>>3;return g[w]=m,g[w+1]=m>>>8,g[w+2]=255-g[w],g[w+3]=255-g[w+1],w+=4,g.set(new Uint8Array(l.buffer,h,m),w),y+(m+4<<3)},o.F.getTrees=function(){for(var l=o.F.U,h=o.F._hufTree(l.lhst,l.ltree,15),m=o.F._hufTree(l.dhst,l.dtree,15),g=[],y=o.F._lenCodes(l.ltree,g),w=[],E=o.F._lenCodes(l.dtree,w),T=0;T<g.length;T+=2)l.ihst[g[T]]++;for(T=0;T<w.length;T+=2)l.ihst[w[T]]++;for(var x=o.F._hufTree(l.ihst,l.itree,7),I=19;I>4&&l.itree[1+(l.ordr[I-1]<<1)]==0;)I--;return[h,m,x,y,E,I,g,w]},o.F.getSecond=function(l){for(var h=[],m=0;m<l.length;m+=2)h.push(l[m+1]);return h},o.F.nonZero=function(l){for(var h="",m=0;m<l.length;m+=2)l[m+1]!=0&&(h+=(m>>1)+",");return h},o.F.contSize=function(l,h){for(var m=0,g=0;g<h.length;g++)m+=h[g]*l[1+(g<<1)];return m},o.F._codeTiny=function(l,h,m,g){for(var y=0;y<l.length;y+=2){var w=l[y],E=l[y+1];g=o.F._writeLit(w,h,m,g);var T=w==16?2:w==17?3:7;w>15&&(o.F._putsE(m,g,E,T),g+=T)}return g},o.F._lenCodes=function(l,h){for(var m=l.length;m!=2&&l[m-1]==0;)m-=2;for(var g=0;g<m;g+=2){var y=l[g+1],w=g+3<m?l[g+3]:-1,E=g+5<m?l[g+5]:-1,T=g==0?-1:l[g-1];if(y==0&&w==y&&E==y){for(var x=g+5;x+2<m&&l[x+2]==y;)x+=2;(I=Math.min(x+1-g>>>1,138))<11?h.push(17,I-3):h.push(18,I-11),g+=2*I-2}else if(y==T&&w==y&&E==y){for(x=g+5;x+2<m&&l[x+2]==y;)x+=2;var I=Math.min(x+1-g>>>1,6);h.push(16,I-3),g+=2*I-2}else h.push(y,0)}return m>>>1},o.F._hufTree=function(l,h,m){var g=[],y=l.length,w=h.length,E=0;for(E=0;E<w;E+=2)h[E]=0,h[E+1]=0;for(E=0;E<y;E++)l[E]!=0&&g.push({lit:E,f:l[E]});var T=g.length,x=g.slice(0);if(T==0)return 0;if(T==1){var I=g[0].lit;return x=I==0?1:0,h[1+(I<<1)]=1,h[1+(x<<1)]=1,1}g.sort((function(Q,ot){return Q.f-ot.f}));var P=g[0],G=g[1],Z=0,W=1,pt=2;for(g[0]={lit:-1,f:P.f+G.f,l:P,r:G,d:0};W!=T-1;)P=Z!=W&&(pt==T||g[Z].f<g[pt].f)?g[Z++]:g[pt++],G=Z!=W&&(pt==T||g[Z].f<g[pt].f)?g[Z++]:g[pt++],g[W++]={lit:-1,f:P.f+G.f,l:P,r:G};var et=o.F.setDepth(g[W-1],0);for(et>m&&(o.F.restrictDepth(x,m,et),et=m),E=0;E<T;E++)h[1+(x[E].lit<<1)]=x[E].d;return et},o.F.setDepth=function(l,h){return l.lit!=-1?(l.d=h,h):Math.max(o.F.setDepth(l.l,h+1),o.F.setDepth(l.r,h+1))},o.F.restrictDepth=function(l,h,m){var g=0,y=1<<m-h,w=0;for(l.sort((function(T,x){return x.d==T.d?T.f-x.f:x.d-T.d})),g=0;g<l.length&&l[g].d>h;g++){var E=l[g].d;l[g].d=h,w+=y-(1<<m-E)}for(w>>>=m-h;w>0;)(E=l[g].d)<h?(l[g].d++,w-=1<<h-E-1):g++;for(;g>=0;g--)l[g].d==h&&w<0&&(l[g].d--,w++);w!=0&&console.log("debt left")},o.F._goodIndex=function(l,h){var m=0;return h[16|m]<=l&&(m|=16),h[8|m]<=l&&(m|=8),h[4|m]<=l&&(m|=4),h[2|m]<=l&&(m|=2),h[1|m]<=l&&(m|=1),m},o.F._writeLit=function(l,h,m,g){return o.F._putsF(m,g,h[l<<1]),g+h[1+(l<<1)]},o.F.inflate=function(l,h){var m=Uint8Array;if(l[0]==3&&l[1]==0)return h||new m(0);var g=o.F,y=g._bitsF,w=g._bitsE,E=g._decodeTiny,T=g.makeCodes,x=g.codes2map,I=g._get17,P=g.U,G=h==null;G&&(h=new m(l.length>>>2<<3));for(var Z,W,pt=0,et=0,Q=0,ot=0,Y=0,q=0,A=0,C=0,z=0;pt==0;)if(pt=y(l,z,1),et=y(l,z+1,2),z+=3,et!=0){if(G&&(h=o.F._check(h,C+(1<<17))),et==1&&(Z=P.flmap,W=P.fdmap,q=511,A=31),et==2){Q=w(l,z,5)+257,ot=w(l,z+5,5)+1,Y=w(l,z+10,4)+4,z+=14;for(var j=0;j<38;j+=2)P.itree[j]=0,P.itree[j+1]=0;var D=1;for(j=0;j<Y;j++){var O=w(l,z+3*j,3);P.itree[1+(P.ordr[j]<<1)]=O,O>D&&(D=O)}z+=3*Y,T(P.itree,D),x(P.itree,D,P.imap),Z=P.lmap,W=P.dmap,z=E(P.imap,(1<<D)-1,Q+ot,l,z,P.ttree);var J=g._copyOut(P.ttree,0,Q,P.ltree);q=(1<<J)-1;var at=g._copyOut(P.ttree,Q,ot,P.dtree);A=(1<<at)-1,T(P.ltree,J),x(P.ltree,J,Z),T(P.dtree,at),x(P.dtree,at,W)}for(;;){var k=Z[I(l,z)&q];z+=15&k;var H=k>>>4;if(!(H>>>8))h[C++]=H;else{if(H==256)break;var $=C+H-254;if(H>264){var rt=P.ldef[H-257];$=C+(rt>>>3)+w(l,z,7&rt),z+=7&rt}var B=W[I(l,z)&A];z+=15&B;var nt=B>>>4,lt=P.ddef[nt],ht=(lt>>>4)+y(l,z,15&lt);for(z+=15&lt,G&&(h=o.F._check(h,C+(1<<17)));C<$;)h[C]=h[C++-ht],h[C]=h[C++-ht],h[C]=h[C++-ht],h[C]=h[C++-ht];C=$}}}else{(7&z)!=0&&(z+=8-(7&z));var dt=4+(z>>>3),it=l[dt-4]|l[dt-3]<<8;G&&(h=o.F._check(h,C+it)),h.set(new m(l.buffer,l.byteOffset+dt,it),C),z=dt+it<<3,C+=it}return h.length==C?h:h.slice(0,C)},o.F._check=function(l,h){var m=l.length;if(h<=m)return l;var g=new Uint8Array(Math.max(m<<1,h));return g.set(l,0),g},o.F._decodeTiny=function(l,h,m,g,y,w){for(var E=o.F._bitsE,T=o.F._get17,x=0;x<m;){var I=l[T(g,y)&h];y+=15&I;var P=I>>>4;if(P<=15)w[x]=P,x++;else{var G=0,Z=0;P==16?(Z=3+E(g,y,2),y+=2,G=w[x-1]):P==17?(Z=3+E(g,y,3),y+=3):P==18&&(Z=11+E(g,y,7),y+=7);for(var W=x+Z;x<W;)w[x]=G,x++}}return y},o.F._copyOut=function(l,h,m,g){for(var y=0,w=0,E=g.length>>>1;w<m;){var T=l[w+h];g[w<<1]=0,g[1+(w<<1)]=T,T>y&&(y=T),w++}for(;w<E;)g[w<<1]=0,g[1+(w<<1)]=0,w++;return y},o.F.makeCodes=function(l,h){for(var m,g,y,w,E=o.F.U,T=l.length,x=E.bl_count,I=0;I<=h;I++)x[I]=0;for(I=1;I<T;I+=2)x[l[I]]++;var P=E.next_code;for(m=0,x[0]=0,g=1;g<=h;g++)m=m+x[g-1]<<1,P[g]=m;for(y=0;y<T;y+=2)(w=l[y+1])!=0&&(l[y]=P[w],P[w]++)},o.F.codes2map=function(l,h,m){for(var g=l.length,y=o.F.U.rev15,w=0;w<g;w+=2)if(l[w+1]!=0)for(var E=w>>1,T=l[w+1],x=E<<4|T,I=h-T,P=l[w]<<I,G=P+(1<<I);P!=G;)m[y[P]>>>15-h]=x,P++},o.F.revCodes=function(l,h){for(var m=o.F.U.rev15,g=15-h,y=0;y<l.length;y+=2){var w=l[y]<<h-l[y+1];l[y]=m[w]>>>g}},o.F._putsE=function(l,h,m){m<<=7&h;var g=h>>>3;l[g]|=m,l[g+1]|=m>>>8},o.F._putsF=function(l,h,m){m<<=7&h;var g=h>>>3;l[g]|=m,l[g+1]|=m>>>8,l[g+2]|=m>>>16},o.F._bitsE=function(l,h,m){return(l[h>>>3]|l[1+(h>>>3)]<<8)>>>(7&h)&(1<<m)-1},o.F._bitsF=function(l,h,m){return(l[h>>>3]|l[1+(h>>>3)]<<8|l[2+(h>>>3)]<<16)>>>(7&h)&(1<<m)-1},o.F._get17=function(l,h){return(l[h>>>3]|l[1+(h>>>3)]<<8|l[2+(h>>>3)]<<16)>>>(7&h)},o.F._get25=function(l,h){return(l[h>>>3]|l[1+(h>>>3)]<<8|l[2+(h>>>3)]<<16|l[3+(h>>>3)]<<24)>>>(7&h)},o.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var l=o.F.U,h=0;h<32768;h++){var m=h;m=(4278255360&(m=(4042322160&(m=(3435973836&(m=(2863311530&m)>>>1|(1431655765&m)<<1))>>>2|(858993459&m)<<2))>>>4|(252645135&m)<<4))>>>8|(16711935&m)<<8,l.rev15[h]=(m>>>16|m<<16)>>>17}function g(y,w,E){for(;w--!=0;)y.push(0,E)}for(h=0;h<32;h++)l.ldef[h]=l.of0[h]<<3|l.exb[h],l.ddef[h]=l.df0[h]<<4|l.dxb[h];g(l.fltree,144,8),g(l.fltree,112,9),g(l.fltree,24,7),g(l.fltree,8,8),o.F.makeCodes(l.fltree,9),o.F.codes2map(l.fltree,9,l.flmap),o.F.revCodes(l.fltree,9),g(l.fdtree,32,5),o.F.makeCodes(l.fdtree,5),o.F.codes2map(l.fdtree,5,l.fdmap),o.F.revCodes(l.fdtree,5),g(l.itree,19,0),g(l.ltree,286,0),g(l.dtree,30,0),g(l.ttree,320,0)})()})();var SI=EI({__proto__:null,default:Mf},[Mf]);const Ls=(function(){var s={nextZero(E,T){for(;E[T]!=0;)T++;return T},readUshort:(E,T)=>E[T]<<8|E[T+1],writeUshort(E,T,x){E[T]=x>>8&255,E[T+1]=255&x},readUint:(E,T)=>16777216*E[T]+(E[T+1]<<16|E[T+2]<<8|E[T+3]),writeUint(E,T,x){E[T]=x>>24&255,E[T+1]=x>>16&255,E[T+2]=x>>8&255,E[T+3]=255&x},readASCII(E,T,x){let I="";for(let P=0;P<x;P++)I+=String.fromCharCode(E[T+P]);return I},writeASCII(E,T,x){for(let I=0;I<x.length;I++)E[T+I]=x.charCodeAt(I)},readBytes(E,T,x){const I=[];for(let P=0;P<x;P++)I.push(E[T+P]);return I},pad:E=>E.length<2?`0${E}`:E,readUTF8(E,T,x){let I,P="";for(let G=0;G<x;G++)P+=`%${s.pad(E[T+G].toString(16))}`;try{I=decodeURIComponent(P)}catch{return s.readASCII(E,T,x)}return I}};function t(E,T,x,I){const P=T*x,G=h(I),Z=Math.ceil(T*G/8),W=new Uint8Array(4*P),pt=new Uint32Array(W.buffer),{ctype:et}=I,{depth:Q}=I,ot=s.readUshort;if(et==6){const rt=P<<2;if(Q==8)for(var Y=0;Y<rt;Y+=4)W[Y]=E[Y],W[Y+1]=E[Y+1],W[Y+2]=E[Y+2],W[Y+3]=E[Y+3];if(Q==16)for(Y=0;Y<rt;Y++)W[Y]=E[Y<<1]}else if(et==2){const rt=I.tabs.tRNS;if(rt==null){if(Q==8)for(Y=0;Y<P;Y++){var q=3*Y;pt[Y]=255<<24|E[q+2]<<16|E[q+1]<<8|E[q]}if(Q==16)for(Y=0;Y<P;Y++)q=6*Y,pt[Y]=255<<24|E[q+4]<<16|E[q+2]<<8|E[q]}else{var A=rt[0];const B=rt[1],nt=rt[2];if(Q==8)for(Y=0;Y<P;Y++){var C=Y<<2;q=3*Y,pt[Y]=255<<24|E[q+2]<<16|E[q+1]<<8|E[q],E[q]==A&&E[q+1]==B&&E[q+2]==nt&&(W[C+3]=0)}if(Q==16)for(Y=0;Y<P;Y++)C=Y<<2,q=6*Y,pt[Y]=255<<24|E[q+4]<<16|E[q+2]<<8|E[q],ot(E,q)==A&&ot(E,q+2)==B&&ot(E,q+4)==nt&&(W[C+3]=0)}}else if(et==3){const rt=I.tabs.PLTE,B=I.tabs.tRNS,nt=B?B.length:0;if(Q==1)for(var z=0;z<x;z++){var j=z*Z,D=z*T;for(Y=0;Y<T;Y++){C=D+Y<<2;var O=3*(J=E[j+(Y>>3)]>>7-((7&Y)<<0)&1);W[C]=rt[O],W[C+1]=rt[O+1],W[C+2]=rt[O+2],W[C+3]=J<nt?B[J]:255}}if(Q==2)for(z=0;z<x;z++)for(j=z*Z,D=z*T,Y=0;Y<T;Y++)C=D+Y<<2,O=3*(J=E[j+(Y>>2)]>>6-((3&Y)<<1)&3),W[C]=rt[O],W[C+1]=rt[O+1],W[C+2]=rt[O+2],W[C+3]=J<nt?B[J]:255;if(Q==4)for(z=0;z<x;z++)for(j=z*Z,D=z*T,Y=0;Y<T;Y++)C=D+Y<<2,O=3*(J=E[j+(Y>>1)]>>4-((1&Y)<<2)&15),W[C]=rt[O],W[C+1]=rt[O+1],W[C+2]=rt[O+2],W[C+3]=J<nt?B[J]:255;if(Q==8)for(Y=0;Y<P;Y++){var J;C=Y<<2,O=3*(J=E[Y]),W[C]=rt[O],W[C+1]=rt[O+1],W[C+2]=rt[O+2],W[C+3]=J<nt?B[J]:255}}else if(et==4){if(Q==8)for(Y=0;Y<P;Y++){C=Y<<2;var at=E[k=Y<<1];W[C]=at,W[C+1]=at,W[C+2]=at,W[C+3]=E[k+1]}if(Q==16)for(Y=0;Y<P;Y++){var k;C=Y<<2,at=E[k=Y<<2],W[C]=at,W[C+1]=at,W[C+2]=at,W[C+3]=E[k+2]}}else if(et==0)for(A=I.tabs.tRNS?I.tabs.tRNS:-1,z=0;z<x;z++){const rt=z*Z,B=z*T;if(Q==1)for(var H=0;H<T;H++){var $=(at=255*(E[rt+(H>>>3)]>>>7-(7&H)&1))==255*A?0:255;pt[B+H]=$<<24|at<<16|at<<8|at}else if(Q==2)for(H=0;H<T;H++)$=(at=85*(E[rt+(H>>>2)]>>>6-((3&H)<<1)&3))==85*A?0:255,pt[B+H]=$<<24|at<<16|at<<8|at;else if(Q==4)for(H=0;H<T;H++)$=(at=17*(E[rt+(H>>>1)]>>>4-((1&H)<<2)&15))==17*A?0:255,pt[B+H]=$<<24|at<<16|at<<8|at;else if(Q==8)for(H=0;H<T;H++)$=(at=E[rt+H])==A?0:255,pt[B+H]=$<<24|at<<16|at<<8|at;else if(Q==16)for(H=0;H<T;H++)at=E[rt+(H<<1)],$=ot(E,rt+(H<<1))==A?0:255,pt[B+H]=$<<24|at<<16|at<<8|at}return W}function n(E,T,x,I){const P=h(E),G=Math.ceil(x*P/8),Z=new Uint8Array((G+1+E.interlace)*I);return T=E.tabs.CgBI?l(T,Z):o(T,Z),E.interlace==0?T=m(T,E,0,x,I):E.interlace==1&&(T=(function(pt,et){const Q=et.width,ot=et.height,Y=h(et),q=Y>>3,A=Math.ceil(Q*Y/8),C=new Uint8Array(ot*A);let z=0;const j=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],O=[8,8,8,4,4,2,2],J=[8,8,4,4,2,2,1];let at=0;for(;at<7;){const H=O[at],$=J[at];let rt=0,B=0,nt=j[at];for(;nt<ot;)nt+=H,B++;let lt=D[at];for(;lt<Q;)lt+=$,rt++;const ht=Math.ceil(rt*Y/8);m(pt,et,z,rt,B);let dt=0,it=j[at];for(;it<ot;){let wt=D[at],Dt=z+dt*ht<<3;for(;wt<Q;){var k;if(Y==1&&(k=(k=pt[Dt>>3])>>7-(7&Dt)&1,C[it*A+(wt>>3)]|=k<<7-((7&wt)<<0)),Y==2&&(k=(k=pt[Dt>>3])>>6-(7&Dt)&3,C[it*A+(wt>>2)]|=k<<6-((3&wt)<<1)),Y==4&&(k=(k=pt[Dt>>3])>>4-(7&Dt)&15,C[it*A+(wt>>1)]|=k<<4-((1&wt)<<2)),Y>=8){const Mt=it*A+wt*q;for(let Gt=0;Gt<q;Gt++)C[Mt+Gt]=pt[(Dt>>3)+Gt]}Dt+=Y,wt+=$}dt++,it+=H}rt*B!=0&&(z+=B*(1+ht)),at+=1}return C})(T,E)),T}function o(E,T){return l(new Uint8Array(E.buffer,2,E.length-6),T)}var l=(function(){const E={H:{}};return E.H.N=function(T,x){const I=Uint8Array;let P,G,Z=0,W=0,pt=0,et=0,Q=0,ot=0,Y=0,q=0,A=0;if(T[0]==3&&T[1]==0)return x||new I(0);const C=E.H,z=C.b,j=C.e,D=C.R,O=C.n,J=C.A,at=C.Z,k=C.m,H=x==null;for(H&&(x=new I(T.length>>>2<<5));Z==0;)if(Z=z(T,A,1),W=z(T,A+1,2),A+=3,W!=0){if(H&&(x=E.H.W(x,q+(1<<17))),W==1&&(P=k.J,G=k.h,ot=511,Y=31),W==2){pt=j(T,A,5)+257,et=j(T,A+5,5)+1,Q=j(T,A+10,4)+4,A+=14;let rt=1;for(var $=0;$<38;$+=2)k.Q[$]=0,k.Q[$+1]=0;for($=0;$<Q;$++){const lt=j(T,A+3*$,3);k.Q[1+(k.X[$]<<1)]=lt,lt>rt&&(rt=lt)}A+=3*Q,O(k.Q,rt),J(k.Q,rt,k.u),P=k.w,G=k.d,A=D(k.u,(1<<rt)-1,pt+et,T,A,k.v);const B=C.V(k.v,0,pt,k.C);ot=(1<<B)-1;const nt=C.V(k.v,pt,et,k.D);Y=(1<<nt)-1,O(k.C,B),J(k.C,B,P),O(k.D,nt),J(k.D,nt,G)}for(;;){const rt=P[at(T,A)&ot];A+=15&rt;const B=rt>>>4;if(!(B>>>8))x[q++]=B;else{if(B==256)break;{let nt=q+B-254;if(B>264){const wt=k.q[B-257];nt=q+(wt>>>3)+j(T,A,7&wt),A+=7&wt}const lt=G[at(T,A)&Y];A+=15&lt;const ht=lt>>>4,dt=k.c[ht],it=(dt>>>4)+z(T,A,15&dt);for(A+=15&dt;q<nt;)x[q]=x[q++-it],x[q]=x[q++-it],x[q]=x[q++-it],x[q]=x[q++-it];q=nt}}}}else{(7&A)!=0&&(A+=8-(7&A));const rt=4+(A>>>3),B=T[rt-4]|T[rt-3]<<8;H&&(x=E.H.W(x,q+B)),x.set(new I(T.buffer,T.byteOffset+rt,B),q),A=rt+B<<3,q+=B}return x.length==q?x:x.slice(0,q)},E.H.W=function(T,x){const I=T.length;if(x<=I)return T;const P=new Uint8Array(I<<1);return P.set(T,0),P},E.H.R=function(T,x,I,P,G,Z){const W=E.H.e,pt=E.H.Z;let et=0;for(;et<I;){const Q=T[pt(P,G)&x];G+=15&Q;const ot=Q>>>4;if(ot<=15)Z[et]=ot,et++;else{let Y=0,q=0;ot==16?(q=3+W(P,G,2),G+=2,Y=Z[et-1]):ot==17?(q=3+W(P,G,3),G+=3):ot==18&&(q=11+W(P,G,7),G+=7);const A=et+q;for(;et<A;)Z[et]=Y,et++}}return G},E.H.V=function(T,x,I,P){let G=0,Z=0;const W=P.length>>>1;for(;Z<I;){const pt=T[Z+x];P[Z<<1]=0,P[1+(Z<<1)]=pt,pt>G&&(G=pt),Z++}for(;Z<W;)P[Z<<1]=0,P[1+(Z<<1)]=0,Z++;return G},E.H.n=function(T,x){const I=E.H.m,P=T.length;let G,Z,W,pt;const et=I.j;for(var Q=0;Q<=x;Q++)et[Q]=0;for(Q=1;Q<P;Q+=2)et[T[Q]]++;const ot=I.K;for(G=0,et[0]=0,Z=1;Z<=x;Z++)G=G+et[Z-1]<<1,ot[Z]=G;for(W=0;W<P;W+=2)pt=T[W+1],pt!=0&&(T[W]=ot[pt],ot[pt]++)},E.H.A=function(T,x,I){const P=T.length,G=E.H.m.r;for(let Z=0;Z<P;Z+=2)if(T[Z+1]!=0){const W=Z>>1,pt=T[Z+1],et=W<<4|pt,Q=x-pt;let ot=T[Z]<<Q;const Y=ot+(1<<Q);for(;ot!=Y;)I[G[ot]>>>15-x]=et,ot++}},E.H.l=function(T,x){const I=E.H.m.r,P=15-x;for(let G=0;G<T.length;G+=2){const Z=T[G]<<x-T[G+1];T[G]=I[Z]>>>P}},E.H.M=function(T,x,I){I<<=7&x;const P=x>>>3;T[P]|=I,T[P+1]|=I>>>8},E.H.I=function(T,x,I){I<<=7&x;const P=x>>>3;T[P]|=I,T[P+1]|=I>>>8,T[P+2]|=I>>>16},E.H.e=function(T,x,I){return(T[x>>>3]|T[1+(x>>>3)]<<8)>>>(7&x)&(1<<I)-1},E.H.b=function(T,x,I){return(T[x>>>3]|T[1+(x>>>3)]<<8|T[2+(x>>>3)]<<16)>>>(7&x)&(1<<I)-1},E.H.Z=function(T,x){return(T[x>>>3]|T[1+(x>>>3)]<<8|T[2+(x>>>3)]<<16)>>>(7&x)},E.H.i=function(T,x){return(T[x>>>3]|T[1+(x>>>3)]<<8|T[2+(x>>>3)]<<16|T[3+(x>>>3)]<<24)>>>(7&x)},E.H.m=(function(){const T=Uint16Array,x=Uint32Array;return{K:new T(16),j:new T(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new T(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new x(32),J:new T(512),_:[],h:new T(32),$:[],w:new T(32768),C:[],v:[],d:new T(32768),D:[],u:new T(512),Q:[],r:new T(32768),s:new x(286),Y:new x(30),a:new x(19),t:new x(15e3),k:new T(65536),g:new T(32768)}})(),(function(){const T=E.H.m;for(var x=0;x<32768;x++){let P=x;P=(2863311530&P)>>>1|(1431655765&P)<<1,P=(3435973836&P)>>>2|(858993459&P)<<2,P=(4042322160&P)>>>4|(252645135&P)<<4,P=(4278255360&P)>>>8|(16711935&P)<<8,T.r[x]=(P>>>16|P<<16)>>>17}function I(P,G,Z){for(;G--!=0;)P.push(0,Z)}for(x=0;x<32;x++)T.q[x]=T.S[x]<<3|T.T[x],T.c[x]=T.p[x]<<4|T.z[x];I(T._,144,8),I(T._,112,9),I(T._,24,7),I(T._,8,8),E.H.n(T._,9),E.H.A(T._,9,T.J),E.H.l(T._,9),I(T.$,32,5),E.H.n(T.$,5),E.H.A(T.$,5,T.h),E.H.l(T.$,5),I(T.Q,19,0),I(T.C,286,0),I(T.D,30,0),I(T.v,320,0)})(),E.H.N})();function h(E){return[1,null,3,1,2,null,4][E.ctype]*E.depth}function m(E,T,x,I,P){let G=h(T);const Z=Math.ceil(I*G/8);let W,pt;G=Math.ceil(G/8);let et=E[x],Q=0;if(et>1&&(E[x]=[0,0,1][et-2]),et==3)for(Q=G;Q<Z;Q++)E[Q+1]=E[Q+1]+(E[Q+1-G]>>>1)&255;for(let ot=0;ot<P;ot++)if(W=x+ot*Z,pt=W+ot+1,et=E[pt-1],Q=0,et==0)for(;Q<Z;Q++)E[W+Q]=E[pt+Q];else if(et==1){for(;Q<G;Q++)E[W+Q]=E[pt+Q];for(;Q<Z;Q++)E[W+Q]=E[pt+Q]+E[W+Q-G]}else if(et==2)for(;Q<Z;Q++)E[W+Q]=E[pt+Q]+E[W+Q-Z];else if(et==3){for(;Q<G;Q++)E[W+Q]=E[pt+Q]+(E[W+Q-Z]>>>1);for(;Q<Z;Q++)E[W+Q]=E[pt+Q]+(E[W+Q-Z]+E[W+Q-G]>>>1)}else{for(;Q<G;Q++)E[W+Q]=E[pt+Q]+g(0,E[W+Q-Z],0);for(;Q<Z;Q++)E[W+Q]=E[pt+Q]+g(E[W+Q-G],E[W+Q-Z],E[W+Q-G-Z])}return E}function g(E,T,x){const I=E+T-x,P=I-E,G=I-T,Z=I-x;return P*P<=G*G&&P*P<=Z*Z?E:G*G<=Z*Z?T:x}function y(E,T,x){x.width=s.readUint(E,T),T+=4,x.height=s.readUint(E,T),T+=4,x.depth=E[T],T++,x.ctype=E[T],T++,x.compress=E[T],T++,x.filter=E[T],T++,x.interlace=E[T],T++}function w(E,T,x,I,P,G,Z,W,pt){const et=Math.min(T,P),Q=Math.min(x,G);let ot=0,Y=0;for(let at=0;at<Q;at++)for(let k=0;k<et;k++)if(Z>=0&&W>=0?(ot=at*T+k<<2,Y=(W+at)*P+Z+k<<2):(ot=(-W+at)*T-Z+k<<2,Y=at*P+k<<2),pt==0)I[Y]=E[ot],I[Y+1]=E[ot+1],I[Y+2]=E[ot+2],I[Y+3]=E[ot+3];else if(pt==1){var q=E[ot+3]*.00392156862745098,A=E[ot]*q,C=E[ot+1]*q,z=E[ot+2]*q,j=I[Y+3]*(1/255),D=I[Y]*j,O=I[Y+1]*j,J=I[Y+2]*j;const H=1-q,$=q+j*H,rt=$==0?0:1/$;I[Y+3]=255*$,I[Y+0]=(A+D*H)*rt,I[Y+1]=(C+O*H)*rt,I[Y+2]=(z+J*H)*rt}else if(pt==2)q=E[ot+3],A=E[ot],C=E[ot+1],z=E[ot+2],j=I[Y+3],D=I[Y],O=I[Y+1],J=I[Y+2],q==j&&A==D&&C==O&&z==J?(I[Y]=0,I[Y+1]=0,I[Y+2]=0,I[Y+3]=0):(I[Y]=A,I[Y+1]=C,I[Y+2]=z,I[Y+3]=q);else if(pt==3){if(q=E[ot+3],A=E[ot],C=E[ot+1],z=E[ot+2],j=I[Y+3],D=I[Y],O=I[Y+1],J=I[Y+2],q==j&&A==D&&C==O&&z==J)continue;if(q<220&&j>20)return!1}return!0}return{decode:function(T){const x=new Uint8Array(T);let I=8;const P=s,G=P.readUshort,Z=P.readUint,W={tabs:{},frames:[]},pt=new Uint8Array(x.length);let et,Q=0,ot=0;const Y=[137,80,78,71,13,10,26,10];for(var q=0;q<8;q++)if(x[q]!=Y[q])throw"The input is not a PNG file!";for(;I<x.length;){const at=P.readUint(x,I);I+=4;const k=P.readASCII(x,I,4);if(I+=4,k=="IHDR")y(x,I,W);else if(k=="iCCP"){for(var A=I;x[A]!=0;)A++;P.readASCII(x,I,A-I),x[A+1];const H=x.slice(A+2,I+at);let $=null;try{$=o(H)}catch{$=l(H)}W.tabs[k]=$}else if(k=="CgBI")W.tabs[k]=x.slice(I,I+4);else if(k=="IDAT"){for(q=0;q<at;q++)pt[Q+q]=x[I+q];Q+=at}else if(k=="acTL")W.tabs[k]={num_frames:Z(x,I),num_plays:Z(x,I+4)},et=new Uint8Array(x.length);else if(k=="fcTL"){ot!=0&&((J=W.frames[W.frames.length-1]).data=n(W,et.slice(0,ot),J.rect.width,J.rect.height),ot=0);const H={x:Z(x,I+12),y:Z(x,I+16),width:Z(x,I+4),height:Z(x,I+8)};let $=G(x,I+22);$=G(x,I+20)/($==0?100:$);const rt={rect:H,delay:Math.round(1e3*$),dispose:x[I+24],blend:x[I+25]};W.frames.push(rt)}else if(k=="fdAT"){for(q=0;q<at-4;q++)et[ot+q]=x[I+q+4];ot+=at-4}else if(k=="pHYs")W.tabs[k]=[P.readUint(x,I),P.readUint(x,I+4),x[I+8]];else if(k=="cHRM")for(W.tabs[k]=[],q=0;q<8;q++)W.tabs[k].push(P.readUint(x,I+4*q));else if(k=="tEXt"||k=="zTXt"){W.tabs[k]==null&&(W.tabs[k]={});var C=P.nextZero(x,I),z=P.readASCII(x,I,C-I),j=I+at-C-1;if(k=="tEXt")O=P.readASCII(x,C+1,j);else{var D=o(x.slice(C+2,C+2+j));O=P.readUTF8(D,0,D.length)}W.tabs[k][z]=O}else if(k=="iTXt"){W.tabs[k]==null&&(W.tabs[k]={}),C=0,A=I,C=P.nextZero(x,A),z=P.readASCII(x,A,C-A);const H=x[A=C+1];var O;x[A+1],A+=2,C=P.nextZero(x,A),P.readASCII(x,A,C-A),A=C+1,C=P.nextZero(x,A),P.readUTF8(x,A,C-A),j=at-((A=C+1)-I),H==0?O=P.readUTF8(x,A,j):(D=o(x.slice(A,A+j)),O=P.readUTF8(D,0,D.length)),W.tabs[k][z]=O}else if(k=="PLTE")W.tabs[k]=P.readBytes(x,I,at);else if(k=="hIST"){const H=W.tabs.PLTE.length/3;for(W.tabs[k]=[],q=0;q<H;q++)W.tabs[k].push(G(x,I+2*q))}else if(k=="tRNS")W.ctype==3?W.tabs[k]=P.readBytes(x,I,at):W.ctype==0?W.tabs[k]=G(x,I):W.ctype==2&&(W.tabs[k]=[G(x,I),G(x,I+2),G(x,I+4)]);else if(k=="gAMA")W.tabs[k]=P.readUint(x,I)/1e5;else if(k=="sRGB")W.tabs[k]=x[I];else if(k=="bKGD")W.ctype==0||W.ctype==4?W.tabs[k]=[G(x,I)]:W.ctype==2||W.ctype==6?W.tabs[k]=[G(x,I),G(x,I+2),G(x,I+4)]:W.ctype==3&&(W.tabs[k]=x[I]);else if(k=="IEND")break;I+=at,P.readUint(x,I),I+=4}var J;return ot!=0&&((J=W.frames[W.frames.length-1]).data=n(W,et.slice(0,ot),J.rect.width,J.rect.height)),W.data=n(W,pt,W.width,W.height),delete W.compress,delete W.interlace,delete W.filter,W},toRGBA8:function(T){const x=T.width,I=T.height;if(T.tabs.acTL==null)return[t(T.data,x,I,T).buffer];const P=[];T.frames[0].data==null&&(T.frames[0].data=T.data);const G=x*I*4,Z=new Uint8Array(G),W=new Uint8Array(G),pt=new Uint8Array(G);for(let Q=0;Q<T.frames.length;Q++){const ot=T.frames[Q],Y=ot.rect.x,q=ot.rect.y,A=ot.rect.width,C=ot.rect.height,z=t(ot.data,A,C,T);if(Q!=0)for(var et=0;et<G;et++)pt[et]=Z[et];if(ot.blend==0?w(z,A,C,Z,x,I,Y,q,0):ot.blend==1&&w(z,A,C,Z,x,I,Y,q,1),P.push(Z.buffer.slice(0)),ot.dispose!=0){if(ot.dispose==1)w(W,A,C,Z,x,I,Y,q,0);else if(ot.dispose==2)for(et=0;et<G;et++)Z[et]=pt[et]}}return P},_paeth:g,_copyTile:w,_bin:s}})();(function(){const{_copyTile:s}=Ls,{_bin:t}=Ls,n=Ls._paeth;var o={table:(function(){const A=new Uint32Array(256);for(let C=0;C<256;C++){let z=C;for(let j=0;j<8;j++)1&z?z=3988292384^z>>>1:z>>>=1;A[C]=z}return A})(),update(A,C,z,j){for(let D=0;D<j;D++)A=o.table[255&(A^C[z+D])]^A>>>8;return A},crc:(A,C,z)=>4294967295^o.update(4294967295,A,C,z)};function l(A,C,z,j){C[z]+=A[0]*j>>4,C[z+1]+=A[1]*j>>4,C[z+2]+=A[2]*j>>4,C[z+3]+=A[3]*j>>4}function h(A){return Math.max(0,Math.min(255,A))}function m(A,C){const z=A[0]-C[0],j=A[1]-C[1],D=A[2]-C[2],O=A[3]-C[3];return z*z+j*j+D*D+O*O}function g(A,C,z,j,D,O,J){J==null&&(J=1);const at=j.length,k=[];for(var H=0;H<at;H++){const it=j[H];k.push([it>>>0&255,it>>>8&255,it>>>16&255,it>>>24&255])}for(H=0;H<at;H++){let it=4294967295;for(var $=0,rt=0;rt<at;rt++){var B=m(k[H],k[rt]);rt!=H&&B<it&&(it=B,$=rt)}}const nt=new Uint32Array(D.buffer),lt=new Int16Array(C*z*4),ht=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(H=0;H<ht.length;H++)ht[H]=255*((ht[H]+.5)/16-.5);for(let it=0;it<z;it++)for(let wt=0;wt<C;wt++){var dt;H=4*(it*C+wt),J!=2?dt=[h(A[H]+lt[H]),h(A[H+1]+lt[H+1]),h(A[H+2]+lt[H+2]),h(A[H+3]+lt[H+3])]:(B=ht[4*(3&it)+(3&wt)],dt=[h(A[H]+B),h(A[H+1]+B),h(A[H+2]+B),h(A[H+3]+B)]),$=0;let Dt=16777215;for(rt=0;rt<at;rt++){const Xt=m(dt,k[rt]);Xt<Dt&&(Dt=Xt,$=rt)}const Mt=k[$],Gt=[dt[0]-Mt[0],dt[1]-Mt[1],dt[2]-Mt[2],dt[3]-Mt[3]];J==1&&(wt!=C-1&&l(Gt,lt,H+4,7),it!=z-1&&(wt!=0&&l(Gt,lt,H+4*C-4,3),l(Gt,lt,H+4*C,5),wt!=C-1&&l(Gt,lt,H+4*C+4,1))),O[H>>2]=$,nt[H>>2]=j[$]}}function y(A,C,z,j,D){D==null&&(D={});const{crc:O}=o,J=t.writeUint,at=t.writeUshort,k=t.writeASCII;let H=8;const $=A.frames.length>1;let rt,B=!1,nt=33+($?20:0);if(D.sRGB!=null&&(nt+=13),D.pHYs!=null&&(nt+=21),D.iCCP!=null&&(rt=pako.deflate(D.iCCP),nt+=21+rt.length+4),A.ctype==3){for(var lt=A.plte.length,ht=0;ht<lt;ht++)A.plte[ht]>>>24!=255&&(B=!0);nt+=8+3*lt+4+(B?8+1*lt+4:0)}for(var dt=0;dt<A.frames.length;dt++)$&&(nt+=38),nt+=(Mt=A.frames[dt]).cimg.length+12,dt!=0&&(nt+=4);nt+=12;const it=new Uint8Array(nt),wt=[137,80,78,71,13,10,26,10];for(ht=0;ht<8;ht++)it[ht]=wt[ht];if(J(it,H,13),H+=4,k(it,H,"IHDR"),H+=4,J(it,H,C),H+=4,J(it,H,z),H+=4,it[H]=A.depth,H++,it[H]=A.ctype,H++,it[H]=0,H++,it[H]=0,H++,it[H]=0,H++,J(it,H,O(it,H-17,17)),H+=4,D.sRGB!=null&&(J(it,H,1),H+=4,k(it,H,"sRGB"),H+=4,it[H]=D.sRGB,H++,J(it,H,O(it,H-5,5)),H+=4),D.iCCP!=null){const Gt=13+rt.length;J(it,H,Gt),H+=4,k(it,H,"iCCP"),H+=4,k(it,H,"ICC profile"),H+=11,H+=2,it.set(rt,H),H+=rt.length,J(it,H,O(it,H-(Gt+4),Gt+4)),H+=4}if(D.pHYs!=null&&(J(it,H,9),H+=4,k(it,H,"pHYs"),H+=4,J(it,H,D.pHYs[0]),H+=4,J(it,H,D.pHYs[1]),H+=4,it[H]=D.pHYs[2],H++,J(it,H,O(it,H-13,13)),H+=4),$&&(J(it,H,8),H+=4,k(it,H,"acTL"),H+=4,J(it,H,A.frames.length),H+=4,J(it,H,D.loop!=null?D.loop:0),H+=4,J(it,H,O(it,H-12,12)),H+=4),A.ctype==3){for(J(it,H,3*(lt=A.plte.length)),H+=4,k(it,H,"PLTE"),H+=4,ht=0;ht<lt;ht++){const Gt=3*ht,Xt=A.plte[ht],oe=255&Xt,me=Xt>>>8&255,En=Xt>>>16&255;it[H+Gt+0]=oe,it[H+Gt+1]=me,it[H+Gt+2]=En}if(H+=3*lt,J(it,H,O(it,H-3*lt-4,3*lt+4)),H+=4,B){for(J(it,H,lt),H+=4,k(it,H,"tRNS"),H+=4,ht=0;ht<lt;ht++)it[H+ht]=A.plte[ht]>>>24&255;H+=lt,J(it,H,O(it,H-lt-4,lt+4)),H+=4}}let Dt=0;for(dt=0;dt<A.frames.length;dt++){var Mt=A.frames[dt];$&&(J(it,H,26),H+=4,k(it,H,"fcTL"),H+=4,J(it,H,Dt++),H+=4,J(it,H,Mt.rect.width),H+=4,J(it,H,Mt.rect.height),H+=4,J(it,H,Mt.rect.x),H+=4,J(it,H,Mt.rect.y),H+=4,at(it,H,j[dt]),H+=2,at(it,H,1e3),H+=2,it[H]=Mt.dispose,H++,it[H]=Mt.blend,H++,J(it,H,O(it,H-30,30)),H+=4);const Gt=Mt.cimg;J(it,H,(lt=Gt.length)+(dt==0?0:4)),H+=4;const Xt=H;k(it,H,dt==0?"IDAT":"fdAT"),H+=4,dt!=0&&(J(it,H,Dt++),H+=4),it.set(Gt,H),H+=lt,J(it,H,O(it,Xt,H-Xt)),H+=4}return J(it,H,0),H+=4,k(it,H,"IEND"),H+=4,J(it,H,O(it,H-4,4)),H+=4,it.buffer}function w(A,C,z){for(let j=0;j<A.frames.length;j++){const D=A.frames[j];D.rect.width;const O=D.rect.height,J=new Uint8Array(O*D.bpl+O);D.cimg=I(D.img,O,D.bpp,D.bpl,J,C,z)}}function E(A,C,z,j,D){const O=D[0],J=D[1],at=D[2],k=D[3],H=D[4],$=D[5];let rt=6,B=8,nt=255;for(var lt=0;lt<A.length;lt++){const We=new Uint8Array(A[lt]);for(var ht=We.length,dt=0;dt<ht;dt+=4)nt&=We[dt+3]}const it=nt!=255,wt=(function(Zt,le,Ve,qe,_e,dn){const Te=[];for(var pe=0;pe<Zt.length;pe++){const Xe=new Uint8Array(Zt[pe]),Rn=new Uint32Array(Xe.buffer);var mn;let tn=0,pn=0,en=le,nn=Ve,Ji=qe?1:0;if(pe!=0){const ui=dn||qe||pe==1||Te[pe-2].dispose!=0?1:2;let _s=0,Vs=1e9;for(let Li=0;Li<ui;Li++){var ae=new Uint8Array(Zt[pe-1-Li]);const bi=new Uint32Array(Zt[pe-1-Li]);let an=le,Qn=Ve,In=-1,ki=-1;for(let Jn=0;Jn<Ve;Jn++)for(let Mn=0;Mn<le;Mn++)Rn[ge=Jn*le+Mn]!=bi[ge]&&(Mn<an&&(an=Mn),Mn>In&&(In=Mn),Jn<Qn&&(Qn=Jn),Jn>ki&&(ki=Jn));In==-1&&(an=Qn=In=ki=0),_e&&((1&an)==1&&an--,(1&Qn)==1&&Qn--);const $i=(In-an+1)*(ki-Qn+1);$i<Vs&&(Vs=$i,_s=Li,tn=an,pn=Qn,en=In-an+1,nn=ki-Qn+1)}ae=new Uint8Array(Zt[pe-1-_s]),_s==1&&(Te[pe-1].dispose=2),mn=new Uint8Array(en*nn*4),s(ae,le,Ve,mn,en,nn,-tn,-pn,0),Ji=s(Xe,le,Ve,mn,en,nn,-tn,-pn,3)?1:0,Ji==1?x(Xe,le,Ve,mn,{x:tn,y:pn,width:en,height:nn}):s(Xe,le,Ve,mn,en,nn,-tn,-pn,0)}else mn=Xe.slice(0);Te.push({rect:{x:tn,y:pn,width:en,height:nn},img:mn,blend:Ji,dispose:0})}if(qe)for(pe=0;pe<Te.length;pe++){if((Pe=Te[pe]).blend==1)continue;const Xe=Pe.rect,Rn=Te[pe-1].rect,tn=Math.min(Xe.x,Rn.x),pn=Math.min(Xe.y,Rn.y),en={x:tn,y:pn,width:Math.max(Xe.x+Xe.width,Rn.x+Rn.width)-tn,height:Math.max(Xe.y+Xe.height,Rn.y+Rn.height)-pn};Te[pe-1].dispose=1,pe-1!=0&&T(Zt,le,Ve,Te,pe-1,en,_e),T(Zt,le,Ve,Te,pe,en,_e)}let ee=0;if(Zt.length!=1)for(var ge=0;ge<Te.length;ge++){var Pe;ee+=(Pe=Te[ge]).rect.width*Pe.rect.height}return Te})(A,C,z,O,J,at),Dt={},Mt=[],Gt=[];if(j!=0){const We=[];for(dt=0;dt<wt.length;dt++)We.push(wt[dt].img.buffer);const Zt=(function(_e){let dn=0;for(var Te=0;Te<_e.length;Te++)dn+=_e[Te].byteLength;const pe=new Uint8Array(dn);let mn=0;for(Te=0;Te<_e.length;Te++){const ae=new Uint8Array(_e[Te]),ee=ae.length;for(let ge=0;ge<ee;ge+=4){let Pe=ae[ge],Xe=ae[ge+1],Rn=ae[ge+2];const tn=ae[ge+3];tn==0&&(Pe=Xe=Rn=0),pe[mn+ge]=Pe,pe[mn+ge+1]=Xe,pe[mn+ge+2]=Rn,pe[mn+ge+3]=tn}mn+=ee}return pe.buffer})(We),le=G(Zt,j);for(dt=0;dt<le.plte.length;dt++)Mt.push(le.plte[dt].est.rgba);let Ve=0;for(dt=0;dt<wt.length;dt++){const qe=(oe=wt[dt]).img.length;var Xt=new Uint8Array(le.inds.buffer,Ve>>2,qe>>2);Gt.push(Xt);const _e=new Uint8Array(le.abuf,Ve,qe);$&&g(oe.img,oe.rect.width,oe.rect.height,Mt,_e,Xt),oe.img.set(_e),Ve+=qe}}else for(lt=0;lt<wt.length;lt++){var oe=wt[lt];const We=new Uint32Array(oe.img.buffer);var me=oe.rect.width;for(ht=We.length,Xt=new Uint8Array(ht),Gt.push(Xt),dt=0;dt<ht;dt++){const Zt=We[dt];if(dt!=0&&Zt==We[dt-1])Xt[dt]=Xt[dt-1];else if(dt>me&&Zt==We[dt-me])Xt[dt]=Xt[dt-me];else{let le=Dt[Zt];if(le==null&&(Dt[Zt]=le=Mt.length,Mt.push(Zt),Mt.length>=300))break;Xt[dt]=le}}}const En=Mt.length;for(En<=256&&H==0&&(B=En<=2?1:En<=4?2:En<=16?4:8,B=Math.max(B,k)),lt=0;lt<wt.length;lt++){(oe=wt[lt]).rect.x,oe.rect.y,me=oe.rect.width;const We=oe.rect.height;let Zt=oe.img;new Uint32Array(Zt.buffer);let le=4*me,Ve=4;if(En<=256&&H==0){le=Math.ceil(B*me/8);var fn=new Uint8Array(le*We);const qe=Gt[lt];for(let _e=0;_e<We;_e++){dt=_e*le;const dn=_e*me;if(B==8)for(var be=0;be<me;be++)fn[dt+be]=qe[dn+be];else if(B==4)for(be=0;be<me;be++)fn[dt+(be>>1)]|=qe[dn+be]<<4-4*(1&be);else if(B==2)for(be=0;be<me;be++)fn[dt+(be>>2)]|=qe[dn+be]<<6-2*(3&be);else if(B==1)for(be=0;be<me;be++)fn[dt+(be>>3)]|=qe[dn+be]<<7-1*(7&be)}Zt=fn,rt=3,Ve=1}else if(it==0&&wt.length==1){fn=new Uint8Array(me*We*3);const qe=me*We;for(dt=0;dt<qe;dt++){const _e=3*dt,dn=4*dt;fn[_e]=Zt[dn],fn[_e+1]=Zt[dn+1],fn[_e+2]=Zt[dn+2]}Zt=fn,rt=2,Ve=3,le=3*me}oe.img=Zt,oe.bpl=le,oe.bpp=Ve}return{ctype:rt,depth:B,plte:Mt,frames:wt}}function T(A,C,z,j,D,O,J){const at=Uint8Array,k=Uint32Array,H=new at(A[D-1]),$=new k(A[D-1]),rt=D+1<A.length?new at(A[D+1]):null,B=new at(A[D]),nt=new k(B.buffer);let lt=C,ht=z,dt=-1,it=-1;for(let Dt=0;Dt<O.height;Dt++)for(let Mt=0;Mt<O.width;Mt++){const Gt=O.x+Mt,Xt=O.y+Dt,oe=Xt*C+Gt,me=nt[oe];me==0||j[D-1].dispose==0&&$[oe]==me&&(rt==null||rt[4*oe+3]!=0)||(Gt<lt&&(lt=Gt),Gt>dt&&(dt=Gt),Xt<ht&&(ht=Xt),Xt>it&&(it=Xt))}dt==-1&&(lt=ht=dt=it=0),J&&((1&lt)==1&&lt--,(1&ht)==1&&ht--),O={x:lt,y:ht,width:dt-lt+1,height:it-ht+1};const wt=j[D];wt.rect=O,wt.blend=1,wt.img=new Uint8Array(O.width*O.height*4),j[D-1].dispose==0?(s(H,C,z,wt.img,O.width,O.height,-O.x,-O.y,0),x(B,C,z,wt.img,O)):s(B,C,z,wt.img,O.width,O.height,-O.x,-O.y,0)}function x(A,C,z,j,D){s(A,C,z,j,D.width,D.height,-D.x,-D.y,2)}function I(A,C,z,j,D,O,J){const at=[];let k,H=[0,1,2,3,4];O!=-1?H=[O]:(C*j>5e5||z==1)&&(H=[0]),J&&(k={level:0});const $=SI;for(var rt=0;rt<H.length;rt++){for(let lt=0;lt<C;lt++)P(D,A,lt,j,z,H[rt]);at.push($.deflate(D,k))}let B,nt=1e9;for(rt=0;rt<at.length;rt++)at[rt].length<nt&&(B=rt,nt=at[rt].length);return at[B]}function P(A,C,z,j,D,O){const J=z*j;let at=J+z;if(A[at]=O,at++,O==0)if(j<500)for(var k=0;k<j;k++)A[at+k]=C[J+k];else A.set(new Uint8Array(C.buffer,J,j),at);else if(O==1){for(k=0;k<D;k++)A[at+k]=C[J+k];for(k=D;k<j;k++)A[at+k]=C[J+k]-C[J+k-D]+256&255}else if(z==0){for(k=0;k<D;k++)A[at+k]=C[J+k];if(O==2)for(k=D;k<j;k++)A[at+k]=C[J+k];if(O==3)for(k=D;k<j;k++)A[at+k]=C[J+k]-(C[J+k-D]>>1)+256&255;if(O==4)for(k=D;k<j;k++)A[at+k]=C[J+k]-n(C[J+k-D],0,0)+256&255}else{if(O==2)for(k=0;k<j;k++)A[at+k]=C[J+k]+256-C[J+k-j]&255;if(O==3){for(k=0;k<D;k++)A[at+k]=C[J+k]+256-(C[J+k-j]>>1)&255;for(k=D;k<j;k++)A[at+k]=C[J+k]+256-(C[J+k-j]+C[J+k-D]>>1)&255}if(O==4){for(k=0;k<D;k++)A[at+k]=C[J+k]+256-n(0,C[J+k-j],0)&255;for(k=D;k<j;k++)A[at+k]=C[J+k]+256-n(C[J+k-D],C[J+k-j],C[J+k-D-j])&255}}}function G(A,C){const z=new Uint8Array(A),j=z.slice(0),D=new Uint32Array(j.buffer),O=Z(j,C),J=O[0],at=O[1],k=z.length,H=new Uint8Array(k>>2);let $;if(z.length<2e7)for(var rt=0;rt<k;rt+=4)$=W(J,B=z[rt]*(1/255),nt=z[rt+1]*(1/255),lt=z[rt+2]*(1/255),ht=z[rt+3]*(1/255)),H[rt>>2]=$.ind,D[rt>>2]=$.est.rgba;else for(rt=0;rt<k;rt+=4){var B=z[rt]*.00392156862745098,nt=z[rt+1]*(1/255),lt=z[rt+2]*(1/255),ht=z[rt+3]*(1/255);for($=J;$.left;)$=pt($.est,B,nt,lt,ht)<=0?$.left:$.right;H[rt>>2]=$.ind,D[rt>>2]=$.est.rgba}return{abuf:j.buffer,inds:H,plte:at}}function Z(A,C,z){z==null&&(z=1e-4);const j=new Uint32Array(A.buffer),D={i0:0,i1:A.length,bst:null,est:null,tdst:0,left:null,right:null};D.bst=ot(A,D.i0,D.i1),D.est=Y(D.bst);const O=[D];for(;O.length<C;){let at=0,k=0;for(var J=0;J<O.length;J++)O[J].est.L>at&&(at=O[J].est.L,k=J);if(at<z)break;const H=O[k],$=et(A,j,H.i0,H.i1,H.est.e,H.est.eMq255);if(H.i0>=$||H.i1<=$){H.est.L=0;continue}const rt={i0:H.i0,i1:$,bst:null,est:null,tdst:0,left:null,right:null};rt.bst=ot(A,rt.i0,rt.i1),rt.est=Y(rt.bst);const B={i0:$,i1:H.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:H.bst.N-rt.bst.N},J=0;J<16;J++)B.bst.R[J]=H.bst.R[J]-rt.bst.R[J];for(J=0;J<4;J++)B.bst.m[J]=H.bst.m[J]-rt.bst.m[J];B.est=Y(B.bst),H.left=rt,H.right=B,O[k]=rt,O.push(B)}for(O.sort(((at,k)=>k.bst.N-at.bst.N)),J=0;J<O.length;J++)O[J].ind=J;return[D,O]}function W(A,C,z,j,D){if(A.left==null)return A.tdst=(function(rt,B,nt,lt,ht){const dt=B-rt[0],it=nt-rt[1],wt=lt-rt[2],Dt=ht-rt[3];return dt*dt+it*it+wt*wt+Dt*Dt})(A.est.q,C,z,j,D),A;const O=pt(A.est,C,z,j,D);let J=A.left,at=A.right;O>0&&(J=A.right,at=A.left);const k=W(J,C,z,j,D);if(k.tdst<=O*O)return k;const H=W(at,C,z,j,D);return H.tdst<k.tdst?H:k}function pt(A,C,z,j,D){const{e:O}=A;return O[0]*C+O[1]*z+O[2]*j+O[3]*D-A.eMq}function et(A,C,z,j,D,O){for(j-=4;z<j;){for(;Q(A,z,D)<=O;)z+=4;for(;Q(A,j,D)>O;)j-=4;if(z>=j)break;const J=C[z>>2];C[z>>2]=C[j>>2],C[j>>2]=J,z+=4,j-=4}for(;Q(A,z,D)>O;)z-=4;return z+4}function Q(A,C,z){return A[C]*z[0]+A[C+1]*z[1]+A[C+2]*z[2]+A[C+3]*z[3]}function ot(A,C,z){const j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D=[0,0,0,0],O=z-C>>2;for(let J=C;J<z;J+=4){const at=A[J]*.00392156862745098,k=A[J+1]*(1/255),H=A[J+2]*(1/255),$=A[J+3]*(1/255);D[0]+=at,D[1]+=k,D[2]+=H,D[3]+=$,j[0]+=at*at,j[1]+=at*k,j[2]+=at*H,j[3]+=at*$,j[5]+=k*k,j[6]+=k*H,j[7]+=k*$,j[10]+=H*H,j[11]+=H*$,j[15]+=$*$}return j[4]=j[1],j[8]=j[2],j[9]=j[6],j[12]=j[3],j[13]=j[7],j[14]=j[11],{R:j,m:D,N:O}}function Y(A){const{R:C}=A,{m:z}=A,{N:j}=A,D=z[0],O=z[1],J=z[2],at=z[3],k=j==0?0:1/j,H=[C[0]-D*D*k,C[1]-D*O*k,C[2]-D*J*k,C[3]-D*at*k,C[4]-O*D*k,C[5]-O*O*k,C[6]-O*J*k,C[7]-O*at*k,C[8]-J*D*k,C[9]-J*O*k,C[10]-J*J*k,C[11]-J*at*k,C[12]-at*D*k,C[13]-at*O*k,C[14]-at*J*k,C[15]-at*at*k],$=H,rt=q;let B=[Math.random(),Math.random(),Math.random(),Math.random()],nt=0,lt=0;if(j!=0)for(let dt=0;dt<16&&(B=rt.multVec($,B),lt=Math.sqrt(rt.dot(B,B)),B=rt.sml(1/lt,B),!(dt!=0&&Math.abs(lt-nt)<1e-9));dt++)nt=lt;const ht=[D*k,O*k,J*k,at*k];return{Cov:H,q:ht,e:B,L:nt,eMq255:rt.dot(rt.sml(255,ht),B),eMq:rt.dot(B,ht),rgba:(Math.round(255*ht[3])<<24|Math.round(255*ht[2])<<16|Math.round(255*ht[1])<<8|Math.round(255*ht[0])<<0)>>>0}}var q={multVec:(A,C)=>[A[0]*C[0]+A[1]*C[1]+A[2]*C[2]+A[3]*C[3],A[4]*C[0]+A[5]*C[1]+A[6]*C[2]+A[7]*C[3],A[8]*C[0]+A[9]*C[1]+A[10]*C[2]+A[11]*C[3],A[12]*C[0]+A[13]*C[1]+A[14]*C[2]+A[15]*C[3]],dot:(A,C)=>A[0]*C[0]+A[1]*C[1]+A[2]*C[2]+A[3]*C[3],sml:(A,C)=>[A*C[0],A*C[1],A*C[2],A*C[3]]};Ls.encode=function(C,z,j,D,O,J,at){D==null&&(D=0),at==null&&(at=!1);const k=E(C,z,j,D,[!1,!1,!1,0,at,!1]);return w(k,-1),y(k,z,j,O,J)},Ls.encodeLL=function(C,z,j,D,O,J,at,k){const H={ctype:0+(D==1?0:2)+(O==0?0:4),depth:J,frames:[]},$=(D+O)*J,rt=$*z;for(let B=0;B<C.length;B++)H.frames.push({rect:{x:0,y:0,width:z,height:j},img:new Uint8Array(C[B]),blend:0,dispose:1,bpp:Math.ceil($/8),bpl:Math.ceil(rt/8)});return w(H,0,!0),y(H,z,j,at,k)},Ls.encode.compress=E,Ls.encode.dither=g,Ls.quantize=G,Ls.quantize.getKDtree=Z,Ls.quantize.getNearest=W})();const Zb={toArrayBuffer(s,t){const n=s.width,o=s.height,l=n<<2,h=s.getContext("2d").getImageData(0,0,n,o),m=new Uint32Array(h.data.buffer),g=(32*n+31)/32<<2,y=g*o,w=122+y,E=new ArrayBuffer(w),T=new DataView(E),x=1<<20;let I,P,G,Z,W=x,pt=0,et=0,Q=0;function ot(A){T.setUint16(et,A,!0),et+=2}function Y(A){T.setUint32(et,A,!0),et+=4}function q(A){et+=A}ot(19778),Y(w),q(4),Y(122),Y(108),Y(n),Y(-o>>>0),ot(1),ot(32),Y(3),Y(y),Y(2835),Y(2835),q(8),Y(16711680),Y(65280),Y(255),Y(4278190080),Y(1466527264),(function A(){for(;pt<o&&W>0;){for(Z=122+pt*g,I=0;I<l;)W--,P=m[Q++],G=P>>>24,T.setUint32(Z+I,P<<8|G),I+=4;pt++}Q<m.length?(W=x,setTimeout(A,Zb._dly)):t(E)})()},toBlob(s,t){this.toArrayBuffer(s,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var Ri={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},AI={[Ri.CHROME]:16384,[Ri.FIREFOX]:11180,[Ri.DESKTOP_SAFARI]:16384,[Ri.IE]:8192,[Ri.IOS]:4096,[Ri.ETC]:8192};const Rg=typeof window<"u",Wb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Of=Rg&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CI=(Rg||Wb)&&(Of&&Of.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Yb=(Rg||Wb)&&(Of&&Of.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ig(s,t,n=Date.now()){return new Promise((o=>{const l=s.split(","),h=l[0].match(/:(.*?);/)[1],m=globalThis.atob(l[1]);let g=m.length;const y=new Uint8Array(g);for(;g--;)y[g]=m.charCodeAt(g);const w=new Blob([y],{type:h});w.name=t,w.lastModified=n,o(w)}))}function Kb(s){return new Promise(((t,n)=>{const o=new Yb;o.onload=()=>t(o.result),o.onerror=l=>n(l),o.readAsDataURL(s)}))}function Xb(s){return new Promise(((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=l=>n(l),o.src=s}))}function Wa(){if(Wa.cachedResult!==void 0)return Wa.cachedResult;let s=Ri.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?s=Ri.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?s=Ri.IOS:/Safari/i.test(t)?s=Ri.DESKTOP_SAFARI:/Firefox/i.test(t)?s=Ri.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(s=Ri.IE),Wa.cachedResult=s,Wa.cachedResult}function Qb(s,t){const n=Wa(),o=AI[n];let l=s,h=t,m=l*h;const g=l>h?h/l:l/h;for(;m>o*o;){const y=(o+l)/2,w=(o+h)/2;y<w?(h=w,l=w*g):(h=y*g,l=y),m=l*h}return{width:l,height:h}}function id(s,t){let n,o;try{if(n=new OffscreenCanvas(s,t),o=n.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),o=n.getContext("2d")}return n.width=s,n.height=t,[n,o]}function Jb(s,t){const{width:n,height:o}=Qb(s.width,s.height),[l,h]=id(n,o);return t&&/jpe?g/.test(t)&&(h.fillStyle="white",h.fillRect(0,0,l.width,l.height)),h.drawImage(s,0,0,l.width,l.height),l}function nf(){return nf.cachedResult!==void 0||(nf.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),nf.cachedResult}function Lf(s,t={}){return new Promise((function(n,o){let l,h;var m=function(){try{return h=Jb(l,t.fileType||s.type),n([l,h])}catch(y){return o(y)}},g=function(y){try{var w=function(E){try{throw E}catch(T){return o(T)}};try{let E;return Kb(s).then((function(T){try{return E=T,Xb(E).then((function(x){try{return l=x,(function(){try{return m()}catch(I){return o(I)}})()}catch(I){return w(I)}}),w)}catch(x){return w(x)}}),w)}catch(E){w(E)}}catch(E){return o(E)}};try{if(nf()||[Ri.DESKTOP_SAFARI,Ri.MOBILE_SAFARI].includes(Wa()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(s).then((function(y){try{return l=y,m()}catch{return g()}}),g)}catch{g()}}))}function kf(s,t,n,o,l=1){return new Promise((function(h,m){let g;if(t==="image/png"){let T,x,I;return T=s.getContext("2d"),{data:x}=T.getImageData(0,0,s.width,s.height),I=Ls.encode([x.buffer],s.width,s.height,4096*l),g=new Blob([I],{type:t}),g.name=n,g.lastModified=o,y.call(this)}{let T=function(){return y.call(this)};var w=T;if(t==="image/bmp")return new Promise((x=>Zb.toBlob(s,x))).then((function(x){try{return g=x,g.name=n,g.lastModified=o,T.call(this)}catch(I){return m(I)}}).bind(this),m);{let x=function(){return T.call(this)};var E=x;if(typeof OffscreenCanvas=="function"&&s instanceof OffscreenCanvas)return s.convertToBlob({type:t,quality:l}).then((function(I){try{return g=I,g.name=n,g.lastModified=o,x.call(this)}catch(P){return m(P)}}).bind(this),m);{let I;return I=s.toDataURL(t,l),Ig(I,n,o).then((function(P){try{return g=P,x.call(this)}catch(G){return m(G)}}).bind(this),m)}}}function y(){return h(g)}}))}function cr(s){s.width=0,s.height=0}function Fl(){return new Promise((function(s,t){let n,o,l,h;return Fl.cachedResult!==void 0?s(Fl.cachedResult):Ig("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(m){try{return n=m,Lf(n).then((function(g){try{return o=g[1],kf(o,n.type,n.name,n.lastModified).then((function(y){try{return l=y,cr(o),Lf(l).then((function(w){try{return h=w[0],Fl.cachedResult=h.width===1&&h.height===2,s(Fl.cachedResult)}catch(E){return t(E)}}),t)}catch(w){return t(w)}}),t)}catch(y){return t(y)}}),t)}catch(g){return t(g)}}),t)}))}function $b(s){return new Promise(((t,n)=>{const o=new Yb;o.onload=l=>{const h=new DataView(l.target.result);if(h.getUint16(0,!1)!=65496)return t(-2);const m=h.byteLength;let g=2;for(;g<m;){if(h.getUint16(g+2,!1)<=8)return t(-1);const y=h.getUint16(g,!1);if(g+=2,y==65505){if(h.getUint32(g+=2,!1)!=1165519206)return t(-1);const w=h.getUint16(g+=6,!1)==18761;g+=h.getUint32(g+4,w);const E=h.getUint16(g,w);g+=2;for(let T=0;T<E;T++)if(h.getUint16(g+12*T,w)==274)return t(h.getUint16(g+12*T+8,w))}else{if((65280&y)!=65280)break;g+=h.getUint16(g,!1)}}return t(-1)},o.onerror=l=>n(l),o.readAsArrayBuffer(s)}))}function t2(s,t){const{width:n}=s,{height:o}=s,{maxWidthOrHeight:l}=t;let h,m=s;return isFinite(l)&&(n>l||o>l)&&([m,h]=id(n,o),n>o?(m.width=l,m.height=o/n*l):(m.width=n/o*l,m.height=l),h.drawImage(s,0,0,m.width,m.height),cr(s)),m}function e2(s,t){const{width:n}=s,{height:o}=s,[l,h]=id(n,o);switch(t>4&&t<9?(l.width=o,l.height=n):(l.width=n,l.height=o),t){case 2:h.transform(-1,0,0,1,n,0);break;case 3:h.transform(-1,0,0,-1,n,o);break;case 4:h.transform(1,0,0,-1,0,o);break;case 5:h.transform(0,1,1,0,0,0);break;case 6:h.transform(0,1,-1,0,o,0);break;case 7:h.transform(0,-1,-1,0,o,n);break;case 8:h.transform(0,-1,1,0,0,n)}return h.drawImage(s,0,0,n,o),cr(s),l}function l1(s,t,n=0){return new Promise((function(o,l){let h,m,g,y,w,E,T,x,I,P,G,Z,W,pt,et,Q,ot,Y,q,A;function C(j=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;h+=j,t.onProgress(Math.min(h,100))}function z(j){if(t.signal&&t.signal.aborted)throw t.signal.reason;h=Math.min(Math.max(j,h),100),t.onProgress(h)}return h=n,m=t.maxIteration||10,g=1024*t.maxSizeMB*1024,C(),Lf(s,t).then((function(j){try{return[,y]=j,C(),w=t2(y,t),C(),new Promise((function(D,O){var J;if(!(J=t.exifOrientation))return $b(s).then((function(k){try{return J=k,at.call(this)}catch(H){return O(H)}}).bind(this),O);function at(){return D(J)}return at.call(this)})).then((function(D){try{return E=D,C(),Fl().then((function(O){try{return T=O?w:e2(w,E),C(),x=t.initialQuality||1,I=t.fileType||s.type,kf(T,I,s.name,s.lastModified,x).then((function(J){try{{let $=function(){if(m--&&(et>g||et>W)){let B,nt;return B=A?.95*q.width:q.width,nt=A?.95*q.height:q.height,[ot,Y]=id(B,nt),Y.drawImage(q,0,0,B,nt),x*=I==="image/png"?.85:.95,kf(ot,I,s.name,s.lastModified,x).then((function(lt){try{return Q=lt,cr(q),q=ot,et=Q.size,z(Math.min(99,Math.floor((pt-et)/(pt-g)*100))),$}catch(ht){return l(ht)}}),l)}return[1]},rt=function(){return cr(q),cr(ot),cr(w),cr(T),cr(y),z(100),o(Q)};var k=$,H=rt;if(P=J,C(),G=P.size>g,Z=P.size>s.size,!G&&!Z)return z(100),o(P);var at;return W=s.size,pt=P.size,et=pt,q=T,A=!t.alwaysKeepResolution&&G,(at=(function(B){for(;B;){if(B.then)return void B.then(at,l);try{if(B.pop){if(B.length)return B.pop()?rt.call(this):B;B=$}else B=B.call(this)}catch(nt){return l(nt)}}}).bind(this))($)}}catch($){return l($)}}).bind(this),l)}catch(J){return l(J)}}).bind(this),l)}catch(O){return l(O)}}).bind(this),l)}catch(D){return l(D)}}).bind(this),l)}))}const NI=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let ip;function RI(s,t){return new Promise(((n,o)=>{ip||(ip=(function(m){const g=[];return g.push(m),URL.createObjectURL(new Blob(g))})(NI));const l=new Worker(ip);l.addEventListener("message",(function(m){if(t.signal&&t.signal.aborted)l.terminate();else if(m.data.progress===void 0){if(m.data.error)return o(new Error(m.data.error)),void l.terminate();n(m.data.file),l.terminate()}else t.onProgress(m.data.progress)})),l.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",(()=>{o(t.signal.reason),l.terminate()})),l.postMessage({file:s,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function ai(s,t){return new Promise((function(n,o){let l,h,m,g,y,w;if(l={...t},m=0,{onProgress:g}=l,l.maxSizeMB=l.maxSizeMB||Number.POSITIVE_INFINITY,y=typeof l.useWebWorker!="boolean"||l.useWebWorker,delete l.useWebWorker,l.onProgress=I=>{m=I,typeof g=="function"&&g(m)},!(s instanceof Blob||s instanceof CI))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(s.type))return o(new Error("The file given is not an image"));if(w=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!y||typeof Worker!="function"||w)return l1(s,l).then((function(I){try{return h=I,x.call(this)}catch(P){return o(P)}}).bind(this),o);var E=(function(){try{return x.call(this)}catch(I){return o(I)}}).bind(this),T=function(I){try{return l1(s,l).then((function(P){try{return h=P,E()}catch(G){return o(G)}}),o)}catch(P){return o(P)}};try{return l.libURL=l.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",RI(s,l).then((function(I){try{return h=I,E()}catch{return T()}}),T)}catch{T()}function x(){try{h.name=s.name,h.lastModified=s.lastModified}catch{}try{l.preserveExif&&s.type==="image/jpeg"&&(!l.fileType||l.fileType&&l.fileType===s.type)&&(h=Gb(s,h))}catch{}return n(h)}}))}ai.getDataUrlFromFile=Kb,ai.getFilefromDataUrl=Ig,ai.loadImage=Xb,ai.drawImageInCanvas=Jb,ai.drawFileInCanvas=Lf,ai.canvasToFile=kf,ai.getExifOrientation=$b,ai.handleMaxWidthOrHeight=t2,ai.followExifOrientation=e2,ai.cleanupCanvasMemory=cr,ai.isAutoOrientationInBrowser=Fl,ai.approximateBelowMaximumCanvasSizeOfBrowser=Qb,ai.copyExifWithoutOrientation=Gb,ai.getBrowserName=Wa,ai.version="2.0.2";const II=ed();vI();const MI=rw();delete zb.Icon.Default.prototype._getIconUrl;zb.Icon.Default.mergeOptions({iconRetinaUrl:qR,iconUrl:GR,shadowUrl:ZR});function OI({position:s,setPosition:t}){return jR({click(n){t([n.latlng.lat,n.latlng.lng])}}),s?M.jsx(FR,{position:s}):null}function LI({userData:s,onLogout:t,onGoToDashboard:n,onGoToMenu:o,onGoToNotifications:l,onGoToProfile:h,onBack:m,onGoToPost:g}){const[y,w]=Nt.useState(null),[E,T]=Nt.useState(null),[x,I]=Nt.useState(""),[P,G]=Nt.useState(""),[Z,W]=Nt.useState(""),[pt,et]=Nt.useState(""),[Q,ot]=Nt.useState(""),[Y,q]=Nt.useState(null),A="c8a3bf6aa8d08d4193a386fcfec78a7a",C=async D=>{const O=D.target.files[0];if(!O)return;const J={maxSizeMB:.5,maxWidthOrHeight:1024,useWebWorker:!0};try{const at=await ai(O,J);w(URL.createObjectURL(at)),T(at)}catch(at){console.error("Error compressing image:",at)}},z=()=>{navigator.geolocation.getCurrentPosition(D=>{const{latitude:O,longitude:J}=D.coords;q([O,J])},D=>{console.error("Error getting location: ",D)})},j=async D=>{if(D.preventDefault(),!x||!Z||!pt||!Y){alert("!");return}try{const O=MI.currentUser;if(!O){alert("");return}let J=null;if(E){const k=new FormData;k.append("image",E),k.append("key",A);const $=await(await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:k})).json();$.success?J=$.data.url:console.error("ImgBB upload failed:",$)}console.log("Selected position:",Y);const at=J4(Wr(II,"foodPosts"));await $f(at,{userId:O.uid,image:J||null,foodName:x,description:P,productionDate:Z,expiryDate:pt,category:Q,location:{lat:parseFloat(Y[0]),lng:parseFloat(Y[1])},createdAt:cR()}),alert("Post created in Realtime Database!"),w(null),T(null),I(""),G(""),W(""),et(""),ot(""),q(null)}catch(O){console.error("Error posting data:",O),alert("")}};return M.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[M.jsxs("header",{className:`p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl transition-all duration-500\r
        md:px-12 md:py-6`,children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("img",{src:ha,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),M.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),M.jsx("div",{className:"flex items-center space-x-4",children:M.jsx("img",{src:nl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300 ",onClick:h})})]}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[M.jsxs("button",{onClick:m,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),M.jsx("span",{className:"text-lg font-semibold",children:"Post"})]}),M.jsxs("label",{className:"block w-full h-40 border-2 border-dashed rounded-xl flex items-center justify-center cursor-pointer bg-gray-100 hover:bg-[#2e2eff10] transition-colors duration-300",children:[y?M.jsx("img",{src:y,alt:"preview",className:"w-full h-full object-cover rounded-xl transform hover:scale-105 transition-transform duration-300"}):M.jsx("span",{className:"text-gray-500 font-bold",children:"ADD IMAGE"}),M.jsx("input",{type:"file",className:"hidden",onChange:C})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Food Name"}),M.jsx("input",{type:"text",placeholder:"...",value:x,onChange:D=>I(D.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description"}),M.jsx("textarea",{placeholder:"...",value:P,onChange:D=>G(D.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Production Date"}),M.jsx("input",{type:"date",value:Z,onChange:D=>W(D.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Expiration Date"}),M.jsx("input",{type:"date",value:pt,onChange:D=>et(D.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Categories"}),M.jsxs("select",{value:Q,onChange:D=>ot(D.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-[#2e2eff] focus:outline-none transition duration-200 hover:border-[#2e2eff]",children:[M.jsx("option",{value:"",children:""}),M.jsx("option",{value:"Lunch Boxes",children:"Lunch Boxes"}),M.jsx("option",{value:"Snacks",children:"Snacks"}),M.jsx("option",{value:"Beverages",children:"Beverages"})]})]}),M.jsxs(HR,{center:[13.736717,100.523186],zoom:13,style:{height:"300px",width:"100%",borderRadius:"12px"},className:"transition-shadow duration-300 hover:shadow-lg",children:[M.jsx(VR,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/">OSM</a>',subdomains:"abcd"}),M.jsx(OI,{position:Y,setPosition:q})]}),M.jsx("div",{className:"flex justify-center mt-3",children:M.jsx("button",{onClick:z,className:"px-4 py-2 border border-[#2e2eff] text-[#2e2eff] rounded-lg hover:bg-[#2e2eff] hover:text-white transition duration-300",children:"Use Current Location"})}),M.jsx("button",{onClick:j,className:"w-full bg-[#2e2eff] text-white py-3 rounded-lg font-bold hover:bg-[#1d1dcc] transition duration-300 transform hover:scale-105",children:"POST"}),M.jsxs("div",{className:"hidden md:block",children:[M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{}),M.jsx("br",{})]}),M.jsxs("div",{className:"fixed left-0 right-0 bottom-0 z-[1000] max-w-3xl mx-auto w-full",children:[M.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:M.jsx("button",{className:"w-16 h-16 bg-[#2e2eff] rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300 border-4 border-white",onClick:g,children:M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),M.jsx("nav",{className:"bg-white/90 backdrop-blur-sm border-t border-gray-200 p-4 shadow-2xl flex rounded-t-3xl transition-colors duration-300 justify-between md:justify-evenly",children:[{name:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",active:!1,action:()=>m("Home")},{name:"Menu",icon:"M4 6h16M4 12h16M4 18h16",active:!1,action:()=>o()},{empty:!0},{name:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",active:!1,action:()=>l()},{name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",active:!1,action:()=>h()}].map((D,O)=>D.empty?M.jsx("div",{className:"w-16"},O):M.jsxs("button",{onClick:D.action,className:`flex-1 flex flex-col items-center transition-colors duration-300 ${D.active?"text-[#2e2eff]":"text-gray-400"} hover:text-[#2e2eff]`,children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{d:D.icon,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})}),M.jsx("span",{className:"text-xs md:text-sm mt-1",children:D.name})]},O))})]})]})]})}function kI({foodItem:s,onBack:t,onGoToProfile:n}){if(!s)return M.jsx("p",{className:"text-center mt-8 text-gray-500",children:"Loading..."});const{title:o,img:l,description:h,productionDate:m,expiryDate:g,location:y,category:w}=s;return M.jsxs("div",{className:"flex flex-col min-h-screen bg-white font-sans",children:[M.jsxs("header",{className:"p-4 bg-[#2e2eff] flex items-center justify-between shadow-sm rounded-b-3xl md:px-12 md:py-6",children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx("img",{src:ha,alt:"Logo",className:"w-10 h-10 md:w-14 md:h-14 rounded-full"}),M.jsx("span",{className:"text-xl md:text-2xl font-bold text-white tracking-wide",children:"MA THAN"})]}),M.jsx("div",{className:"flex items-center space-x-4",children:M.jsx("img",{src:nl,alt:"Profile",className:"w-10 h-10 md:w-14 md:h-14 rounded-full cursor-pointer hover:scale-110 transition-transform duration-300",onClick:n})})]}),M.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-12 space-y-6 max-w-5xl mx-auto w-full pb-32",children:[M.jsxs("button",{onClick:t,className:"flex items-center text-gray-700 mb-4 hover:text-[#2e2eff] transition-colors duration-300",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),M.jsx("span",{className:"text-lg font-semibold",children:"Go Back"})]}),M.jsx("div",{className:"w-full h-64 md:h-80 rounded-xl overflow-hidden shadow-md bg-gray-100",children:M.jsx("img",{src:l||"/default-food.png",alt:o,className:"w-full h-full object-cover",onError:E=>{E.target.src="/default-food.png"},loading:"lazy"})}),M.jsxs("div",{className:"space-y-3",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:o}),w&&M.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full
                ${w==="Lunch Boxes"?"bg-yellow-100 text-yellow-800":w==="Snacks"?"bg-pink-100 text-pink-800":w==="Beverages"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:w}),M.jsxs("div",{className:"mt-3",children:[M.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Description"}),M.jsx("div",{className:"bg-gray-100 rounded-lg p-3 min-h-[80px] max-h-64 overflow-y-auto text-gray-700 text-sm",children:h||""})]}),M.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-500 text-sm mt-2",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),M.jsxs("span",{children:[": ",m||"-"]})]}),M.jsxs("div",{className:"flex items-center",children:[M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),M.jsxs("span",{children:[": ",g||"-"]})]})]}),y?M.jsx("div",{className:"mt-4 h-64 w-full border rounded-xl overflow-hidden shadow-md",children:M.jsx("iframe",{src:`https://www.google.com/maps?q=${y.lat},${y.lng}&hl=th&z=15&output=embed`,width:"100%",height:"100%",allowFullScreen:!0,loading:"lazy",title:"Food Location"})}):M.jsx("p",{className:"text-gray-400 text-sm mt-2",children:""})]})]})]})}function DI(){const[s,t]=Nt.useState("welcome"),[n,o]=Nt.useState(null),[l,h]=Nt.useState(!1),[m,g]=Nt.useState(null),[y,w]=Nt.useState(""),[E,T]=Nt.useState("ALL");Nt.useEffect(()=>{const I=hS(Jr,P=>{P?(o({email:P.email,uid:P.uid}),t("home")):(o(null),t("welcome"))});return()=>I()},[]);const x=()=>{o(null),t("login")};if(!l)return M.jsx(fR,{onFinish:()=>h(!0)});switch(s){case"welcome":return M.jsx(mR,{onLoginClick:()=>t("login"),onRegisterClick:()=>t("signup")});case"login":return M.jsx(dR,{onLoginSuccess:I=>{o(I),t("home")},onSignUpClick:()=>t("signup"),onForgotPasswordClick:()=>t("forgot")});case"signup":return M.jsx(pR,{onBackToLogin:()=>t("login"),onSignUp:()=>{alert("Sign Up Success! Please log in."),t("login")}});case"forgot":return M.jsx(gR,{onBackToLogin:()=>t("login")});case"dashboard":return M.jsx(_R,{userData:n,setCurrentPage:t});case"home":return M.jsx(bR,{userData:n,onGoToDashboard:()=>t("dashboard"),onGoToMenu:()=>{t("menu")},onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post"),searchQuery:y,setSearchQuery:w,onSearch:I=>{w(I),T("ALL"),t("menu")},onSelectCategory:I=>{T(I),w(""),t("menu")}});case"menu":return M.jsx(ER,{userData:n,currentPage:s,searchQuery:y,setSearchQuery:w,selectedCategoryFromHome:E,onBack:()=>{t("home"),T("ALL")},onGoToProfile:()=>t("profile"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post"),onSelectFood:I=>{g(I),t("foodDetail")}});case"post":return M.jsx(LI,{userData:n,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToNotifications:()=>t("notifications"),onGoToProfile:()=>t("profile")});case"notifications":return M.jsx(xR,{userData:n,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToProfile:()=>t("profile"),onGoToPost:()=>t("post")});case"profile":return M.jsx(TR,{userData:n,onBack:()=>t("home"),onGoToMenu:()=>t("menu"),onGoToNotifications:()=>t("notifications"),onGoToPost:()=>t("post"),onLogout:x});case"foodDetail":return M.jsx(kI,{foodItem:m,onBack:()=>t("menu")});default:return M.jsx("div",{children:"Loading..."})}}TE.createRoot(document.getElementById("root")).render(M.jsx(Nt.StrictMode,{children:M.jsx(DI,{})}));
